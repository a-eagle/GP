console.log('Load toggle-jgy.js ', new Date());
// 通过document.head的appendChild函数重写，来加载<script>  Line: 第42149行

/*
 * D3Charts
 * @version: 0.4.25
 * last modified: 2020-7-7 10:11:58
 */
!function (t, e) {
    "object" == typeof exports && "undefined" != typeof module ? e(exports) : "function" == typeof define && define.amd ? define(["exports"], e) : e(t.D3Charts = {})
}
(this, function (t) {
    "use strict";
    var e = 2311;
    function n() {
        return e++
    }
    var r = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (t) {
        return typeof t
    }
     : function (t) {
        return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
    },
    o = function (t, e) {
        if (!(t instanceof e))
            throw new TypeError("Cannot call a class as a function")
    },
    a = Object.assign || function (t) {
        for (var e = 1; e < arguments.length; e++) {
            var n = arguments[e];
            for (var i in n)
                Object.prototype.hasOwnProperty.call(n, i) && (t[i] = n[i])
        }
        return t
    },
    s = function (t, e) {
        if ("function" != typeof e && null !== e)
            throw new TypeError("Super expression must either be null or a function, not " + typeof e);
        t.prototype = Object.create(e && e.prototype, {
            constructor: {
                value: t,
                enumerable: !1,
                writable: !0,
                configurable: !0
            }
        }),
        e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e)
    },
    l = function (t, e) {
        var n = {};
        for (var i in t)
            e.indexOf(i) >= 0 || Object.prototype.hasOwnProperty.call(t, i) && (n[i] = t[i]);
        return n
    },
    u = function (t, e) {
        if (!t)
            throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return !e || "object" != typeof e && "function" != typeof e ? t : e
    },
    h = "object" === ("undefined" == typeof wx ? "undefined" : r(wx)) && "function" == typeof wx.getSystemInfoSync ? {
        browser: {},
        os: {},
        node: !1,
        wxa: !0,
        canvasSupported: !0,
        svgSupported: !1,
        touchEventsSupported: !0,
        domSupported: !1
    }
     : "undefined" == typeof document && "undefined" != typeof self ? {
        browser: {},
        os: {},
        node: !1,
        worker: !0,
        canvasSupported: !0,
        domSupported: !1
    }
     : "undefined" == typeof navigator ? {
        browser: {},
        os: {},
        node: !0,
        worker: !1,
        canvasSupported: !0,
        svgSupported: !0,
        domSupported: !1
    }
     : function (t) {
        var e = {},
        n = t.match(/Firefox\/([\d.]+)/),
        i = t.match(/MSIE\s([\d.]+)/) || t.match(/Trident\/.+?rv:(([\d.]+))/),
        r = t.match(/Edge\/([\d.]+)/),
        o = /micromessenger/i.test(t);
        n && (e.firefox = !0, e.version = n[1]);
        i && (e.ie = !0, e.version = i[1]);
        r && (e.edge = !0, e.version = r[1]);
        o && (e.weChat = !0);
        return {
            browser: e,
            os: {},
            node: !1,
            canvasSupported: !!document.createElement("canvas").getContext,
            svgSupported: "undefined" != typeof SVGRect,
            touchEventsSupported: "ontouchstart" in window && !e.ie && !e.edge,
            pointerEventsSupported: "onpointerdown" in window && (e.edge || e.ie && e.version >= 11),
            domSupported: "undefined" != typeof document
        }
    }
    (navigator.userAgent);
    var c = {
        "[object Function]": 1,
        "[object RegExp]": 1,
        "[object Date]": 1,
        "[object Error]": 1,
        "[object CanvasGradient]": 1,
        "[object CanvasPattern]": 1,
        "[object Image]": 1,
        "[object Canvas]": 1
    },
    f = {
        "[object Int8Array]": 1,
        "[object Uint8Array]": 1,
        "[object Uint8ClampedArray]": 1,
        "[object Int16Array]": 1,
        "[object Uint16Array]": 1,
        "[object Int32Array]": 1,
        "[object Uint32Array]": 1,
        "[object Float32Array]": 1,
        "[object Float64Array]": 1
    },
    d = Object.prototype.toString,
    p = Array.prototype,
    g = p.forEach,
    v = p.filter,
    y = p.slice,
    m = p.map,
    x = p.reduce,
    _ = {};
    function w(t, e) {
        "createCanvas" === t && (I = null),
        _[t] = e
    }
    function b(t) {
        if (null == t || "object" !== (void 0 === t ? "undefined" : r(t)))
            return t;
        var e = t,
        n = d.call(t);
        if ("[object Array]" === n) {
            if (!Z(t)) {
                e = [];
                for (var i = 0, o = t.length; i < o; i++)
                    e[i] = b(t[i])
            }
        } else if (f[n]) {
            if (!Z(t)) {
                var a = t.constructor;
                if (t.constructor.from)
                    e = a.from(t);
                else {
                    e = new a(t.length);
                    for (i = 0, o = t.length; i < o; i++)
                        e[i] = b(t[i])
                }
            }
        } else if (!c[n] && !Z(t) && !U(t))
            for (var s in e = {}, t)
                t.hasOwnProperty(s) && (e[s] = b(t[s]));
        return e
    }
    function S(t, e, n) {
        if (!H(e) || !H(t))
            return n ? b(e) : t;
        for (var i in e)
            if (e.hasOwnProperty(i)) {
                var r = t[i],
                o = e[i];
                !H(o) || !H(r) || B(o) || B(r) || U(o) || U(r) || j(o) || j(r) || Z(o) || Z(r) ? !n && i in t || (t[i] = b(e[i])) : S(r, o, n)
            }
        return t
    }
    function k(t, e) {
        for (var n in e)
            e.hasOwnProperty(n) && (t[n] = e[n]);
        return t
    }
    function M(t, e, n) {
        for (var i in e)
            e.hasOwnProperty(i) && (n ? null != e[i] : null == t[i]) && (t[i] = e[i]);
        return t
    }
    var I,
    A = function () {
        return _.createCanvas()
    };
    function T() {
        return I || (I = A().getContext("2d")),
        I
    }
    function C(t, e) {
        if (t) {
            if (t.indexOf)
                return t.indexOf(e);
            for (var n = 0, i = t.length; n < i; n++)
                if (t[n] === e)
                    return n
        }
        return -1
    }
    function z(t, e) {
        var n = t.prototype;
        function i() {}
        for (var r in i.prototype = e.prototype, t.prototype = new i, n)
            t.prototype[r] = n[r];
        t.prototype.constructor = t,
        t.superClass = e
    }
    function E(t, e, n) {
        M(t = "prototype" in t ? t.prototype : t, e = "prototype" in e ? e.prototype : e, n)
    }
    function L(t) {
        if (t)
            return "string" != typeof t && "number" == typeof t.length
    }
    function D(t, e, n) {
        if (t && e)
            if (t.forEach && t.forEach === g)
                t.forEach(e, n);
            else if (t.length === +t.length)
                for (var i = 0, r = t.length; i < r; i++)
                    e.call(n, t[i], i, t);
            else
                for (var o in t)
                    t.hasOwnProperty(o) && e.call(n, t[o], o, t)
    }
    function O(t, e, n) {
        if (t && e) {
            if (t.map && t.map === m)
                return t.map(e, n);
            for (var i = [], r = 0, o = t.length; r < o; r++)
                i.push(e.call(n, t[r], r, t));
            return i
        }
    }
    function P(t, e, n) {
        if (t && e) {
            if (t.filter && t.filter === v)
                return t.filter(e, n);
            for (var i = [], r = 0, o = t.length; r < o; r++)
                e.call(n, t[r], r, t) && i.push(t[r]);
            return i
        }
    }
    function F(t, e, n) {
        if (t && e)
            for (var i = 0, r = t.length; i < r; i++)
                if (e.call(n, t[i], i, t))
                    return t[i]
    }
    function N(t, e) {
        var n = y.call(arguments, 2);
        return function () {
            return t.apply(e, n.concat(y.call(arguments)))
        }
    }
    function R(t) {
        var e = y.call(arguments, 1);
        return function () {
            return t.apply(this, e.concat(y.call(arguments)))
        }
    }
    function B(t) {
        return "[object Array]" === d.call(t)
    }
    function W(t) {
        return "function" == typeof t
    }
    function G(t) {
        return "[object String]" === d.call(t)
    }
    function H(t) {
        var e = void 0 === t ? "undefined" : r(t);
        return "function" === e || !!t && "object" === e
    }
    function j(t) {
        return !!c[d.call(t)]
    }
    function U(t) {
        return "object" === (void 0 === t ? "undefined" : r(t)) && "number" == typeof t.nodeType && "object" === r(t.ownerDocument)
    }
    function q(t, e) {
        return null != t ? t : e
    }
    function Y(t, e, n) {
        return null != t ? t : null != e ? e : n
    }
    function V(t) {
        if ("number" == typeof t)
            return [t, t, t, t];
        var e = t.length;
        return 2 === e ? [t[0], t[1], t[0], t[1]] : 3 === e ? [t[0], t[1], t[2], t[1]] : t
    }
    function $(t) {
        return null == t ? null : "function" == typeof t.trim ? t.trim() : t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g, "")
    }
    _.createCanvas = function () {
        return document.createElement("canvas")
    };
    var X = "__ec_primitive__";
    function Z(t) {
        return t[X]
    }
    function K(t) {
        var e = B(t);
        this.data = {};
        var n = this;
        function i(t, i) {
            e ? n.set(t, i) : n.set(i, t)
        }
        t instanceof K ? t.each(i) : t && D(t, i)
    }
    K.prototype = {
        constructor: K,
        get: function (t) {
            return this.data.hasOwnProperty(t) ? this.data[t] : null
        },
        set: function (t, e) {
            return this.data[t] = e
        },
        each: function (t, e) {
            for (var n in void 0 !== e && (t = N(t, e)), this.data)
                this.data.hasOwnProperty(n) && t(this.data[n], n)
        },
        removeKey: function (t) {
            delete this.data[t]
        }
    };
    var Q = "undefined" == typeof Float32Array ? Array : Float32Array;
    function J(t, e) {
        var n = new Q(2);
        return null == t && (t = 0),
        null == e && (e = 0),
        n[0] = t,
        n[1] = e,
        n
    }
    function tt(t) {
        var e = new Q(2);
        return e[0] = t[0],
        e[1] = t[1],
        e
    }
    function et(t, e, n) {
        return t[0] = e[0] + n[0],
        t[1] = e[1] + n[1],
        t
    }
    function nt(t, e, n) {
        return t[0] = e[0] - n[0],
        t[1] = e[1] - n[1],
        t
    }
    function it(t, e, n) {
        return t[0] = e[0] * n,
        t[1] = e[1] * n,
        t
    }
    function rt(t, e) {
        var n = function (t) {
            return Math.sqrt(function (t) {
                return t[0] * t[0] + t[1] * t[1]
            }
                (t))
        }
        (e);
        return 0 === n ? (t[0] = 0, t[1] = 0) : (t[0] = e[0] / n, t[1] = e[1] / n),
        t
    }
    function ot(t, e) {
        return Math.sqrt((t[0] - e[0]) * (t[0] - e[0]) + (t[1] - e[1]) * (t[1] - e[1]))
    }
    var at = ot;
    var st = function (t, e) {
        return (t[0] - e[0]) * (t[0] - e[0]) + (t[1] - e[1]) * (t[1] - e[1])
    };
    function lt(t, e, n) {
        var i = e[0],
        r = e[1];
        return t[0] = n[0] * i + n[2] * r + n[4],
        t[1] = n[1] * i + n[3] * r + n[5],
        t
    }
    function ut(t, e, n) {
        return t[0] = Math.min(e[0], n[0]),
        t[1] = Math.min(e[1], n[1]),
        t
    }
    function ht(t, e, n) {
        return t[0] = Math.max(e[0], n[0]),
        t[1] = Math.max(e[1], n[1]),
        t
    }
    function ct() {
        this.on("mousedown", this._dragStart, this),
        this.on("mousemove", this._drag, this),
        this.on("mouseup", this._dragEnd, this),
        this.on("globalout", this._dragEnd, this)
    }
    function ft(t, e) {
        return {
            target: t,
            topTarget: e && e.topTarget
        }
    }
    ct.prototype = {
        constructor: ct,
        _dragStart: function (t) {
            var e = t.target;
            e && e.draggable && (this._draggingTarget = e, e.dragging = !0, this._x = t.offsetX, this._y = t.offsetY, this.dispatchToElement(ft(e, t), "dragstart", t.event))
        },
        _drag: function (t) {
            var e = this._draggingTarget;
            if (e) {
                var n = t.offsetX,
                i = t.offsetY,
                r = n - this._x,
                o = i - this._y;
                this._x = n,
                this._y = i,
                e.drift(r, o, t),
                this.dispatchToElement(ft(e, t), "drag", t.event);
                var a = this.findHover(n, i, e).target,
                s = this._dropTarget;
                this._dropTarget = a,
                e !== a && (s && a !== s && this.dispatchToElement(ft(s, t), "dragleave", t.event), a && a !== s && this.dispatchToElement(ft(a, t), "dragenter", t.event))
            }
        },
        _dragEnd: function (t) {
            var e = this._draggingTarget;
            e && (e.dragging = !1),
            this.dispatchToElement(ft(e, t), "dragend", t.event),
            this._dropTarget && this.dispatchToElement(ft(this._dropTarget, t), "drop", t.event),
            this._draggingTarget = null,
            this._dropTarget = null
        }
    };
    var dt = Array.prototype.slice,
    pt = function (t) {
        this._$handlers = {},
        this._$eventProcessor = t
    };
    function gt(t, e, n, i, r, o) {
        var a = t._$handlers;
        if ("function" == typeof n && (r = i, i = n, n = null), !i || !e)
            return t;
        n = function (t, e) {
            var n = t._$eventProcessor;
            return null != e && n && n.normalizeQuery && (e = n.normalizeQuery(e)),
            e
        }
        (t, n),
        a[e] || (a[e] = []);
        for (var s = 0; s < a[e].length; s++)
            if (a[e][s].h === i)
                return t;
        var l = {
            h: i,
            one: o,
            query: n,
            ctx: r || t,
            callAtLast: i.zrEventfulCallAtLast
        },
        u = a[e].length - 1,
        h = a[e][u];
        return h && h.callAtLast ? a[e].splice(u, 0, l) : a[e].push(l),
        t
    }
    pt.prototype = {
        constructor: pt,
        one: function (t, e, n, i) {
            return gt(this, t, e, n, i, !0)
        },
        on: function (t, e, n, i) {
            return gt(this, t, e, n, i, !1)
        },
        isSilent: function (t) {
            var e = this._$handlers;
            return !e[t] || !e[t].length
        },
        off: function (t, e) {
            var n = this._$handlers;
            if (!t)
                return this._$handlers = {},
            this;
            if (e) {
                if (n[t]) {
                    for (var i = [], r = 0, o = n[t].length; r < o; r++)
                        n[t][r].h !== e && i.push(n[t][r]);
                    n[t] = i
                }
                n[t] && 0 === n[t].length && delete n[t]
            } else
                delete n[t];
            return this
        },
        trigger: function (t) {
            var e = this._$handlers[t],
            n = this._$eventProcessor;
            if (e) {
                var i = arguments,
                r = i.length;
                r > 3 && (i = dt.call(i, 1));
                for (var o = e.length, a = 0; a < o; ) {
                    var s = e[a];
                    if (n && n.filter && null != s.query && !n.filter(t, s.query))
                        a++;
                    else {
                        switch (r) {
                        case 1:
                            s.h.call(s.ctx);
                            break;
                        case 2:
                            s.h.call(s.ctx, i[1]);
                            break;
                        case 3:
                            s.h.call(s.ctx, i[1], i[2]);
                            break;
                        default:
                            s.h.apply(s.ctx, i)
                        }
                        s.one ? (e.splice(a, 1), o--) : a++
                    }
                }
            }
            return n && n.afterTrigger && n.afterTrigger(t),
            this
        },
        triggerWithContext: function (t) {
            var e = this._$handlers[t],
            n = this._$eventProcessor;
            if (e) {
                var i = arguments,
                r = i.length;
                r > 4 && (i = dt.call(i, 1, i.length - 1));
                for (var o = i[i.length - 1], a = e.length, s = 0; s < a; ) {
                    var l = e[s];
                    if (n && n.filter && null != l.query && !n.filter(t, l.query))
                        s++;
                    else {
                        switch (r) {
                        case 1:
                            l.h.call(o);
                            break;
                        case 2:
                            l.h.call(o, i[1]);
                            break;
                        case 3:
                            l.h.call(o, i[1], i[2]);
                            break;
                        default:
                            l.h.apply(o, i)
                        }
                        l.one ? (e.splice(s, 1), a--) : s++
                    }
                }
            }
            return n && n.afterTrigger && n.afterTrigger(t),
            this
        }
    };
    var vt = "undefined" != typeof window && !!window.addEventListener,
    yt = /^(?:mouse|pointer|contextmenu|drag|drop)|click/;
    function mt(t, e, n, i) {
        return n = n || {},
        i || !h.canvasSupported ? xt(t, e, n) : h.browser.firefox && null != e.layerX && e.layerX !== e.offsetX ? (n.zrX = e.layerX, n.zrY = e.layerY) : null != e.offsetX ? (n.zrX = e.offsetX, n.zrY = e.offsetY) : xt(t, e, n),
        n
    }
    function xt(t, e, n) {
        var i = function (t) {
            return t.getBoundingClientRect ? t.getBoundingClientRect() : {
                left: 0,
                top: 0
            }
        }
        (t);
        n.zrX = e.clientX - i.left,
        n.zrY = e.clientY - i.top
    }
    function _t(t, e, n) {
        if (null != (e = e || window.event).zrX)
            return e;
        var i = e.type;
        if (i && i.indexOf("touch") >= 0) {
            var r = "touchend" !== i ? e.targetTouches[0] : e.changedTouches[0];
            r && mt(t, r, e, n)
        } else
            mt(t, e, e, n), e.zrDelta = e.wheelDelta ? e.wheelDelta / 120 :  - (e.detail || 0) / 3;
        var o = e.button;
        return null == e.which && void 0 !== o && yt.test(e.type) && (e.which = 1 & o ? 1 : 2 & o ? 3 : 4 & o ? 2 : 0),
        e
    }
    function wt(t, e, n) {
        vt ? t.removeEventListener(e, n) : t.detachEvent("on" + e, n)
    }
    var bt = vt ? function (t) {
        t.preventDefault(),
        t.stopPropagation(),
        t.cancelBubble = !0
    }
     : function (t) {
        t.returnValue = !1,
        t.cancelBubble = !0
    },
    St = function () {
        this._track = []
    };
    function kt(t) {
        var e = t[1][0] - t[0][0],
        n = t[1][1] - t[0][1];
        return Math.sqrt(e * e + n * n)
    }
    St.prototype = {
        constructor: St,
        recognize: function (t, e, n) {
            return this._doTrack(t, e, n),
            this._recognize(t)
        },
        clear: function () {
            return this._track.length = 0,
            this
        },
        _doTrack: function (t, e, n) {
            var i = t.touches;
            if (i) {
                for (var r = {
                        points: [],
                        touches: [],
                        target: e,
                        event: t
                    }, o = 0, a = i.length; o < a; o++) {
                    var s = i[o],
                    l = mt(n, s, {});
                    r.points.push([l.zrX, l.zrY]),
                    r.touches.push(s)
                }
                this._track.push(r)
            }
        },
        _recognize: function (t) {
            for (var e in Mt)
                if (Mt.hasOwnProperty(e)) {
                    var n = Mt[e](this._track, t);
                    if (n)
                        return n
                }
        }
    };
    var Mt = {
        pinch: function (t, e) {
            var n = t.length;
            if (n) {
                var i,
                r = (t[n - 1] || {}).points,
                o = (t[n - 2] || {}).points || r;
                if (o && o.length > 1 && r && r.length > 1) {
                    var a = kt(r) / kt(o);
                    !isFinite(a) && (a = 1),
                    e.pinchScale = a;
                    var s = [((i = r)[0][0] + i[1][0]) / 2, (i[0][1] + i[1][1]) / 2];
                    return e.pinchX = s[0],
                    e.pinchY = s[1], {
                        type: "pinch",
                        target: t[0].target,
                        event: e
                    }
                }
            }
        }
    },
    It = "silent";
    function At(t) {
        bt(this.event)
    }
    function Tt() {}
    Tt.prototype.dispose = function () {};
    var Ct = ["click", "dblclick", "mousewheel", "mouseout", "mouseup", "mousedown", "mousemove", "contextmenu"],
    zt = function (t, e, n, i) {
        pt.call(this),
        this.storage = t,
        this.painter = e,
        this.painterRoot = i,
        n = n || new Tt,
        this.proxy = null,
        this._hovered = {},
        this._lastTouchMoment,
        this._lastX,
        this._lastY,
        this._gestureMgr,
        ct.call(this),
        this.setHandlerProxy(n)
    };
    function Et(t, e, n) {
        if (t[t.rectHover ? "rectContain" : "contain"](e, n)) {
            for (var i, r = t; r; ) {
                if (r.clipPath && !r.clipPath.contain(e, n))
                    return !1;
                r.silent && (i = !0),
                r = r.parent
            }
            return !i || It
        }
        return !1
    }
    zt.prototype = {
        constructor: zt,
        setHandlerProxy: function (t) {
            this.proxy && this.proxy.dispose(),
            t && (D(Ct, function (e) {
                    t.on && t.on(e, this[e], this)
                }, this), t.handler = this),
            this.proxy = t
        },
        mousemove: function (t) {
            var e = t.zrX,
            n = t.zrY,
            i = this._hovered,
            r = i.target;
            r && !r.__zr && (r = (i = this.findHover(i.x, i.y)).target);
            var o = this._hovered = this.findHover(e, n),
            a = o.target,
            s = this.proxy;
            s.setCursor && s.setCursor(a ? a.cursor : "default"),
            r && a !== r && this.dispatchToElement(i, "mouseout", t),
            this.dispatchToElement(o, "mousemove", t),
            a && a !== r && this.dispatchToElement(o, "mouseover", t)
        },
        mouseout: function (t) {
            this.dispatchToElement(this._hovered, "mouseout", t);
            var e,
            n = t.toElement || t.relatedTarget;
            do {
                n = n && n.parentNode
            } while (n && 9 !== n.nodeType && !(e = n === this.painterRoot));
            !e && this.trigger("globalout", {
                event: t
            })
        },
        resize: function (t) {
            this._hovered = {}
        },
        dispatch: function (t, e) {
            var n = this[t];
            n && n.call(this, e)
        },
        dispose: function () {
            this.proxy.dispose(),
            this.storage = this.proxy = this.painter = null
        },
        setCursorStyle: function (t) {
            var e = this.proxy;
            e.setCursor && e.setCursor(t)
        },
        dispatchToElement: function (t, e, n) {
            var i = (t = t || {}).target;
            if (!i || !i.silent) {
                for (var r = "on" + e, o = function (t, e, n) {
                    return {
                        type: t,
                        event: n,
                        target: e.target,
                        topTarget: e.topTarget,
                        cancelBubble: !1,
                        offsetX: n.zrX,
                        offsetY: n.zrY,
                        gestureEvent: n.gestureEvent,
                        pinchX: n.pinchX,
                        pinchY: n.pinchY,
                        pinchScale: n.pinchScale,
                        wheelDelta: n.zrDelta,
                        zrByTouch: n.zrByTouch,
                        which: n.which,
                        stop: At
                    }
                }
                    (e, t, n); i && (i[r] && (o.cancelBubble = i[r].call(i, o)), i.trigger(e, o), i = i.parent, !o.cancelBubble); );
                o.cancelBubble || (this.trigger(e, o), this.painter && this.painter.eachOtherLayer(function (t) {
                        "function" == typeof t[r] && t[r].call(t, o),
                        t.trigger && t.trigger(e, o)
                    }))
            }
        },
        findHover: function (t, e, n) {
            for (var i = this.storage.getDisplayList(), r = {
                    x: t,
                    y: e
                }, o = i.length - 1; o >= 0; o--) {
                var a;
                if (i[o] !== n && !i[o].ignore && (a = Et(i[o], t, e)) && (!r.topTarget && (r.topTarget = i[o]), a !== It)) {
                    r.target = i[o];
                    break
                }
            }
            return r
        },
        processGesture: function (t, e) {
            this._gestureMgr || (this._gestureMgr = new St);
            var n = this._gestureMgr;
            "start" === e && n.clear();
            var i = n.recognize(t, this.findHover(t.zrX, t.zrY, null).target, this.proxy.dom);
            if ("end" === e && n.clear(), i) {
                var r = i.type;
                t.gestureEvent = r,
                this.dispatchToElement({
                    target: i.target
                }, r, i.event)
            }
        }
    },
    D(["click", "mousedown", "mouseup", "mousewheel", "dblclick", "contextmenu"], function (t) {
        zt.prototype[t] = function (e) {
            var n = this.findHover(e.zrX, e.zrY),
            i = n.target;
            if ("mousedown" === t)
                this._downEl = i, this._downPoint = [e.zrX, e.zrY], this._upEl = i;
            else if ("mouseup" === t)
                this._upEl = i;
            else if ("click" === t) {
                if (this._downEl !== this._upEl || !this._downPoint || at(this._downPoint, [e.zrX, e.zrY]) > 4)
                    return;
                this._downPoint = null
            }
            this.dispatchToElement(n, t, e)
        }
    }),
    E(zt, pt),
    E(zt, ct);
    var Lt = "undefined" == typeof Float32Array ? Array : Float32Array;
    function Dt() {
        var t = new Lt(6);
        return Ot(t),
        t
    }
    function Ot(t) {
        return t[0] = 1,
        t[1] = 0,
        t[2] = 0,
        t[3] = 1,
        t[4] = 0,
        t[5] = 0,
        t
    }
    function Pt(t, e, n) {
        var i = e[0] * n[0] + e[2] * n[1],
        r = e[1] * n[0] + e[3] * n[1],
        o = e[0] * n[2] + e[2] * n[3],
        a = e[1] * n[2] + e[3] * n[3],
        s = e[0] * n[4] + e[2] * n[5] + e[4],
        l = e[1] * n[4] + e[3] * n[5] + e[5];
        return t[0] = i,
        t[1] = r,
        t[2] = o,
        t[3] = a,
        t[4] = s,
        t[5] = l,
        t
    }
    function Ft(t, e, n) {
        return t[0] = e[0],
        t[1] = e[1],
        t[2] = e[2],
        t[3] = e[3],
        t[4] = e[4] + n[0],
        t[5] = e[5] + n[1],
        t
    }
    function Nt(t, e, n) {
        var i = n[0],
        r = n[1];
        return t[0] = e[0] * i,
        t[1] = e[1] * r,
        t[2] = e[2] * i,
        t[3] = e[3] * r,
        t[4] = e[4] * i,
        t[5] = e[5] * r,
        t
    }
    var Rt = Ot,
    Bt = 5e-5;
    function Wt(t) {
        return t > Bt || t < -Bt
    }
    var Gt = function (t) {
        (t = t || {}).position || (this.position = [0, 0]),
        null == t.rotation && (this.rotation = 0),
        t.scale || (this.scale = [1, 1]),
        this.origin = this.origin || null
    },
    Ht = Gt.prototype;
    Ht.transform = null,
    Ht.needLocalTransform = function () {
        return Wt(this.rotation) || Wt(this.position[0]) || Wt(this.position[1]) || Wt(this.scale[0] - 1) || Wt(this.scale[1] - 1)
    };
    var jt = [];
    Ht.updateTransform = function () {
        var t = this.parent,
        e = t && t.transform,
        n = this.needLocalTransform(),
        i = this.transform;
        if (n || e) {
            i = i || Dt(),
            n ? this.getLocalTransform(i) : Rt(i),
            e && (n ? Pt(i, t.transform, i) : function (t, e) {
                t[0] = e[0],
                t[1] = e[1],
                t[2] = e[2],
                t[3] = e[3],
                t[4] = e[4],
                t[5] = e[5]
            }
                (i, t.transform)),
            this.transform = i;
            var r,
            o,
            a,
            s,
            l,
            u,
            h,
            c,
            f,
            d = this.globalScaleRatio;
            if (null != d && 1 !== d) {
                this.getGlobalScale(jt);
                var p = jt[0] < 0 ? -1 : 1,
                g = jt[1] < 0 ? -1 : 1,
                v = ((jt[0] - p) * d + p) / jt[0] || 0,
                y = ((jt[1] - g) * d + g) / jt[1] || 0;
                i[0] *= v,
                i[1] *= v,
                i[2] *= y,
                i[3] *= y
            }
            this.invTransform = this.invTransform || Dt(),
            r = this.invTransform,
            a = (o = i)[0],
            s = o[2],
            l = o[4],
            u = o[1],
            h = o[3],
            c = o[5],
            (f = a * h - u * s) && (f = 1 / f, r[0] = h * f, r[1] = -u * f, r[2] = -s * f, r[3] = a * f, r[4] = (s * c - h * l) * f, r[5] = (u * l - a * c) * f)
        } else
            i && Rt(i)
    },
    Ht.getLocalTransform = function (t) {
        return Gt.getLocalTransform(this, t)
    },
    Ht.setTransform = function (t) {
        var e = this.transform,
        n = t.dpr || 1;
        e ? t.setTransform(n * e[0], n * e[1], n * e[2], n * e[3], n * e[4], n * e[5]) : t.setTransform(n, 0, 0, n, 0, 0)
    },
    Ht.restoreTransform = function (t) {
        var e = t.dpr || 1;
        t.setTransform(e, 0, 0, e, 0, 0)
    };
    var Ut = [],
    qt = Dt();
    Ht.setLocalTransform = function (t) {
        if (t) {
            var e = t[0] * t[0] + t[1] * t[1],
            n = t[2] * t[2] + t[3] * t[3],
            i = this.position,
            r = this.scale;
            Wt(e - 1) && (e = Math.sqrt(e)),
            Wt(n - 1) && (n = Math.sqrt(n)),
            t[0] < 0 && (e = -e),
            t[3] < 0 && (n = -n),
            i[0] = t[4],
            i[1] = t[5],
            r[0] = e,
            r[1] = n,
            this.rotation = Math.atan2(-t[1] / n, t[0] / e)
        }
    },
    Ht.decomposeTransform = function () {
        if (this.transform) {
            var t = this.parent,
            e = this.transform;
            t && t.transform && (Pt(Ut, t.invTransform, e), e = Ut);
            var n = this.origin;
            n && (n[0] || n[1]) && (qt[4] = n[0], qt[5] = n[1], Pt(Ut, e, qt), Ut[4] -= n[0], Ut[5] -= n[1], e = Ut),
            this.setLocalTransform(e)
        }
    },
    Ht.getGlobalScale = function (t) {
        var e = this.transform;
        return t = t || [],
        e ? (t[0] = Math.sqrt(e[0] * e[0] + e[1] * e[1]), t[1] = Math.sqrt(e[2] * e[2] + e[3] * e[3]), e[0] < 0 && (t[0] = -t[0]), e[3] < 0 && (t[1] = -t[1]), t) : (t[0] = 1, t[1] = 1, t)
    },
    Ht.transformCoordToLocal = function (t, e) {
        var n = [t, e],
        i = this.invTransform;
        return i && lt(n, n, i),
        n
    },
    Ht.transformCoordToGlobal = function (t, e) {
        var n = [t, e],
        i = this.transform;
        return i && lt(n, n, i),
        n
    },
    Gt.getLocalTransform = function (t, e) {
        Rt(e = e || []);
        var n,
        i,
        r,
        o,
        a,
        s,
        l,
        u,
        h,
        c,
        f,
        d = t.origin,
        p = t.scale || [1, 1],
        g = t.rotation || 0,
        v = t.position || [0, 0];
        return d && (e[4] -= d[0], e[5] -= d[1]),
        Nt(e, e, p),
        g && (n = e, r = g, o = (i = e)[0], a = i[2], s = i[4], l = i[1], u = i[3], h = i[5], c = Math.sin(r), f = Math.cos(r), n[0] = o * f + l * c, n[1] = -o * c + l * f, n[2] = a * f + u * c, n[3] = -a * c + f * u, n[4] = f * s + c * h, n[5] = f * h - c * s),
        d && (e[4] += d[0], e[5] += d[1]),
        e[4] += v[0],
        e[5] += v[1],
        e
    };
    var Yt = {
        linear: function (t) {
            return t
        },
        quadraticIn: function (t) {
            return t * t
        },
        quadraticOut: function (t) {
            return t * (2 - t)
        },
        quadraticInOut: function (t) {
            return (t *= 2) < 1 ? .5 * t * t :  - .5 * (--t * (t - 2) - 1)
        },
        cubicIn: function (t) {
            return t * t * t
        },
        cubicOut: function (t) {
            return --t * t * t + 1
        },
        cubicInOut: function (t) {
            return (t *= 2) < 1 ? .5 * t * t * t : .5 * ((t -= 2) * t * t + 2)
        },
        quarticIn: function (t) {
            return t * t * t * t
        },
        quarticOut: function (t) {
            return 1 - --t * t * t * t
        },
        quarticInOut: function (t) {
            return (t *= 2) < 1 ? .5 * t * t * t * t :  - .5 * ((t -= 2) * t * t * t - 2)
        },
        quinticIn: function (t) {
            return t * t * t * t * t
        },
        quinticOut: function (t) {
            return --t * t * t * t * t + 1
        },
        quinticInOut: function (t) {
            return (t *= 2) < 1 ? .5 * t * t * t * t * t : .5 * ((t -= 2) * t * t * t * t + 2)
        },
        sinusoidalIn: function (t) {
            return 1 - Math.cos(t * Math.PI / 2)
        },
        sinusoidalOut: function (t) {
            return Math.sin(t * Math.PI / 2)
        },
        sinusoidalInOut: function (t) {
            return .5 * (1 - Math.cos(Math.PI * t))
        },
        exponentialIn: function (t) {
            return 0 === t ? 0 : Math.pow(1024, t - 1)
        },
        exponentialOut: function (t) {
            return 1 === t ? 1 : 1 - Math.pow(2, -10 * t)
        },
        exponentialInOut: function (t) {
            return 0 === t ? 0 : 1 === t ? 1 : (t *= 2) < 1 ? .5 * Math.pow(1024, t - 1) : .5 * (2 - Math.pow(2, -10 * (t - 1)))
        },
        circularIn: function (t) {
            return 1 - Math.sqrt(1 - t * t)
        },
        circularOut: function (t) {
            return Math.sqrt(1 - --t * t)
        },
        circularInOut: function (t) {
            return (t *= 2) < 1 ?  - .5 * (Math.sqrt(1 - t * t) - 1) : .5 * (Math.sqrt(1 - (t -= 2) * t) + 1)
        },
        elasticIn: function (t) {
            var e,
            n = .1;
            return 0 === t ? 0 : 1 === t ? 1 : (!n || n < 1 ? (n = 1, e = .1) : e = .4 * Math.asin(1 / n) / (2 * Math.PI), -n * Math.pow(2, 10 * (t -= 1)) * Math.sin((t - e) * (2 * Math.PI) / .4))
        },
        elasticOut: function (t) {
            var e,
            n = .1;
            return 0 === t ? 0 : 1 === t ? 1 : (!n || n < 1 ? (n = 1, e = .1) : e = .4 * Math.asin(1 / n) / (2 * Math.PI), n * Math.pow(2, -10 * t) * Math.sin((t - e) * (2 * Math.PI) / .4) + 1)
        },
        elasticInOut: function (t) {
            var e,
            n = .1;
            return 0 === t ? 0 : 1 === t ? 1 : (!n || n < 1 ? (n = 1, e = .1) : e = .4 * Math.asin(1 / n) / (2 * Math.PI), (t *= 2) < 1 ? n * Math.pow(2, 10 * (t -= 1)) * Math.sin((t - e) * (2 * Math.PI) / .4) *  - .5 : n * Math.pow(2, -10 * (t -= 1)) * Math.sin((t - e) * (2 * Math.PI) / .4) * .5 + 1)
        },
        backIn: function (t) {
            var e = 1.70158;
            return t * t * ((e + 1) * t - e)
        },
        backOut: function (t) {
            var e = 1.70158;
            return --t * t * ((e + 1) * t + e) + 1
        },
        backInOut: function (t) {
            var e = 2.5949095;
            return (t *= 2) < 1 ? t * t * ((e + 1) * t - e) * .5 : .5 * ((t -= 2) * t * ((e + 1) * t + e) + 2)
        },
        bounceIn: function (t) {
            return 1 - Yt.bounceOut(1 - t)
        },
        bounceOut: function (t) {
            return t < 1 / 2.75 ? 7.5625 * t * t : t < 2 / 2.75 ? 7.5625 * (t -= 1.5 / 2.75) * t + .75 : t < 2.5 / 2.75 ? 7.5625 * (t -= 2.25 / 2.75) * t + .9375 : 7.5625 * (t -= 2.625 / 2.75) * t + .984375
        },
        bounceInOut: function (t) {
            return t < .5 ? .5 * Yt.bounceIn(2 * t) : .5 * Yt.bounceOut(2 * t - 1) + .5
        }
    };
    function Vt(t) {
        this._target = t.target,
        this._life = t.life || 1e3,
        this._delay = t.delay || 0,
        this._initialized = !1,
        this.loop = null != t.loop && t.loop,
        this.gap = t.gap || 0,
        this.easing = t.easing || "Linear",
        this.onframe = t.onframe,
        this.ondestroy = t.ondestroy,
        this.onrestart = t.onrestart,
        this._pausedTime = 0,
        this._paused = !1
    }
    Vt.prototype = {
        constructor: Vt,
        step: function (t, e) {
            if (this._initialized || (this._startTime = t + this._delay, this._initialized = !0), this._paused)
                this._pausedTime += e;
            else {
                var n = (t - this._startTime - this._pausedTime) / this._life;
                if (!(n < 0)) {
                    n = Math.min(n, 1);
                    var i = this.easing,
                    r = "string" == typeof i ? Yt[i] : i,
                    o = "function" == typeof r ? r(n) : n;
                    return this.fire("frame", o),
                    1 === n ? this.loop ? (this.restart(t), "restart") : (this._needsRemove = !0, "destroy") : null
                }
            }
        },
        restart: function (t) {
            var e = (t - this._startTime - this._pausedTime) % this._life;
            this._startTime = t - e + this.gap,
            this._pausedTime = 0,
            this._needsRemove = !1
        },
        fire: function (t, e) {
            this[t = "on" + t] && this[t](this._target, e)
        },
        pause: function () {
            this._paused = !0
        },
        resume: function () {
            this._paused = !1
        }
    };
    var $t = function () {
        this.head = null,
        this.tail = null,
        this._len = 0
    },
    Xt = $t.prototype;
    Xt.insert = function (t) {
        var e = new Zt(t);
        return this.insertEntry(e),
        e
    },
    Xt.insertEntry = function (t) {
        this.head ? (this.tail.next = t, t.prev = this.tail, t.next = null, this.tail = t) : this.head = this.tail = t,
        this._len++
    },
    Xt.remove = function (t) {
        var e = t.prev,
        n = t.next;
        e ? e.next = n : this.head = n,
        n ? n.prev = e : this.tail = e,
        t.next = t.prev = null,
        this._len--
    },
    Xt.len = function () {
        return this._len
    },
    Xt.clear = function () {
        this.head = this.tail = null,
        this._len = 0
    };
    var Zt = function (t) {
        this.value = t,
        this.next,
        this.prev
    },
    Kt = function (t) {
        this._list = new $t,
        this._map = {},
        this._maxSize = t || 10,
        this._lastRemovedEntry = null
    },
    Qt = Kt.prototype;
    Qt.put = function (t, e) {
        var n = this._list,
        i = this._map,
        r = null;
        if (null == i[t]) {
            var o = n.len(),
            a = this._lastRemovedEntry;
            if (o >= this._maxSize && o > 0) {
                var s = n.head;
                n.remove(s),
                delete i[s.key],
                r = s.value,
                this._lastRemovedEntry = s
            }
            a ? a.value = e : a = new Zt(e),
            a.key = t,
            n.insertEntry(a),
            i[t] = a
        }
        return r
    },
    Qt.get = function (t) {
        var e = this._map[t],
        n = this._list;
        if (null != e)
            return e !== n.tail && (n.remove(e), n.insertEntry(e)), e.value
    },
    Qt.clear = function () {
        this._list.clear(),
        this._map = {}
    };
    var Jt = {
        transparent: [0, 0, 0, 0],
        aliceblue: [240, 248, 255, 1],
        antiquewhite: [250, 235, 215, 1],
        aqua: [0, 255, 255, 1],
        aquamarine: [127, 255, 212, 1],
        azure: [240, 255, 255, 1],
        beige: [245, 245, 220, 1],
        bisque: [255, 228, 196, 1],
        black: [0, 0, 0, 1],
        blanchedalmond: [255, 235, 205, 1],
        blue: [0, 0, 255, 1],
        blueviolet: [138, 43, 226, 1],
        brown: [165, 42, 42, 1],
        burlywood: [222, 184, 135, 1],
        cadetblue: [95, 158, 160, 1],
        chartreuse: [127, 255, 0, 1],
        chocolate: [210, 105, 30, 1],
        coral: [255, 127, 80, 1],
        cornflowerblue: [100, 149, 237, 1],
        cornsilk: [255, 248, 220, 1],
        crimson: [220, 20, 60, 1],
        cyan: [0, 255, 255, 1],
        darkblue: [0, 0, 139, 1],
        darkcyan: [0, 139, 139, 1],
        darkgoldenrod: [184, 134, 11, 1],
        darkgray: [169, 169, 169, 1],
        darkgreen: [0, 100, 0, 1],
        darkgrey: [169, 169, 169, 1],
        darkkhaki: [189, 183, 107, 1],
        darkmagenta: [139, 0, 139, 1],
        darkolivegreen: [85, 107, 47, 1],
        darkorange: [255, 140, 0, 1],
        darkorchid: [153, 50, 204, 1],
        darkred: [139, 0, 0, 1],
        darksalmon: [233, 150, 122, 1],
        darkseagreen: [143, 188, 143, 1],
        darkslateblue: [72, 61, 139, 1],
        darkslategray: [47, 79, 79, 1],
        darkslategrey: [47, 79, 79, 1],
        darkturquoise: [0, 206, 209, 1],
        darkviolet: [148, 0, 211, 1],
        deeppink: [255, 20, 147, 1],
        deepskyblue: [0, 191, 255, 1],
        dimgray: [105, 105, 105, 1],
        dimgrey: [105, 105, 105, 1],
        dodgerblue: [30, 144, 255, 1],
        firebrick: [178, 34, 34, 1],
        floralwhite: [255, 250, 240, 1],
        forestgreen: [34, 139, 34, 1],
        fuchsia: [255, 0, 255, 1],
        gainsboro: [220, 220, 220, 1],
        ghostwhite: [248, 248, 255, 1],
        gold: [255, 215, 0, 1],
        goldenrod: [218, 165, 32, 1],
        gray: [128, 128, 128, 1],
        green: [0, 128, 0, 1],
        greenyellow: [173, 255, 47, 1],
        grey: [128, 128, 128, 1],
        honeydew: [240, 255, 240, 1],
        hotpink: [255, 105, 180, 1],
        indianred: [205, 92, 92, 1],
        indigo: [75, 0, 130, 1],
        ivory: [255, 255, 240, 1],
        khaki: [240, 230, 140, 1],
        lavender: [230, 230, 250, 1],
        lavenderblush: [255, 240, 245, 1],
        lawngreen: [124, 252, 0, 1],
        lemonchiffon: [255, 250, 205, 1],
        lightblue: [173, 216, 230, 1],
        lightcoral: [240, 128, 128, 1],
        lightcyan: [224, 255, 255, 1],
        lightgoldenrodyellow: [250, 250, 210, 1],
        lightgray: [211, 211, 211, 1],
        lightgreen: [144, 238, 144, 1],
        lightgrey: [211, 211, 211, 1],
        lightpink: [255, 182, 193, 1],
        lightsalmon: [255, 160, 122, 1],
        lightseagreen: [32, 178, 170, 1],
        lightskyblue: [135, 206, 250, 1],
        lightslategray: [119, 136, 153, 1],
        lightslategrey: [119, 136, 153, 1],
        lightsteelblue: [176, 196, 222, 1],
        lightyellow: [255, 255, 224, 1],
        lime: [0, 255, 0, 1],
        limegreen: [50, 205, 50, 1],
        linen: [250, 240, 230, 1],
        magenta: [255, 0, 255, 1],
        maroon: [128, 0, 0, 1],
        mediumaquamarine: [102, 205, 170, 1],
        mediumblue: [0, 0, 205, 1],
        mediumorchid: [186, 85, 211, 1],
        mediumpurple: [147, 112, 219, 1],
        mediumseagreen: [60, 179, 113, 1],
        mediumslateblue: [123, 104, 238, 1],
        mediumspringgreen: [0, 250, 154, 1],
        mediumturquoise: [72, 209, 204, 1],
        mediumvioletred: [199, 21, 133, 1],
        midnightblue: [25, 25, 112, 1],
        mintcream: [245, 255, 250, 1],
        mistyrose: [255, 228, 225, 1],
        moccasin: [255, 228, 181, 1],
        navajowhite: [255, 222, 173, 1],
        navy: [0, 0, 128, 1],
        oldlace: [253, 245, 230, 1],
        olive: [128, 128, 0, 1],
        olivedrab: [107, 142, 35, 1],
        orange: [255, 165, 0, 1],
        orangered: [255, 69, 0, 1],
        orchid: [218, 112, 214, 1],
        palegoldenrod: [238, 232, 170, 1],
        palegreen: [152, 251, 152, 1],
        paleturquoise: [175, 238, 238, 1],
        palevioletred: [219, 112, 147, 1],
        papayawhip: [255, 239, 213, 1],
        peachpuff: [255, 218, 185, 1],
        peru: [205, 133, 63, 1],
        pink: [255, 192, 203, 1],
        plum: [221, 160, 221, 1],
        powderblue: [176, 224, 230, 1],
        purple: [128, 0, 128, 1],
        red: [255, 0, 0, 1],
        rosybrown: [188, 143, 143, 1],
        royalblue: [65, 105, 225, 1],
        saddlebrown: [139, 69, 19, 1],
        salmon: [250, 128, 114, 1],
        sandybrown: [244, 164, 96, 1],
        seagreen: [46, 139, 87, 1],
        seashell: [255, 245, 238, 1],
        sienna: [160, 82, 45, 1],
        silver: [192, 192, 192, 1],
        skyblue: [135, 206, 235, 1],
        slateblue: [106, 90, 205, 1],
        slategray: [112, 128, 144, 1],
        slategrey: [112, 128, 144, 1],
        snow: [255, 250, 250, 1],
        springgreen: [0, 255, 127, 1],
        steelblue: [70, 130, 180, 1],
        tan: [210, 180, 140, 1],
        teal: [0, 128, 128, 1],
        thistle: [216, 191, 216, 1],
        tomato: [255, 99, 71, 1],
        turquoise: [64, 224, 208, 1],
        violet: [238, 130, 238, 1],
        wheat: [245, 222, 179, 1],
        white: [255, 255, 255, 1],
        whitesmoke: [245, 245, 245, 1],
        yellow: [255, 255, 0, 1],
        yellowgreen: [154, 205, 50, 1]
    };
    function te(t) {
        return (t = Math.round(t)) < 0 ? 0 : t > 255 ? 255 : t
    }
    function ee(t) {
        return t < 0 ? 0 : t > 1 ? 1 : t
    }
    function ne(t) {
        return t.length && "%" === t.charAt(t.length - 1) ? te(parseFloat(t) / 100 * 255) : te(parseInt(t, 10))
    }
    function ie(t) {
        return t.length && "%" === t.charAt(t.length - 1) ? ee(parseFloat(t) / 100) : ee(parseFloat(t))
    }
    function re(t, e, n) {
        return n < 0 ? n += 1 : n > 1 && (n -= 1),
        6 * n < 1 ? t + (e - t) * n * 6 : 2 * n < 1 ? e : 3 * n < 2 ? t + (e - t) * (2 / 3 - n) * 6 : t
    }
    function oe(t, e, n) {
        return t + (e - t) * n
    }
    function ae(t, e, n, i, r) {
        return t[0] = e,
        t[1] = n,
        t[2] = i,
        t[3] = r,
        t
    }
    function se(t, e) {
        return t[0] = e[0],
        t[1] = e[1],
        t[2] = e[2],
        t[3] = e[3],
        t
    }
    var le = new Kt(20),
    ue = null;
    function he(t, e) {
        ue && se(ue, e),
        ue = le.put(t, ue || e.slice())
    }
    function ce(t, e) {
        if (t) {
            e = e || [];
            var n = le.get(t);
            if (n)
                return se(e, n);
            var i,
            r = (t += "").replace(/ /g, "").toLowerCase();
            if (r in Jt)
                return se(e, Jt[r]), he(t, e), e;
            if ("#" === r.charAt(0))
                return 4 === r.length ? (i = parseInt(r.substr(1), 16)) >= 0 && i <= 4095 ? (ae(e, (3840 & i) >> 4 | (3840 & i) >> 8, 240 & i | (240 & i) >> 4, 15 & i | (15 & i) << 4, 1), he(t, e), e) : void ae(e, 0, 0, 0, 1) : 7 === r.length ? (i = parseInt(r.substr(1), 16)) >= 0 && i <= 16777215 ? (ae(e, (16711680 & i) >> 16, (65280 & i) >> 8, 255 & i, 1), he(t, e), e) : void ae(e, 0, 0, 0, 1) : void 0;
            var o = r.indexOf("("),
            a = r.indexOf(")");
            if (-1 !== o && a + 1 === r.length) {
                var s = r.substr(0, o),
                l = r.substr(o + 1, a - (o + 1)).split(","),
                u = 1;
                switch (s) {
                case "rgba":
                    if (4 !== l.length)
                        return void ae(e, 0, 0, 0, 1);
                    u = ie(l.pop());
                case "rgb":
                    return 3 !== l.length ? void ae(e, 0, 0, 0, 1) : (ae(e, ne(l[0]), ne(l[1]), ne(l[2]), u), he(t, e), e);
                case "hsla":
                    return 4 !== l.length ? void ae(e, 0, 0, 0, 1) : (l[3] = ie(l[3]), fe(l, e), he(t, e), e);
                case "hsl":
                    return 3 !== l.length ? void ae(e, 0, 0, 0, 1) : (fe(l, e), he(t, e), e);
                default:
                    return
                }
            }
            ae(e, 0, 0, 0, 1)
        }
    }
    function fe(t, e) {
        var n = (parseFloat(t[0]) % 360 + 360) % 360 / 360,
        i = ie(t[1]),
        r = ie(t[2]),
        o = r <= .5 ? r * (i + 1) : r + i - r * i,
        a = 2 * r - o;
        return ae(e = e || [], te(255 * re(a, o, n + 1 / 3)), te(255 * re(a, o, n)), te(255 * re(a, o, n - 1 / 3)), 1),
        4 === t.length && (e[3] = t[3]),
        e
    }
    function de(t, e) {
        var n = ce(t);
        if (n) {
            for (var i = 0; i < 3; i++)
                n[i] = e < 0 ? n[i] * (1 - e) | 0 : (255 - n[i]) * e + n[i] | 0, n[i] > 255 ? n[i] = 255 : t[i] < 0 && (n[i] = 0);
            return me(n, 4 === n.length ? "rgba" : "rgb")
        }
    }
    function pe(t, e, n) {
        if (e && e.length && t >= 0 && t <= 1) {
            n = n || [];
            var i = t * (e.length - 1),
            r = Math.floor(i),
            o = Math.ceil(i),
            a = e[r],
            s = e[o],
            l = i - r;
            return n[0] = te(oe(a[0], s[0], l)),
            n[1] = te(oe(a[1], s[1], l)),
            n[2] = te(oe(a[2], s[2], l)),
            n[3] = ee(oe(a[3], s[3], l)),
            n
        }
    }
    var ge = pe;
    function ve(t, e, n) {
        if (e && e.length && t >= 0 && t <= 1) {
            var i = t * (e.length - 1),
            r = Math.floor(i),
            o = Math.ceil(i),
            a = ce(e[r]),
            s = ce(e[o]),
            l = i - r,
            u = me([te(oe(a[0], s[0], l)), te(oe(a[1], s[1], l)), te(oe(a[2], s[2], l)), ee(oe(a[3], s[3], l))], "rgba");
            return n ? {
                color: u,
                leftIndex: r,
                rightIndex: o,
                value: i
            }
             : u
        }
    }
    var ye = ve;
    function me(t, e) {
        if (t && t.length) {
            var n = t[0] + "," + t[1] + "," + t[2];
            return "rgba" !== e && "hsva" !== e && "hsla" !== e || (n += "," + t[3]),
            e + "(" + n + ")"
        }
    }
    var xe = Object.freeze({
        parse: ce,
        lift: de,
        toHex: function (t) {
            var e = ce(t);
            if (e)
                return ((1 << 24) + (e[0] << 16) + (e[1] << 8) + +e[2]).toString(16).slice(1)
        },
        fastLerp: pe,
        fastMapToColor: ge,
        lerp: ve,
        mapToColor: ye,
        modifyHSL: function (t, e, n, i) {
            if (t = ce(t))
                return t = function (t) {
                    if (t) {
                        var e,
                        n,
                        i = t[0] / 255,
                        r = t[1] / 255,
                        o = t[2] / 255,
                        a = Math.min(i, r, o),
                        s = Math.max(i, r, o),
                        l = s - a,
                        u = (s + a) / 2;
                        if (0 === l)
                            e = 0, n = 0;
                        else {
                            n = u < .5 ? l / (s + a) : l / (2 - s - a);
                            var h = ((s - i) / 6 + l / 2) / l,
                            c = ((s - r) / 6 + l / 2) / l,
                            f = ((s - o) / 6 + l / 2) / l;
                            i === s ? e = f - c : r === s ? e = 1 / 3 + h - f : o === s && (e = 2 / 3 + c - h),
                            e < 0 && (e += 1),
                            e > 1 && (e -= 1)
                        }
                        var d = [360 * e, n, u];
                        return null != t[3] && d.push(t[3]),
                        d
                    }
                }
            (t),
            null != e && (t[0] = (r = e, (r = Math.round(r)) < 0 ? 0 : r > 360 ? 360 : r)),
            null != n && (t[1] = ie(n)),
            null != i && (t[2] = ie(i)),
            me(fe(t), "rgba");
            var r
        },
        modifyAlpha: function (t, e) {
            if ((t = ce(t)) && null != e)
                return t[3] = ee(e), me(t, "rgba")
        },
        stringify: me
    }),
    _e = Array.prototype.slice;
    function we(t, e) {
        return t[e]
    }
    function be(t, e, n) {
        t[e] = n
    }
    function Se(t, e, n) {
        return (e - t) * n + t
    }
    function ke(t, e, n) {
        return n > .5 ? e : t
    }
    function Me(t, e, n, i, r) {
        var o = t.length;
        if (1 === r)
            for (var a = 0; a < o; a++)
                i[a] = Se(t[a], e[a], n);
        else {
            var s = o && t[0].length;
            for (a = 0; a < o; a++)
                for (var l = 0; l < s; l++)
                    i[a][l] = Se(t[a][l], e[a][l], n)
        }
    }
    function Ie(t, e, n) {
        var i = t.length,
        r = e.length;
        if (i !== r)
            if (i > r)
                t.length = r;
            else
                for (var o = i; o < r; o++)
                    t.push(1 === n ? e[o] : _e.call(e[o]));
        var a = t[0] && t[0].length;
        for (o = 0; o < t.length; o++)
            if (1 === n)
                isNaN(t[o]) && (t[o] = e[o]);
            else
                for (var s = 0; s < a; s++)
                    isNaN(t[o][s]) && (t[o][s] = e[o][s])
    }
    function Ae(t, e, n) {
        if (t === e)
            return !0;
        var i = t.length;
        if (i !== e.length)
            return !1;
        if (1 === n) {
            for (var r = 0; r < i; r++)
                if (t[r] !== e[r])
                    return !1
        } else {
            var o = t[0].length;
            for (r = 0; r < i; r++)
                for (var a = 0; a < o; a++)
                    if (t[r][a] !== e[r][a])
                        return !1
        }
        return !0
    }
    function Te(t, e, n, i, r, o, a, s, l) {
        var u = t.length;
        if (1 === l)
            for (var h = 0; h < u; h++)
                s[h] = Ce(t[h], e[h], n[h], i[h], r, o, a);
        else {
            var c = t[0].length;
            for (h = 0; h < u; h++)
                for (var f = 0; f < c; f++)
                    s[h][f] = Ce(t[h][f], e[h][f], n[h][f], i[h][f], r, o, a)
        }
    }
    function Ce(t, e, n, i, r, o, a) {
        var s = .5 * (n - t),
        l = .5 * (i - e);
        return (2 * (e - n) + s + l) * a + (-3 * (e - n) - 2 * s - l) * o + s * r + e
    }
    function ze(t) {
        if (L(t)) {
            var e = t.length;
            if (L(t[0])) {
                for (var n = [], i = 0; i < e; i++)
                    n.push(_e.call(t[i]));
                return n
            }
            return _e.call(t)
        }
        return t
    }
    function Ee(t) {
        return t[0] = Math.floor(t[0]),
        t[1] = Math.floor(t[1]),
        t[2] = Math.floor(t[2]),
        "rgba(" + t.join(",") + ")"
    }
    function Le(t, e, n, i, r, o) {
        var a = t._getter,
        s = t._setter,
        l = "spline" === e,
        u = i.length;
        if (u) {
            var h,
            c = L(i[0].value),
            f = !1,
            d = !1,
            p = c ? function (t) {
                var e = t[t.length - 1].value;
                return L(e && e[0]) ? 2 : 1
            }
            (i) : 0;
            i.sort(function (t, e) {
                return t.time - e.time
            }),
            h = i[u - 1].time;
            for (var g = [], v = [], y = i[0].value, m = !0, x = 0; x < u; x++) {
                g.push(i[x].time / h);
                var _ = i[x].value;
                if (c && Ae(_, y, p) || !c && _ === y || (m = !1), y = _, "string" == typeof _) {
                    var w = ce(_);
                    w ? (_ = w, f = !0) : d = !0
                }
                v.push(_)
            }
            if (o || !m) {
                var b = v[u - 1];
                for (x = 0; x < u - 1; x++)
                    c ? Ie(v[x], b, p) : !isNaN(v[x]) || isNaN(b) || d || f || (v[x] = b);
                c && Ie(a(t._target, r), b, p);
                var S,
                k,
                M,
                I,
                A,
                T = 0,
                C = 0;
                if (f)
                    var z = [0, 0, 0, 0];
                var E = new Vt({
                    target: t._target,
                    life: h,
                    loop: t._loop,
                    delay: t._delay,
                    onframe: function (t, e) {
                        var n;
                        if (e < 0)
                            n = 0;
                        else if (e < C) {
                            for (n = Math.min(T + 1, u - 1); n >= 0 && !(g[n] <= e); n--);
                            n = Math.min(n, u - 2)
                        } else {
                            for (n = T; n < u && !(g[n] > e); n++);
                            n = Math.min(n - 1, u - 2)
                        }
                        T = n,
                        C = e;
                        var i = g[n + 1] - g[n];
                        if (0 !== i)
                            if (S = (e - g[n]) / i, l)
                                if (M = v[n], k = v[0 === n ? n : n - 1], I = v[n > u - 2 ? u - 1 : n + 1], A = v[n > u - 3 ? u - 1 : n + 2], c)
                                    Te(k, M, I, A, S, S * S, S * S * S, a(t, r), p);
                                else {
                                    if (f)
                                        o = Te(k, M, I, A, S, S * S, S * S * S, z, 1), o = Ee(z);
                                    else {
                                        if (d)
                                            return ke(M, I, S);
                                        o = Ce(k, M, I, A, S, S * S, S * S * S)
                                    }
                                    s(t, r, o)
                                }
                            else if (c)
                                Me(v[n], v[n + 1], S, a(t, r), p);
                            else {
                                var o;
                                if (f)
                                    Me(v[n], v[n + 1], S, z, 1), o = Ee(z);
                                else {
                                    if (d)
                                        return ke(v[n], v[n + 1], S);
                                    o = Se(v[n], v[n + 1], S)
                                }
                                s(t, r, o)
                            }
                    },
                    ondestroy: n
                });
                return e && "spline" !== e && (E.easing = e),
                E
            }
        }
    }
    var De = function (t, e, n, i) {
        this._tracks = {},
        this._target = t,
        this._loop = e || !1,
        this._getter = n || we,
        this._setter = i || be,
        this._clipCount = 0,
        this._delay = 0,
        this._doneList = [],
        this._onframeList = [],
        this._clipList = []
    };
    De.prototype = {
        when: function (t, e) {
            var n = this._tracks;
            for (var i in e)
                if (e.hasOwnProperty(i)) {
                    if (!n[i]) {
                        n[i] = [];
                        var r = this._getter(this._target, i);
                        if (null == r)
                            continue;
                        0 !== t && n[i].push({
                            time: 0,
                            value: ze(r)
                        })
                    }
                    n[i].push({
                        time: t,
                        value: e[i]
                    })
                }
            return this
        },
        during: function (t) {
            return this._onframeList.push(t),
            this
        },
        pause: function () {
            for (var t = 0; t < this._clipList.length; t++)
                this._clipList[t].pause();
            this._paused = !0
        },
        resume: function () {
            for (var t = 0; t < this._clipList.length; t++)
                this._clipList[t].resume();
            this._paused = !1
        },
        isPaused: function () {
            return !!this._paused
        },
        _doneCallback: function () {
            this._tracks = {},
            this._clipList.length = 0;
            for (var t = this._doneList, e = t.length, n = 0; n < e; n++)
                t[n].call(this)
        },
        start: function (t, e) {
            var n,
            i = this,
            r = 0,
            o = function () {
                --r || i._doneCallback()
            };
            for (var a in this._tracks)
                if (this._tracks.hasOwnProperty(a)) {
                    var s = Le(this, t, o, this._tracks[a], a, e);
                    s && (this._clipList.push(s), r++, this.animation && this.animation.addClip(s), n = s)
                }
            if (n) {
                var l = n.onframe;
                n.onframe = function (t, e) {
                    l(t, e);
                    for (var n = 0; n < i._onframeList.length; n++)
                        i._onframeList[n](t, e)
                }
            }
            return r || this._doneCallback(),
            this
        },
        stop: function (t) {
            for (var e = this._clipList, n = this.animation, i = 0; i < e.length; i++) {
                var r = e[i];
                t && r.onframe(this._target, 1),
                n && n.removeClip(r)
            }
            e.length = 0
        },
        delay: function (t) {
            return this._delay = t,
            this
        },
        done: function (t) {
            return t && this._doneList.push(t),
            this
        },
        getClips: function () {
            return this._clipList
        }
    };
    var Oe = 1;
    "undefined" != typeof window && (Oe = Math.max(window.devicePixelRatio || 1, 1));
    var Pe = Oe,
    Fe = function () {};
    var Ne = Fe,
    Re = function () {
        this.animators = []
    };
    function Be(t, e, n, i, r, o, a, s) {
        G(i) ? (o = r, r = i, i = 0) : W(r) ? (o = r, r = "linear", i = 0) : W(i) ? (o = i, i = 0) : W(n) ? (o = n, n = 500) : n || (n = 500),
        t.stopAnimation(),
        function t(e, n, i, r, o, a, s) {
            var l = {};
            var u = 0;
            for (var h in r)
                r.hasOwnProperty(h) && (null != i[h] ? H(r[h]) && !L(r[h]) ? t(e, n ? n + "." + h : h, i[h], r[h], o, a, s) : (s ? (l[h] = i[h], We(e, n, h, r[h])) : l[h] = r[h], u++) : null == r[h] || s || We(e, n, h, r[h]));
            u > 0 && e.animate(n, !1).when(null == o ? 500 : o, l).delay(a || 0)
        }
        (t, "", t, e, n, i, s);
        var l = t.animators.slice(),
        u = l.length;
        function h() {
            --u || o && o()
        }
        u || o && o();
        for (var c = 0; c < l.length; c++)
            l[c].done(h).start(r, a)
    }
    function We(t, e, n, i) {
        if (e) {
            var r = {};
            r[e] = {},
            r[e][n] = i,
            t.attr(r)
        } else
            t.attr(n, i)
    }
    Re.prototype = {
        constructor: Re,
        animate: function (t, e) {
            var n,
            i = !1,
            r = this,
            o = this.__zr;
            if (t) {
                var a = t.split("."),
                s = r;
                i = "shape" === a[0];
                for (var l = 0, u = a.length; l < u; l++)
                    s && (s = s[a[l]]);
                s && (n = s)
            } else
                n = r;
            if (n) {
                var h = r.animators,
                c = new De(n, e);
                return c.during(function (t) {
                    r.dirty(i)
                }).done(function () {
                    h.splice(C(h, c), 1)
                }),
                h.push(c),
                o && o.animation.addAnimator(c),
                c
            }
            Ne('Property "' + t + '" is not existed in element ' + r.id)
        },
        stopAnimation: function (t) {
            for (var e = this.animators, n = e.length, i = 0; i < n; i++)
                e[i].stop(t);
            return e.length = 0,
            this
        },
        animateTo: function (t, e, n, i, r, o) {
            Be(this, t, e, n, i, r, o)
        },
        animateFrom: function (t, e, n, i, r, o) {
            Be(this, t, e, n, i, r, o, !0)
        }
    };
    var Ge = function (t) {
        Gt.call(this, t),
        pt.call(this, t),
        Re.call(this, t),
        this.id = t.id || n()
    };
    Ge.prototype = {
        type: "element",
        name: "",
        __zr: null,
        ignore: !1,
        clipPath: null,
        isGroup: !1,
        drift: function (t, e) {
            switch (this.draggable) {
            case "horizontal":
                e = 0;
                break;
            case "vertical":
                t = 0
            }
            var n = this.transform;
            n || (n = this.transform = [1, 0, 0, 1, 0, 0]),
            n[4] += t,
            n[5] += e,
            this.decomposeTransform(),
            this.dirty(!1)
        },
        beforeUpdate: function () {},
        afterUpdate: function () {},
        update: function () {
            this.updateTransform()
        },
        traverse: function (t, e) {},
        attrKV: function (t, e) {
            if ("position" === t || "scale" === t || "origin" === t) {
                if (e) {
                    var n = this[t];
                    n || (n = this[t] = []),
                    n[0] = e[0],
                    n[1] = e[1]
                }
            } else
                this[t] = e
        },
        hide: function () {
            this.ignore = !0,
            this.__zr && this.__zr.refresh()
        },
        show: function () {
            this.ignore = !1,
            this.__zr && this.__zr.refresh()
        },
        attr: function (t, e) {
            if ("string" == typeof t)
                this.attrKV(t, e);
            else if (H(t))
                for (var n in t)
                    t.hasOwnProperty(n) && this.attrKV(n, t[n]);
            return this.dirty(!1),
            this
        },
        setClipPath: function (t) {
            var e = this.__zr;
            e && t.addSelfToZr(e),
            this.clipPath && this.clipPath !== t && this.removeClipPath(),
            this.clipPath = t,
            t.__zr = e,
            t.__clipTarget = this,
            this.dirty(!1)
        },
        removeClipPath: function () {
            var t = this.clipPath;
            t && (t.__zr && t.removeSelfFromZr(t.__zr), t.__zr = null, t.__clipTarget = null, this.clipPath = null, this.dirty(!1))
        },
        addSelfToZr: function (t) {
            this.__zr = t;
            var e = this.animators;
            if (e)
                for (var n = 0; n < e.length; n++)
                    t.animation.addAnimator(e[n]);
            this.clipPath && this.clipPath.addSelfToZr(t)
        },
        removeSelfFromZr: function (t) {
            this.__zr = null;
            var e = this.animators;
            if (e)
                for (var n = 0; n < e.length; n++)
                    t.animation.removeAnimator(e[n]);
            this.clipPath && this.clipPath.removeSelfFromZr(t)
        }
    },
    E(Ge, Re),
    E(Ge, Gt),
    E(Ge, pt);
    var He,
    je,
    Ue,
    qe,
    Ye = lt,
    Ve = Math.min,
    $e = Math.max;
    function Xe(t, e, n, i) {
        n < 0 && (t += n, n = -n),
        i < 0 && (e += i, i = -i),
        this.x = t,
        this.y = e,
        this.width = n,
        this.height = i
    }
    Xe.prototype = {
        constructor: Xe,
        union: function (t) {
            var e = Ve(t.x, this.x),
            n = Ve(t.y, this.y);
            this.width = $e(t.x + t.width, this.x + this.width) - e,
            this.height = $e(t.y + t.height, this.y + this.height) - n,
            this.x = e,
            this.y = n
        },
        applyTransform: (He = [], je = [], Ue = [], qe = [], function (t) {
            if (t) {
                He[0] = Ue[0] = this.x,
                He[1] = qe[1] = this.y,
                je[0] = qe[0] = this.x + this.width,
                je[1] = Ue[1] = this.y + this.height,
                Ye(He, He, t),
                Ye(je, je, t),
                Ye(Ue, Ue, t),
                Ye(qe, qe, t),
                this.x = Ve(He[0], je[0], Ue[0], qe[0]),
                this.y = Ve(He[1], je[1], Ue[1], qe[1]);
                var e = $e(He[0], je[0], Ue[0], qe[0]),
                n = $e(He[1], je[1], Ue[1], qe[1]);
                this.width = e - this.x,
                this.height = n - this.y
            }
        }),
        calculateTransform: function (t) {
            var e = this,
            n = t.width / e.width,
            i = t.height / e.height,
            r = Dt();
            return Ft(r, r, [-e.x, -e.y]),
            Nt(r, r, [n, i]),
            Ft(r, r, [t.x, t.y]),
            r
        },
        intersect: function (t) {
            if (!t)
                return !1;
            t instanceof Xe || (t = Xe.create(t));
            var e = this,
            n = e.x,
            i = e.x + e.width,
            r = e.y,
            o = e.y + e.height,
            a = t.x,
            s = t.x + t.width,
            l = t.y,
            u = t.y + t.height;
            return !(i < a || s < n || o < l || u < r)
        },
        contain: function (t, e) {
            return t >= this.x && t <= this.x + this.width && e >= this.y && e <= this.y + this.height
        },
        clone: function () {
            return new Xe(this.x, this.y, this.width, this.height)
        },
        copy: function (t) {
            this.x = t.x,
            this.y = t.y,
            this.width = t.width,
            this.height = t.height
        },
        plain: function () {
            return {
                x: this.x,
                y: this.y,
                width: this.width,
                height: this.height
            }
        }
    },
    Xe.create = function (t) {
        return new Xe(t.x, t.y, t.width, t.height)
    };
    var Ze = function (t) {
        for (var e in t = t || {}, Ge.call(this, t), t)
            t.hasOwnProperty(e) && (this[e] = t[e]);
        this._children = [],
        this.__storage = null,
        this.__dirty = !0
    };
    Ze.prototype = {
        constructor: Ze,
        isGroup: !0,
        type: "group",
        silent: !1,
        children: function () {
            return this._children.slice()
        },
        childAt: function (t) {
            return this._children[t]
        },
        childOfName: function (t) {
            for (var e = this._children, n = 0; n < e.length; n++)
                if (e[n].name === t)
                    return e[n]
        },
        childCount: function () {
            return this._children.length
        },
        add: function (t) {
            return t && t !== this && t.parent !== this && (this._children.push(t), this._doAdd(t)),
            this
        },
        addBefore: function (t, e) {
            if (t && t !== this && t.parent !== this && e && e.parent === this) {
                var n = this._children,
                i = n.indexOf(e);
                i >= 0 && (n.splice(i, 0, t), this._doAdd(t))
            }
            return this
        },
        _doAdd: function (t) {
            t.parent && t.parent.remove(t),
            t.parent = this;
            var e = this.__storage,
            n = this.__zr;
            e && e !== t.__storage && (e.addToStorage(t), t instanceof Ze && t.addChildrenToStorage(e)),
            n && n.refresh()
        },
        remove: function (t) {
            var e = this.__zr,
            n = this.__storage,
            i = this._children,
            r = C(i, t);
            return r < 0 ? this : (i.splice(r, 1), t.parent = null, n && (n.delFromStorage(t), t instanceof Ze && t.delChildrenFromStorage(n)), e && e.refresh(), this)
        },
        removeAll: function () {
            var t,
            e,
            n = this._children,
            i = this.__storage;
            for (e = 0; e < n.length; e++)
                t = n[e], i && (i.delFromStorage(t), t instanceof Ze && t.delChildrenFromStorage(i)), t.parent = null;
            return n.length = 0,
            this
        },
        eachChild: function (t, e) {
            for (var n = this._children, i = 0; i < n.length; i++) {
                var r = n[i];
                t.call(e, r, i)
            }
            return this
        },
        traverse: function (t, e) {
            for (var n = 0; n < this._children.length; n++) {
                var i = this._children[n];
                t.call(e, i),
                "group" === i.type && i.traverse(t, e)
            }
            return this
        },
        addChildrenToStorage: function (t) {
            for (var e = 0; e < this._children.length; e++) {
                var n = this._children[e];
                t.addToStorage(n),
                n instanceof Ze && n.addChildrenToStorage(t)
            }
        },
        delChildrenFromStorage: function (t) {
            for (var e = 0; e < this._children.length; e++) {
                var n = this._children[e];
                t.delFromStorage(n),
                n instanceof Ze && n.delChildrenFromStorage(t)
            }
        },
        dirty: function () {
            return this.__dirty = !0,
            this.__zr && this.__zr.refresh(),
            this
        },
        getBoundingRect: function (t) {
            for (var e = null, n = new Xe(0, 0, 0, 0), i = t || this._children, r = [], o = 0; o < i.length; o++) {
                var a = i[o];
                if (!a.ignore && !a.invisible) {
                    var s = a.getBoundingRect(),
                    l = a.getLocalTransform(r);
                    l ? (n.copy(s), n.applyTransform(l), (e = e || n.clone()).union(n)) : (e = e || s.clone()).union(s)
                }
            }
            return e || n
        }
    },
    z(Ze, Ge);
    var Ke = 32,
    Qe = 7;
    function Je(t, e, n, i) {
        var r = e + 1;
        if (r === n)
            return 1;
        if (i(t[r++], t[e]) < 0) {
            for (; r < n && i(t[r], t[r - 1]) < 0; )
                r++;
            !function (t, e, n) {
                n--;
                for (; e < n; ) {
                    var i = t[e];
                    t[e++] = t[n],
                    t[n--] = i
                }
            }
            (t, e, r)
        } else
            for (; r < n && i(t[r], t[r - 1]) >= 0; )
                r++;
        return r - e
    }
    function tn(t, e, n, i, r) {
        for (i === e && i++; i < n; i++) {
            for (var o, a = t[i], s = e, l = i; s < l; )
                r(a, t[o = s + l >>> 1]) < 0 ? l = o : s = o + 1;
            var u = i - s;
            switch (u) {
            case 3:
                t[s + 3] = t[s + 2];
            case 2:
                t[s + 2] = t[s + 1];
            case 1:
                t[s + 1] = t[s];
                break;
            default:
                for (; u > 0; )
                    t[s + u] = t[s + u - 1], u--
            }
            t[s] = a
        }
    }
    function en(t, e, n, i, r, o) {
        var a = 0,
        s = 0,
        l = 1;
        if (o(t, e[n + r]) > 0) {
            for (s = i - r; l < s && o(t, e[n + r + l]) > 0; )
                a = l, (l = 1 + (l << 1)) <= 0 && (l = s);
            l > s && (l = s),
            a += r,
            l += r
        } else {
            for (s = r + 1; l < s && o(t, e[n + r - l]) <= 0; )
                a = l, (l = 1 + (l << 1)) <= 0 && (l = s);
            l > s && (l = s);
            var u = a;
            a = r - l,
            l = r - u
        }
        for (a++; a < l; ) {
            var h = a + (l - a >>> 1);
            o(t, e[n + h]) > 0 ? a = h + 1 : l = h
        }
        return l
    }
    function nn(t, e, n, i, r, o) {
        var a = 0,
        s = 0,
        l = 1;
        if (o(t, e[n + r]) < 0) {
            for (s = r + 1; l < s && o(t, e[n + r - l]) < 0; )
                a = l, (l = 1 + (l << 1)) <= 0 && (l = s);
            l > s && (l = s);
            var u = a;
            a = r - l,
            l = r - u
        } else {
            for (s = i - r; l < s && o(t, e[n + r + l]) >= 0; )
                a = l, (l = 1 + (l << 1)) <= 0 && (l = s);
            l > s && (l = s),
            a += r,
            l += r
        }
        for (a++; a < l; ) {
            var h = a + (l - a >>> 1);
            o(t, e[n + h]) < 0 ? l = h : a = h + 1
        }
        return l
    }
    function rn(t, e) {
        var n,
        i,
        r = Qe,
        o = 0;
        t.length;
        var a = [];
        function s(s) {
            var l = n[s],
            u = i[s],
            h = n[s + 1],
            c = i[s + 1];
            i[s] = u + c,
            s === o - 3 && (n[s + 1] = n[s + 2], i[s + 1] = i[s + 2]),
            o--;
            var f = nn(t[h], t, l, u, 0, e);
            l += f,
            0 !== (u -= f) && 0 !== (c = en(t[l + u - 1], t, h, c, c - 1, e)) && (u <= c ? function (n, i, o, s) {
                var l = 0;
                for (l = 0; l < i; l++)
                    a[l] = t[n + l];
                var u = 0,
                h = o,
                c = n;
                if (t[c++] = t[h++], 0 == --s) {
                    for (l = 0; l < i; l++)
                        t[c + l] = a[u + l];
                    return
                }
                if (1 === i) {
                    for (l = 0; l < s; l++)
                        t[c + l] = t[h + l];
                    return void(t[c + s] = a[u])
                }
                var f,
                d,
                p,
                g = r;
                for (; ; ) {
                    f = 0,
                    d = 0,
                    p = !1;
                    do {
                        if (e(t[h], a[u]) < 0) {
                            if (t[c++] = t[h++], d++, f = 0, 0 == --s) {
                                p = !0;
                                break
                            }
                        } else if (t[c++] = a[u++], f++, d = 0, 1 == --i) {
                            p = !0;
                            break
                        }
                    } while ((f | d) < g);
                    if (p)
                        break;
                    do {
                        if (0 !== (f = nn(t[h], a, u, i, 0, e))) {
                            for (l = 0; l < f; l++)
                                t[c + l] = a[u + l];
                            if (c += f, u += f, (i -= f) <= 1) {
                                p = !0;
                                break
                            }
                        }
                        if (t[c++] = t[h++], 0 == --s) {
                            p = !0;
                            break
                        }
                        if (0 !== (d = en(a[u], t, h, s, 0, e))) {
                            for (l = 0; l < d; l++)
                                t[c + l] = t[h + l];
                            if (c += d, h += d, 0 === (s -= d)) {
                                p = !0;
                                break
                            }
                        }
                        if (t[c++] = a[u++], 1 == --i) {
                            p = !0;
                            break
                        }
                        g--
                    } while (f >= Qe || d >= Qe);
                    if (p)
                        break;
                    g < 0 && (g = 0),
                    g += 2
                }
                if ((r = g) < 1 && (r = 1), 1 === i) {
                    for (l = 0; l < s; l++)
                        t[c + l] = t[h + l];
                    t[c + s] = a[u]
                } else {
                    if (0 === i)
                        throw new Error;
                    for (l = 0; l < i; l++)
                        t[c + l] = a[u + l]
                }
            }
                (l, u, h, c) : function (n, i, o, s) {
                var l = 0;
                for (l = 0; l < s; l++)
                    a[l] = t[o + l];
                var u = n + i - 1,
                h = s - 1,
                c = o + s - 1,
                f = 0,
                d = 0;
                if (t[c--] = t[u--], 0 == --i) {
                    for (f = c - (s - 1), l = 0; l < s; l++)
                        t[f + l] = a[l];
                    return
                }
                if (1 === s) {
                    for (d = (c -= i) + 1, f = (u -= i) + 1, l = i - 1; l >= 0; l--)
                        t[d + l] = t[f + l];
                    return void(t[c] = a[h])
                }
                var p = r;
                for (; ; ) {
                    var g = 0,
                    v = 0,
                    y = !1;
                    do {
                        if (e(a[h], t[u]) < 0) {
                            if (t[c--] = t[u--], g++, v = 0, 0 == --i) {
                                y = !0;
                                break
                            }
                        } else if (t[c--] = a[h--], v++, g = 0, 1 == --s) {
                            y = !0;
                            break
                        }
                    } while ((g | v) < p);
                    if (y)
                        break;
                    do {
                        if (0 !== (g = i - nn(a[h], t, n, i, i - 1, e))) {
                            for (i -= g, d = (c -= g) + 1, f = (u -= g) + 1, l = g - 1; l >= 0; l--)
                                t[d + l] = t[f + l];
                            if (0 === i) {
                                y = !0;
                                break
                            }
                        }
                        if (t[c--] = a[h--], 1 == --s) {
                            y = !0;
                            break
                        }
                        if (0 !== (v = s - en(t[u], a, 0, s, s - 1, e))) {
                            for (s -= v, d = (c -= v) + 1, f = (h -= v) + 1, l = 0; l < v; l++)
                                t[d + l] = a[f + l];
                            if (s <= 1) {
                                y = !0;
                                break
                            }
                        }
                        if (t[c--] = t[u--], 0 == --i) {
                            y = !0;
                            break
                        }
                        p--
                    } while (g >= Qe || v >= Qe);
                    if (y)
                        break;
                    p < 0 && (p = 0),
                    p += 2
                }
                (r = p) < 1 && (r = 1);
                if (1 === s) {
                    for (d = (c -= i) + 1, f = (u -= i) + 1, l = i - 1; l >= 0; l--)
                        t[d + l] = t[f + l];
                    t[c] = a[h]
                } else {
                    if (0 === s)
                        throw new Error;
                    for (f = c - (s - 1), l = 0; l < s; l++)
                        t[f + l] = a[l]
                }
            }
                (l, u, h, c))
        }
        n = [],
        i = [],
        this.mergeRuns = function () {
            for (; o > 1; ) {
                var t = o - 2;
                if (t >= 1 && i[t - 1] <= i[t] + i[t + 1] || t >= 2 && i[t - 2] <= i[t] + i[t - 1])
                    i[t - 1] < i[t + 1] && t--;
                else if (i[t] > i[t + 1])
                    break;
                s(t)
            }
        },
        this.forceMergeRuns = function () {
            for (; o > 1; ) {
                var t = o - 2;
                t > 0 && i[t - 1] < i[t + 1] && t--,
                s(t)
            }
        },
        this.pushRun = function (t, e) {
            n[o] = t,
            i[o] = e,
            o += 1
        }
    }
    function on(t, e, n, i) {
        n || (n = 0),
        i || (i = t.length);
        var r = i - n;
        if (!(r < 2)) {
            var o = 0;
            if (r < Ke)
                tn(t, n, i, n + (o = Je(t, n, i, e)), e);
            else {
                var a = new rn(t, e),
                s = function (t) {
                    for (var e = 0; t >= Ke; )
                        e |= 1 & t, t >>= 1;
                    return t + e
                }
                (r);
                do {
                    if ((o = Je(t, n, i, e)) < s) {
                        var l = r;
                        l > s && (l = s),
                        tn(t, n, n + l, n + o, e),
                        o = l
                    }
                    a.pushRun(n, o),
                    a.mergeRuns(),
                    r -= o,
                    n += o
                } while (0 !== r);
                a.forceMergeRuns()
            }
        }
    }
    function an(t, e) {
        return t.zlevel === e.zlevel ? t.z === e.z ? t.z2 - e.z2 : t.z - e.z : t.zlevel - e.zlevel
    }
    var sn = function () {
        this._roots = [],
        this._displayList = [],
        this._displayListLen = 0
    };
    sn.prototype = {
        constructor: sn,
        traverse: function (t, e) {
            for (var n = 0; n < this._roots.length; n++)
                this._roots[n].traverse(t, e)
        },
        getDisplayList: function (t, e) {
            return e = e || !1,
            t && this.updateDisplayList(e),
            this._displayList
        },
        updateDisplayList: function (t) {
            this._displayListLen = 0;
            for (var e = this._roots, n = this._displayList, i = 0, r = e.length; i < r; i++)
                this._updateAndAddDisplayable(e[i], null, t);
            n.length = this._displayListLen,
            h.canvasSupported && on(n, an)
        },
        _updateAndAddDisplayable: function (t, e, n) {
            if (!t.ignore || n) {
                t.beforeUpdate(),
                t.__dirty && t.update(),
                t.afterUpdate();
                var i = t.clipPath;
                if (i) {
                    e = e ? e.slice() : [];
                    for (var r = i, o = t; r; )
                        r.parent = o, r.updateTransform(), e.push(r), o = r, r = r.clipPath
                }
                if (t.isGroup) {
                    for (var a = t._children, s = 0; s < a.length; s++) {
                        var l = a[s];
                        t.__dirty && (l.__dirty = !0),
                        this._updateAndAddDisplayable(l, e, n)
                    }
                    t.__dirty = !1
                } else
                    t.__clipPaths = e, this._displayList[this._displayListLen++] = t
            }
        },
        addRoot: function (t) {
            t.__storage !== this && (t instanceof Ze && t.addChildrenToStorage(this), this.addToStorage(t), this._roots.push(t))
        },
        delRoot: function (t) {
            if (null == t) {
                for (var e = 0; e < this._roots.length; e++) {
                    var n = this._roots[e];
                    n instanceof Ze && n.delChildrenFromStorage(this)
                }
                return this._roots = [],
                this._displayList = [],
                void(this._displayListLen = 0)
            }
            if (t instanceof Array) {
                e = 0;
                for (var i = t.length; e < i; e++)
                    this.delRoot(t[e])
            } else {
                var r = C(this._roots, t);
                r >= 0 && (this.delFromStorage(t), this._roots.splice(r, 1), t instanceof Ze && t.delChildrenFromStorage(this))
            }
        },
        addToStorage: function (t) {
            return t && (t.__storage = this, t.dirty(!1)),
            this
        },
        delFromStorage: function (t) {
            return t && (t.__storage = null),
            this
        },
        dispose: function () {
            this._renderList = this._roots = null
        },
        displayableSortFunc: an
    };
    var ln = {
        shadowBlur: 1,
        shadowOffsetX: 1,
        shadowOffsetY: 1,
        textShadowBlur: 1,
        textShadowOffsetX: 1,
        textShadowOffsetY: 1,
        textBoxShadowBlur: 1,
        textBoxShadowOffsetX: 1,
        textBoxShadowOffsetY: 1
    };
    function un(t, e, n) {
        return ln.hasOwnProperty(e) ? n * t.dpr : n
    }
    var hn = {
        NONE: 0,
        STYLE_BIND: 1,
        PLAIN_TEXT: 2
    },
    cn = 9,
    fn = [["shadowBlur", 0], ["shadowOffsetX", 0], ["shadowOffsetY", 0], ["shadowColor", "#000"], ["lineCap", "butt"], ["lineJoin", "miter"], ["miterLimit", 10]],
    dn = function (t) {
        this.extendFrom(t, !1)
    };
    function pn(t, e, n) {
        var i = null == e.x ? 0 : e.x,
        r = null == e.x2 ? 1 : e.x2,
        o = null == e.y ? 0 : e.y,
        a = null == e.y2 ? 0 : e.y2;
        return e.global || (i = i * n.width + n.x, r = r * n.width + n.x, o = o * n.height + n.y, a = a * n.height + n.y),
        i = isNaN(i) ? 0 : i,
        r = isNaN(r) ? 1 : r,
        o = isNaN(o) ? 0 : o,
        a = isNaN(a) ? 0 : a,
        t.createLinearGradient(i, o, r, a)
    }
    function gn(t, e, n) {
        var i = n.width,
        r = n.height,
        o = Math.min(i, r),
        a = null == e.x ? .5 : e.x,
        s = null == e.y ? .5 : e.y,
        l = null == e.r ? .5 : e.r;
        return e.global || (a = a * i + n.x, s = s * r + n.y, l *= o),
        t.createRadialGradient(a, s, 0, a, s, l)
    }
    dn.prototype = {
        constructor: dn,
        fill: "#000",
        stroke: null,
        opacity: 1,
        fillOpacity: null,
        strokeOpacity: null,
        lineDash: null,
        lineDashOffset: 0,
        shadowBlur: 0,
        shadowOffsetX: 0,
        shadowOffsetY: 0,
        lineWidth: 1,
        strokeNoScale: !1,
        text: null,
        font: null,
        textFont: null,
        fontStyle: null,
        fontWeight: null,
        fontSize: null,
        fontFamily: null,
        textTag: null,
        textFill: "#000",
        textStroke: null,
        textWidth: null,
        textHeight: null,
        textStrokeWidth: 0,
        textLineHeight: null,
        textPosition: "inside",
        textRect: null,
        textOffset: null,
        textAlign: null,
        textVerticalAlign: null,
        textDistance: 5,
        textShadowColor: "transparent",
        textShadowBlur: 0,
        textShadowOffsetX: 0,
        textShadowOffsetY: 0,
        textBoxShadowColor: "transparent",
        textBoxShadowBlur: 0,
        textBoxShadowOffsetX: 0,
        textBoxShadowOffsetY: 0,
        transformText: !1,
        textRotation: 0,
        textOrigin: null,
        textBackgroundColor: null,
        textBorderColor: null,
        textBorderWidth: 0,
        textBorderRadius: 0,
        textPadding: null,
        rich: null,
        truncate: null,
        blend: null,
        bind: function (t, e, n) {
            var i = n && n.style,
            r = !i || t.__attrCachedBy !== hn.STYLE_BIND;
            t.__attrCachedBy = hn.STYLE_BIND;
            for (var o = 0; o < fn.length; o++) {
                var a = fn[o],
                s = a[0];
                (r || this[s] !== i[s]) && (t[s] = un(t, s, this[s] || a[1]))
            }
            if ((r || this.fill !== i.fill) && (t.fillStyle = this.fill), (r || this.stroke !== i.stroke) && (t.strokeStyle = this.stroke), (r || this.opacity !== i.opacity) && (t.globalAlpha = null == this.opacity ? 1 : this.opacity), (r || this.blend !== i.blend) && (t.globalCompositeOperation = this.blend || "source-over"), this.hasStroke()) {
                var l = this.lineWidth;
                t.lineWidth = l / (this.strokeNoScale && e && e.getLineScale ? e.getLineScale() : 1)
            }
        },
        hasFill: function () {
            var t = this.fill;
            return null != t && "none" !== t
        },
        hasStroke: function () {
            var t = this.stroke;
            return null != t && "none" !== t && this.lineWidth > 0
        },
        extendFrom: function (t, e) {
            if (t)
                for (var n in t)
                    !t.hasOwnProperty(n) || !0 !== e && (!1 === e ? this.hasOwnProperty(n) : null == t[n]) || (this[n] = t[n])
        },
        set: function (t, e) {
            "string" == typeof t ? this[t] = e : this.extendFrom(t, !0)
        },
        clone: function () {
            var t = new this.constructor;
            return t.extendFrom(this, !0),
            t
        },
        getGradient: function (t, e, n) {
            for (var i = ("radial" === e.type ? gn : pn)(t, e, n), r = e.colorStops, o = 0; o < r.length; o++)
                i.addColorStop(r[o].offset, r[o].color);
            return i
        }
    };
    for (var vn = dn.prototype, yn = 0; yn < fn.length; yn++) {
        var mn = fn[yn];
        mn[0]in vn || (vn[mn[0]] = mn[1])
    }
    dn.getGradient = vn.getGradient;
    var xn = function (t, e) {
        this.image = t,
        this.repeat = e,
        this.type = "pattern"
    };
    function _n() {
        return !1
    }
    function wn(t, e, n) {
        var i = A(),
        r = e.getWidth(),
        o = e.getHeight(),
        a = i.style;
        return a && (a.position = "absolute", a.left = 0, a.top = 0, a.width = r + "px", a.height = o + "px", i.setAttribute("data-zr-dom-id", t)),
        i.width = r * n,
        i.height = o * n,
        i
    }
    xn.prototype.getCanvasPattern = function (t) {
        return t.createPattern(this.image, this.repeat || "repeat")
    };
    var bn = function (t, e, n) {
        var i;
        n = n || Pe,
        "string" == typeof t ? i = wn(t, e, n) : H(t) && (t = (i = t).id),
        this.id = t,
        this.dom = i;
        var r = i.style;
        r && (i.onselectstart = _n, r["-webkit-user-select"] = "none", r["user-select"] = "none", r["-webkit-touch-callout"] = "none", r["-webkit-tap-highlight-color"] = "rgba(0,0,0,0)", r.padding = 0, r.margin = 0, r["border-width"] = 0),
        this.domBack = null,
        this.ctxBack = null,
        this.painter = e,
        this.config = null,
        this.clearColor = 0,
        this.motionBlur = !1,
        this.lastFrameAlpha = .7,
        this.dpr = n
    };
    bn.prototype = {
        constructor: bn,
        __dirty: !0,
        __used: !1,
        __drawIndex: 0,
        __startIndex: 0,
        __endIndex: 0,
        incremental: !1,
        getElementCount: function () {
            return this.__endIndex - this.__startIndex
        },
        initContext: function () {
            this.ctx = this.dom.getContext("2d"),
            this.ctx.dpr = this.dpr
        },
        createBackBuffer: function () {
            var t = this.dpr;
            this.domBack = wn("back-" + this.id, this.painter, t),
            this.ctxBack = this.domBack.getContext("2d"),
            1 !== t && this.ctxBack.scale(t, t)
        },
        resize: function (t, e) {
            var n = this.dpr,
            i = this.dom,
            r = i.style,
            o = this.domBack;
            r && (r.width = t + "px", r.height = e + "px"),
            i.width = t * n,
            i.height = e * n,
            o && (o.width = t * n, o.height = e * n, 1 !== n && this.ctxBack.scale(n, n))
        },
        clear: function (t, e) {
            var n,
            i = this.dom,
            r = this.ctx,
            o = i.width,
            a = i.height,
            s = (e = e || this.clearColor, this.motionBlur && !t),
            l = this.lastFrameAlpha,
            u = this.dpr;
            (s && (this.domBack || this.createBackBuffer(), this.ctxBack.globalCompositeOperation = "copy", this.ctxBack.drawImage(i, 0, 0, o / u, a / u)), r.clearRect(0, 0, o, a), e && "transparent" !== e) && (e.colorStops ? (n = e.__canvasGradient || dn.getGradient(r, e, {
                        x: 0,
                        y: 0,
                        width: o,
                        height: a
                    }), e.__canvasGradient = n) : e.image && (n = xn.prototype.getCanvasPattern.call(e, r)), r.save(), r.fillStyle = n || e, r.fillRect(0, 0, o, a), r.restore());
            if (s) {
                var h = this.domBack;
                r.save(),
                r.globalAlpha = l,
                r.drawImage(h, 0, 0, o, a),
                r.restore()
            }
        }
    };
    var Sn = "undefined" != typeof window && (window.requestAnimationFrame && window.requestAnimationFrame.bind(window) || window.msRequestAnimationFrame && window.msRequestAnimationFrame.bind(window) || window.mozRequestAnimationFrame || window.webkitRequestAnimationFrame) || function (t) {
        setTimeout(t, 16)
    },
    kn = new Kt(50);
    function Mn(t) {
        if ("string" == typeof t) {
            var e = kn.get(t);
            return e && e.image
        }
        return t
    }
    function In(t, e, n, i, r) {
        if (t) {
            if ("string" == typeof t) {
                if (e && e.__zrImageSrc === t || !n)
                    return e;
                var o = kn.get(t),
                a = {
                    hostEl: n,
                    cb: i,
                    cbPayload: r
                };
                return o ? !Tn(e = o.image) && o.pending.push(a) : ((e = new Image).onload = e.onerror = An, kn.put(t, e.__cachedImgObj = {
                            image: e,
                            pending: [a]
                        }), e.src = e.__zrImageSrc = t),
                e
            }
            return t
        }
        return e
    }
    function An() {
        var t = this.__cachedImgObj;
        this.onload = this.onerror = this.__cachedImgObj = null;
        for (var e = 0; e < t.pending.length; e++) {
            var n = t.pending[e],
            i = n.cb;
            i && i(this, n.cbPayload),
            n.hostEl.dirty()
        }
        t.pending.length = 0
    }
    function Tn(t) {
        return t && t.width && t.height
    }
    var Cn = {},
    zn = 0,
    En = 5e3,
    Ln = /\{([a-zA-Z0-9_]+)\|([^}]*)\}/g,
    Dn = "12px sans-serif",
    On = {};
    function Pn(t, e) {
        var n = t + ":" + (e = e || Dn);
        if (Cn[n])
            return Cn[n];
        for (var i = (t + "").split("\n"), r = 0, o = 0, a = i.length; o < a; o++)
            r = Math.max(Un(i[o], e).width, r);
        return zn > En && (zn = 0, Cn = {}),
        zn++,
        Cn[n] = r,
        r
    }
    function Fn(t, e, n, i, r, o, a, s) {
        return a ? function (t, e, n, i, r, o, a, s) {
            var l = Yn(t, {
                rich: a,
                truncate: s,
                font: e,
                textAlign: n,
                textPadding: r,
                textLineHeight: o
            }),
            u = l.outerWidth,
            h = l.outerHeight,
            c = Nn(0, u, n),
            f = Rn(0, h, i);
            return new Xe(c, f, u, h)
        }
        (t, e, n, i, r, o, a, s) : function (t, e, n, i, r, o, a) {
            var s = qn(t, e, r, o, a),
            l = Pn(t, e);
            r && (l += r[1] + r[3]);
            var u = s.outerHeight,
            h = Nn(0, l, n),
            c = Rn(0, u, i),
            f = new Xe(h, c, l, u);
            return f.lineHeight = s.lineHeight,
            f
        }
        (t, e, n, i, r, o, s)
    }
    function Nn(t, e, n) {
        return "right" === n ? t -= e : "center" === n && (t -= e / 2),
        t
    }
    function Rn(t, e, n) {
        return "middle" === n ? t -= e / 2 : "bottom" === n && (t -= e),
        t
    }
    function Bn(t, e, n, i, r) {
        if (!e)
            return "";
        var o = (t + "").split("\n");
        r = Wn(e, n, i, r);
        for (var a = 0, s = o.length; a < s; a++)
            o[a] = Gn(o[a], r);
        return o.join("\n")
    }
    function Wn(t, e, n, i) {
        (i = k({}, i)).font = e;
        n = q(n, "...");
        i.maxIterations = q(i.maxIterations, 2);
        var r = i.minChar = q(i.minChar, 0);
        i.cnCharWidth = Pn("国", e);
        var o = i.ascCharWidth = Pn("a", e);
        i.placeholder = q(i.placeholder, "");
        for (var a = t = Math.max(0, t - 1), s = 0; s < r && a >= o; s++)
            a -= o;
        var l = Pn(n, e);
        return l > a && (n = "", l = 0),
        a = t - l,
        i.ellipsis = n,
        i.ellipsisWidth = l,
        i.contentWidth = a,
        i.containerWidth = t,
        i
    }
    function Gn(t, e) {
        var n = e.containerWidth,
        i = e.font,
        r = e.contentWidth;
        if (!n)
            return "";
        var o = Pn(t, i);
        if (o <= n)
            return t;
        for (var a = 0; ; a++) {
            if (o <= r || a >= e.maxIterations) {
                t += e.ellipsis;
                break
            }
            var s = 0 === a ? Hn(t, r, e.ascCharWidth, e.cnCharWidth) : o > 0 ? Math.floor(t.length * r / o) : 0;
            o = Pn(t = t.substr(0, s), i)
        }
        return "" === t && (t = e.placeholder),
        t
    }
    function Hn(t, e, n, i) {
        for (var r = 0, o = 0, a = t.length; o < a && r < e; o++) {
            var s = t.charCodeAt(o);
            r += 0 <= s && s <= 127 ? n : i
        }
        return o
    }
    function jn(t) {
        return Pn("国", t)
    }
    function Un(t, e) {
        return On.measureText(t, e)
    }
    function qn(t, e, n, i, r) {
        null != t && (t += "");
        var o = q(i, jn(e)),
        a = t ? t.split("\n") : [],
        s = a.length * o,
        l = s;
        if (n && (l += n[0] + n[2]), t && r) {
            var u = r.outerHeight,
            h = r.outerWidth;
            if (null != u && l > u)
                t = "", a = [];
            else if (null != h)
                for (var c = Wn(h - (n ? n[1] + n[3] : 0), e, r.ellipsis, {
                        minChar: r.minChar,
                        placeholder: r.placeholder
                    }), f = 0, d = a.length; f < d; f++)
                    a[f] = Gn(a[f], c)
        }
        return {
            lines: a,
            height: s,
            outerHeight: l,
            lineHeight: o
        }
    }
    function Yn(t, e) {
        var n = {
            lines: [],
            width: 0,
            height: 0
        };
        if (null != t && (t += ""), !t)
            return n;
        for (var i, r = Ln.lastIndex = 0; null != (i = Ln.exec(t)); ) {
            var o = i.index;
            o > r && Vn(n, t.substring(r, o)),
            Vn(n, i[2], i[1]),
            r = Ln.lastIndex
        }
        r < t.length && Vn(n, t.substring(r, t.length));
        var a = n.lines,
        s = 0,
        l = 0,
        u = [],
        h = e.textPadding,
        c = e.truncate,
        f = c && c.outerWidth,
        d = c && c.outerHeight;
        h && (null != f && (f -= h[1] + h[3]), null != d && (d -= h[0] + h[2]));
        for (var p = 0; p < a.length; p++) {
            for (var g = a[p], v = 0, y = 0, m = 0; m < g.tokens.length; m++) {
                var x = (C = g.tokens[m]).styleName && e.rich[C.styleName] || {},
                _ = C.textPadding = x.textPadding,
                w = C.font = x.font || e.font,
                b = C.textHeight = q(x.textHeight, jn(w));
                if (_ && (b += _[0] + _[2]), C.height = b, C.lineHeight = Y(x.textLineHeight, e.textLineHeight, b), C.textAlign = x && x.textAlign || e.textAlign, C.textVerticalAlign = x && x.textVerticalAlign || "middle", null != d && s + C.lineHeight > d)
                    return {
                        lines: [],
                        width: 0,
                        height: 0
                    };
                C.textWidth = Pn(C.text, w);
                var S = x.textWidth,
                k = null == S || "auto" === S;
                if ("string" == typeof S && "%" === S.charAt(S.length - 1))
                    C.percentWidth = S, u.push(C), S = 0;
                else {
                    if (k) {
                        S = C.textWidth;
                        var M = x.textBackgroundColor,
                        I = M && M.image;
                        I && Tn(I = Mn(I)) && (S = Math.max(S, I.width * b / I.height))
                    }
                    var A = _ ? _[1] + _[3] : 0;
                    S += A;
                    var T = null != f ? f - y : null;
                    null != T && T < S && (!k || T < A ? (C.text = "", C.textWidth = S = 0) : (C.text = Bn(C.text, T - A, w, c.ellipsis, {
                                minChar: c.minChar
                            }), C.textWidth = Pn(C.text, w), S = C.textWidth + A))
                }
                y += C.width = S,
                x && (v = Math.max(v, C.lineHeight))
            }
            g.width = y,
            g.lineHeight = v,
            s += v,
            l = Math.max(l, y)
        }
        n.outerWidth = n.width = q(e.textWidth, l),
        n.outerHeight = n.height = q(e.textHeight, s),
        h && (n.outerWidth += h[1] + h[3], n.outerHeight += h[0] + h[2]);
        for (p = 0; p < u.length; p++) {
            var C,
            z = (C = u[p]).percentWidth;
            C.width = parseInt(z, 10) / 100 * l
        }
        return n
    }
    function Vn(t, e, n) {
        for (var i = "" === e, r = e.split("\n"), o = t.lines, a = 0; a < r.length; a++) {
            var s = r[a],
            l = {
                styleName: n,
                text: s,
                isLineHolder: !s && !i
            };
            if (a)
                o.push({
                    tokens: [l]
                });
            else {
                var u = (o[o.length - 1] || (o[0] = {
                            tokens: []
                        })).tokens,
                h = u.length;
                1 === h && u[0].isLineHolder ? u[0] = l : (s || !h || i) && u.push(l)
            }
        }
    }
    function $n(t, e) {
        var n,
        i,
        r,
        o,
        a,
        s = e.x,
        l = e.y,
        u = e.width,
        h = e.height,
        c = e.r;
        u < 0 && (s += u, u = -u),
        h < 0 && (l += h, h = -h),
        "number" == typeof c ? n = i = r = o = c : c instanceof Array ? 1 === c.length ? n = i = r = o = c[0] : 2 === c.length ? (n = r = c[0], i = o = c[1]) : 3 === c.length ? (n = c[0], i = o = c[1], r = c[2]) : (n = c[0], i = c[1], r = c[2], o = c[3]) : n = i = r = o = 0,
        n + i > u && (n *= u / (a = n + i), i *= u / a),
        r + o > u && (r *= u / (a = r + o), o *= u / a),
        i + r > h && (i *= h / (a = i + r), r *= h / a),
        n + o > h && (n *= h / (a = n + o), o *= h / a),
        t.moveTo(s + n, l),
        t.lineTo(s + u - i, l),
        0 !== i && t.arc(s + u - i, l + i, i, -Math.PI / 2, 0),
        t.lineTo(s + u, l + h - r),
        0 !== r && t.arc(s + u - r, l + h - r, r, 0, Math.PI / 2),
        t.lineTo(s + o, l + h),
        0 !== o && t.arc(s + o, l + h - o, o, Math.PI / 2, Math.PI),
        t.lineTo(s, l + n),
        0 !== n && t.arc(s + n, l + n, n, Math.PI, 1.5 * Math.PI)
    }
    On.measureText = function (t, e) {
        var n = T();
        return n.font = e || Dn,
        n.measureText(t)
    };
    var Xn = Dn,
    Zn = {
        left: 1,
        right: 1,
        center: 1
    },
    Kn = {
        top: 1,
        bottom: 1,
        middle: 1
    },
    Qn = [["textShadowBlur", "shadowBlur", 0], ["textShadowOffsetX", "shadowOffsetX", 0], ["textShadowOffsetY", "shadowOffsetY", 0], ["textShadowColor", "shadowColor", "transparent"]];
    function Jn(t) {
        return ti(t),
        D(t.rich, ti),
        t
    }
    function ti(t) {
        if (t) {
            t.font = function (t) {
                var e = (t.fontSize || t.fontFamily) && [t.fontStyle, t.fontWeight, (t.fontSize || 12) + "px", t.fontFamily || "sans-serif"].join(" ");
                return e && $(e) || t.textFont || t.font
            }
            (t);
            var e = t.textAlign;
            "middle" === e && (e = "center"),
            t.textAlign = null == e || Zn[e] ? e : "left";
            var n = t.textVerticalAlign || t.textBaseline;
            "center" === n && (n = "middle"),
            t.textVerticalAlign = null == n || Kn[n] ? n : "top",
            t.textPadding && (t.textPadding = V(t.textPadding))
        }
    }
    function ei(t, e, n, i, r, o) {
        i.rich ? function (t, e, n, i, r, o) {
            o !== cn && (e.__attrCachedBy = hn.NONE);
            var a = t.__textCotentBlock;
            a && !t.__dirtyText || (a = t.__textCotentBlock = Yn(n, i));
            !function (t, e, n, i, r) {
                var o = n.width,
                a = n.outerWidth,
                s = n.outerHeight,
                l = i.textPadding,
                u = si(s, i, r),
                h = u.baseX,
                c = u.baseY,
                f = u.textAlign,
                d = u.textVerticalAlign;
                ni(e, i, r, h, c);
                var p = Nn(h, a, f),
                g = Rn(c, s, d),
                v = p,
                y = g;
                l && (v += l[3], y += l[0]);
                var m = v + o;
                ri(i) && oi(t, e, i, p, g, a, s);
                for (var x = 0; x < n.lines.length; x++) {
                    for (var _, w = n.lines[x], b = w.tokens, S = b.length, k = w.lineHeight, M = w.width, I = 0, A = v, T = m, C = S - 1; I < S && (!(_ = b[I]).textAlign || "left" === _.textAlign); )
                        ii(t, e, _, i, k, y, A, "left"), M -= _.width, A += _.width, I++;
                    for (; C >= 0 && "right" === (_ = b[C]).textAlign; )
                        ii(t, e, _, i, k, y, T, "right"), M -= _.width, T -= _.width, C--;
                    for (A += (o - (A - v) - (m - T) - M) / 2; I <= C; )
                        _ = b[I], ii(t, e, _, i, k, y, A + _.width / 2, "center"), A += _.width, I++;
                    y += k
                }
            }
            (t, e, a, i, r)
        }
        (t, e, n, i, r, o) : function (t, e, n, i, r, o) {
            var a,
            s = ri(i),
            l = !1,
            u = e.__attrCachedBy === hn.PLAIN_TEXT;
            o !== cn ? (o && (a = o.style, l = !s && u && a), e.__attrCachedBy = s ? hn.NONE : hn.PLAIN_TEXT) : u && (e.__attrCachedBy = hn.NONE);
            var h = i.font || Xn;
            l && h === (a.font || Xn) || (e.font = h);
            var c = t.__computedFont;
            t.__styleFont !== h && (t.__styleFont = h, c = t.__computedFont = e.font);
            var f = i.textPadding,
            d = i.textLineHeight,
            p = t.__textCotentBlock;
            p && !t.__dirtyText || (p = t.__textCotentBlock = qn(n, c, f, d, i.truncate));
            var g = p.outerHeight,
            v = p.lines,
            y = p.lineHeight,
            m = si(g, i, r),
            x = m.baseX,
            _ = m.baseY,
            w = m.textAlign || "left",
            b = m.textVerticalAlign;
            ni(e, i, r, x, _);
            var S = Rn(_, g, b),
            k = x,
            M = S;
            if (s || f) {
                var I = Pn(n, c),
                A = I;
                f && (A += f[1] + f[3]);
                var T = Nn(x, A, w);
                s && oi(t, e, i, T, S, A, g),
                f && (k = fi(x, w, f), M += f[0])
            }
            e.textAlign = w,
            e.textBaseline = "middle",
            e.globalAlpha = i.opacity || 1;
            for (var C = 0; C < Qn.length; C++) {
                var z = Qn[C],
                E = z[0],
                L = z[1],
                D = i[E];
                l && D === a[E] || (e[L] = un(e, L, D || z[2]))
            }
            M += y / 2;
            var O = i.textStrokeWidth,
            P = l ? a.textStrokeWidth : null,
            F = !l || O !== P,
            N = !l || F || i.textStroke !== a.textStroke,
            R = ui(i.textStroke, O),
            B = hi(i.textFill);
            R && (F && (e.lineWidth = O), N && (e.strokeStyle = R));
            B && (l && i.textFill === a.textFill || (e.fillStyle = B));
            if (1 === v.length)
                R && e.strokeText(v[0], k, M), B && e.fillText(v[0], k, M);
            else
                for (var C = 0; C < v.length; C++)
                    R && e.strokeText(v[C], k, M), B && e.fillText(v[C], k, M), M += y
        }
        (t, e, n, i, r, o)
    }
    function ni(t, e, n, i, r) {
        if (n && e.textRotation) {
            var o = e.textOrigin;
            "center" === o ? (i = n.width / 2 + n.x, r = n.height / 2 + n.y) : o && (i = o[0] + n.x, r = o[1] + n.y),
            t.translate(i, r),
            t.rotate(-e.textRotation),
            t.translate(-i, -r)
        }
    }
    function ii(t, e, n, i, r, o, a, s) {
        var l = i.rich[n.styleName] || {};
        l.text = n.text;
        var u = n.textVerticalAlign,
        h = o + r / 2;
        "top" === u ? h = o + n.height / 2 : "bottom" === u && (h = o + r - n.height / 2),
        !n.isLineHolder && ri(l) && oi(t, e, l, "right" === s ? a - n.width : "center" === s ? a - n.width / 2 : a, h - n.height / 2, n.width, n.height);
        var c = n.textPadding;
        c && (a = fi(a, s, c), h -= n.height / 2 - c[2] - n.textHeight / 2),
        li(e, "shadowBlur", Y(l.textShadowBlur, i.textShadowBlur, 0)),
        li(e, "shadowColor", l.textShadowColor || i.textShadowColor || "transparent"),
        li(e, "shadowOffsetX", Y(l.textShadowOffsetX, i.textShadowOffsetX, 0)),
        li(e, "shadowOffsetY", Y(l.textShadowOffsetY, i.textShadowOffsetY, 0)),
        li(e, "textAlign", s),
        li(e, "textBaseline", "middle"),
        li(e, "font", n.font || Xn);
        var f = ui(l.textStroke || i.textStroke, p),
        d = hi(l.textFill || i.textFill),
        p = q(l.textStrokeWidth, i.textStrokeWidth);
        f && (li(e, "lineWidth", p), li(e, "strokeStyle", f), e.strokeText(n.text, a, h)),
        d && (li(e, "fillStyle", d), e.fillText(n.text, a, h))
    }
    function ri(t) {
        return !!(t.textBackgroundColor || t.textBorderWidth && t.textBorderColor)
    }
    function oi(t, e, n, i, r, o, a) {
        var s = n.textBackgroundColor,
        l = n.textBorderWidth,
        u = n.textBorderColor,
        h = G(s);
        if (li(e, "shadowBlur", n.textBoxShadowBlur || 0), li(e, "shadowColor", n.textBoxShadowColor || "transparent"), li(e, "shadowOffsetX", n.textBoxShadowOffsetX || 0), li(e, "shadowOffsetY", n.textBoxShadowOffsetY || 0), h || l && u) {
            e.beginPath();
            var c = n.textBorderRadius;
            c ? $n(e, {
                x: i,
                y: r,
                width: o,
                height: a,
                r: c
            }) : e.rect(i, r, o, a),
            e.closePath()
        }
        if (h)
            if (li(e, "fillStyle", s), null != n.fillOpacity) {
                var f = e.globalAlpha;
                e.globalAlpha = n.fillOpacity * n.opacity,
                e.fill(),
                e.globalAlpha = f
            } else
                e.fill();
        else if (H(s)) {
            var d = s.image;
            (d = In(d, null, t, ai, s)) && Tn(d) && e.drawImage(d, i, r, o, a)
        }
        if (l && u)
            if (li(e, "lineWidth", l), li(e, "strokeStyle", u), null != n.strokeOpacity) {
                f = e.globalAlpha;
                e.globalAlpha = n.strokeOpacity * n.opacity,
                e.stroke(),
                e.globalAlpha = f
            } else
                e.stroke()
    }
    function ai(t, e) {
        e.image = t
    }
    function si(t, e, n) {
        var i = e.x || 0,
        r = e.y || 0,
        o = e.textAlign,
        a = e.textVerticalAlign;
        if (n) {
            var s = e.textPosition;
            if (s instanceof Array)
                i = n.x + ci(s[0], n.width), r = n.y + ci(s[1], n.height);
            else {
                var l = function (t, e, n) {
                    var i = e.x,
                    r = e.y,
                    o = e.height,
                    a = e.width,
                    s = o / 2,
                    l = "left",
                    u = "top";
                    switch (t) {
                    case "left":
                        i -= n,
                        r += s,
                        l = "right",
                        u = "middle";
                        break;
                    case "right":
                        i += n + a,
                        r += s,
                        u = "middle";
                        break;
                    case "top":
                        i += a / 2,
                        r -= n,
                        l = "center",
                        u = "bottom";
                        break;
                    case "bottom":
                        i += a / 2,
                        r += o + n,
                        l = "center";
                        break;
                    case "inside":
                        i += a / 2,
                        r += s,
                        l = "center",
                        u = "middle";
                        break;
                    case "insideLeft":
                        i += n,
                        r += s,
                        u = "middle";
                        break;
                    case "insideRight":
                        i += a - n,
                        r += s,
                        l = "right",
                        u = "middle";
                        break;
                    case "insideTop":
                        i += a / 2,
                        r += n,
                        l = "center";
                        break;
                    case "insideBottom":
                        i += a / 2,
                        r += o - n,
                        l = "center",
                        u = "bottom";
                        break;
                    case "insideTopLeft":
                        i += n,
                        r += n;
                        break;
                    case "insideTopRight":
                        i += a - n,
                        r += n,
                        l = "right";
                        break;
                    case "insideBottomLeft":
                        i += n,
                        r += o - n,
                        u = "bottom";
                        break;
                    case "insideBottomRight":
                        i += a - n,
                        r += o - n,
                        l = "right",
                        u = "bottom"
                    }
                    return {
                        x: i,
                        y: r,
                        textAlign: l,
                        textVerticalAlign: u
                    }
                }
                (s, n, e.textDistance);
                i = l.x,
                r = l.y,
                o = o || l.textAlign,
                a = a || l.textVerticalAlign
            }
            var u = e.textOffset;
            u && (i += u[0], r += u[1])
        }
        return {
            baseX: i,
            baseY: r,
            textAlign: o,
            textVerticalAlign: a
        }
    }
    function li(t, e, n) {
        return t[e] = un(t, e, n),
        t[e]
    }
    function ui(t, e) {
        return null == t || e <= 0 || "transparent" === t || "none" === t ? null : t.image || t.colorStops ? "#000" : t
    }
    function hi(t) {
        return null == t || "none" === t ? null : t.image || t.colorStops ? "#000" : t
    }
    function ci(t, e) {
        return "string" == typeof t ? t.lastIndexOf("%") >= 0 ? parseFloat(t) / 100 * e : parseFloat(t) : t
    }
    function fi(t, e, n) {
        return "right" === e ? t - n[1] : "center" === e ? t + n[3] / 2 - n[1] / 2 : t + n[3]
    }
    function di(t, e) {
        return null != t && (t || e.textBackgroundColor || e.textBorderWidth && e.textBorderColor || e.textPadding)
    }
    var pi = new Xe,
    gi = function () {};
    function vi(t) {
        for (var e in t = t || {}, Ge.call(this, t), t)
            t.hasOwnProperty(e) && "style" !== e && (this[e] = t[e]);
        this.style = new dn(t.style, this),
        this._rect = null,
        this.__clipPaths = []
    }
    function yi(t) {
        vi.call(this, t)
    }
    gi.prototype = {
        constructor: gi,
        drawRectText: function (t, e) {
            var n = this.style;
            e = n.textRect || e,
            this.__dirty && Jn(n);
            var i = n.text;
            if (null != i && (i += ""), di(i, n)) {
                t.save();
                var r = this.transform;
                n.transformText ? this.setTransform(t) : r && (pi.copy(e), pi.applyTransform(r), e = pi),
                ei(this, t, i, n, e, cn),
                t.restore()
            }
        }
    },
    vi.prototype = {
        constructor: vi,
        type: "displayable",
        __dirty: !0,
        invisible: !1,
        z: 0,
        z2: 0,
        zlevel: 0,
        draggable: !1,
        dragging: !1,
        silent: !1,
        culling: !1,
        cursor: "pointer",
        rectHover: !1,
        progressive: !1,
        incremental: !1,
        globalScaleRatio: 1,
        beforeBrush: function (t) {},
        afterBrush: function (t) {},
        brush: function (t, e) {},
        getBoundingRect: function () {},
        contain: function (t, e) {
            return this.rectContain(t, e)
        },
        traverse: function (t, e) {
            t.call(e, this)
        },
        rectContain: function (t, e) {
            var n = this.transformCoordToLocal(t, e);
            return this.getBoundingRect().contain(n[0], n[1])
        },
        dirty: function () {
            this.__dirty = this.__dirtyText = !0,
            this._rect = null,
            this.__zr && this.__zr.refresh()
        },
        animateStyle: function (t) {
            return this.animate("style", t)
        },
        attrKV: function (t, e) {
            "style" !== t ? Ge.prototype.attrKV.call(this, t, e) : this.style.set(e)
        },
        setStyle: function (t, e) {
            return this.style.set(t, e),
            this.dirty(!1),
            this
        },
        useStyle: function (t) {
            return this.style = new dn(t, this),
            this.dirty(!1),
            this
        }
    },
    z(vi, Ge),
    E(vi, gi),
    yi.prototype = {
        constructor: yi,
        type: "image",
        brush: function (t, e) {
            var n = this.style,
            i = n.image;
            n.bind(t, this, e);
            var r = this._image = In(i, this._image, this, this.onload);
            if (r && Tn(r)) {
                var o = n.x || 0,
                a = n.y || 0,
                s = n.width,
                l = n.height,
                u = r.width / r.height;
                if (null == s && null != l ? s = l * u : null == l && null != s ? l = s / u : null == s && null == l && (s = r.width, l = r.height), this.setTransform(t), n.sWidth && n.sHeight) {
                    var h = n.sx || 0,
                    c = n.sy || 0;
                    t.drawImage(r, h, c, n.sWidth, n.sHeight, o, a, s, l)
                } else if (n.sx && n.sy) {
                    var f = s - (h = n.sx),
                    d = l - (c = n.sy);
                    t.drawImage(r, h, c, f, d, o, a, s, l)
                } else
                    t.drawImage(r, o, a, s, l);
                null != n.text && (this.restoreTransform(t), this.drawRectText(t, this.getBoundingRect()))
            }
        },
        getBoundingRect: function () {
            var t = this.style;
            return this._rect || (this._rect = new Xe(t.x || 0, t.y || 0, t.width || 0, t.height || 0)),
            this._rect
        }
    },
    z(yi, vi);
    function mi(t) {
        return parseInt(t, 10)
    }
    var xi = new Xe(0, 0, 0, 0),
    _i = new Xe(0, 0, 0, 0);
    var wi = function (t, e, n) {
        this.type = "canvas";
        var i = !t.nodeName || "CANVAS" === t.nodeName.toUpperCase();
        this._opts = n = k({}, n || {}),
        this.dpr = n.devicePixelRatio || Pe,
        this._singleCanvas = i,
        this.root = t;
        var r = t.style;
        r && (r["-webkit-tap-highlight-color"] = "transparent", r["-webkit-user-select"] = r["user-select"] = r["-webkit-touch-callout"] = "none", t.innerHTML = ""),
        this.storage = e;
        var o = this._zlevelList = [],
        a = this._layers = {};
        if (this._layerConfig = {}, this._needsManuallyCompositing = !1, i) {
            var s = t.width,
            l = t.height;
            null != n.width && (s = n.width),
            null != n.height && (l = n.height),
            this.dpr = n.devicePixelRatio || 1,
            t.width = s * this.dpr,
            t.height = l * this.dpr,
            this._width = s,
            this._height = l;
            var u = new bn(t, this, this.dpr);
            u.__builtin__ = !0,
            u.initContext(),
            a[314159] = u,
            u.zlevel = 314159,
            o.push(314159),
            this._domRoot = t
        } else {
            this._width = this._getSize(0),
            this._height = this._getSize(1);
            var h = this._domRoot = function (t, e) {
                var n = document.createElement("div");
                return n.style.cssText = ["position:relative", "overflow:hidden", "width:" + t + "px", "height:" + e + "px", "padding:0", "margin:0", "border-width:0"].join(";") + ";",
                n
            }
            (this._width, this._height);
            t.appendChild(h)
        }
        this._hoverlayer = null,
        this._hoverElements = []
    };
    wi.prototype = {
        constructor: wi,
        getType: function () {
            return "canvas"
        },
        isSingleCanvas: function () {
            return this._singleCanvas
        },
        getViewportRoot: function () {
            return this._domRoot
        },
        getViewportRootOffset: function () {
            var t = this.getViewportRoot();
            if (t)
                return {
                    offsetLeft: t.offsetLeft || 0,
                    offsetTop: t.offsetTop || 0
                }
        },
        refresh: function (t) {
            var e = this.storage.getDisplayList(!0),
            n = this._zlevelList;
            this._redrawId = Math.random(),
            this._paintList(e, t, this._redrawId);
            for (var i = 0; i < n.length; i++) {
                var r = n[i],
                o = this._layers[r];
                if (!o.__builtin__ && o.refresh) {
                    var a = 0 === i ? this._backgroundColor : null;
                    o.refresh(a)
                }
            }
            return this.refreshHover(),
            this
        },
        addHover: function (t, e) {
            if (!t.__hoverMir) {
                var n = new t.constructor({
                    style: t.style,
                    shape: t.shape,
                    z: t.z,
                    z2: t.z2,
                    silent: t.silent
                });
                return n.__from = t,
                t.__hoverMir = n,
                e && n.setStyle(e),
                this._hoverElements.push(n),
                n
            }
        },
        removeHover: function (t) {
            var e = t.__hoverMir,
            n = this._hoverElements,
            i = C(n, e);
            i >= 0 && n.splice(i, 1),
            t.__hoverMir = null
        },
        clearHover: function (t) {
            for (var e = this._hoverElements, n = 0; n < e.length; n++) {
                var i = e[n].__from;
                i && (i.__hoverMir = null)
            }
            e.length = 0
        },
        refreshHover: function () {
            var t = this._hoverElements,
            e = t.length,
            n = this._hoverlayer;
            if (n && n.clear(), e) {
                on(t, this.storage.displayableSortFunc),
                n || (n = this._hoverlayer = this.getLayer(1e5));
                var i = {};
                n.ctx.save();
                for (var r = 0; r < e; ) {
                    var o = t[r],
                    a = o.__from;
                    a && a.__zr ? (r++, a.invisible || (o.transform = a.transform, o.invTransform = a.invTransform, o.__clipPaths = a.__clipPaths, this._doPaintEl(o, n, !0, i))) : (t.splice(r, 1), a.__hoverMir = null, e--)
                }
                n.ctx.restore()
            }
        },
        getHoverLayer: function () {
            return this.getLayer(1e5)
        },
        _paintList: function (t, e, n) {
            if (this._redrawId === n) {
                e = e || !1,
                this._updateLayerStatus(t);
                var i = this._doPaintList(t, e);
                if (this._needsManuallyCompositing && this._compositeManually(), !i) {
                    var r = this;
                    Sn(function () {
                        r._paintList(t, e, n)
                    })
                }
            }
        },
        _compositeManually: function () {
            var t = this.getLayer(314159).ctx,
            e = this._domRoot.width,
            n = this._domRoot.height;
            t.clearRect(0, 0, e, n),
            this.eachBuiltinLayer(function (i) {
                i.virtual && t.drawImage(i.dom, 0, 0, e, n)
            })
        },
        _doPaintList: function (t, e) {
            for (var n = [], i = 0; i < this._zlevelList.length; i++) {
                var r = this._zlevelList[i];
                (s = this._layers[r]).__builtin__ && s !== this._hoverlayer && (s.__dirty || e) && n.push(s)
            }
            for (var o = !0, a = 0; a < n.length; a++) {
                var s,
                l = (s = n[a]).ctx,
                u = {};
                l.save();
                var c = e ? s.__startIndex : s.__drawIndex,
                f = !e && s.incremental && Date.now,
                d = f && Date.now(),
                p = s.zlevel === this._zlevelList[0] ? this._backgroundColor : null;
                if (s.__startIndex === s.__endIndex)
                    s.clear(!1, p);
                else if (c === s.__startIndex) {
                    var g = t[c];
                    g.incremental && g.notClear && !e || s.clear(!1, p)
                }
                -1 === c && (c = s.__startIndex);
                for (var v = c; v < s.__endIndex; v++) {
                    var y = t[v];
                    if (this._doPaintEl(y, s, e, u), y.__dirty = y.__dirtyText = !1, f)
                        if (Date.now() - d > 15)
                            break
                }
                s.__drawIndex = v,
                s.__drawIndex < s.__endIndex && (o = !1),
                u.prevElClipPaths && l.restore(),
                l.restore()
            }
            return h.wxa && D(this._layers, function (t) {
                t && t.ctx && t.ctx.draw && t.ctx.draw()
            }),
            o
        },
        _doPaintEl: function (t, e, n, i) {
            var r = e.ctx,
            o = t.transform;
            if ((e.__dirty || n) && !t.invisible && 0 !== t.style.opacity && (!o || o[0] || o[3]) && (!t.culling || !function (t, e, n) {
                    return xi.copy(t.getBoundingRect()),
                    t.transform && xi.applyTransform(t.transform),
                    _i.width = e,
                    _i.height = n,
                    !xi.intersect(_i)
                }
                    (t, this._width, this._height))) {
                var a = t.__clipPaths;
                i.prevElClipPaths && !function (t, e) {
                    if (t === e)
                        return !1;
                    if (!t || !e || t.length !== e.length)
                        return !0;
                    for (var n = 0; n < t.length; n++)
                        if (t[n] !== e[n])
                            return !0
                }
                (a, i.prevElClipPaths) || (i.prevElClipPaths && (e.ctx.restore(), i.prevElClipPaths = null, i.prevEl = null), a && (r.save(), function (t, e) {
                        for (var n = 0; n < t.length; n++) {
                            var i = t[n];
                            i.setTransform(e),
                            e.beginPath(),
                            i.buildPath(e, i.shape),
                            e.clip(),
                            i.restoreTransform(e)
                        }
                    }
                        (a, r), i.prevElClipPaths = a)),
                t.beforeBrush && t.beforeBrush(r),
                t.brush(r, i.prevEl || null),
                i.prevEl = t,
                t.afterBrush && t.afterBrush(r)
            }
        },
        getLayer: function (t, e) {
            this._singleCanvas && !this._needsManuallyCompositing && (t = 314159);
            var n = this._layers[t];
            return n || ((n = new bn("zr_" + t, this, this.dpr)).zlevel = t, n.__builtin__ = !0, this._layerConfig[t] && S(n, this._layerConfig[t], !0), e && (n.virtual = e), this.insertLayer(t, n), n.initContext()),
            n
        },
        insertLayer: function (t, e) {
            var n = this._layers,
            i = this._zlevelList,
            r = i.length,
            o = null,
            a = -1,
            s = this._domRoot;
            if (n[t])
                Ne("ZLevel " + t + " has been used already");
            else if (function (t) {
                return !!t && (!!t.__builtin__ || "function" == typeof t.resize && "function" == typeof t.refresh)
            }
                (e)) {
                if (r > 0 && t > i[0]) {
                    for (a = 0; a < r - 1 && !(i[a] < t && i[a + 1] > t); a++);
                    o = n[i[a]]
                }
                if (i.splice(a + 1, 0, t), n[t] = e, !e.virtual)
                    if (o) {
                        var l = o.dom;
                        l.nextSibling ? s.insertBefore(e.dom, l.nextSibling) : s.appendChild(e.dom)
                    } else
                        s.firstChild ? s.insertBefore(e.dom, s.firstChild) : s.appendChild(e.dom)
            } else
                Ne("Layer of zlevel " + t + " is not valid")
        },
        eachLayer: function (t, e) {
            var n,
            i,
            r = this._zlevelList;
            for (i = 0; i < r.length; i++)
                n = r[i], t.call(e, this._layers[n], n)
        },
        eachBuiltinLayer: function (t, e) {
            var n,
            i,
            r,
            o = this._zlevelList;
            for (r = 0; r < o.length; r++)
                i = o[r], (n = this._layers[i]).__builtin__ && t.call(e, n, i)
        },
        eachOtherLayer: function (t, e) {
            var n,
            i,
            r,
            o = this._zlevelList;
            for (r = 0; r < o.length; r++)
                i = o[r], (n = this._layers[i]).__builtin__ || t.call(e, n, i)
        },
        getLayers: function () {
            return this._layers
        },
        _updateLayerStatus: function (t) {
            function e(t) {
                i && (i.__endIndex !== t && (i.__dirty = !0), i.__endIndex = t)
            }
            if (this.eachBuiltinLayer(function (t, e) {
                    t.__dirty = t.__used = !1
                }), this._singleCanvas)
                for (var n = 1; n < t.length; n++) {
                    if ((o = t[n]).zlevel !== t[n - 1].zlevel || o.incremental) {
                        this._needsManuallyCompositing = !0;
                        break
                    }
                }
            var i = null,
            r = 0;
            for (n = 0; n < t.length; n++) {
                var o,
                a,
                s = (o = t[n]).zlevel;
                o.incremental ? ((a = this.getLayer(s + .001, this._needsManuallyCompositing)).incremental = !0, r = 1) : a = this.getLayer(s + (r > 0 ? .01 : 0), this._needsManuallyCompositing),
                a.__builtin__ || Ne("ZLevel " + s + " has been used by unkown layer " + a.id),
                a !== i && (a.__used = !0, a.__startIndex !== n && (a.__dirty = !0), a.__startIndex = n, a.incremental ? a.__drawIndex = -1 : a.__drawIndex = n, e(n), i = a),
                o.__dirty && (a.__dirty = !0, a.incremental && a.__drawIndex < 0 && (a.__drawIndex = n))
            }
            e(n),
            this.eachBuiltinLayer(function (t, e) {
                !t.__used && t.getElementCount() > 0 && (t.__dirty = !0, t.__startIndex = t.__endIndex = t.__drawIndex = 0),
                t.__dirty && t.__drawIndex < 0 && (t.__drawIndex = t.__startIndex)
            })
        },
        clear: function () {
            return this.eachBuiltinLayer(this._clearLayer),
            this
        },
        _clearLayer: function (t) {
            t.clear()
        },
        setBackgroundColor: function (t) {
            this._backgroundColor = t
        },
        configLayer: function (t, e) {
            if (e) {
                var n = this._layerConfig;
                n[t] ? S(n[t], e, !0) : n[t] = e;
                for (var i = 0; i < this._zlevelList.length; i++) {
                    var r = this._zlevelList[i];
                    if (r === t || r === t + .01)
                        S(this._layers[r], n[t], !0)
                }
            }
        },
        delLayer: function (t) {
            var e = this._layers,
            n = this._zlevelList,
            i = e[t];
            i && (i.dom.parentNode.removeChild(i.dom), delete e[t], n.splice(C(n, t), 1))
        },
        resize: function (t, e) {
            if (this._domRoot.style) {
                var n = this._domRoot;
                n.style.display = "none";
                var i = this._opts;
                if (null != t && (i.width = t), null != e && (i.height = e), t = this._getSize(0), e = this._getSize(1), n.style.display = "", this._width !== t || e !== this._height) {
                    for (var r in n.style.width = t + "px", n.style.height = e + "px", this._layers)
                        this._layers.hasOwnProperty(r) && this._layers[r].resize(t, e);
                    D(this._progressiveLayers, function (n) {
                        n.resize(t, e)
                    }),
                    this.refresh(!0)
                }
                this._width = t,
                this._height = e
            } else {
                if (null == t || null == e)
                    return;
                this._width = t,
                this._height = e,
                this.getLayer(314159).resize(t, e)
            }
            return this
        },
        clearLayer: function (t) {
            var e = this._layers[t];
            e && e.clear()
        },
        dispose: function () {
            this.root.innerHTML = "",
            this.root = this.storage = this._domRoot = this._layers = null
        },
        getRenderedCanvas: function (t) {
            if (t = t || {}, this._singleCanvas && !this._compositeManually)
                return this._layers[314159].dom;
            var e = new bn("image", this, t.pixelRatio || this.dpr);
            if (e.initContext(), e.clear(!1, t.backgroundColor || this._backgroundColor), t.pixelRatio <= this.dpr) {
                this.refresh();
                var n = e.dom.width,
                i = e.dom.height,
                r = e.ctx;
                this.eachLayer(function (t) {
                    t.__builtin__ ? r.drawImage(t.dom, 0, 0, n, i) : t.renderToCanvas && (e.ctx.save(), t.renderToCanvas(e.ctx), e.ctx.restore())
                })
            } else
                for (var o = {}, a = this.storage.getDisplayList(!0), s = 0; s < a.length; s++) {
                    var l = a[s];
                    this._doPaintEl(l, e, !0, o)
                }
            return e.dom
        },
        getWidth: function () {
            return this._width
        },
        getHeight: function () {
            return this._height
        },
        _getSize: function (t) {
            var e = this._opts,
            n = ["width", "height"][t],
            i = ["clientWidth", "clientHeight"][t],
            r = ["paddingLeft", "paddingTop"][t],
            o = ["paddingRight", "paddingBottom"][t];
            if (null != e[n] && "auto" !== e[n])
                return parseFloat(e[n]);
            var a = this.root,
            s = document.defaultView.getComputedStyle(a);
            return (a[i] || mi(s[n]) || mi(a.style[n])) - (mi(s[r]) || 0) - (mi(s[o]) || 0) | 0
        },
        pathToImage: function (t, e) {
            e = e || this.dpr;
            var n = document.createElement("canvas"),
            i = n.getContext("2d"),
            r = t.getBoundingRect(),
            o = t.style,
            a = o.shadowBlur * e,
            s = o.shadowOffsetX * e,
            l = o.shadowOffsetY * e,
            u = o.hasStroke() ? o.lineWidth : 0,
            h = Math.max(u / 2, -s + a),
            c = Math.max(u / 2, s + a),
            f = Math.max(u / 2, -l + a),
            d = Math.max(u / 2, l + a),
            p = r.width + h + c,
            g = r.height + f + d;
            n.width = p * e,
            n.height = g * e,
            i.scale(e, e),
            i.clearRect(0, 0, p, g),
            i.dpr = e;
            var v = {
                position: t.position,
                rotation: t.rotation,
                scale: t.scale
            };
            t.position = [h - r.x, f - r.y],
            t.rotation = 0,
            t.scale = [1, 1],
            t.updateTransform(),
            t && t.brush(i);
            var y = new yi({
                style: {
                    x: 0,
                    y: 0,
                    image: n
                }
            });
            return null != v.position && (y.position = t.position = v.position),
            null != v.rotation && (y.rotation = t.rotation = v.rotation),
            null != v.scale && (y.scale = t.scale = v.scale),
            y
        }
    };
    var bi = function (t) {
        t = t || {},
        this.stage = t.stage || {},
        this.onframe = t.onframe || function () {},
        this._clips = [],
        this._running = !1,
        this._time,
        this._pausedTime,
        this._pauseStart,
        this._paused = !1,
        pt.call(this)
    };
    bi.prototype = {
        constructor: bi,
        addClip: function (t) {
            this._clips.push(t)
        },
        addAnimator: function (t) {
            t.animation = this;
            for (var e = t.getClips(), n = 0; n < e.length; n++)
                this.addClip(e[n])
        },
        removeClip: function (t) {
            var e = C(this._clips, t);
            e >= 0 && this._clips.splice(e, 1)
        },
        removeAnimator: function (t) {
            for (var e = t.getClips(), n = 0; n < e.length; n++)
                this.removeClip(e[n]);
            t.animation = null
        },
        _update: function () {
            for (var t = (new Date).getTime() - this._pausedTime, e = t - this._time, n = this._clips, i = n.length, r = [], o = [], a = 0; a < i; a++) {
                var s = n[a],
                l = s.step(t, e);
                l && (r.push(l), o.push(s))
            }
            for (a = 0; a < i; )
                n[a]._needsRemove ? (n[a] = n[i - 1], n.pop(), i--) : a++;
            i = r.length;
            for (a = 0; a < i; a++)
                o[a].fire(r[a]);
            this._time = t,
            this.onframe(e),
            this.trigger("frame", e),
            this.stage.update && this.stage.update()
        },
        _startLoop: function () {
            var t = this;
            this._running = !0,
            Sn(function e() {
                t._running && (Sn(e), !t._paused && t._update())
            })
        },
        start: function () {
            this._time = (new Date).getTime(),
            this._pausedTime = 0,
            this._startLoop()
        },
        stop: function () {
            this._running = !1
        },
        pause: function () {
            this._paused || (this._pauseStart = (new Date).getTime(), this._paused = !0)
        },
        resume: function () {
            this._paused && (this._pausedTime += (new Date).getTime() - this._pauseStart, this._paused = !1)
        },
        clear: function () {
            this._clips = []
        },
        isFinished: function () {
            return !this._clips.length
        },
        animate: function (t, e) {
            var n = new De(t, (e = e || {}).loop, e.getter, e.setter);
            return this.addAnimator(n),
            n
        }
    },
    E(bi, pt);
    var Si = ["click", "dblclick", "mousewheel", "mouseout", "mouseup", "mousedown", "mousemove", "contextmenu"],
    ki = ["touchstart", "touchend", "touchmove"],
    Mi = {
        pointerdown: 1,
        pointerup: 1,
        pointermove: 1,
        pointerout: 1
    },
    Ii = O(Si, function (t) {
        var e = t.replace("mouse", "pointer");
        return Mi[e] ? e : t
    });
    function Ai(t) {
        return "mousewheel" === t && h.browser.firefox ? "DOMMouseScroll" : t
    }
    function Ti(t) {
        t._touching = !0,
        clearTimeout(t._touchTimer),
        t._touchTimer = setTimeout(function () {
            t._touching = !1
        }, 700)
    }
    var Ci = {
        mousemove: function (t) {
            t = _t(this.dom, t),
            this.trigger("mousemove", t)
        },
        mouseout: function (t) {
            var e = (t = _t(this.dom, t)).toElement || t.relatedTarget;
            if (e !== this.dom)
                for (; e && 9 !== e.nodeType; ) {
                    if (e === this.dom)
                        return;
                    e = e.parentNode
                }
            this.trigger("mouseout", t)
        },
        touchstart: function (t) {
            (t = _t(this.dom, t)).zrByTouch = !0,
            this._lastTouchMoment = new Date,
            this.handler.processGesture(this, t, "start"),
            Ci.mousemove.call(this, t),
            Ci.mousedown.call(this, t),
            Ti(this)
        },
        touchmove: function (t) {
            (t = _t(this.dom, t)).zrByTouch = !0,
            this.handler.processGesture(this, t, "change"),
            Ci.mousemove.call(this, t),
            Ti(this)
        },
        touchend: function (t) {
            (t = _t(this.dom, t)).zrByTouch = !0,
            this.handler.processGesture(this, t, "end"),
            Ci.mouseup.call(this, t),
            +new Date - this._lastTouchMoment < 300 && Ci.click.call(this, t),
            Ti(this)
        },
        pointerdown: function (t) {
            Ci.mousedown.call(this, t)
        },
        pointermove: function (t) {
            zi(t) || Ci.mousemove.call(this, t)
        },
        pointerup: function (t) {
            Ci.mouseup.call(this, t)
        },
        pointerout: function (t) {
            zi(t) || Ci.mouseout.call(this, t)
        }
    };
    function zi(t) {
        var e = t.pointerType;
        return "pen" === e || "touch" === e
    }
    function Ei(t) {
        var e;
        function n(e, n) {
            D(e, function (e) {
                !function (t, e, n) {
                    vt ? t.addEventListener(e, n) : t.attachEvent("on" + e, n)
                }
                (t, Ai(e), n._handlers[e])
            }, n)
        }
        pt.call(this),
        this.dom = t,
        this._touching = !1,
        this._touchTimer,
        this._handlers = {},
        e = this,
        D(ki, function (t) {
            e._handlers[t] = N(Ci[t], e)
        }),
        D(Ii, function (t) {
            e._handlers[t] = N(Ci[t], e)
        }),
        D(Si, function (t) {
            e._handlers[t] = function (t, e) {
                return function () {
                    if (!e._touching)
                        return t.apply(e, arguments)
                }
            }
            (Ci[t], e)
        }),
        h.pointerEventsSupported ? n(Ii, this) : (h.touchEventsSupported && n(ki, this), n(Si, this))
    }
    D(["click", "mousedown", "mouseup", "mousewheel", "dblclick", "contextmenu"], function (t) {
        Ci[t] = function (e) {
            e = _t(this.dom, e),
            this.trigger(t, e)
        }
    });
    var Li = Ei.prototype;
    Li.dispose = function () {
        for (var t = Si.concat(ki), e = 0; e < t.length; e++) {
            var n = t[e];
            wt(this.dom, Ai(n), this._handlers[n])
        }
    },
    Li.setCursor = function (t) {
        this.dom.style && (this.dom.style.cursor = t || "default")
    },
    E(Ei, pt);
    var Di = !h.canvasSupported,
    Oi = {
        canvas: wi
    },
    Pi = {};
    function Fi(t, e) {
        var i = new Ni(n(), t, e);
        return Pi[i.id] = i,
        i
    }
    var Ni = function (t, e, n) {
        n = n || {},
        this.dom = e,
        this.id = t;
        var i = this,
        r = new sn,
        o = n.renderer;
        if (Di) {
            if (!Oi.vml)
                throw new Error("You need to require 'zrender/vml/vml' to support IE8");
            o = "vml"
        } else
            o && Oi[o] || (o = "canvas");
        var a = new Oi[o](e, r, n, t);
        this.storage = r,
        this.painter = a;
        var s = h.node || h.worker ? null : new Ei(a.getViewportRoot());
        this.handler = new zt(r, a, s, a.root),
        this.animation = new bi({
            stage: {
                update: N(this.flush, this)
            }
        }),
        this.animation.start(),
        this._needsRefresh;
        var l = r.delFromStorage,
        u = r.addToStorage;
        r.delFromStorage = function (t) {
            l.call(r, t),
            t && t.removeSelfFromZr(i)
        },
        r.addToStorage = function (t) {
            u.call(r, t),
            t.addSelfToZr(i)
        }
    };
    Ni.prototype = {
        constructor: Ni,
        getId: function () {
            return this.id
        },
        add: function (t) {
            this.storage.addRoot(t),
            this._needsRefresh = !0
        },
        remove: function (t) {
            this.storage.delRoot(t),
            this._needsRefresh = !0
        },
        configLayer: function (t, e) {
            this.painter.configLayer && this.painter.configLayer(t, e),
            this._needsRefresh = !0
        },
        setBackgroundColor: function (t) {
            this.painter.setBackgroundColor && this.painter.setBackgroundColor(t),
            this._needsRefresh = !0
        },
        refreshImmediately: function () {
            this._needsRefresh = !1,
            this.painter.refresh(),
            this._needsRefresh = !1
        },
        refresh: function () {
            this._needsRefresh = !0
        },
        flush: function () {
            var t;
            this._needsRefresh && (t = !0, this.refreshImmediately()),
            this._needsRefreshHover && (t = !0, this.refreshHoverImmediately()),
            t && this.trigger("rendered")
        },
        addHover: function (t, e) {
            if (this.painter.addHover) {
                var n = this.painter.addHover(t, e);
                return this.refreshHover(),
                n
            }
        },
        removeHover: function (t) {
            this.painter.removeHover && (this.painter.removeHover(t), this.refreshHover())
        },
        clearHover: function () {
            this.painter.clearHover && (this.painter.clearHover(), this.refreshHover())
        },
        refreshHover: function () {
            this._needsRefreshHover = !0
        },
        refreshHoverImmediately: function () {
            this._needsRefreshHover = !1,
            this.painter.refreshHover && this.painter.refreshHover()
        },
        resize: function (t) {
            t = t || {},
            this.painter.resize(t.width, t.height),
            this.handler.resize()
        },
        clearAnimation: function () {
            this.animation.clear()
        },
        getWidth: function () {
            return this.painter.getWidth()
        },
        getHeight: function () {
            return this.painter.getHeight()
        },
        pathToImage: function (t, e) {
            return this.painter.pathToImage(t, e)
        },
        setCursorStyle: function (t) {
            this.handler.setCursorStyle(t)
        },
        findHover: function (t, e) {
            return this.handler.findHover(t, e)
        },
        on: function (t, e, n) {
            this.handler.on(t, e, n)
        },
        off: function (t, e) {
            this.handler.off(t, e)
        },
        trigger: function (t, e) {
            this.handler.trigger(t, e)
        },
        clear: function () {
            this.storage.delRoot(),
            this.painter.clear()
        },
        dispose: function () {
            var t;
            this.animation.stop(),
            this.clear(),
            this.storage.dispose(),
            this.painter.dispose(),
            this.handler.dispose(),
            this.animation = this.storage = this.painter = this.handler = null,
            t = this.id,
            delete Pi[t]
        }
    };
    var Ri = Object.freeze({
        version: "4.0.7",
        init: Fi,
        dispose: function (t) {
            if (t)
                t.dispose();
            else {
                for (var e in Pi)
                    Pi.hasOwnProperty(e) && Pi[e].dispose();
                Pi = {}
            }
            return this
        },
        getInstance: function (t) {
            return Pi[t]
        },
        registerPainter: function (t, e) {
            Oi[t] = e
        }
    });
    function Bi(t) {
        var e = {};
        return t.registerClass = function (t, n) {
            return e[n] = t,
            t
        },
        t.getClass = function (t) {
            return e[t]
        },
        t.hasClass = function (t) {
            return !!e[t]
        },
        t.getAllClass = function () {
            return e
        },
        t
    }
    var Wi = Math.pow,
    Gi = Math.sqrt,
    Hi = 1e-8,
    ji = 1e-4,
    Ui = Gi(3),
    qi = 1 / 3,
    Yi = J(),
    Vi = J(),
    $i = J();
    function Xi(t) {
        return t > -Hi && t < Hi
    }
    function Zi(t) {
        return t > Hi || t < -Hi
    }
    function Ki(t, e, n, i, r) {
        var o = 1 - r;
        return o * o * (o * t + 3 * r * e) + r * r * (r * i + 3 * o * n)
    }
    function Qi(t, e, n, i, r) {
        var o = 1 - r;
        return 3 * (((e - t) * o + 2 * (n - e) * r) * o + (i - n) * r * r)
    }
    function Ji(t, e, n, i, r) {
        var o = 6 * n - 12 * e + 6 * t,
        a = 9 * e + 3 * i - 3 * t - 9 * n,
        s = 3 * e - 3 * t,
        l = 0;
        if (Xi(a)) {
            if (Zi(o))
                (h = -s / o) >= 0 && h <= 1 && (r[l++] = h)
        } else {
            var u = o * o - 4 * a * s;
            if (Xi(u))
                r[0] = -o / (2 * a);
            else if (u > 0) {
                var h,
                c = Gi(u),
                f = (-o - c) / (2 * a);
                (h = (-o + c) / (2 * a)) >= 0 && h <= 1 && (r[l++] = h),
                f >= 0 && f <= 1 && (r[l++] = f)
            }
        }
        return l
    }
    function tr(t, e, n, i, r, o) {
        var a = (e - t) * r + t,
        s = (n - e) * r + e,
        l = (i - n) * r + n,
        u = (s - a) * r + a,
        h = (l - s) * r + s,
        c = (h - u) * r + u;
        o[0] = t,
        o[1] = a,
        o[2] = u,
        o[3] = c,
        o[4] = c,
        o[5] = h,
        o[6] = l,
        o[7] = i
    }
    function er(t, e, n, i) {
        var r = 1 - i;
        return r * (r * t + 2 * i * e) + i * i * n
    }
    function nr(t, e, n, i) {
        return 2 * ((1 - i) * (e - t) + i * (n - e))
    }
    function ir(t, e, n) {
        var i = t + n - 2 * e;
        return 0 === i ? .5 : (t - e) / i
    }
    function rr(t, e, n, i, r) {
        var o = (e - t) * i + t,
        a = (n - e) * i + e,
        s = (a - o) * i + o;
        r[0] = t,
        r[1] = o,
        r[2] = s,
        r[3] = s,
        r[4] = a,
        r[5] = n
    }
    var or = Math.min,
    ar = Math.max,
    sr = Math.sin,
    lr = Math.cos,
    ur = 2 * Math.PI,
    hr = J(),
    cr = J(),
    fr = J();
    function dr(t, e, n, i, r, o) {
        r[0] = or(t, n),
        r[1] = or(e, i),
        o[0] = ar(t, n),
        o[1] = ar(e, i)
    }
    var pr = [],
    gr = [];
    function vr(t, e, n, i, r, o, a, s, l, u) {
        var h,
        c = Ji,
        f = Ki,
        d = c(t, n, r, a, pr);
        for (l[0] = 1 / 0, l[1] = 1 / 0, u[0] = -1 / 0, u[1] = -1 / 0, h = 0; h < d; h++) {
            var p = f(t, n, r, a, pr[h]);
            l[0] = or(p, l[0]),
            u[0] = ar(p, u[0])
        }
        for (d = c(e, i, o, s, gr), h = 0; h < d; h++) {
            var g = f(e, i, o, s, gr[h]);
            l[1] = or(g, l[1]),
            u[1] = ar(g, u[1])
        }
        l[0] = or(t, l[0]),
        u[0] = ar(t, u[0]),
        l[0] = or(a, l[0]),
        u[0] = ar(a, u[0]),
        l[1] = or(e, l[1]),
        u[1] = ar(e, u[1]),
        l[1] = or(s, l[1]),
        u[1] = ar(s, u[1])
    }
    function yr(t, e, n, i, r, o, a, s) {
        var l = ir,
        u = er,
        h = ar(or(l(t, n, r), 1), 0),
        c = ar(or(l(e, i, o), 1), 0),
        f = u(t, n, r, h),
        d = u(e, i, o, c);
        a[0] = or(t, r, f),
        a[1] = or(e, o, d),
        s[0] = ar(t, r, f),
        s[1] = ar(e, o, d)
    }
    function mr(t, e, n, i, r, o, a, s, l) {
        var u = ut,
        h = ht,
        c = Math.abs(r - o);
        if (c % ur < 1e-4 && c > 1e-4)
            return s[0] = t - n, s[1] = e - i, l[0] = t + n, void(l[1] = e + i);
        if (hr[0] = lr(r) * n + t, hr[1] = sr(r) * i + e, cr[0] = lr(o) * n + t, cr[1] = sr(o) * i + e, u(s, hr, cr), h(l, hr, cr), (r %= ur) < 0 && (r += ur), (o %= ur) < 0 && (o += ur), r > o && !a ? o += ur : r < o && a && (r += ur), a) {
            var f = o;
            o = r,
            r = f
        }
        for (var d = 0; d < o; d += Math.PI / 2)
            d > r && (fr[0] = lr(d) * n + t, fr[1] = sr(d) * i + e, u(s, fr, s), h(l, fr, l))
    }
    var xr = {
        M: 1,
        L: 2,
        C: 3,
        Q: 4,
        A: 5,
        Z: 6,
        R: 7
    },
    _r = [],
    wr = [],
    br = [],
    Sr = [],
    kr = Math.min,
    Mr = Math.max,
    Ir = Math.cos,
    Ar = Math.sin,
    Tr = Math.sqrt,
    Cr = Math.abs,
    zr = "undefined" != typeof Float32Array,
    Er = function (t) {
        this._saveData = !t,
        this._saveData && (this.data = []),
        this._ctx = null
    };
    function Lr(t, e, n, i, r, o, a) {
        if (0 === r)
            return !1;
        var s = r,
        l = 0;
        if (a > e + s && a > i + s || a < e - s && a < i - s || o > t + s && o > n + s || o < t - s && o < n - s)
            return !1;
        if (t === n)
            return Math.abs(o - t) <= s / 2;
        var u = (l = (e - i) / (t - n)) * o - a + (t * i - n * e) / (t - n);
        return u * u / (l * l + 1) <= s / 2 * s / 2
    }
    function Dr(t, e, n, i, r, o, a, s, l, u, h) {
        if (0 === l)
            return !1;
        var c = l;
        return !(h > e + c && h > i + c && h > o + c && h > s + c || h < e - c && h < i - c && h < o - c && h < s - c || u > t + c && u > n + c && u > r + c && u > a + c || u < t - c && u < n - c && u < r - c && u < a - c) && function (t, e, n, i, r, o, a, s, l, u, h) {
            var c,
            f,
            d,
            p,
            g,
            v = .005,
            y = 1 / 0;
            Yi[0] = l,
            Yi[1] = u;
            for (var m = 0; m < 1; m += .05)
                Vi[0] = Ki(t, n, r, a, m), Vi[1] = Ki(e, i, o, s, m), (p = st(Yi, Vi)) < y && (c = m, y = p);
            y = 1 / 0;
            for (var x = 0; x < 32 && !(v < ji); x++)
                f = c - v, d = c + v, Vi[0] = Ki(t, n, r, a, f), Vi[1] = Ki(e, i, o, s, f), p = st(Vi, Yi), f >= 0 && p < y ? (c = f, y = p) : ($i[0] = Ki(t, n, r, a, d), $i[1] = Ki(e, i, o, s, d), g = st($i, Yi), d <= 1 && g < y ? (c = d, y = g) : v *= .5);
            return h && (h[0] = Ki(t, n, r, a, c), h[1] = Ki(e, i, o, s, c)),
            Gi(y)
        }
        (t, e, n, i, r, o, a, s, u, h, null) <= c / 2
    }
    function Or(t, e, n, i, r, o, a, s, l) {
        if (0 === a)
            return !1;
        var u = a;
        return !(l > e + u && l > i + u && l > o + u || l < e - u && l < i - u && l < o - u || s > t + u && s > n + u && s > r + u || s < t - u && s < n - u && s < r - u) && function (t, e, n, i, r, o, a, s, l) {
            var u,
            h = .005,
            c = 1 / 0;
            Yi[0] = a,
            Yi[1] = s;
            for (var f = 0; f < 1; f += .05)
                Vi[0] = er(t, n, r, f), Vi[1] = er(e, i, o, f), (v = st(Yi, Vi)) < c && (u = f, c = v);
            c = 1 / 0;
            for (var d = 0; d < 32 && !(h < ji); d++) {
                var p = u - h,
                g = u + h;
                Vi[0] = er(t, n, r, p),
                Vi[1] = er(e, i, o, p);
                var v = st(Vi, Yi);
                if (p >= 0 && v < c)
                    u = p, c = v;
                else {
                    $i[0] = er(t, n, r, g),
                    $i[1] = er(e, i, o, g);
                    var y = st($i, Yi);
                    g <= 1 && y < c ? (u = g, c = y) : h *= .5
                }
            }
            return l && (l[0] = er(t, n, r, u), l[1] = er(e, i, o, u)),
            Gi(c)
        }
        (t, e, n, i, r, o, s, l, null) <= u / 2
    }
    Er.prototype = {
        constructor: Er,
        _xi: 0,
        _yi: 0,
        _x0: 0,
        _y0: 0,
        _ux: 0,
        _uy: 0,
        _len: 0,
        _lineDash: null,
        _dashOffset: 0,
        _dashIdx: 0,
        _dashSum: 0,
        setScale: function (t, e) {
            this._ux = Cr(1 / Pe / t) || 0,
            this._uy = Cr(1 / Pe / e) || 0
        },
        getContext: function () {
            return this._ctx
        },
        beginPath: function (t) {
            return this._ctx = t,
            t && t.beginPath(),
            t && (this.dpr = t.dpr),
            this._saveData && (this._len = 0),
            this._lineDash && (this._lineDash = null, this._dashOffset = 0),
            this
        },
        moveTo: function (t, e) {
            return this.addData(xr.M, t, e),
            this._ctx && this._ctx.moveTo(t, e),
            this._x0 = t,
            this._y0 = e,
            this._xi = t,
            this._yi = e,
            this
        },
        lineTo: function (t, e) {
            var n = Cr(t - this._xi) > this._ux || Cr(e - this._yi) > this._uy || this._len < 5;
            return this.addData(xr.L, t, e),
            this._ctx && n && (this._needsDash() ? this._dashedLineTo(t, e) : this._ctx.lineTo(t, e)),
            n && (this._xi = t, this._yi = e),
            this
        },
        bezierCurveTo: function (t, e, n, i, r, o) {
            return this.addData(xr.C, t, e, n, i, r, o),
            this._ctx && (this._needsDash() ? this._dashedBezierTo(t, e, n, i, r, o) : this._ctx.bezierCurveTo(t, e, n, i, r, o)),
            this._xi = r,
            this._yi = o,
            this
        },
        quadraticCurveTo: function (t, e, n, i) {
            return this.addData(xr.Q, t, e, n, i),
            this._ctx && (this._needsDash() ? this._dashedQuadraticTo(t, e, n, i) : this._ctx.quadraticCurveTo(t, e, n, i)),
            this._xi = n,
            this._yi = i,
            this
        },
        arc: function (t, e, n, i, r, o) {
            return this.addData(xr.A, t, e, n, n, i, r - i, 0, o ? 0 : 1),
            this._ctx && this._ctx.arc(t, e, n, i, r, o),
            this._xi = Ir(r) * n + t,
            this._yi = Ar(r) * n + e,
            this
        },
        arcTo: function (t, e, n, i, r) {
            return this._ctx && this._ctx.arcTo(t, e, n, i, r),
            this
        },
        rect: function (t, e, n, i) {
            return this._ctx && this._ctx.rect(t, e, n, i),
            this.addData(xr.R, t, e, n, i),
            this
        },
        closePath: function () {
            this.addData(xr.Z);
            var t = this._ctx,
            e = this._x0,
            n = this._y0;
            return t && (this._needsDash() && this._dashedLineTo(e, n), t.closePath()),
            this._xi = e,
            this._yi = n,
            this
        },
        fill: function (t) {
            t && t.fill(),
            this.toStatic()
        },
        stroke: function (t) {
            t && t.stroke(),
            this.toStatic()
        },
        setLineDash: function (t) {
            if (t instanceof Array) {
                this._lineDash = t,
                this._dashIdx = 0;
                for (var e = 0, n = 0; n < t.length; n++)
                    e += t[n];
                this._dashSum = e
            }
            return this
        },
        setLineDashOffset: function (t) {
            return this._dashOffset = t,
            this
        },
        len: function () {
            return this._len
        },
        setData: function (t) {
            var e = t.length;
            this.data && this.data.length === e || !zr || (this.data = new Float32Array(e));
            for (var n = 0; n < e; n++)
                this.data[n] = t[n];
            this._len = e
        },
        appendPath: function (t) {
            t instanceof Array || (t = [t]);
            for (var e = t.length, n = 0, i = this._len, r = 0; r < e; r++)
                n += t[r].len();
            zr && this.data instanceof Float32Array && (this.data = new Float32Array(i + n));
            for (r = 0; r < e; r++)
                for (var o = t[r].data, a = 0; a < o.length; a++)
                    this.data[i++] = o[a];
            this._len = i
        },
        addData: function (t) {
            if (this._saveData) {
                var e = this.data;
                this._len + arguments.length > e.length && (this._expandData(), e = this.data);
                for (var n = 0; n < arguments.length; n++)
                    e[this._len++] = arguments[n];
                this._prevCmd = t
            }
        },
        _expandData: function () {
            if (!(this.data instanceof Array)) {
                for (var t = [], e = 0; e < this._len; e++)
                    t[e] = this.data[e];
                this.data = t
            }
        },
        _needsDash: function () {
            return this._lineDash
        },
        _dashedLineTo: function (t, e) {
            var n,
            i,
            r = this._dashSum,
            o = this._dashOffset,
            a = this._lineDash,
            s = this._ctx,
            l = this._xi,
            u = this._yi,
            h = t - l,
            c = e - u,
            f = Tr(h * h + c * c),
            d = l,
            p = u,
            g = a.length;
            for (h /= f, c /= f, o < 0 && (o = r + o), d -= (o %= r) * h, p -= o * c; h > 0 && d <= t || h < 0 && d >= t || 0 === h && (c > 0 && p <= e || c < 0 && p >= e); )
                d += h * (n = a[i = this._dashIdx]), p += c * n, this._dashIdx = (i + 1) % g, h > 0 && d < l || h < 0 && d > l || c > 0 && p < u || c < 0 && p > u || s[i % 2 ? "moveTo" : "lineTo"](h >= 0 ? kr(d, t) : Mr(d, t), c >= 0 ? kr(p, e) : Mr(p, e));
            h = d - t,
            c = p - e,
            this._dashOffset = -Tr(h * h + c * c)
        },
        _dashedBezierTo: function (t, e, n, i, r, o) {
            var a,
            s,
            l,
            u,
            h,
            c = this._dashSum,
            f = this._dashOffset,
            d = this._lineDash,
            p = this._ctx,
            g = this._xi,
            v = this._yi,
            y = Ki,
            m = 0,
            x = this._dashIdx,
            _ = d.length,
            w = 0;
            for (f < 0 && (f = c + f), f %= c, a = 0; a < 1; a += .1)
                s = y(g, t, n, r, a + .1) - y(g, t, n, r, a), l = y(v, e, i, o, a + .1) - y(v, e, i, o, a), m += Tr(s * s + l * l);
            for (; x < _ && !((w += d[x]) > f); x++);
            for (a = (w - f) / m; a <= 1; )
                u = y(g, t, n, r, a), h = y(v, e, i, o, a), x % 2 ? p.moveTo(u, h) : p.lineTo(u, h), a += d[x] / m, x = (x + 1) % _;
            x % 2 != 0 && p.lineTo(r, o),
            s = r - u,
            l = o - h,
            this._dashOffset = -Tr(s * s + l * l)
        },
        _dashedQuadraticTo: function (t, e, n, i) {
            var r = n,
            o = i;
            n = (n + 2 * t) / 3,
            i = (i + 2 * e) / 3,
            t = (this._xi + 2 * t) / 3,
            e = (this._yi + 2 * e) / 3,
            this._dashedBezierTo(t, e, n, i, r, o)
        },
        toStatic: function () {
            var t = this.data;
            t instanceof Array && (t.length = this._len, zr && (this.data = new Float32Array(t)))
        },
        getBoundingRect: function () {
            _r[0] = _r[1] = br[0] = br[1] = Number.MAX_VALUE,
            wr[0] = wr[1] = Sr[0] = Sr[1] = -Number.MAX_VALUE;
            for (var t = this.data, e = 0, n = 0, i = 0, r = 0, o = 0; o < t.length; ) {
                var a = t[o++];
                switch (1 === o && (i = e = t[o], r = n = t[o + 1]), a) {
                case xr.M:
                    e = i = t[o++],
                    n = r = t[o++],
                    br[0] = i,
                    br[1] = r,
                    Sr[0] = i,
                    Sr[1] = r;
                    break;
                case xr.L:
                    dr(e, n, t[o], t[o + 1], br, Sr),
                    e = t[o++],
                    n = t[o++];
                    break;
                case xr.C:
                    vr(e, n, t[o++], t[o++], t[o++], t[o++], t[o], t[o + 1], br, Sr),
                    e = t[o++],
                    n = t[o++];
                    break;
                case xr.Q:
                    yr(e, n, t[o++], t[o++], t[o], t[o + 1], br, Sr),
                    e = t[o++],
                    n = t[o++];
                    break;
                case xr.A:
                    var s = t[o++],
                    l = t[o++],
                    u = t[o++],
                    h = t[o++],
                    c = t[o++],
                    f = t[o++] + c;
                    o += 1;
                    var d = 1 - t[o++];
                    1 === o && (i = Ir(c) * u + s, r = Ar(c) * h + l),
                    mr(s, l, u, h, c, f, d, br, Sr),
                    e = Ir(f) * u + s,
                    n = Ar(f) * h + l;
                    break;
                case xr.R:
                    dr(i = e = t[o++], r = n = t[o++], i + t[o++], r + t[o++], br, Sr);
                    break;
                case xr.Z:
                    e = i,
                    n = r
                }
                ut(_r, _r, br),
                ht(wr, wr, Sr)
            }
            return 0 === o && (_r[0] = _r[1] = wr[0] = wr[1] = 0),
            new Xe(_r[0], _r[1], wr[0] - _r[0], wr[1] - _r[1])
        },
        rebuildPath: function (t) {
            for (var e, n, i, r, o, a, s = this.data, l = this._ux, u = this._uy, h = this._len, c = 0; c < h; ) {
                var f = s[c++];
                switch (1 === c && (e = i = s[c], n = r = s[c + 1]), f) {
                case xr.M:
                    e = i = s[c++],
                    n = r = s[c++],
                    t.moveTo(i, r);
                    break;
                case xr.L:
                    o = s[c++],
                    a = s[c++],
                    (Cr(o - i) > l || Cr(a - r) > u || c === h - 1) && (t.lineTo(o, a), i = o, r = a);
                    break;
                case xr.C:
                    t.bezierCurveTo(s[c++], s[c++], s[c++], s[c++], s[c++], s[c++]),
                    i = s[c - 2],
                    r = s[c - 1];
                    break;
                case xr.Q:
                    t.quadraticCurveTo(s[c++], s[c++], s[c++], s[c++]),
                    i = s[c - 2],
                    r = s[c - 1];
                    break;
                case xr.A:
                    var d = s[c++],
                    p = s[c++],
                    g = s[c++],
                    v = s[c++],
                    y = s[c++],
                    m = s[c++],
                    x = s[c++],
                    _ = s[c++],
                    w = g > v ? g : v,
                    b = g > v ? 1 : g / v,
                    S = g > v ? v / g : 1,
                    k = y + m;
                    Math.abs(g - v) > .001 ? (t.translate(d, p), t.rotate(x), t.scale(b, S), t.arc(0, 0, w, y, k, 1 - _), t.scale(1 / b, 1 / S), t.rotate(-x), t.translate(-d, -p)) : t.arc(d, p, w, y, k, 1 - _),
                    1 === c && (e = Ir(y) * g + d, n = Ar(y) * v + p),
                    i = Ir(k) * g + d,
                    r = Ar(k) * v + p;
                    break;
                case xr.R:
                    e = i = s[c],
                    n = r = s[c + 1],
                    t.rect(s[c++], s[c++], s[c++], s[c++]);
                    break;
                case xr.Z:
                    t.closePath(),
                    i = e,
                    r = n
                }
            }
        }
    },
    Er.CMD = xr;
    var Pr = 2 * Math.PI;
    function Fr(t) {
        return (t %= Pr) < 0 && (t += Pr),
        t
    }
    var Nr = 2 * Math.PI;
    function Rr(t, e, n, i, r, o, a, s, l) {
        if (0 === a)
            return !1;
        var u = a;
        s -= t,
        l -= e;
        var h = Math.sqrt(s * s + l * l);
        if (h - u > n || h + u < n)
            return !1;
        if (Math.abs(i - r) % Nr < 1e-4)
            return !0;
        if (o) {
            var c = i;
            i = Fr(r),
            r = Fr(c)
        } else
            i = Fr(i), r = Fr(r);
        i > r && (r += Nr);
        var f = Math.atan2(l, s);
        return f < 0 && (f += Nr),
        f >= i && f <= r || f + Nr >= i && f + Nr <= r
    }
    function Br(t, e, n, i, r, o) {
        if (o > e && o > i || o < e && o < i)
            return 0;
        if (i === e)
            return 0;
        var a = i < e ? 1 : -1,
        s = (o - e) / (i - e);
        1 !== s && 0 !== s || (a = i < e ? .5 :  - .5);
        var l = s * (n - t) + t;
        return l === r ? 1 / 0 : l > r ? a : 0
    }
    var Wr = Er.CMD,
    Gr = 2 * Math.PI,
    Hr = 1e-4;
    var jr = [-1, -1, -1],
    Ur = [-1, -1];
    function qr(t, e, n, i, r, o, a, s, l, u) {
        if (u > e && u > i && u > o && u > s || u < e && u < i && u < o && u < s)
            return 0;
        var h,
        c = function (t, e, n, i, r, o) {
            var a = i + 3 * (e - n) - t,
            s = 3 * (n - 2 * e + t),
            l = 3 * (e - t),
            u = t - r,
            h = s * s - 3 * a * l,
            c = s * l - 9 * a * u,
            f = l * l - 3 * s * u,
            d = 0;
            if (Xi(h) && Xi(c))
                Xi(s) ? o[0] = 0 : (k = -l / s) >= 0 && k <= 1 && (o[d++] = k);
            else {
                var p = c * c - 4 * h * f;
                if (Xi(p)) {
                    var g = c / h,
                    v = -g / 2;
                    (k = -s / a + g) >= 0 && k <= 1 && (o[d++] = k),
                    v >= 0 && v <= 1 && (o[d++] = v)
                } else if (p > 0) {
                    var y = Gi(p),
                    m = h * s + 1.5 * a * (-c + y),
                    x = h * s + 1.5 * a * (-c - y);
                    (k = (-s - ((m = m < 0 ? -Wi(-m, qi) : Wi(m, qi)) + (x = x < 0 ? -Wi(-x, qi) : Wi(x, qi)))) / (3 * a)) >= 0 && k <= 1 && (o[d++] = k)
                } else {
                    var _ = (2 * h * s - 3 * a * c) / (2 * Gi(h * h * h)),
                    w = Math.acos(_) / 3,
                    b = Gi(h),
                    S = Math.cos(w),
                    k = (-s - 2 * b * S) / (3 * a),
                    M = (v = (-s + b * (S + Ui * Math.sin(w))) / (3 * a), (-s + b * (S - Ui * Math.sin(w))) / (3 * a));
                    k >= 0 && k <= 1 && (o[d++] = k),
                    v >= 0 && v <= 1 && (o[d++] = v),
                    M >= 0 && M <= 1 && (o[d++] = M)
                }
            }
            return d
        }
        (e, i, o, s, u, jr);
        if (0 === c)
            return 0;
        for (var f, d, p = 0, g = -1, v = 0; v < c; v++) {
            var y = jr[v],
            m = 0 === y || 1 === y ? .5 : 1;
            Ki(t, n, r, a, y) < l || (g < 0 && (g = Ji(e, i, o, s, Ur), Ur[1] < Ur[0] && g > 1 && (void 0, h = Ur[0], Ur[0] = Ur[1], Ur[1] = h), f = Ki(e, i, o, s, Ur[0]), g > 1 && (d = Ki(e, i, o, s, Ur[1]))), 2 === g ? y < Ur[0] ? p += f < e ? m : -m : y < Ur[1] ? p += d < f ? m : -m : p += s < d ? m : -m : y < Ur[0] ? p += f < e ? m : -m : p += s < f ? m : -m)
        }
        return p
    }
    function Yr(t, e, n, i, r, o, a, s) {
        if (s > e && s > i && s > o || s < e && s < i && s < o)
            return 0;
        var l = function (t, e, n, i, r) {
            var o = t - 2 * e + n,
            a = 2 * (e - t),
            s = t - i,
            l = 0;
            if (Xi(o))
                Zi(a) && (h = -s / a) >= 0 && h <= 1 && (r[l++] = h);
            else {
                var u = a * a - 4 * o * s;
                if (Xi(u))
                    (h = -a / (2 * o)) >= 0 && h <= 1 && (r[l++] = h);
                else if (u > 0) {
                    var h,
                    c = Gi(u),
                    f = (-a - c) / (2 * o);
                    (h = (-a + c) / (2 * o)) >= 0 && h <= 1 && (r[l++] = h),
                    f >= 0 && f <= 1 && (r[l++] = f)
                }
            }
            return l
        }
        (e, i, o, s, jr);
        if (0 === l)
            return 0;
        var u = ir(e, i, o);
        if (u >= 0 && u <= 1) {
            for (var h = 0, c = er(e, i, o, u), f = 0; f < l; f++) {
                var d = 0 === jr[f] || 1 === jr[f] ? .5 : 1;
                er(t, n, r, jr[f]) < a || (jr[f] < u ? h += c < e ? d : -d : h += o < c ? d : -d)
            }
            return h
        }
        d = 0 === jr[0] || 1 === jr[0] ? .5 : 1;
        return er(t, n, r, jr[0]) < a ? 0 : o < e ? d : -d
    }
    function Vr(t, e, n, i, r, o, a, s) {
        if ((s -= e) > n || s < -n)
            return 0;
        var l = Math.sqrt(n * n - s * s);
        jr[0] = -l,
        jr[1] = l;
        var u = Math.abs(i - r);
        if (u < 1e-4)
            return 0;
        if (u % Gr < 1e-4) {
            i = 0,
            r = Gr;
            var h = o ? 1 : -1;
            return a >= jr[0] + t && a <= jr[1] + t ? h : 0
        }
        if (o) {
            l = i;
            i = Fr(r),
            r = Fr(l)
        } else
            i = Fr(i), r = Fr(r);
        i > r && (r += Gr);
        for (var c = 0, f = 0; f < 2; f++) {
            var d = jr[f];
            if (d + t > a) {
                var p = Math.atan2(s, d);
                h = o ? 1 : -1;
                p < 0 && (p = Gr + p),
                (p >= i && p <= r || p + Gr >= i && p + Gr <= r) && (p > Math.PI / 2 && p < 1.5 * Math.PI && (h = -h), c += h)
            }
        }
        return c
    }
    function $r(t, e, n, i, r) {
        for (var o, a, s = 0, l = 0, u = 0, h = 0, c = 0, f = 0; f < t.length; ) {
            var d = t[f++];
            switch (d === Wr.M && f > 1 && (n || (s += Br(l, u, h, c, i, r))), 1 === f && (h = l = t[f], c = u = t[f + 1]), d) {
            case Wr.M:
                l = h = t[f++],
                u = c = t[f++];
                break;
            case Wr.L:
                if (n) {
                    if (Lr(l, u, t[f], t[f + 1], e, i, r))
                        return !0
                } else
                    s += Br(l, u, t[f], t[f + 1], i, r) || 0;
                l = t[f++],
                u = t[f++];
                break;
            case Wr.C:
                if (n) {
                    if (Dr(l, u, t[f++], t[f++], t[f++], t[f++], t[f], t[f + 1], e, i, r))
                        return !0
                } else
                    s += qr(l, u, t[f++], t[f++], t[f++], t[f++], t[f], t[f + 1], i, r) || 0;
                l = t[f++],
                u = t[f++];
                break;
            case Wr.Q:
                if (n) {
                    if (Or(l, u, t[f++], t[f++], t[f], t[f + 1], e, i, r))
                        return !0
                } else
                    s += Yr(l, u, t[f++], t[f++], t[f], t[f + 1], i, r) || 0;
                l = t[f++],
                u = t[f++];
                break;
            case Wr.A:
                var p = t[f++],
                g = t[f++],
                v = t[f++],
                y = t[f++],
                m = t[f++],
                x = t[f++];
                f += 1;
                var _ = 1 - t[f++],
                w = Math.cos(m) * v + p,
                b = Math.sin(m) * y + g;
                f > 1 ? s += Br(l, u, w, b, i, r) : (h = w, c = b);
                var S = (i - p) * y / v + p;
                if (n) {
                    if (Rr(p, g, y, m, m + x, _, e, S, r))
                        return !0
                } else
                    s += Vr(p, g, y, m, m + x, _, S, r);
                l = Math.cos(m + x) * v + p,
                u = Math.sin(m + x) * y + g;
                break;
            case Wr.R:
                h = l = t[f++],
                c = u = t[f++];
                w = h + t[f++],
                b = c + t[f++];
                if (n) {
                    if (Lr(h, c, w, c, e, i, r) || Lr(w, c, w, b, e, i, r) || Lr(w, b, h, b, e, i, r) || Lr(h, b, h, c, e, i, r))
                        return !0
                } else
                    s += Br(w, c, w, b, i, r), s += Br(h, b, h, c, i, r);
                break;
            case Wr.Z:
                if (n) {
                    if (Lr(l, u, h, c, e, i, r))
                        return !0
                } else
                    s += Br(l, u, h, c, i, r);
                l = h,
                u = c
            }
        }
        return n || (o = u, a = c, Math.abs(o - a) < Hr) || (s += Br(l, u, h, c, i, r) || 0),
        0 !== s
    }
    var Xr = xn.prototype.getCanvasPattern,
    Zr = Math.abs,
    Kr = new Er(!0);
    function Qr(t) {
        vi.call(this, t),
        this.path = null
    }
    Qr.prototype = {
        constructor: Qr,
        type: "path",
        __dirtyPath: !0,
        strokeContainThreshold: 5,
        subPixelOptimize: !1,
        brush: function (t, e) {
            var n,
            i = this.style,
            r = this.path || Kr,
            o = i.hasStroke(),
            a = i.hasFill(),
            s = i.fill,
            l = i.stroke,
            u = a && !!s.colorStops,
            h = o && !!l.colorStops,
            c = a && !!s.image,
            f = o && !!l.image;
            (i.bind(t, this, e), this.setTransform(t), this.__dirty) && (u && (n = n || this.getBoundingRect(), this._fillGradient = i.getGradient(t, s, n)), h && (n = n || this.getBoundingRect(), this._strokeGradient = i.getGradient(t, l, n)));
            u ? t.fillStyle = this._fillGradient : c && (t.fillStyle = Xr.call(s, t)),
            h ? t.strokeStyle = this._strokeGradient : f && (t.strokeStyle = Xr.call(l, t));
            var d = i.lineDash,
            p = i.lineDashOffset,
            g = !!t.setLineDash,
            v = this.getGlobalScale();
            if (r.setScale(v[0], v[1]), this.__dirtyPath || d && !g && o ? (r.beginPath(t), d && !g && (r.setLineDash(d), r.setLineDashOffset(p)), this.buildPath(r, this.shape, !1), this.path && (this.__dirtyPath = !1)) : (t.beginPath(), this.path.rebuildPath(t)), a)
                if (null != i.fillOpacity) {
                    var y = t.globalAlpha;
                    t.globalAlpha = i.fillOpacity * i.opacity,
                    r.fill(t),
                    t.globalAlpha = y
                } else
                    r.fill(t);
            if (d && g && (t.setLineDash(d), t.lineDashOffset = p), o)
                if (null != i.strokeOpacity) {
                    y = t.globalAlpha;
                    t.globalAlpha = i.strokeOpacity * i.opacity,
                    r.stroke(t),
                    t.globalAlpha = y
                } else
                    r.stroke(t);
            d && g && t.setLineDash([]),
            null != i.text && (this.restoreTransform(t), this.drawRectText(t, this.getBoundingRect()))
        },
        buildPath: function (t, e, n) {},
        createPathProxy: function () {
            this.path = new Er
        },
        getBoundingRect: function () {
            var t = this._rect,
            e = this.style,
            n = !t;
            if (n) {
                var i = this.path;
                i || (i = this.path = new Er),
                this.__dirtyPath && (i.beginPath(), this.buildPath(i, this.shape, !1)),
                t = i.getBoundingRect()
            }
            if (this._rect = t, e.hasStroke()) {
                var r = this._rectWithStroke || (this._rectWithStroke = t.clone());
                if (this.__dirty || n) {
                    r.copy(t);
                    var o = e.lineWidth,
                    a = e.strokeNoScale ? this.getLineScale() : 1;
                    e.hasFill() || (o = Math.max(o, this.strokeContainThreshold || 4)),
                    a > 1e-10 && (r.width += o / a, r.height += o / a, r.x -= o / a / 2, r.y -= o / a / 2)
                }
                return r
            }
            return t
        },
        contain: function (t, e) {
            var n = this.transformCoordToLocal(t, e),
            i = this.getBoundingRect(),
            r = this.style;
            if (t = n[0], e = n[1], i.contain(t, e)) {
                var o = this.path.data;
                if (r.hasStroke()) {
                    var a = r.lineWidth,
                    s = r.strokeNoScale ? this.getLineScale() : 1;
                    if (s > 1e-10 && (r.hasFill() || (a = Math.max(a, this.strokeContainThreshold)), function (t, e, n, i) {
                            return $r(t, e, !0, n, i)
                        }
                            (o, a / s, t, e)))
                        return !0
                }
                if (r.hasFill())
                    return function (t, e, n) {
                        return $r(t, 0, !1, e, n)
                    }
                (o, t, e)
            }
            return !1
        },
        dirty: function (t) {
            null == t && (t = !0),
            t && (this.__dirtyPath = t, this._rect = null),
            this.__dirty = this.__dirtyText = !0,
            this.__zr && this.__zr.refresh(),
            this.__clipTarget && this.__clipTarget.dirty()
        },
        animateShape: function (t) {
            return this.animate("shape", t)
        },
        attrKV: function (t, e) {
            "shape" === t ? (this.setShape(e), this.__dirtyPath = !0, this._rect = null) : vi.prototype.attrKV.call(this, t, e)
        },
        setShape: function (t, e) {
            var n = this.shape;
            if (n) {
                if (H(t))
                    for (var i in t)
                        t.hasOwnProperty(i) && (n[i] = t[i]);
                else
                    n[t] = e;
                this.dirty(!0)
            }
            return this
        },
        getLineScale: function () {
            var t = this.transform;
            return t && Zr(t[0] - 1) > 1e-10 && Zr(t[3] - 1) > 1e-10 ? Math.sqrt(Zr(t[0] * t[3] - t[2] * t[1])) : 1
        }
    },
    Qr.extend = function (t) {
        var e = function (e) {
            Qr.call(this, e),
            t.style && this.style.extendFrom(t.style, !1);
            var n = t.shape;
            if (n) {
                this.shape = this.shape || {};
                var i = this.shape;
                for (var r in n)
                    !i.hasOwnProperty(r) && n.hasOwnProperty(r) && (i[r] = n[r])
            }
            t.init && t.init.call(this, e)
        };
        for (var n in z(e, Qr), t)
            "style" !== n && "shape" !== n && (e.prototype[n] = t[n]);
        return e
    },
    z(Qr, vi);
    var Jr = Er.CMD,
    to = [[], [], []],
    eo = Math.sqrt,
    no = Math.atan2;
    var io = Math.sqrt,
    ro = Math.sin,
    oo = Math.cos,
    ao = Math.PI,
    so = function (t) {
        return Math.sqrt(t[0] * t[0] + t[1] * t[1])
    },
    lo = function (t, e) {
        return (t[0] * e[0] + t[1] * e[1]) / (so(t) * so(e))
    },
    uo = function (t, e) {
        return (t[0] * e[1] < t[1] * e[0] ? -1 : 1) * Math.acos(lo(t, e))
    };
    function ho(t, e, n, i, r, o, a, s, l, u, h) {
        var c = l * (ao / 180),
        f = oo(c) * (t - n) / 2 + ro(c) * (e - i) / 2,
        d = -1 * ro(c) * (t - n) / 2 + oo(c) * (e - i) / 2,
        p = f * f / (a * a) + d * d / (s * s);
        p > 1 && (a *= io(p), s *= io(p));
        var g = (r === o ? -1 : 1) * io((a * a * (s * s) - a * a * (d * d) - s * s * (f * f)) / (a * a * (d * d) + s * s * (f * f))) || 0,
        v = g * a * d / s,
        y = g * -s * f / a,
        m = (t + n) / 2 + oo(c) * v - ro(c) * y,
        x = (e + i) / 2 + ro(c) * v + oo(c) * y,
        _ = uo([1, 0], [(f - v) / a, (d - y) / s]),
        w = [(f - v) / a, (d - y) / s],
        b = [(-1 * f - v) / a, (-1 * d - y) / s],
        S = uo(w, b);
        lo(w, b) <= -1 && (S = ao),
        lo(w, b) >= 1 && (S = 0),
        0 === o && S > 0 && (S -= 2 * ao),
        1 === o && S < 0 && (S += 2 * ao),
        h.addData(u, m, x, a, s, _, S, c, o)
    }
    var co = /([mlvhzcqtsa])([^mlvhzcqtsa]*)/gi,
    fo = /-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;
    function po(t, e) {
        var n = function (t) {
            if (!t)
                return new Er;
            for (var e, n = 0, i = 0, r = n, o = i, a = new Er, s = Er.CMD, l = t.match(co), u = 0; u < l.length; u++) {
                for (var h, c = l[u], f = c.charAt(0), d = c.match(fo) || [], p = d.length, g = 0; g < p; g++)
                    d[g] = parseFloat(d[g]);
                for (var v = 0; v < p; ) {
                    var y,
                    m,
                    x,
                    _,
                    w,
                    b,
                    S,
                    k = n,
                    M = i;
                    switch (f) {
                    case "l":
                        n += d[v++],
                        i += d[v++],
                        h = s.L,
                        a.addData(h, n, i);
                        break;
                    case "L":
                        n = d[v++],
                        i = d[v++],
                        h = s.L,
                        a.addData(h, n, i);
                        break;
                    case "m":
                        n += d[v++],
                        i += d[v++],
                        h = s.M,
                        a.addData(h, n, i),
                        r = n,
                        o = i,
                        f = "l";
                        break;
                    case "M":
                        n = d[v++],
                        i = d[v++],
                        h = s.M,
                        a.addData(h, n, i),
                        r = n,
                        o = i,
                        f = "L";
                        break;
                    case "h":
                        n += d[v++],
                        h = s.L,
                        a.addData(h, n, i);
                        break;
                    case "H":
                        n = d[v++],
                        h = s.L,
                        a.addData(h, n, i);
                        break;
                    case "v":
                        i += d[v++],
                        h = s.L,
                        a.addData(h, n, i);
                        break;
                    case "V":
                        i = d[v++],
                        h = s.L,
                        a.addData(h, n, i);
                        break;
                    case "C":
                        h = s.C,
                        a.addData(h, d[v++], d[v++], d[v++], d[v++], d[v++], d[v++]),
                        n = d[v - 2],
                        i = d[v - 1];
                        break;
                    case "c":
                        h = s.C,
                        a.addData(h, d[v++] + n, d[v++] + i, d[v++] + n, d[v++] + i, d[v++] + n, d[v++] + i),
                        n += d[v - 2],
                        i += d[v - 1];
                        break;
                    case "S":
                        y = n,
                        m = i;
                        var I = a.len(),
                        A = a.data;
                        e === s.C && (y += n - A[I - 4], m += i - A[I - 3]),
                        h = s.C,
                        k = d[v++],
                        M = d[v++],
                        n = d[v++],
                        i = d[v++],
                        a.addData(h, y, m, k, M, n, i);
                        break;
                    case "s":
                        y = n,
                        m = i,
                        I = a.len(),
                        A = a.data,
                        e === s.C && (y += n - A[I - 4], m += i - A[I - 3]),
                        h = s.C,
                        k = n + d[v++],
                        M = i + d[v++],
                        n += d[v++],
                        i += d[v++],
                        a.addData(h, y, m, k, M, n, i);
                        break;
                    case "Q":
                        k = d[v++],
                        M = d[v++],
                        n = d[v++],
                        i = d[v++],
                        h = s.Q,
                        a.addData(h, k, M, n, i);
                        break;
                    case "q":
                        k = d[v++] + n,
                        M = d[v++] + i,
                        n += d[v++],
                        i += d[v++],
                        h = s.Q,
                        a.addData(h, k, M, n, i);
                        break;
                    case "T":
                        y = n,
                        m = i,
                        I = a.len(),
                        A = a.data,
                        e === s.Q && (y += n - A[I - 4], m += i - A[I - 3]),
                        n = d[v++],
                        i = d[v++],
                        h = s.Q,
                        a.addData(h, y, m, n, i);
                        break;
                    case "t":
                        y = n,
                        m = i,
                        I = a.len(),
                        A = a.data,
                        e === s.Q && (y += n - A[I - 4], m += i - A[I - 3]),
                        n += d[v++],
                        i += d[v++],
                        h = s.Q,
                        a.addData(h, y, m, n, i);
                        break;
                    case "A":
                        x = d[v++],
                        _ = d[v++],
                        w = d[v++],
                        b = d[v++],
                        S = d[v++],
                        ho(k = n, M = i, n = d[v++], i = d[v++], b, S, x, _, w, h = s.A, a);
                        break;
                    case "a":
                        x = d[v++],
                        _ = d[v++],
                        w = d[v++],
                        b = d[v++],
                        S = d[v++],
                        ho(k = n, M = i, n += d[v++], i += d[v++], b, S, x, _, w, h = s.A, a)
                    }
                }
                "z" !== f && "Z" !== f || (h = s.Z, a.addData(h), n = r, i = o),
                e = h
            }
            return a.toStatic(),
            a
        }
        (t);
        return (e = e || {}).buildPath = function (t) {
            if (t.setData) {
                t.setData(n.data),
                (e = t.getContext()) && t.rebuildPath(e)
            } else {
                var e = t;
                n.rebuildPath(e)
            }
        },
        e.applyTransform = function (t) {
            !function (t, e) {
                var n,
                i,
                r,
                o,
                a,
                s = t.data,
                l = Jr.M,
                u = Jr.C,
                h = Jr.L,
                c = Jr.R,
                f = Jr.A,
                d = Jr.Q;
                for (r = 0, o = 0; r < s.length; ) {
                    switch (n = s[r++], o = r, i = 0, n) {
                    case l:
                    case h:
                        i = 1;
                        break;
                    case u:
                        i = 3;
                        break;
                    case d:
                        i = 2;
                        break;
                    case f:
                        var p = e[4],
                        g = e[5],
                        v = eo(e[0] * e[0] + e[1] * e[1]),
                        y = eo(e[2] * e[2] + e[3] * e[3]),
                        m = no(-e[1] / y, e[0] / v);
                        s[r] *= v,
                        s[r++] += p,
                        s[r] *= y,
                        s[r++] += g,
                        s[r++] *= v,
                        s[r++] *= y,
                        s[r++] += m,
                        s[r++] += m,
                        o = r += 2;
                        break;
                    case c:
                        x[0] = s[r++],
                        x[1] = s[r++],
                        lt(x, x, e),
                        s[o++] = x[0],
                        s[o++] = x[1],
                        x[0] += s[r++],
                        x[1] += s[r++],
                        lt(x, x, e),
                        s[o++] = x[0],
                        s[o++] = x[1]
                    }
                    for (a = 0; a < i; a++) {
                        var x;
                        (x = to[a])[0] = s[r++],
                        x[1] = s[r++],
                        lt(x, x, e),
                        s[o++] = x[0],
                        s[o++] = x[1]
                    }
                }
            }
            (n, t),
            this.dirty(!0)
        },
        e
    }
    function go(t, e) {
        return new Qr(po(t, e))
    }
    var vo = function (t) {
        vi.call(this, t)
    };
    vo.prototype = {
        constructor: vo,
        type: "text",
        brush: function (t, e) {
            var n = this.style;
            this.__dirty && Jn(n),
            n.fill = n.stroke = n.shadowBlur = n.shadowColor = n.shadowOffsetX = n.shadowOffsetY = null;
            var i = n.text;
            null != i && (i += ""),
            di(i, n) ? (this.setTransform(t), ei(this, t, i, n, null, e), this.restoreTransform(t)) : t.__attrCachedBy = hn.NONE
        },
        getBoundingRect: function () {
            var t = this.style;
            if (this.__dirty && Jn(t), !this._rect) {
                var e = t.text;
                null != e ? e += "" : e = "";
                var n = Fn(t.text + "", t.font, t.textAlign, t.textVerticalAlign, t.textPadding, t.textLineHeight, t.rich);
                if (n.x += t.x || 0, n.y += t.y || 0, ui(t.textStroke, t.textStrokeWidth)) {
                    var i = t.textStrokeWidth;
                    n.x -= i / 2,
                    n.y -= i / 2,
                    n.width += i,
                    n.height += i
                }
                this._rect = n
            }
            return this._rect
        }
    },
    z(vo, vi);
    var yo = Qr.extend({
        type: "circle",
        shape: {
            cx: 0,
            cy: 0,
            r: 0
        },
        buildPath: function (t, e, n) {
            n && t.moveTo(e.cx + e.r, e.cy),
            t.arc(e.cx, e.cy, e.r, 0, 2 * Math.PI, !0)
        }
    }),
    mo = [["shadowBlur", 0], ["shadowColor", "#000"], ["shadowOffsetX", 0], ["shadowOffsetY", 0]];
    var xo,
    _o = Qr.extend({
        type: "sector",
        shape: {
            cx: 0,
            cy: 0,
            r0: 0,
            r: 0,
            startAngle: 0,
            endAngle: 2 * Math.PI,
            clockwise: !0
        },
        brush: (xo = Qr.prototype.brush, h.browser.ie && h.browser.version >= 11 ? function () {
            var t,
            e = this.__clipPaths,
            n = this.style;
            if (e)
                for (var i = 0; i < e.length; i++) {
                    var r = e[i],
                    o = r && r.shape,
                    a = r && r.type;
                    if (o && ("sector" === a && o.startAngle === o.endAngle || "rect" === a && (!o.width || !o.height))) {
                        for (var s = 0; s < mo.length; s++)
                            mo[s][2] = n[mo[s][0]], n[mo[s][0]] = mo[s][1];
                        t = !0;
                        break
                    }
                }
            if (xo.apply(this, arguments), t)
                for (s = 0; s < mo.length; s++)
                    n[mo[s][0]] = mo[s][2]
        }
             : xo),
        buildPath: function (t, e) {
            var n = e.cx,
            i = e.cy,
            r = Math.max(e.r0 || 0, 0),
            o = Math.max(e.r, 0),
            a = e.startAngle,
            s = e.endAngle,
            l = e.clockwise,
            u = Math.cos(a),
            h = Math.sin(a);
            t.moveTo(u * r + n, h * r + i),
            t.lineTo(u * o + n, h * o + i),
            t.arc(n, i, o, a, s, !l),
            t.lineTo(Math.cos(s) * r + n, Math.sin(s) * r + i),
            0 !== r && t.arc(n, i, r, s, a, l),
            t.closePath()
        }
    }),
    wo = Qr.extend({
        type: "ring",
        shape: {
            cx: 0,
            cy: 0,
            r: 0,
            r0: 0
        },
        buildPath: function (t, e) {
            var n = e.cx,
            i = e.cy,
            r = 2 * Math.PI;
            t.moveTo(n + e.r, i),
            t.arc(n, i, e.r, 0, r, !1),
            t.moveTo(n + e.r0, i),
            t.arc(n, i, e.r0, 0, r, !0)
        }
    });
    function bo(t, e, n, i, r, o, a) {
        var s = .5 * (n - t),
        l = .5 * (i - e);
        return (2 * (e - n) + s + l) * a + (-3 * (e - n) - 2 * s - l) * o + s * r + e
    }
    function So(t, e, n) {
        var i = e.points,
        r = e.smooth;
        if (i && i.length >= 2) {
            if (r && "spline" !== r) {
                var o = function (t, e, n, i) {
                    var r,
                    o,
                    a,
                    s,
                    l = [],
                    u = [],
                    h = [],
                    c = [];
                    if (i) {
                        a = [1 / 0, 1 / 0],
                        s = [-1 / 0, -1 / 0];
                        for (var f = 0, d = t.length; f < d; f++)
                            ut(a, a, t[f]), ht(s, s, t[f]);
                        ut(a, a, i[0]),
                        ht(s, s, i[1])
                    }
                    for (f = 0, d = t.length; f < d; f++) {
                        var p = t[f];
                        if (n)
                            r = t[f ? f - 1 : d - 1], o = t[(f + 1) % d];
                        else {
                            if (0 === f || f === d - 1) {
                                l.push(tt(t[f]));
                                continue
                            }
                            r = t[f - 1],
                            o = t[f + 1]
                        }
                        nt(u, o, r),
                        it(u, u, e);
                        var g = ot(p, r),
                        v = ot(p, o),
                        y = g + v;
                        0 !== y && (g /= y, v /= y),
                        it(h, u, -g),
                        it(c, u, v);
                        var m = et([], p, h),
                        x = et([], p, c);
                        i && (ht(m, m, a), ut(m, m, s), ht(x, x, a), ut(x, x, s)),
                        l.push(m),
                        l.push(x)
                    }
                    return n && l.push(l.shift()),
                    l
                }
                (i, r, n, e.smoothConstraint);
                t.moveTo(i[0][0], i[0][1]);
                for (var a = i.length, s = 0; s < (n ? a : a - 1); s++) {
                    var l = o[2 * s],
                    u = o[2 * s + 1],
                    h = i[(s + 1) % a];
                    t.bezierCurveTo(l[0], l[1], u[0], u[1], h[0], h[1])
                }
            } else {
                "spline" === r && (i = function (t, e) {
                    for (var n = t.length, i = [], r = 0, o = 1; o < n; o++)
                        r += ot(t[o - 1], t[o]);
                    var a = r / 2;
                    for (a = a < n ? n : a, o = 0; o < a; o++) {
                        var s,
                        l,
                        u,
                        h = o / (a - 1) * (e ? n : n - 1),
                        c = Math.floor(h),
                        f = h - c,
                        d = t[c % n];
                        e ? (s = t[(c - 1 + n) % n], l = t[(c + 1) % n], u = t[(c + 2) % n]) : (s = t[0 === c ? c : c - 1], l = t[c > n - 2 ? n - 1 : c + 1], u = t[c > n - 3 ? n - 1 : c + 2]);
                        var p = f * f,
                        g = f * p;
                        i.push([bo(s[0], d[0], l[0], u[0], f, p, g), bo(s[1], d[1], l[1], u[1], f, p, g)])
                    }
                    return i
                }
                    (i, n)),
                t.moveTo(i[0][0], i[0][1]);
                s = 1;
                for (var c = i.length; s < c; s++)
                    t.lineTo(i[s][0], i[s][1])
            }
            n && t.closePath()
        }
    }
    var ko = Qr.extend({
        type: "polygon",
        shape: {
            points: null,
            smooth: !1,
            smoothConstraint: null
        },
        buildPath: function (t, e) {
            So(t, e, !0)
        }
    }),
    Mo = Qr.extend({
        type: "polyline",
        shape: {
            points: null,
            smooth: !1,
            smoothConstraint: null
        },
        style: {
            stroke: "#000",
            fill: null
        },
        buildPath: function (t, e) {
            So(t, e, !1)
        }
    }),
    Io = Math.round;
    function Ao(t, e, n) {
        var i = Io(2 * t);
        return (i + Io(e)) % 2 == 0 ? i / 2 : (i + (n ? 1 : -1)) / 2
    }
    var To = {},
    Co = Qr.extend({
        type: "rect",
        shape: {
            r: 0,
            x: 0,
            y: 0,
            width: 0,
            height: 0
        },
        buildPath: function (t, e) {
            var n,
            i,
            r,
            o;
            this.subPixelOptimize ? (!function (t, e, n) {
                var i = n && n.lineWidth;
                if (e && i) {
                    var r = e.x,
                    o = e.y,
                    a = e.width,
                    s = e.height;
                    t.x = Ao(r, i, !0),
                    t.y = Ao(o, i, !0),
                    t.width = Math.max(Ao(r + a, i, !1) - t.x, 0 === a ? 0 : 1),
                    t.height = Math.max(Ao(o + s, i, !1) - t.y, 0 === s ? 0 : 1)
                }
            }
                (To, e, this.style), n = To.x, i = To.y, r = To.width, o = To.height, To.r = e.r, e = To) : (n = e.x, i = e.y, r = e.width, o = e.height),
            e.r ? $n(t, e) : t.rect(n, i, r, o),
            t.closePath()
        }
    }),
    zo = {},
    Eo = Qr.extend({
        type: "line",
        shape: {
            x1: 0,
            y1: 0,
            x2: 0,
            y2: 0,
            percent: 1
        },
        style: {
            stroke: "#000",
            fill: null
        },
        buildPath: function (t, e) {
            var n,
            i,
            r,
            o;
            this.subPixelOptimize ? (!function (t, e, n) {
                var i = n && n.lineWidth;
                if (e && i) {
                    var r = e.x1,
                    o = e.x2,
                    a = e.y1,
                    s = e.y2;
                    Io(2 * r) === Io(2 * o) ? t.x1 = t.x2 = Ao(r, i, !0) : (t.x1 = r, t.x2 = o),
                    Io(2 * a) === Io(2 * s) ? t.y1 = t.y2 = Ao(a, i, !0) : (t.y1 = a, t.y2 = s)
                }
            }
                (zo, e, this.style), n = zo.x1, i = zo.y1, r = zo.x2, o = zo.y2) : (n = e.x1, i = e.y1, r = e.x2, o = e.y2);
            var a = e.percent;
            0 !== a && (t.moveTo(n, i), a < 1 && (r = n * (1 - a) + r * a, o = i * (1 - a) + o * a), t.lineTo(r, o))
        },
        pointAt: function (t) {
            var e = this.shape;
            return [e.x1 * (1 - t) + e.x2 * t, e.y1 * (1 - t) + e.y2 * t]
        }
    }),
    Lo = [];
    function Do(t, e, n) {
        var i = t.cpx2,
        r = t.cpy2;
        return null === i || null === r ? [(n ? Qi : Ki)(t.x1, t.cpx1, t.cpx2, t.x2, e), (n ? Qi : Ki)(t.y1, t.cpy1, t.cpy2, t.y2, e)] : [(n ? nr : er)(t.x1, t.cpx1, t.x2, e), (n ? nr : er)(t.y1, t.cpy1, t.y2, e)]
    }
    var Oo = Qr.extend({
        type: "bezier-curve",
        shape: {
            x1: 0,
            y1: 0,
            x2: 0,
            y2: 0,
            cpx1: 0,
            cpy1: 0,
            percent: 1
        },
        style: {
            stroke: "#000",
            fill: null
        },
        buildPath: function (t, e) {
            var n = e.x1,
            i = e.y1,
            r = e.x2,
            o = e.y2,
            a = e.cpx1,
            s = e.cpy1,
            l = e.cpx2,
            u = e.cpy2,
            h = e.percent;
            0 !== h && (t.moveTo(n, i), null == l || null == u ? (h < 1 && (rr(n, a, r, h, Lo), a = Lo[1], r = Lo[2], rr(i, s, o, h, Lo), s = Lo[1], o = Lo[2]), t.quadraticCurveTo(a, s, r, o)) : (h < 1 && (tr(n, a, l, r, h, Lo), a = Lo[1], l = Lo[2], r = Lo[3], tr(i, s, u, o, h, Lo), s = Lo[1], u = Lo[2], o = Lo[3]), t.bezierCurveTo(a, s, l, u, r, o)))
        },
        pointAt: function (t) {
            return Do(this.shape, t, !1)
        },
        tangentAt: function (t) {
            var e = Do(this.shape, t, !0);
            return rt(e, e)
        }
    }),
    Po = Qr.extend({
        type: "arc",
        shape: {
            cx: 0,
            cy: 0,
            r: 0,
            startAngle: 0,
            endAngle: 2 * Math.PI,
            clockwise: !0
        },
        style: {
            stroke: "#000",
            fill: null
        },
        buildPath: function (t, e) {
            var n = e.cx,
            i = e.cy,
            r = Math.max(e.r, 0),
            o = e.startAngle,
            a = e.endAngle,
            s = e.clockwise,
            l = Math.cos(o),
            u = Math.sin(o);
            t.moveTo(l * r + n, u * r + i),
            t.arc(n, i, r, o, a, !s)
        }
    }),
    Fo = function (t) {
        this.colorStops = t || []
    };
    Fo.prototype = {
        constructor: Fo,
        addColorStop: function (t, e) {
            this.colorStops.push({
                offset: t,
                color: e
            })
        }
    };
    var No = function (t, e, n, i, r, o) {
        this.x = null == t ? 0 : t,
        this.y = null == e ? 0 : e,
        this.x2 = null == n ? 1 : n,
        this.y2 = null == i ? 0 : i,
        this.type = "linear",
        this.global = o || !1,
        Fo.call(this, r)
    };
    No.prototype = {
        constructor: No
    },
    z(No, Fo);
    var Ro = function (t, e, n, i, r) {
        this.x = null == t ? .5 : t,
        this.y = null == e ? .5 : e,
        this.r = null == n ? .5 : n,
        this.type = "radial",
        this.global = r || !1,
        Fo.call(this, i)
    };
    function Bo(t) {
        var e,
        n,
        i,
        r;
        return "number" == typeof t ? e = n = i = r = t : t instanceof Array ? 1 === t.length ? e = n = i = r = t[0] : 2 === t.length ? (e = i = t[0], n = r = t[1]) : 3 === t.length ? (e = t[0], n = r = t[1], i = t[2]) : (e = t[0], n = t[1], i = t[2], r = t[3]) : e = n = i = r = 0, {
            r1: e,
            r2: n,
            r3: i,
            r4: r
        }
    }
    Ro.prototype = {
        constructor: Ro
    },
    z(Ro, Fo);
    var Wo = Qr.extend({
        type: "borderRect",
        shape: {
            r: 0,
            borderEnable: 1,
            x: 0,
            y: 0,
            width: 0,
            height: 0
        },
        buildPath: function (t, e) {
            var n = e.x,
            i = e.y,
            r = e.width,
            o = e.height;
            e.r || 1 !== e.borderEnable && 0 !== e.borderEnable ? function (t, e) {
                var n = e.x,
                i = e.y,
                r = e.width,
                o = e.height,
                a = e.r;
                r < 0 && (n += r, r = -r),
                o < 0 && (i += o, o = -o);
                var s,
                l = Bo(a),
                u = l.r1,
                h = l.r2,
                c = l.r3,
                f = l.r4,
                d = Bo(e.borderEnable),
                p = d.r1,
                g = d.r2,
                v = d.r3,
                y = d.r4;
                u + h > r && (u *= r / (s = u + h), h *= r / s),
                c + f > r && (c *= r / (s = c + f), f *= r / s),
                h + c > o && (h *= o / (s = h + c), c *= o / s),
                u + f > o && (u *= o / (s = u + f), f *= o / s),
                p && (t.moveTo(n + u, i), t.lineTo(n + r - h, i), 0 !== h && t.arc(n + r - h, i + h, h, -Math.PI / 2, 0)),
                g && (t.moveTo(n + r - h, i), t.lineTo(n + r, i + o - c), 0 !== c && t.arc(n + r - c, i + o - c, c, 0, Math.PI / 2)),
                v && (t.moveTo(n + r, i + o - c), t.lineTo(n + f, i + o), 0 !== f && t.arc(n + f, i + o - f, f, Math.PI / 2, Math.PI)),
                y && (t.moveTo(n + f, i + o), t.lineTo(n, i + u), 0 !== u && t.arc(n + u, i + u, u, Math.PI, 1.5 * Math.PI))
            }
            (t, e) : t.rect(n, i, r, o),
            t.closePath()
        }
    }),
    Go = Math.PI,
    Ho = 2 * Go,
    jo = Ho - 1e-6;
    function Uo() {
        this._x0 = this._y0 = this._x1 = this._y1 = null,
        this._ = ""
    }
    function qo() {
        return new Uo
    }
    function Yo(t) {
        return function () {
            return t
        }
    }
    function Vo(t) {
        this._context = t
    }
    function $o(t) {
        return new Vo(t)
    }
    function Xo(t) {
        return t[0]
    }
    function Zo(t) {
        return t[1]
    }
    function Ko() {
        var t = Xo,
        e = Zo,
        n = Yo(!0),
        i = null,
        r = $o,
        o = null;
        function a(a) {
            var s,
            l,
            u,
            h = a.length,
            c = !1;
            for (null == i && (o = r(u = qo())), s = 0; s <= h; ++s)
                !(s < h && n(l = a[s], s, a)) === c && ((c = !c) ? o.lineStart() : o.lineEnd()), c && o.point(+t(l, s, a), +e(l, s, a));
            if (u)
                return o = null, u + "" || null
        }
        return a.x = function (e) {
            return arguments.length ? (t = "function" == typeof e ? e : Yo(+e), a) : t
        },
        a.y = function (t) {
            return arguments.length ? (e = "function" == typeof t ? t : Yo(+t), a) : e
        },
        a.defined = function (t) {
            return arguments.length ? (n = "function" == typeof t ? t : Yo(!!t), a) : n
        },
        a.curve = function (t) {
            return arguments.length ? (r = t, null != i && (o = r(i)), a) : r
        },
        a.context = function (t) {
            return arguments.length ? (null == t ? i = o = null : o = r(i = t), a) : i
        },
        a
    }
    Uo.prototype = qo.prototype = {
        constructor: Uo,
        moveTo: function (t, e) {
            this._ += "M" + (this._x0 = this._x1 = +t) + "," + (this._y0 = this._y1 = +e)
        },
        closePath: function () {
            null !== this._x1 && (this._x1 = this._x0, this._y1 = this._y0, this._ += "Z")
        },
        lineTo: function (t, e) {
            this._ += "L" + (this._x1 = +t) + "," + (this._y1 = +e)
        },
        quadraticCurveTo: function (t, e, n, i) {
            this._ += "Q" + +t + "," + +e + "," + (this._x1 = +n) + "," + (this._y1 = +i)
        },
        bezierCurveTo: function (t, e, n, i, r, o) {
            this._ += "C" + +t + "," + +e + "," + +n + "," + +i + "," + (this._x1 = +r) + "," + (this._y1 = +o)
        },
        arcTo: function (t, e, n, i, r) {
            t = +t,
            e = +e,
            n = +n,
            i = +i,
            r = +r;
            var o = this._x1,
            a = this._y1,
            s = n - t,
            l = i - e,
            u = o - t,
            h = a - e,
            c = u * u + h * h;
            if (r < 0)
                throw new Error("negative radius: " + r);
            if (null === this._x1)
                this._ += "M" + (this._x1 = t) + "," + (this._y1 = e);
            else if (c > 1e-6)
                if (Math.abs(h * s - l * u) > 1e-6 && r) {
                    var f = n - o,
                    d = i - a,
                    p = s * s + l * l,
                    g = f * f + d * d,
                    v = Math.sqrt(p),
                    y = Math.sqrt(c),
                    m = r * Math.tan((Go - Math.acos((p + c - g) / (2 * v * y))) / 2),
                    x = m / y,
                    _ = m / v;
                    Math.abs(x - 1) > 1e-6 && (this._ += "L" + (t + x * u) + "," + (e + x * h)),
                    this._ += "A" + r + "," + r + ",0,0," +  + (h * f > u * d) + "," + (this._x1 = t + _ * s) + "," + (this._y1 = e + _ * l)
                } else
                    this._ += "L" + (this._x1 = t) + "," + (this._y1 = e);
            else ;
        },
        arc: function (t, e, n, i, r, o) {
            t = +t,
            e = +e;
            var a = (n = +n) * Math.cos(i),
            s = n * Math.sin(i),
            l = t + a,
            u = e + s,
            h = 1 ^ o,
            c = o ? i - r : r - i;
            if (n < 0)
                throw new Error("negative radius: " + n);
            null === this._x1 ? this._ += "M" + l + "," + u : (Math.abs(this._x1 - l) > 1e-6 || Math.abs(this._y1 - u) > 1e-6) && (this._ += "L" + l + "," + u),
            n && (c < 0 && (c = c % Ho + Ho), c > jo ? this._ += "A" + n + "," + n + ",0,1," + h + "," + (t - a) + "," + (e - s) + "A" + n + "," + n + ",0,1," + h + "," + (this._x1 = l) + "," + (this._y1 = u) : c > 1e-6 && (this._ += "A" + n + "," + n + ",0," +  + (c >= Go) + "," + h + "," + (this._x1 = t + n * Math.cos(r)) + "," + (this._y1 = e + n * Math.sin(r))))
        },
        rect: function (t, e, n, i) {
            this._ += "M" + (this._x0 = this._x1 = +t) + "," + (this._y0 = this._y1 = +e) + "h" + +n + "v" + +i + "h" + -n + "Z"
        },
        toString: function () {
            return this._
        }
    },
    Vo.prototype = {
        areaStart: function () {
            this._line = 0
        },
        areaEnd: function () {
            this._line = NaN
        },
        lineStart: function () {
            this._point = 0
        },
        lineEnd: function () {
            (this._line || 0 !== this._line && 1 === this._point) && this._context.closePath(),
            this._line = 1 - this._line
        },
        point: function (t, e) {
            switch (t = +t, e = +e, this._point) {
            case 0:
                this._point = 1,
                this._line ? this._context.lineTo(t, e) : this._context.moveTo(t, e);
                break;
            case 1:
                this._point = 2;
            default:
                this._context.lineTo(t, e)
            }
        }
    };
    var Qo = Qr.extend({
        type: "d3-line",
        shape: {
            data: [],
            x: void 0,
            y: void 0,
            defined: void 0,
            curve: void 0,
            yStart: 0,
            percent: 1
        },
        style: {
            stroke: "#000",
            fill: null
        },
        updateLine: function () {
            !this.line && (this.line = Ko());
            var t = this.line,
            e = this.shape;
            for (var n in e)
                !~["data", "percent", "yStart"].indexOf(n) && t[n] && void 0 !== e[n] && ("y" === n ? function () {
                    var i = e[n],
                    r = W(i),
                    o = e.percent,
                    a = e.yStart,
                    s = W(a);
                    t[n](function (t, e, n) {
                        var l = r ? i(t, e, n) : i;
                        return void 0 === a ? l : l * o + (s ? a(t, e, n) : a) * (1 - o)
                    })
                }
                    () : t[n](e[n]))
        },
        buildPath: function (t, e) {
            this.updateLine(),
            this.line.context(t)(e.data)
        }
    }),
    Jo = Math.round;
    function ta(t) {
        return Qr.extend(t)
    }
    function ea(t, e, n, i) {
        var r = go(t, e),
        o = r.getBoundingRect();
        if (n) {
            var a = o.width / o.height;
            if ("center" === i) {
                var s,
                l = n.height * a;
                s = l <= n.width ? n.height : (l = n.width) / a;
                var u = n.x + n.width / 2,
                h = n.y + n.height / 2;
                n.x = u - l / 2,
                n.y = h - s / 2,
                n.width = l,
                n.height = s
            }
            ra(r, n)
        }
        return r
    }
    function na(t, e, n) {
        var i = new yi({
            style: {
                image: t,
                x: e.x,
                y: e.y,
                width: e.width,
                height: e.height
            },
            onload: function (t) {
                if ("center" === n) {
                    var r = {
                        width: t.width,
                        height: t.height
                    };
                    i.setStyle(function (t, e) {
                        var n,
                        i = e.width / e.height,
                        r = t.height * i;
                        r <= t.width ? n = t.height : (r = t.width, n = r / i);
                        var o = t.x + t.width / 2,
                        a = t.y + t.height / 2;
                        return {
                            x: o - r / 2,
                            y: a - n / 2,
                            width: r,
                            height: n
                        }
                    }
                        (e, r))
                }
            }
        });
        return i
    }
    var ia = function (t, e) {
        for (var n = [], i = t.length, r = 0; r < i; r++) {
            var o = t[r];
            o.path || o.createPathProxy(),
            o.__dirtyPath && o.buildPath(o.path, o.shape, !0),
            n.push(o.path)
        }
        var a = new Qr(e);
        return a.createPathProxy(),
        a.buildPath = function (t) {
            t.appendPath(n);
            var e = t.getContext();
            e && t.rebuildPath(e)
        },
        a
    };
    function ra(t, e) {
        if (t.applyTransform) {
            var n = t.getBoundingRect().calculateTransform(e);
            t.applyTransform(n)
        }
    }
    function oa(t) {
        var e = t.shape,
        n = t.position || [0, 0],
        i = t.style.lineWidth;
        return Jo(2 * e.x1) === Jo(2 * e.x2) && (e.x1 = e.x2 = sa(e.x1, i, !0, n[0])),
        Jo(2 * e.y1) === Jo(2 * e.y2) && (e.y1 = e.y2 = sa(e.y1, i, !0, n[1])),
        t
    }
    function aa(t) {
        if (!t.style.stroke)
            return t;
        var e = t.shape,
        n = t.style.lineWidth,
        i = e.x,
        r = e.y,
        o = e.width < 0,
        a = e.height < 0,
        s = Math.abs(e.width),
        l = Math.abs(e.height);
        return e.x = sa(e.x, n, !0),
        e.y = sa(e.y, n, !0),
        e.width = Math.max(sa(i + s, n, !1) - e.x, 0 === s ? 0 : 1),
        o && (e.width = -e.width),
        e.height = Math.max(sa(r + l, n, !1) - e.y, 0 === l ? 0 : 1),
        a && (e.height = -e.height),
        t
    }
    function sa(t) {
        var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0,
        n = arguments[2],
        i = arguments[3],
        r = Jo(2 * t);
        return (r + Jo(e) + (i ? Jo(2 * i) : 0)) % 2 == 0 ? r / 2 : (r + (n ? 1 : -1)) / 2
    }
    function la(t) {
        return null != t && "none" != t
    }
    function ua(t) {
        return "string" == typeof t ? de(t,  - .1) : t
    }
    function ha(t) {
        if (t.__hoverStlDirty) {
            var e = t.style.stroke,
            n = t.style.fill,
            i = t.__hoverStl;
            i.fill = i.fill || (la(n) ? ua(n) : null),
            i.stroke = i.stroke || (la(e) ? ua(e) : null);
            var r = {};
            for (var o in i)
                i.hasOwnProperty(o) && (r[o] = t.style[o]);
            t.__normalStl = r,
            t.__hoverStlDirty = !1
        }
    }
    function ca(t) {
        t.__isHover || (ha(t), t.useHoverLayer ? t.__zr && t.__zr.addHover(t, t.__hoverStl) : (t.setStyle(t.__hoverStl), t.z2 += 1), t.__isHover = !0)
    }
    function fa(t) {
        if (t.__isHover) {
            var e = t.__normalStl;
            t.useHoverLayer ? t.__zr && t.__zr.removeHover(t) : (e && t.setStyle(e), t.z2 -= 1),
            t.__isHover = !1
        }
    }
    function da(t) {
        "group" === t.type ? t.traverse(function (t) {
            "group" !== t.type && ca(t)
        }) : ca(t)
    }
    function pa(t) {
        "group" === t.type ? t.traverse(function (t) {
            "group" !== t.type && fa(t)
        }) : fa(t)
    }
    function ga(t, e) {
        t.__hoverStl = t.hoverStyle || e || {},
        t.__hoverStlDirty = !0,
        t.__isHover && ha(t)
    }
    function va(t) {
        this.__hoverSilentOnTouch && t.zrByTouch || !this.__isEmphasis && da(this)
    }
    function ya(t) {
        this.__hoverSilentOnTouch && t.zrByTouch || !this.__isEmphasis && pa(this)
    }
    function ma() {
        this.__isEmphasis = !0,
        da(this)
    }
    function xa() {
        this.__isEmphasis = !1,
        pa(this)
    }
    function _a(t, e) {
        var n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {
            disableMouse: !1
        };
        t.__hoverSilentOnTouch = n && n.hoverSilentOnTouch,
        "group" === t.type ? t.traverse(function (t) {
            "group" !== t.type && ga(t, e)
        }) : ga(t, e),
        n && n.disableMouse || t.on("mouseover", va).on("mouseout", ya),
        t.on("emphasis", ma).on("normal", xa)
    }
    var wa = ["fill", "stroke", "shadowBlur", "shadowColor", "shadowOffsetX", "shadowOffsetY", "position", "offset", "lineWidth"],
    ba = ["textFill", "textStroke", "textShadowBlur", "textShadowColor", "textShadowOffsetX", "textShadowOffsetY", "textPosition", "textOffset", "textLineWidth"];
    function Sa(t) {
        if (t) {
            var e = t.style ? t.style : t;
            return e.rich && D(e.rich, function (t) {
                Sa(t)
            }),
            D(wa, function (t, n) {
                void 0 !== e[t] && (e[ba[n]] = e[t], delete e[t])
            }),
            t
        }
    }
    var ka = H,
    Ma = b,
    Ia = O;
    function Aa(t, e) {
        if (ka(t)) {
            var n = t.colorStops,
            i = e && 1 !== e ? Ia(Ma(n).reverse(), function (t) {
                var n = t.offset;
                return {
                    color: t.color,
                    offset: 1 - n * (1 - e)
                }
            }) : [];
            t.colorStops = Ia(n, function (t) {
                var n = t.offset;
                return {
                    color: t.color,
                    offset: e ? e * n : 1 - n
                }
            }).concat(i)
        }
    }
    function Ta(t, e) {
        if (t) {
            if (t.hasOwnProperty("fill") && ka(t.fill) || t.hasOwnProperty("stroke") && ka(t.stroke)) {
                var n = Ma(t);
                return Aa(n.fill, e),
                Aa(n.stroke, e),
                n
            }
            return t
        }
    }
    function Ca(t, e, n) {
        var i = n.onDragStart,
        r = n.onDragging,
        o = n.onDragEnd,
        a = !1,
        s = void 0;
        function l(t) {
            a || (a = !0, s = t.target, i && i(t))
        }
        function u(t) {
            a && (t.target = s, r && r(t))
        }
        function h(t) {
            a && (t.target = s, o && o(t), a = !1, s = void 0)
        }
        t.on("mousedown", l),
        e.on("mousemove", u),
        e.on("mouseup", h),
        e.on("globalout", h),
        t.disableDrag = function () {
            t.off("mousedown", l),
            e.off("mousedown", u),
            e.off("mousedown", h)
        }
    }
    var za = Object.freeze({
        extendShape: ta,
        extendPath: function (t, e) {
            return function (t, e) {
                return Qr.extend(po(t, e))
            }
            (t, e)
        },
        PathString: function (t, e) {
            return go(t, e)
        },
        makePath: ea,
        makeImage: na,
        mergePath: ia,
        resizePath: ra,
        subPixelOptimizeLine: oa,
        subPixelOptimizeRect: aa,
        subPixelOptimize: sa,
        setHoverStyle: _a,
        formatTextStyle: Sa,
        reverseStyleStops: Ta,
        enableDrag: Ca,
        Path: Qr,
        Group: Ze,
        Image: yi,
        Text: vo,
        Circle: yo,
        Sector: _o,
        Ring: wo,
        Polygon: ko,
        Polyline: Mo,
        Rect: Co,
        Line: Eo,
        D3Line: Qo,
        BorderRoundRect: Wo,
        BezierCurve: Oo,
        Arc: Po,
        LinearGradient: No,
        RadialGradient: Ro,
        BoundingRect: Xe,
        colorTool: xe
    });
    function Ea(t) {
        var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 1;
        if (void 0 !== t) {
            switch (t) {
            case "center":
            case "middle":
                t = "50%";
                break;
            case "left":
            case "top":
                t = "0%";
                break;
            case "right":
            case "bottom":
                t = "100%"
            }
            return "string" == typeof t ? (n = t, n.replace(/^\s+/, "").replace(/\s+$/, "")).match(/%$/) ? parseFloat(t) / 100 * e : parseFloat(t) : "number" == typeof t ? t : null == t ? NaN : +t;
            var n
        }
    }
    function La(t, e, n) {
        if (t && e)
            for (var i = 0, r = t.length; i < r; i++)
                if (e.call(n, t[i], i, t))
                    return i
    }
    function Da(t, e, n) {
        if (t && e) {
            for (var i = [], r = 0, o = t.length; r < o; r++)
                e.call(n, t[r], r, t) && i.push(r);
            return i
        }
    }
    function Oa(t, e) {
        return B(t) ? {
            width: Ea(t[0], e),
            height: Ea(t[1], e)
        }
         : {
            width: Ea(t, e),
            height: Ea(t, e)
        }
    }
    function Pa(t) {
        return Object.prototype.toString.call(t).slice(8, -1)
    }
    function Fa() {
        var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},
        e = arguments[1],
        n = arguments[2],
        i = arguments.length > 3 && void 0 !== arguments[3] && arguments[3],
        r = !(arguments.length > 4 && void 0 !== arguments[4]) || arguments[4],
        o = 0,
        a = t;
        for (e = e.split("."); o < e.length - 1; o++)
            a[e[o]] = a[e[o]] || {},
        a = a[e[o]];
        return "Object" === Pa(n) && i ? a[e[o]] = S(a[e[o]] || {}, n, r) : a[e[o]] = n,
        t
    }
    function Na(t, e) {
        var n = t,
        i = 0;
        for (e = e.split("."); i < e.length - 1; i++) {
            if (!n[e[i]])
                return;
            n = n[e[i]]
        }
        return n[e[i]]
    }
    var Ra = Object.freeze({
        parsePercent: Ea,
        findAll: function (t, e, n) {
            if (t && e) {
                for (var i = [], r = 0, o = t.length; r < o; r++)
                    e.call(n, t[r], r, t) && i.push(t[r]);
                return i
            }
        },
        findIndex: La,
        findAllIndex: Da,
        parseSize: Oa,
        typeOf: Pa,
        setObjectKV: Fa,
        getObjectKV: Na,
        enableClassManagement: Bi,
        $override: w,
        clone: b,
        merge: S,
        mergeAll: function (t, e) {
            for (var n = t[0], i = 1, r = t.length; i < r; i++)
                n = S(n, t[i], e);
            return n
        },
        extend: k,
        defaults: M,
        createCanvas: A,
        getContext: T,
        indexOf: C,
        inherits: z,
        mixin: E,
        isArrayLike: L,
        each: D,
        map: O,
        reduce: function (t, e, n, i) {
            if (t && e) {
                if (t.reduce && t.reduce === x)
                    return t.reduce(e, n, i);
                for (var r = 0, o = t.length; r < o; r++)
                    n = e.call(i, n, t[r], r, t);
                return n
            }
        },
        filter: P,
        find: F,
        bind: N,
        curry: R,
        isArray: B,
        isFunction: W,
        isString: G,
        isObject: H,
        isBuiltInObject: j,
        isTypedArray: function (t) {
            return !!f[d.call(t)]
        },
        isDom: U,
        eqNaN: function (t) {
            return t != t
        },
        retrieve: function (t) {
            for (var e = 0, n = arguments.length; e < n; e++)
                if (null != arguments[e])
                    return arguments[e]
        },
        retrieve2: q,
        retrieve3: Y,
        slice: function () {
            return Function.call.apply(y, arguments)
        },
        normalizeCssArray: V,
        assert: function (t, e) {
            if (!t)
                throw new Error(e)
        },
        trim: $,
        setAsPrimitive: function (t) {
            t[X] = !0
        },
        isPrimitive: Z,
        createHashMap: function (t) {
            return new K(t)
        },
        concatArray: function (t, e) {
            for (var n = new t.constructor(t.length + e.length), i = 0; i < t.length; i++)
                n[i] = t[i];
            var r = t.length;
            for (i = 0; i < e.length; i++)
                n[i + r] = e[i];
            return n
        },
        noop: function () {}
    }),
    Ba = function () {
        function t() {
            o(this, t),
            this._shapeMap = {},
            this.group = new Ze
        }
        return t.prototype.set = function (e, n) {
            var i = this.group,
            r = this.getShape(e);
            return r && (n instanceof t ? i.remove(r.group) : i.remove(r)),
            n instanceof t ? (i.add(n.group), n.group.groupShape = n) : i.add(n),
            this._shapeMap[e] = n,
            n
        },
        t.prototype.getShape = function (t, e) {
            var n = this._shapeMap[t];
            return n && n instanceof Ze ? void 0 === e ? n : !!(n = n.childOfName(e)) && (n.groupShape ? n.groupShape : n) : n
        },
        t.prototype.eachShape = function (t) {
            D(this._shapeMap, t)
        },
        t.prototype.setShape = function (e, n, i) {
            var r = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : {},
            o = r.animation,
            a = r.animateFrom,
            s = r.duration,
            l = void 0 === s ? 500 : s,
            u = r.easing,
            h = void 0 === u ? "cubicOut" : u,
            c = r.animateList,
            f = arguments[4],
            d = this.group,
            p = this.getShape(e),
            g = !1;
            if (o && void 0 === c && (c = a), p)
                if (o) {
                    var v = Wa(c, i),
                    y = Wa(c, p._shapeMap ? p._shapeMap : p);
                    p.attr(i),
                    p.attr(y),
                    p.animateTo(v, l, h)
                } else
                    p.attr(i);
            else if ((p = B(i) ? new(Function.prototype.bind.apply(n, [null].concat(i))) : new n(i))instanceof t ? (d.add(p.group), p.group.groupShape = p) : d.add(p), g = !0, o && a) {
                var m = Wa(a, i);
                p.attr(a),
                p.animateTo(m, l, h)
            }
            return this._shapeMap[e] = p,
            g && f && f(p),
            p
        },
        t.prototype.setShapeGroup = function (e, n, i) {
            var r = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : {},
            o = r.animation,
            a = r.animateFrom,
            s = r.duration,
            u = void 0 === s ? 500 : s,
            h = r.easing,
            c = void 0 === h ? "cubicOut" : h,
            f = r.animateList,
            d = r.animateLeave,
            p = arguments[4],
            g = arguments[5],
            v = this.group,
            y = this.getShape(e),
            m = (i.length, void 0),
            x = !1;
            y || (y = new Ze, v.add(y), x = !0);
            var _,
            w = function (t, e, n) {
                for (var i = {}, r = t.length, o = 0; o < r; o++) {
                    var a = t[o];
                    a._index = o,
                    void 0 === a.key ? (a.name = o, i[o] = a) : (a.name = a.key, i[a.key] = a, delete a.key)
                }
                return i
            }
            (i),
            S = (_ = {}, y.eachChild(function (t, e) {
                    void 0 === t.name ? (t.name = e, _[e] = t) : _[t.name] = t
                }), _);
            return o && void 0 === f && (f = a),
            function (t, e) {
                D(e, function (e, n) {
                    t[n] ? e.action = {
                        type: "UPDATE",
                        payload: {
                            oldChild: t[n],
                            index: e._index
                        }
                    }
                     : e.action = {
                        type: "CREATE",
                        payload: {
                            index: e._index
                        }
                    },
                    delete e._index
                }),
                D(t, function (t, n) {
                    e[n] || (e[n] = t, e[n].action = {
                            type: "REMOVE",
                            payload: {
                                oldChild: t
                            }
                        })
                })
            }
            (S, w),
            D(w, function (e, i) {
                var r = e.action,
                s = r.type,
                h = r.payload,
                p = l(e, ["action"]);
                switch (s) {
                case "CREATE":
                    if ((m = new n(p))instanceof t ? (y.add(m.group), m.group.groupShape = m) : y.add(m), o && a) {
                        var v = B(a) ? a[h.index] : b(a),
                        x = Wa(v, p);
                        m.attr(v),
                        m.animateTo(x, u, c)
                    }
                    g && g(m);
                    break;
                case "UPDATE":
                    if ((m = h.oldChild).groupShape && (m = m.groupShape), o) {
                        var _ = B(f) ? f[h.index] : f,
                        w = Wa(_, p),
                        S = Wa(_, m._shapeMap ? m._shapeMap : m);
                        m.attr(p),
                        m.attr(S),
                        m.animateTo(w, u, c)
                    } else
                        m.attr(p);
                    break;
                case "REMOVE":
                    o && d ? h.oldChild.animateTo(d, u, function () {
                        y.remove(h.oldChild)
                    }) : y.remove(h.oldChild)
                }
            }),
            this._shapeMap[e] = y,
            x && p && p(y),
            y
        },
        t.prototype.removeShape = function (t) {
            var e = this.getShape(t);
            e && (this.group.remove(e.group ? e.group : e), delete this._shapeMap[t])
        },
        t.prototype.remove = function () {
            for (var t in this.group.removeAll(), this.group.dirty(), this._shapeMap) {
                var e = this._shapeMap[t];
                e.group ? e.group.off() : e.off(),
                delete this._shapeMap[t]
            }
        },
        t
    }
    ();
    function Wa(t, e) {
        if (H(t)) {
            var n = B(t) ? [] : {};
            for (var i in t)
                H(t[i]) ? e[i] && (n[i] = Wa(t[i], e[i])) : n[i] = e[i];
            return n
        }
        return e
    }
    var Ga = {
        viewDidRenderAfterSetOption: "VIEW_DID_RENDER_AFTER_SET_OPTION",
        viewDidRender: "VIEW_DID_RENDER"
    },
    Ha = {
        titleClick: "TITLE_CLICK"
    },
    ja = {
        move: "AXIS_MOVE",
        out: "AXIS_OUT",
        zoomChange: "AXIS_ZOOM_CHANGED",
        domainChange: "AXIS_DOMAIN_CHANGED"
    },
    Ua = {
        move: "RADAR_AXIS_MOVE",
        out: "RADAR_AXIS_OUT"
    },
    qa = {
        over: "GEO_AXIS_OVER",
        out: "GEO_AXIS_OUT",
        itemClick: "GEO_AXIS_ITEM_CLICK"
    },
    Ya = {
        move: "AXISPOINTER_MOVE",
        out: "AXISPOINTER_OUT",
        before: "BEFORE_AXISPOINTER_MOVE",
        after: "AFTER_AXISPOINTER_MOVE"
    },
    Va = {
        start: "ZOOM_MOVE_START",
        moving: "ZOOM_MOVING",
        end: "ZOOM_MOVE_END",
        wheel: "ZOOM_WHEEL",
        change: "ZOOM_CHANGE"
    },
    $a = {
        itemClick: "ITEM_CLICK",
        dblClick: "DBL_CLICK",
        selectedListChange: "SELECTEDLIST_CHANGE",
        mouseover: "ITEM_MOUSEOVER",
        mouseout: "ITEM_MOUSEOUT",
        mousemove: "ITEM_MOUSEMOVE"
    },
    Xa = {
        click: "LEGEND_CLICK",
        mouseover: "LEGEND_MOUSEOVER",
        mouseout: "LEGEND_MOUSEOUT",
        mousemove: "LEGEND_MOUSEMOVE"
    },
    Za = {
        showLabel: "LABEL",
        markerClick: "LABEL_NAME",
        itemClick: "ITEM_CLICK",
        mouseout: "ITEM_MOUSEOUT",
        mouseover: "ITEM_MOUSEMOVE"
    },
    Ka = {
        pointMousemove: "MARKPOINT_MOUSEMOVE",
        pointMouseout: "MARKPOINT_MOUSEOUT",
        pointMouseover: "MARKPOINT_MOUSEOVER",
        pointClick: "MARKPOINT_CLICK"
    },
    Qa = {
        lineMousemove: "MARKLINE_MOUSEMOVE",
        lineMouseout: "MARKLINE_MOUSEOUT",
        lineMouseover: "MARKLINE_MOUSEOVER",
        lineClick: "MARKLINE_CLICK"
    },
    Ja = {
        nodeClick: "NODE_CLICK",
        nodeMouseover: "NODE_MOUSEOVER",
        nodeMousemove: "NODE_MOUSEMOVE",
        nodeMouseout: "NODE_MOUSEOUT",
        edgeClick: "EDGE_CLICK",
        edgeMouseover: "EDGE_MOUSEOVER",
        edgeMousemove: "EDGE_MOUSEMOVE",
        edgeMouseout: "EDGE_MOUSEOUT"
    },
    ts = {
        itemClick: "ITEM_CLICK"
    },
    es = {
        nodeClick: "FOCUS_NODE",
        linkClick: "FOCUS_EDGE"
    },
    ns = {
        willUpdate: "MODEL_WILL_UPDATE",
        didUpdate: "MODEL_DID_UPDATE"
    },
    is = {
        didRender: "VIEW_DID_RENDER"
    },
    rs = {
        update: "PROVIDER_UPDATE"
    },
    os = {
        update: "POOL_UPDATE"
    },
    as = Object.freeze({
        markPointActions: Ka,
        markLineActions: Qa,
        dataProviderActions: rs,
        dataPoolActions: os,
        titleActions: Ha,
        axisActions: ja,
        radarAxisActions: Ua,
        axisPointerActions: Ya,
        dataZoomActions: Va,
        seriesActions: $a,
        legendActions: Xa,
        geoActions: Za,
        geoAxisActions: qa,
        dagrexActions: Ja,
        sketchActions: ts,
        forceActions: es,
        viewActions: is,
        modelActions: ns,
        instanceActions: Ga
    }),
    ss = "view",
    ls = function (t) {
        function e(n, i, r) {
            o(this, e);
            var a = u(this, t.apply(this, arguments));
            return a.type = ss,
            a._lastUpdateTag = void 0,
            a.setRoam(n, i, r),
            a
        }
        return s(e, t),
        e.prototype.zoomable = function (t, e, n) {
            var i = !(t.get("roam") || {}).enable;
            t.set({
                roam: {
                    enable: i
                }
            })
        },
        e.prototype.setRoam = function (t, e, n) {
            var i = this,
            r = t.get("roam") || {},
            o = e.get("roam"),
            a = e.get("preventDefaultMouseWheel");
            S(r, o);
            var s = void 0;
            if (r.inGrid) {
                var l = t.get("$gridIndex");
                s = e.getComponentByIndex("grid", l)
            }
            n.on("mousewheel", function (t) {
                var e = t.event,
                n = t.offsetX,
                o = t.offsetY,
                l = t.wheelDelta;
                r.inGrid || s && !s.isPointInGrid(n, o) || !r.enable || i.scale(n, o, l, r),
                a && e.preventDefault && e.preventDefault()
            }),
            n.on("pinch", function (t) {
                t.offsetX,
                t.offsetY;
                var e = t.pinchX,
                n = t.pinchY;
                s && !s.isPointInGrid(e, n) || !r.enable || i.scale(e, n, t.pinchScale - 1, r)
            }),
            this._roaming = !1;
            var u = void 0,
            h = void 0,
            c = void 0;
            n.on("mousedown", function (t) {
                var e = t.offsetX,
                n = t.offsetY,
                o = t.target;
                if ((!s || s.isPointInGrid(e, n)) && r.enable) {
                    var a = i.group;
                    if (!a || !r.onTarget && o)
                        return;
                    i._roaming = !0,
                    u = e,
                    h = n,
                    c = [a.position[0], a.position[1]]
                }
            }),
            n.on("mousemove", function (t) {
                var e = t.offsetX,
                o = t.offsetY;
                if (i._roaming) {
                    var a = i.group,
                    s = 0,
                    l = 0;
                    if (r.horiDrag && (s = e - u), r.vertiDrag && (l = o - h), r.inGrid) {
                        var f = a.getBoundingRect(),
                        d = n.getWidth(),
                        p = n.getHeight();
                        s = Math.max(-f.x, Math.min(d - f.width - f.x, c[0] + s)),
                        l = Math.max(-f.y, Math.min(p - f.height - f.y, c[1] + l))
                    } else
                        s += c[0], l += c[1];
                    a.attr({
                        position: [s, l]
                    })
                }
            }),
            n.on("mouseup", function (t) {
                i._roaming = !1
            }),
            this.roam = r
        },
        e.prototype.scale = function (t, e, n) {
            var i = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : {},
            r = this.group;
            if (r) {
                var o = .1 * n + 1,
                a = r.getLocalTransform(),
                s = i.scaleMax || 1 / 0,
                l = i.scaleMin || -1 / 0;
                a[0] * o <= s && a[3] * o <= s && a[3] * o >= l && a[3] * o >= l && (Ft(a, a, [-t, -e]), Nt(a, a, [o, o]), Ft(a, a, [t, e]), r.transform = a, r.decomposeTransform(), r.dirty())
            }
        },
        e.prototype.updateZ = function (t) {
            var e = t.get("z"),
            n = t.get("zlevel");
            this.group.traverse(function (t) {
                "group" !== t.type && (!isNaN(e) && (t.z = e), !isNaN(n) && (t.zlevel = n))
            })
        },
        e.prototype.__render = function (t, e, n) {
            this._lastUpdateTag !== t._updateTag && (this.render(t, e, n), this.updateZ(t), this._lastUpdateTag = t._updateTag, t.get("enableEdit") ? this.renderEdit(t, e, n) : this.removeEdit(), n.dispatchAction(t, is.didRender, {
                    model: t,
                    view: this
                }))
        },
        e.prototype.render = function (t, e, n) {},
        e.prototype.renderEdit = function (t, e, n) {},
        e.prototype.removeEdit = function () {
            var t = this;
            this.eachShape(function (e, n) {
                0 === n.indexOf("_edit_") && (e.disableDrag && e.disableDrag(), t.removeShape(n))
            })
        },
        e.prototype.remove = function () {
            var e;
            (e = t.prototype.remove).call.apply(e, [this].concat(Array.prototype.slice.call(arguments)))
        },
        e
    }
    (Ba);
    ls.type = ss;
    var us = Bi(ls),
    hs = "chart",
    cs = function (t) {
        function e() {
            var n,
            i;
            o(this, e);
            for (var r = arguments.length, a = Array(r), s = 0; s < r; s++)
                a[s] = arguments[s];
            return n = i = u(this, t.call.apply(t, [this].concat(a))),
            i.type = hs,
            u(i, n)
        }
        return s(e, t),
        e.prototype.highlight = function (t, e, n, i) {},
        e.prototype.downplay = function (t, e, n, i) {},
        e
    }
    (us);
    cs.type = hs;
    var fs = function (t) {
        function e() {
            o(this, e);
            var n = u(this, t.apply(this, arguments));
            return n.type = n.constructor.type,
            n
        }
        return s(e, t),
        e
    }
    (us);
    fs.type = "component";
    var ds = {
        dependentWillUpdate: "DEPENDENT_WILL_UPDATE",
        seriesWillUpdate: "SERIES_WILL_UPDATE",
        dataUpdate: "DATA_UPDATED",
        setOption: "SET_OPTION",
        mergeOption: "MERGE_OPTION"
    },
    ps = function () {
        function t() {
            var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},
            n = arguments[1],
            i = arguments[2],
            r = arguments[3];
            o(this, t),
            this.__dirty = !0,
            this._updateTime = 0,
            this.option = e,
            this.parentModel = n,
            this.globalModel = i,
            this.global = r
        }
        return t.prototype.dirty = function (t) {
            var e = this.globalModel;
            return !(t && !this.shouldModelDirty(t, this, e)) && (this.__dirty = !0, e && e !== this && e.dirty(this, t), !0)
        },
        t.prototype.shouldModelDirty = function (t, e, n) {
            return !0
        },
        t.prototype.update = function () {},
        t.prototype.beforeUpdate = function () {},
        t.prototype.afterUpdate = function () {},
        t.prototype.__update = function (t) {
            (this.isDirty() || t) && (this.global.dispatchAction(this, ns.willUpdate, {
                    model: this,
                    option: this._option
                }, !1), this.beforeUpdate(t), this.update(t), this.__dirty = !1, this._updateTag = ++this._updateTime + "|" + this.id, this.global.dispatchAction(this, ns.didUpdate, {
                    model: this,
                    option: this._option
                }, !1), this.afterUpdate(t))
        },
        t.prototype.isDirty = function () {
            return this.__dirty
        },
        t.prototype.get = function (t) {
            return t ? this._option[t] : this._option
        },
        t.prototype.set = function (t, e) {
            var n;
            !G(t) || this._option[t] === e && "object" !== (void 0 === e ? "undefined" : r(e)) ? H(t) && (S(this._option, t, !0), this.dirty({
                    type: ds.mergeOption,
                    payload: t
                })) : (this._option[t] = e, this.dirty({
                    type: ds.setOption,
                    payload: (n = {}, n[t] = e, n)
                }))
        },
        t
    }
    ();
    "undefined" != typeof navigator && navigator.platform;
    var gs = {
        textStyle: {
            fontFamily: "sans-serif",
            fontSize: 12,
            fontStyle: "normal",
            fontWeight: "normal"
        },
        roam: {
            enable: !1,
            inGrid: !1,
            horiDrag: !0,
            vertiDrag: !0
        },
        backgroundColor: void 0,
        preventDefaultMouseWheel: !0,
        animation: !0,
        animationDuration: 500,
        animationEasing: "cubicOut"
    },
    vs = ["#1f77b4", "#aec7e8", "#ff7f0e", "#ffbb78", "#2ca02c", "#98df8a", "#d62728", "#ff9896", "#9467bd", "#c5b0d5", "#8c564b", "#c49c94", "#e377c2", "#f7b6d2", "#7f7f7f", "#c7c7c7", "#bcbd22", "#dbdb8d", "#17becf", "#9edae5"],
    ys = function (t) {
        function e(n, i, r, a, s) {
            o(this, e);
            var l = u(this, t.apply(this, arguments));
            for (var h in l.__dataDirty = !0, s)
                l[h] = s[h];
            var c = n.data,
            f = n.originData;
            return delete n.data,
            delete n.originData,
            l.option = b(l.option),
            void 0 !== c && (n.data = l.option.data = c),
            void 0 !== f && (n.originData = l.option.originData = f),
            l.formatOption(l.option),
            l._option = S(l.option, l.constructor.defaultOption, !1),
            l
        }
        return s(e, t),
        e.prototype.formatOption = function (t) {
            var e = this.constructor.emphasisList,
            n = t.emphasis || {};
            e && D(e, function (e) {
                var i = t[e];
                i ? i.normal || i.emphasis || (i.style && (i.style.normal || i.style.emphasis) ? (i.style.normal && (t[e] = {
                                normal: a({}, i, {
                                    style: i.style.normal
                                })
                            }), i.style.emphasis && (t[e].emphasis = a({}, i, {
                                style: i.style.emphasis
                            }))) : (t[e] = {
                            normal: i
                        }, n[e] && (t[e].emphasis = n[e]))) : n[e] && (t[e] = {
                        emphasis: n[e]
                    })
            })
        },
        e.prototype.getAxisModel = function (t) {
            var e = this.globalModel,
            n = this.get("$axisIndex"),
            i = void 0;
            if (B(n))
                D(n, function (n) {
                    var r = e.getComponentByIndex("axis", n);
                    r && r.get("xOrY") === t && (i = r)
                });
            else if (void 0 !== n) {
                var r = e.getComponentByIndex("axis", n);
                r && r.get("xOrY") === t && (i = r)
            }
            return i
        },
        e.prototype.updateData = function () {
            var t = this.get("data"),
            e = this.get("$dataIndex"),
            n = !0;
            if (void 0 !== e) {
                var i = this.globalModel.getComponentByIndex("data", e),
                r = this.get("dataKey"),
                o = i.getData(r);
                o ? this._data = o : n = !1
            } else if (void 0 !== t) {
                var a = t.dataIndex;
                if (void 0 === a)
                    this._data = t;
                else {
                    var s = this.globalModel.getComponentByIndex("data", a);
                    this._data = s.getData(t.key)
                }
            } else
                n = !1, this.__dataDirty = !1;
            n && (this.formatData && (this._data = this.formatData(this._data)), this.__dataDirty = !1, this.dirty({
                    type: ds.dataUpdate,
                    payload: {}
                }))
        },
        e.prototype.getData = function (t) {
            if (void 0 !== this._data)
                return void 0 === t ? this._data : this._data[t]
        },
        e.prototype.getRealData = function (t) {
            var e = this.data || this._data;
            if (void 0 !== e)
                return void 0 === t ? e : e[t]
        },
        e.prototype.dataDirty = function (t) {
            return this.__dataDirty = !0,
            !0
        },
        e.prototype.isDataDirty = function () {
            return this.__dataDirty
        },
        e.prototype.get = function (t) {
            return t ? void 0 !== gs[t] && void 0 === this.option[t] ? this.globalModel.get(t) : this._option[t] : this._option
        },
        e.prototype.set = function (e, n) {
            "data" === e && this.dataDirty(),
            t.prototype.set.call(this, e, n)
        },
        e
    }
    (ps);
    ys.type = "component",
    ys.emphasisList = void 0;
    var ms = Bi(ys),
    xs = "series",
    _s = function (t) {
        function e() {
            o(this, e);
            var n = u(this, t.apply(this, arguments));
            return n.type = xs,
            n.global.registerAction(n, $a.unselected, function () {
                n.onUnSelected && n.onUnSelected()
            }),
            n
        }
        return s(e, t),
        e.prototype.getSeriesColor = function (t) {
            var e = void 0,
            n = void 0;
            if (arguments.length && this.get("name") !== t) {
                var i = this.findDataNamed(t);
                i && (e = i.itemStyle, n = i.color)
            } else
                e = this.get("itemStyle"), n = this.get("color");
            return n || (e && e.normal ? e.normal.stroke || e.normal.fill : void 0)
        },
        e.prototype.findDataNamed = function (t) {
            var e = this.getData();
            if (H(e) && !B(e)) {
                var n = e.values || e.value || e.data;
                void 0 !== n && (e = n),
                !B(e) && (e = [e])
            }
            return function (t, e) {
                return F(t, function (t) {
                    return t.name === e
                })
            }
            (e, t)
        },
        e.prototype.getDataExtent = function (t) {
            var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 1,
            n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 0,
            i = !(arguments.length > 3 && void 0 !== arguments[3]) || arguments[3],
            r = this.getData();
            function o(t) {
                if (t) {
                    var e = "x" === t.get("xOrY") ? 0 : 1;
                    if ("ordinal" === t.getAxisType()) {
                        var n = t.startIndex,
                        i = t.endIndex;
                        r = P(r, function (t) {
                            return t[e] >= n && t[e] <= i
                        })
                    } else {
                        var o = t.domain[0],
                        a = t.domain[1];
                        r = P(r, function (t) {
                            return t[e] >= o && t[e] <= a
                        })
                    }
                }
            }
            i && (o(this.getAxisModel("x")), "scatter" === this.get("type") && o(this.getAxisModel("y")));
            var a = r.length;
            if ("average" === t) {
                for (var s = 0, l = 0; l < a; l++) {
                    var u = r[l][e];
                    B(u) && (u = u[n]),
                    s += u
                }
                return s / a
            }
            if ("left" === t || "right" === t) {
                var h = "left" === t ? 0 : a - 1,
                c = r[h][e];
                B(c) && (c = c[n]);
                var f = c;
                return [r[h], f]
            }
            for (var d = "max" === t, p = d ? -1 / 0 : 1 / 0, g = void 0, v = 0; v < a; v++) {
                var y = r[v][e];
                B(y) && (y = y[n]),
                d ? p < y && (p = y, g = v) : p > y && (p = y, g = v)
            }
            return [r[g], p]
        },
        e.prototype.getData = function () {
            var e,
            n = (e = t.prototype.getData).call.apply(e, [this].concat(Array.prototype.slice.call(arguments)));
            if (arguments.length)
                return n;
            var i = this.get("$visualMapIndex"),
            r = this.globalModel.getComponentByIndex("visualMap", i);
            if (r) {
                var o = this.get("$geoIndex"),
                a = this.get("$calendarIndex"),
                s = this.get("$axisIndex");
                return void 0 !== o ? O(n, function (t) {
                    return r.isInRange(t[2]) ? t : null
                }) : void 0 !== a ? O(n, function (t) {
                    return r.isInRange(t[1]) ? t : null
                }) : void 0 !== s ? ["scatter", "heatmap"].indexOf(this.get("type")) > -1 ? O(n, function (t) {
                    return r.isInRange(t[2]) ? t : null
                }) : O(n, function (t) {
                    return r.isInRange(t[1]) ? t : null
                }) : n
            }
            return n
        },
        e
    }
    (ms);
    _s.type = xs,
    dl(_s);
    var ws = Qr.extend({
        type: "lineCircle",
        shape: {
            cx: 0,
            cy: 0,
            r: 0,
            angle: -45,
            step: 3
        },
        style: {
            stroke: "#000",
            fill: null
        },
        buildPath: function (t, e) {
            var n = e.cx,
            i = e.cy,
            r = e.r,
            o = e.angle,
            a = e.step;
            o = o / 180 * Math.PI;
            var s = Math.tan(o),
            l = a / Math.cos(o + Math.PI / 2);
            function u(e) {
                for (var n = 0, i = 0; n < r; ) {
                    var o = 1 + Math.pow(s, 2),
                    l = 2 * s * i,
                    u = Math.pow(r, 2) - Math.pow(i, 2),
                    h = Math.pow(l, 2) / 4 / Math.pow(o, 2) + u / o,
                    c = Math.sqrt(h) - l / 2 / o,
                    f = -Math.sqrt(h) - l / 2 / o,
                    d = s * c + i,
                    p = s * f + i;
                    t.moveTo(c, d),
                    t.lineTo(f, p),
                    i += e,
                    n += a
                }
            }
            t.arc(n, i, r, 0, 2 * Math.PI, !0),
            u(l),
            u(-l)
        }
    }),
    bs = ta({
        type: "triangle",
        shape: {
            cx: 0,
            cy: 0,
            width: 0,
            height: 0
        },
        buildPath: function (t, e) {
            var n = e.cx,
            i = e.cy,
            r = e.width / 2,
            o = e.height / 2;
            t.moveTo(n, i - o),
            t.lineTo(n + r, i + o),
            t.lineTo(n - r, i + o),
            t.closePath()
        }
    }),
    Ss = ta({
        type: "diamond",
        shape: {
            cx: 0,
            cy: 0,
            width: 0,
            height: 0
        },
        buildPath: function (t, e) {
            var n = e.cx,
            i = e.cy,
            r = e.width / 2,
            o = e.height / 2;
            t.moveTo(n, i - o),
            t.lineTo(n + r, i),
            t.lineTo(n, i + o),
            t.lineTo(n - r, i),
            t.closePath()
        }
    }),
    ks = ta({
        type: "pin",
        shape: {
            x: 0,
            y: 0,
            width: 0,
            height: 0
        },
        buildPath: function (t, e) {
            var n = e.x,
            i = e.y,
            r = e.width / 5 * 3,
            o = Math.max(r, e.height),
            a = r / 2,
            s = a * a / (o - a),
            l = i - o + a + s,
            u = Math.asin(s / a),
            h = Math.cos(u) * a,
            c = Math.sin(u),
            f = Math.cos(u);
            t.arc(n, l, a, Math.PI - u, 2 * Math.PI + u);
            var d = .6 * a,
            p = .7 * a;
            t.bezierCurveTo(n + h - c * d, l + s + f * d, n, i - p, n, i),
            t.bezierCurveTo(n, i - p, n - h + c * d, l + s + f * d, n - h, l + s),
            t.closePath()
        }
    }),
    Ms = ta({
        type: "arrow",
        shape: {
            x: 0,
            y: 0,
            width: 0,
            height: 0
        },
        buildPath: function (t, e) {
            var n = e.height,
            i = e.width,
            r = e.x,
            o = e.y,
            a = i / 3 * 2;
            t.moveTo(r, o),
            t.lineTo(r + a, o + n),
            t.lineTo(r, o + n / 4 * 3),
            t.lineTo(r - a, o + n),
            t.lineTo(r, o),
            t.closePath()
        }
    }),
    Is = {
        line: Eo,
        rect: Co,
        roundRect: Co,
        square: Co,
        circle: yo,
        diamond: Ss,
        pin: ks,
        arrow: Ms,
        triangle: bs,
        lineCircle: ws
    },
    As = {
        line: function (t, e, n, i, r, o) {
            o.offsetPoint ? (r.x1 = t, r.y1 = e, r.x2 = t + o.offsetPoint[0], r.y2 = e + o.offsetPoint[1]) : (r.x1 = t, r.y1 = e + i / 2, r.x2 = t + n, r.y2 = e + i / 2)
        },
        rect: function (t, e, n, i, r) {
            r.x = t,
            r.y = e,
            r.width = n,
            r.height = i
        },
        roundRect: function (t, e, n, i, r) {
            r.x = t,
            r.y = e,
            r.width = n,
            r.height = i,
            r.r = Math.min(n, i) / 4
        },
        square: function (t, e, n, i, r) {
            var o = Math.min(n, i);
            r.x = t,
            r.y = e,
            r.width = o,
            r.height = o
        },
        circle: function (t, e, n, i, r) {
            r.cx = t + n / 2,
            r.cy = e + i / 2,
            r.r = Math.min(n, i) / 2
        },
        diamond: function (t, e, n, i, r) {
            r.cx = t + n / 2,
            r.cy = e + i / 2,
            r.width = n,
            r.height = i
        },
        pin: function (t, e, n, i, r) {
            r.x = t + n / 2,
            r.y = e + i / 2,
            r.width = n,
            r.height = i
        },
        arrow: function (t, e, n, i, r) {
            r.x = t + n / 2,
            r.y = e + i / 2,
            r.width = n,
            r.height = i
        },
        triangle: function (t, e, n, i, r) {
            r.cx = t + n / 2,
            r.cy = e + i / 2,
            r.width = n,
            r.height = i
        },
        lineCircle: function (t, e, n, i, r) {
            r.cx = t + n / 2,
            r.cy = e + i / 2,
            r.r = Math.min(n, i) / 2
        }
    },
    Ts = {};
    for (var Cs in Is)
        Is.hasOwnProperty(Cs) && (Ts[Cs] = new Is[Cs]);
    var zs = ta({
        type: "symbol",
        shape: {
            symbolType: "",
            x: 0,
            y: 0,
            width: 0,
            height: 0
        },
        beforeBrush: function () {
            var t = this.style;
            "pin" === this.shape.symbolType && "inside" === t.textPosition && (t.textPosition = ["50%", "40%"], t.textAlign = "center", t.textVerticalAlign = "middle")
        },
        buildPath: function (t, e, n) {
            var i = e.symbolType;
            if (0 === i.indexOf("path://")) {
                this.lastSymbolType;
                var r = this.lastShape;
                for (var o in e)
                    if (!r || e[o] != r[o]) {
                        this.proxyPath = ea(i.slice(7), {}, new Xe(e.x, e.y, e.width, e.height), !1 !== e.center && "center"),
                        this.lastSymbolType = i,
                        this.lastShape = b(e);
                        break
                    }
                t.data = t.data || [],
                this.proxyPath.buildPath(t)
            } else if (0 === i.indexOf("image://")) {
                this.lastSymbolType;
                var a = this.lastShape;
                for (var s in e)
                    if (!a || e[s] != a[s]) {
                        this.proxyPath = na(i.slice(8), new Xe(e.x, e.y, e.width, e.height), !1 !== e.center && "center"),
                        this.lastSymbolType = i,
                        this.lastShape = b(e);
                        break
                    }
                t.data = t.data || [],
                this.proxyPath.brush(t._ctx, this.lastShape)
            } else {
                var l = Ts[i];
                "none" !== e.symbolType && (l || (l = Ts[i = "rect"]), As[i](e.x, e.y, e.width, e.height, l.shape, e), l.buildPath(t, l.shape, n))
            }
        },
        setColor: Es
    });
    function Es(t) {
        if ("image" !== this.type) {
            var e = this.style,
            n = this.shape;
            n && "line" === n.symbolType ? e.stroke = t : this.__isEmptyBrush ? (e.stroke = t, e.fill = "#fff") : (e.fill && (e.fill = t), e.stroke && (e.stroke = t)),
            this.dirty(!1)
        }
    }
    var Ls = ta({
        type: "largeSymbol",
        shape: {
            points: []
        },
        buildPath: function (t, e, n) {
            var i = this;
            D(e.points, function (e) {
                zs.prototype.buildPath.call(i, t, e, !0)
            })
        }
    }),
    Ds = Object.freeze({
        createSymbol: function (t, e, n, i, r, o) {
            var a,
            s = 0 === t.indexOf("empty");
            return s && (t = t.substr(5, 1).toLowerCase() + t.substr(6)),
            (a = 0 === t.indexOf("image://") ? new yi({
                    style: {
                        image: t.slice(8),
                        x: e,
                        y: n,
                        width: i,
                        height: r
                    }
                }) : 0 === t.indexOf("path://") ? ea(t.slice(7), {}, new Xe(e, n, i, r)) : new zs({
                    shape: {
                        symbolType: t,
                        x: e,
                        y: n,
                        width: i,
                        height: r
                    }
                })).__isEmptyBrush = s,
            a.setColor = Es,
            a.setColor(o),
            a
        },
        Symbol: zs,
        LargeSymbol: Ls
    }),
    Os = "global",
    Ps = function (t) {
        function e() {
            var n,
            i;
            o(this, e);
            for (var r = arguments.length, a = Array(r), s = 0; s < r; s++)
                a[s] = arguments[s];
            return n = i = u(this, t.call.apply(t, [this].concat(a))),
            i.type = Os,
            i._option = {},
            i._componentsMap = {},
            u(i, n)
        }
        return s(e, t),
        e.prototype.setOption = function (t) {
            var e = this,
            n = this._componentsMap,
            i = this.global;
            t = a({}, t),
            this._option = S(t, b(gs), !1),
            D(t, function (t, r) {
                if (ms.hasClass(r)) {
                    var o = "series" === r;
                    n[r] = [],
                    !B(t) && (t = [t]),
                    D(t, function (t, a) {
                        var s = t.id,
                        l = t.name,
                        u = t.type,
                        h = void 0,
                        c = void 0,
                        f = o ? u : r;
                        (h = ms.getClass(f)) && ((c = new h(t, e, e, i, {
                                    id: r + "_" + a + "_" + (o ? u : " ") + "_" + (s || l || " "),
                                    index: a
                                })).type = f, n[r][a] = c)
                    })
                } else
                    gs.hasOwnProperty(r)
            }),
            this._afterSetOption()
        },
        e.prototype.clear = function () {
            this._componentsMap = {}
        },
        e.prototype._afterSetOption = function () {
            this._setDepAndSup(),
            this._setAxisIndex(),
            this.updateData(),
            this._setSeriesSelected(),
            this.dirty()
        },
        e.prototype._setDepAndSup = function () {
            var t = this;
            if (!this.global.isError()) {
                var e = this._componentsMap,
                n = (this.global, /^\$(.*)Index$/),
                i = {};
                for (var r in this.eachComponent("series", function (e) {
                        var n = e._option.$axisIndex;
                        if (n && 2 === n.length) {
                            var i = t.getComponentByIndex("axis", n[0]),
                            r = t.getComponentByIndex("axis", n[1]);
                            i && r && ("y" === i.get("xOrY") ? i._option.$axisIndex = n[1] : r._option.$axisIndex = n[0])
                        }
                    }), this.eachComponent(function (e, r, o) {
                        var a = {},
                        s = {};
                        D(r._option, function (r, s) {
                            var l = s.match(n);
                            if (l && void 0 !== r) {
                                if (B(r))
                                    r = O(r, function (e) {
                                        if (G(e)) {
                                            var n = t.getComponentById(l[1], e);
                                            return n ? n.index : e
                                        }
                                        return e
                                    });
                                else if (G(r)) {
                                    var u = t.getComponentById(l[1], r);
                                    u && (r = u.index)
                                }
                                a[l[1]] = r,
                                !i[l[1]] && (i[l[1]] = []),
                                B(r) ? D(r, function (t) {
                                    !i[l[1]][t] && (i[l[1]][t] = {}),
                                    !i[l[1]][t][e] && (i[l[1]][t][e] = []),
                                    i[l[1]][t][e].push(o)
                                }) : (!i[l[1]][r] && (i[l[1]][r] = {}), !i[l[1]][r][e] && (i[l[1]][r][e] = []), i[l[1]][r][e].push(o))
                            }
                        }),
                        D(a, function (e, n) {
                            B(e) ? s[n] = O(e, function (e) {
                                return t.getComponentByIndex(n, e)
                            }) : s[n] = t.getComponentByIndex(n, e)
                        }),
                        r.dependencies = a,
                        r.dependentModels = s
                    }, !1), i)
                    for (var o = i[r].length; o--; )
                        if (i[r][o]) {
                            if (!e[r] || !e[r][o]) {
                                return D(i[r][o], function (t, e) {
                                    e + "[" + t.toString() + "], "
                                }),
                                void("所依赖的" + r + "[" + o + "]未在setOption方法中进行配置！")
                            }
                            e[r][o].supports = i[r][o]
                        }
            }
        },
        e.prototype._setAxisIndex = function () {
            this.global.isError() || this.eachComponent("series", function (t) {
                var e = t.getAxisModel("x");
                if (e) {
                    t.axisIndex = e.index;
                    var n = t.getAxisModel("y");
                    if (n) {
                        var i = t.get("stack"),
                        r = t.get("overlap");
                        t.axisIndex += "/" + (i ? i + "-" + n.index : "_"),
                        t.axisIndex += "/" + (r ? r + "-" + n.index : "_")
                    }
                }
            })
        },
        e.prototype._setSeriesSelected = function () {
            var t = this;
            this.global.isError() || this.eachComponent("series", function (e) {
                t.eachComponent("legend", function (t) {
                    var n = t.get("selected");
                    n ? D(n, function (t, n) {
                        e.get("name") === n ? e._option.selected = t : e.findDataNamed(n) && (!e._option.selected && (e._option.selected = {}), e._option.selected[n] = t)
                    }) : D(t.get("data"), function (t) {
                        e.get("name") === t ? e._option.selected = !0 : e.findDataNamed(t) && (!e._option.selected && (e._option.selected = {}), e._option.selected[t] = !0)
                    })
                })
            })
        },
        e.prototype.updateData = function (t) {
            if (!this.global.isError()) {
                var e = this._componentsMap;
                t ? "data" === t.type && t.isDirty() && (t.__update(), function t(e, n) {
                    D(n, function (n, i) {
                        for (var r = n.length; r--; ) {
                            var o = e[i][n[r]];
                            o && o.isDataDirty() && ("data" === o.type ? (o.__update(), t(e, o.supports)) : o.updateData())
                        }
                    })
                }
                    (e, t.supports)) : (this.eachComponent("data", function (t) {
                        t.isDirty() && (Ns(e, t.dependencies, t.type, t.index, !0), t.__update())
                    }), this.eachComponent(function (t, e) {
                        "data" !== t && e.isDataDirty() && e.updateData()
                    }))
            }
        },
        e.prototype.beforeUpdate = function () {
            this._setSeriesIndex("bar"),
            this._setSeriesIndex("line"),
            this._setStackData()
        },
        e.prototype._setSeriesIndex = function (t) {
            if (!this.global.isError()) {
                var e = {},
                n = {};
                this.eachComponent("series", function (i) {
                    if (i.type === t && void 0 !== i.axisIndex) {
                        var r = i.get("overlap"),
                        o = i.get("stack"),
                        a = i.axisIndex,
                        s = t + "Index",
                        l = t.slice(0, 1).toUpperCase() + t.slice(1),
                        u = i.getAxisModel("y");
                        if (u) {
                            var h = u.get("$gridIndex"),
                            c = n[h] = n[h] || {};
                            !e[h] && (e[h] = 0),
                            o || r ? void 0 === c[a] && (c[a] = e[h]++) : c[a] = e[h]++,
                            i["last" + l + "Index"] = i[s],
                            i[s] = c[a]
                        }
                    }
                }),
                this.eachComponent("series", function (n) {
                    if (n.type === t) {
                        var i = n.getAxisModel("y");
                        if (i) {
                            var r = i.get("$gridIndex"),
                            o = t.slice(0, 1).toUpperCase() + t.slice(1);
                            !1 === n.get("selected") ? (n["last" + o + "Total"] = void 0, n[t + "Total"] = void 0) : (n["last" + o + "Total"] = n[t + "Total"], n[t + "Total"] = e[r])
                        }
                    }
                }, !1)
            }
        },
        e.prototype._setStackData = function () {
            if (!this.global.isError()) {
                var t = {},
                e = {},
                n = [];
                this.eachComponent("series", function (t) {
                    var e = t.getData();
                    if (t.get("stack") && !1 !== t.get("selected") && e)
                        if (n.length) {
                            var i = [],
                            r = void 0,
                            o = void 0;
                            for (r = 0, o = 0; r < e.length && o < n.length; ) {
                                var a = e[r][0],
                                s = n[o];
                                a < s ? (i.push(e[r][0]), r++) : a === s ? (i.push(e[r][0]), r++, o++) : (i.push(n[o]), o++)
                            }
                            for (; r < e.length; )
                                i.push(e[r][0]), r++;
                            for (; o < n.length; )
                                i.push(n[o]), o++;
                            n = i
                        } else
                            n = O(e, function (t) {
                                return t[0]
                            })
                }),
                this.eachComponent("series", function (i) {
                    var r = i.get("stack");
                    if (r) {
                        var o = i.getData();
                        if (i._stackName = r = r + "|" + i.axisIndex, !t[r] && (t[r] = []), i.get("stackByPercent") && (e[r] = !0), !1 === i.get("selected") || !o)
                            return void(i.stackTotal = void 0);
                        var a = t[r],
                        s = a.length,
                        l = [],
                        u = [],
                        h = void 0,
                        c = void 0;
                        for (h = 0, c = 0; h < o.length && c < n.length; ) {
                            var f = o[h][0],
                            d = n[c];
                            f < d ? (u.push(o[h]), h++) : f === d ? (u.push(o[h]), h++, c++) : (0 === h ? u.push([n[c], 0]) : u.push([n[c], o[h - 1][1]]), c++)
                        }
                        for (; c < n.length; )
                            0 === h ? u.push([n[c], 0]) : u.push([n[c], o[h - 1][1]]), c++;
                        if (s)
                            l = O(a[s - 1], function (t, e) {
                                var n = 0;
                                if (u[e][1] >= 0) {
                                    for (var i = a.length; i--; )
                                        if (a[i][e][1][1] >= 0) {
                                            n = a[i][e][1][1];
                                            break
                                        }
                                } else
                                    for (var r = a.length; r--; )
                                        if (a[r][e][1][1] < 0) {
                                            n = a[r][e][1][1];
                                            break
                                        }
                                return [t[0], [n, n + ("number" == typeof u[e][1] ? u[e][1] : 0)], u[e]]
                            });
                        else
                            l = O(u, function (t) {
                                return [t[0], [0, "number" == typeof t[1] ? t[1] : 0], t]
                            });
                        a.push(l),
                        i.lastStackIndex = i.stackIndex,
                        i.stackIndex = s,
                        i.stackData = l
                    }
                }, !1),
                this.eachComponent("series", function (n) {
                    var i = n._stackName;
                    if (i) {
                        if (e[i]) {
                            var r = t[i][t[i].length - 1],
                            o = n.stackData;
                            n.stackData = O(o, function (t, e) {
                                return [t[0], [t[1][0] / r[e][1][1], t[1][1] / r[e][1][1]], t[2], Math.abs(t[1][0] - t[1][1]) / r[e][1][1]]
                            }),
                            n._stackByPercent = !0
                        }
                        n.lastStackTotal = n.stackTotal,
                        n.stackTotal = t[i].length
                    }
                })
            }
        },
        e.prototype.update = function (t) {
            if (!this.global.isError()) {
                var e = this._componentsMap;
                t && this.eachComponent(function (t, e) {
                    e.__dirty = !0
                }),
                this.eachComponent(function (t, n) {
                    n.isDirty() && !n.isPending && (Ns(e, n.dependencies, n.type, n.index), n.__update())
                })
            }
        },
        e.prototype.dirty = function (t, e) {
            if (!this.global.isError()) {
                var n = this._componentsMap;
                if (t && ("data" === t.type ? (Rs(n, t, e, "dataDirty"), this.updateData(t)) : (t.isDataDirty() && t.updateData(), Rs(n, t, e)), t instanceof _s && t.get("$axisIndex"))) {
                    var i = t.getAxisModel("x"),
                    r = t.getAxisModel("y"),
                    o = {
                        type: ds.seriesWillUpdate,
                        payload: {
                            series: t,
                            action: e
                        }
                    };
                    i && !i.isDirty() && i.dirty(o),
                    r && !r.isDirty() && r.dirty(o)
                }
                this.__dirty = !0
            }
        },
        e.prototype.eachComponentType = function (t, e) {
            D(this._componentsMap, function (n, i) {
                t.call(e, i, Fs(n))
            })
        },
        e.prototype.eachComponent = function (t, e, n, i) {
            var r = this._componentsMap;
            "function" == typeof t ? (i = n, n = void 0 === e || e, e = t, D(r, function (t, r) {
                    D(n ? Fs(t) : t, function (t, n) {
                        e.call(i, r, t, n)
                    })
                })) : G(t) && (void 0 === n && (n = !0), D(n ? Fs(r[t]) : r[t], e, i))
        },
        e.prototype.getComponentByIndex = function (t, e) {
            return "string" == typeof e ? this.getComponentById(t, e) : this._componentsMap[t] && this._componentsMap[t][e]
        },
        e.prototype.getComponentByName = function (t, e) {
            var n = arguments.length > 2 && void 0 !== arguments[2] && arguments[2];
            return this.getComponent(t, function (t) {
                return t.get("name") === e
            }, n)
        },
        e.prototype.getComponentById = function (t, e) {
            return this.getComponent(t, function (t) {
                return t.get("id") === e
            }, !1)[0]
        },
        e.prototype.getSeriesByAxis = function (t) {
            var e = this;
            return P(!(arguments.length > 1 && void 0 !== arguments[1]) || arguments[1] ? Fs(this._componentsMap.series) : this._componentsMap.series, function (n) {
                var i = n.get("$axisIndex"),
                r = n.get("$radarAxisIndex");
                if (void 0 !== i) {
                    !B(i) && (i = [i]);
                    for (var o = 0; o < i.length; o++) {
                        var a = e.getComponentByIndex("axis", i[o]);
                        if (a && a.index === t)
                            return !0
                    }
                }
                if (void 0 !== r) {
                    !B(r) && (r = [r]);
                    for (var s = 0; s < r.length; s++) {
                        var l = e.getComponentByIndex("radarAxis", r[s]);
                        if (l && l.index === t)
                            return !0
                    }
                }
            })
        },
        e.prototype.getComponent = function (t) {
            var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : function (t) {
                return t
            };
            return P(!(arguments.length > 2 && void 0 !== arguments[2]) || arguments[2] ? Fs(this._componentsMap[t]) : this._componentsMap[t], e)
        },
        e.prototype.getSeriesByName = function (t) {
            var e = arguments.length > 1 && void 0 !== arguments[1] && arguments[1];
            return this.getComponent("series", function (e) {
                return e.get("name") === t
            }, e)
        },
        e.prototype.getFormattedText = function (t) {
            var e = t.style ? t.style : t,
            n = this.get("textStyle");
            return e.color && !e.fill && (e.fill = e.color),
            D(n, function (t, n) {
                void 0 === e[n] && (e[n] = t)
            }),
            e.color && !e.fill && (e.fill = e.color),
            e = Sa(e),
            t
        },
        e
    }
    (ps);
    function Fs(t) {
        return P(t, function (t) {
            return !(t instanceof _s) || !1 !== t.get("selected")
        })
    }
    function Ns(t, e, n, i, r) {
        D(e, function (e, n) {
            if (B(e))
                for (var i = e.length; i--; ) {
                    var o = t[n] && t[n][e[i]];
                    o && o.isDirty() && (Ns(t, o.dependencies, o.type, o.index, r), r && o.updateData(), !o.isPending && o.__update())
                }
            else {
                var a = t[n] && t[n][e];
                a.isDirty() && (Ns(t, a.dependencies, a.type, a.index, r), r && a.updateData(), !a.isPending && a.__update())
            }
        })
    }
    function Rs(t, e, n) {
        var i = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : "dirty",
        r = e.supports,
        o = {
            type: ds.dependentWillUpdate,
            payload: {
                dependent: e,
                action: n
            }
        };
        D(r, function (e, n) {
            for (var r = e.length; r--; ) {
                var a = t[n][e[r]];
                a && !a["dirty" === i ? "isDirty" : "isDataDirty"]() && a[i](o) && Rs(t, a, o, i)
            }
        })
    }
    Ps.type = Os;
    var Bs = function () {
        function t() {
            o(this, t)
        }
        return t.prototype.getShape = function (t) {},
        t.prototype.getDrawData = function (t) {
            t.name,
            t.xScale,
            t.yScale,
            t.data,
            t.model
        },
        t
    }
    ();
    Bs.type = "indicatorBase";
    var Ws = Bi(Bs),
    Gs = "0.4.25",
    Hs = function () {
        var t = !1;
        if ("undefined" != typeof wx && wx.request && wx.getSystemInfoSync) {
            var e = wx.getSystemInfoSync();
            t = e && e.version
        }
        return t
    }
    (),
    js = function () {
        this.id = 0,
        this.ld = this.getLd();
        try {
            "undefined" != typeof external && void 0 !== external.createObject && (this.ld = "client")
        } catch (t) {}
        var t = "undefined" != typeof document && "https:" == document.location.protocol ? "https:" : "http:";
        this._top = !0,
        "undefined" != typeof screen && (this.size = screen.width + "x" + screen.height),
        this._base = t + "//stat.10jqka.com.cn/q?",
        this._sid = "__ths_stat__",
        this._imgs = {}
    };
    js.prototype.getLd = function () {
        if (Hs)
            return "wx";
        var t = navigator.userAgent.toLowerCase();
        return -1 != t.indexOf("android") ? "mobile" : -1 != t.indexOf("iphone") ? "mobile" : -1 != t.indexOf("ipad") ? "mobile" : "browser"
    },
    js.prototype._navigate = function (t) {
        if (Hs)
            wx.request({
                url: t
            });
        else {
            var e = this._imgs[this._sid];
            e || (e = new Image(0, 0), this._imgs[this._sid] = e),
            e.src = t
        }
    },
    js.prototype.add = function (t, e) {
        if (t && e)
            this.id = t, this.ld = e;
        else if (t instanceof Object)
            for (var n in t)
                this[n] = t[n];
        else
            t && (this.id = t)
    },
    js.prototype._setLocation = function () {
        if (!Hs) {
            if (this._top && top)
                try {
                    this.ref || (this.ref = top.document.referrer),
                    this.url || (this.url = top.location.href)
                } catch (t) {}
            this.ref || (this.ref = document.referrer ? document.referrer : null),
            this.url || (this.url = window.location.href),
            document.body && (this.cs = document.body.clientWidth + "x" + document.body.clientHeight),
            this.ts = (new Date).getTime()
        }
    },
    js.prototype._getUrl = function () {
        this._setLocation();
        var t = [];
        for (var e in this)
            e && "_" != e.charAt(0) && this[e] && "function" != typeof this[e] && (t.length && t.push("&"), t = t.concat([encodeURIComponent(e), "=", encodeURIComponent(this[e])]));
        return this._base + t.join("")
    },
    js.prototype.log = function () {
        this._navigate(this._getUrl())
    };
    var Us = !0;
    var qs = {},
    Ys = [];
    function Vs(t, e, n) {
        arguments.length > 3 && void 0 !== arguments[3] && arguments[3] ? Ys.push(t) : D(t, function (t, i) {
            if ("series" === i) {
                if (e.hasClass && e.hasClass(i))
                    if (B(t)) {
                        var r = [];
                        D(t, function (t) {
                            var e = t.aliasType || t.type;
                            qs[e] || (qs[e] = 0);
                            var n = !1;
                            F(r, function (t) {
                                t === e && (n = !0)
                            }),
                            n || (r.push(e), qs[e]++)
                        })
                    } else {
                        var o = t.aliasType || t.type;
                        qs[o] || (qs[o] = 0),
                        qs[o]++
                    }
            } else
                n.hasClass(i) && (qs[i] || (qs[i] = 0), qs[i]++)
        })
    }
    var $s,
    Xs,
    Zs,
    Ks = ($s = function (t) {
        if (Us) {
            var e = "";
            t && t.datavTrackId && (e = t.datavTrackId + "."),
            function () {
                var t = new js;
                t.add.apply(t, arguments),
                t.log()
            }
            ({
                _sid: e + "iwencai_datav_d3charts.load",
                id: e + "iwencai_datav_d3charts.load",
                datavIwencai: "iwencai_datav_d3charts.load",
                version: Gs,
                widgetN: (n = "", Ys.length && D(Ys, function (t) {
                        var e = "hqd" + t.type + (t.dType || "");
                        qs[e] || (qs[e] = 0),
                        qs[e]++
                    }), D(qs, function (t, e) {
                        n += e + "-" + t + "|"
                    }), n = n.slice(0, -1)),
                fid: "iwencai_datav"
            })
        }
        var n
    }, Xs = 3e3, Zs = null, function (t) {
    clearTimeout(Zs),
    Zs = setTimeout(function () {
        $s(t)
    }, Xs)
}),
Qs = G,
Js = D,
tl = La,
el = W,
nl = "__",
il = {},
rl = new Date - 0,
ol = new pt,
al = Ga,
sl = ["click", "dblclick", "mouseover", "mouseout", "mousemove", "mousedown", "mouseup", "globalout", "mousewheel", "pinch", "contextmenu"],
ll = function (t) {
    function e(n, i) {
        var r = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {};
        o(this, e),
        window._thsclog && window._thsclog({
            name: "datav_d3charts",
            ver: Gs
        }),
        Ks(r);
        var a = u(this, t.apply(this, arguments));
        a.id = nl + rl++,
        a._viewMap = {},
        a._model = void 0,
        a.isEnableEdit = !1,
        a.isEnableSketch = !1,
        a._dom = Qs(n) ? document.getElementById(n) : n;
        var s = a._zr = Fi(a._dom, r);
        return r.backgroundColor && s.setBackgroundColor(r.backgroundColor),
        a._model = new Ps(null, null, null, a),
        a._actionQueue = [],
        a.initEvents(),
        s.animation.on("frame", function () {
            if (!this.isError())
                try {
                    for (var t = this._actionQueue; t.length; ) {
                        var e = t.shift();
                        this.trigger(e[0], e[1])
                    }
                    this._model.isDirty() && this.update()
                } catch (t) {
                    throw this.error(),
                    t
                }
        }, a),
        a
    }
    return s(e, t),
    e.prototype.initEvents = function () {
        var t = this;
        Js(sl, function (e) {
            t._zr.on(e, function (n) {
                t.trigger(e, n)
            })
        })
    },
    e.prototype.setOption = function (t) {
        var e = !(arguments.length > 1 && void 0 !== arguments[1]) || arguments[1],
        n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {};
        return Vs(t, _s, ms),
        this.clear(),
        this._model.setOption(t),
        this.toggleEdit(this.isEnableEdit),
        function () {
            var t = this;
            this._model.eachComponent(function (e, n) {
                ul.call(t, n)
            })
        }
        .call(this),
        this.__AFTER_SET_OPTION = !0,
        e || this.update(!1, n),
        this
    },
    e.prototype.update = function (t) {
        var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
        this._model.__update(t),
        function () {
            var t = this,
            e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},
            n = this._viewMap,
            i = this._model;
            i.eachComponent(function (e, r) {
                var o = n[r.id];
                us.getClass(r.type) && (o || (o = ul.call(t, r)), o.__render(r, i, t))
            }),
            this.__AFTER_SET_OPTION && (this.__AFTER_SET_OPTION = !1, e[al.viewDidRenderAfterSetOption] && e[al.viewDidRenderAfterSetOption](), this.trigger(al.viewDidRenderAfterSetOption));
            this.trigger(al.viewDidRender)
        }
        .call(this, e);
        var n = this._model.get("backgroundColor");
        n && this._zr.setBackgroundColor(n)
    },
    e.prototype.clear = function () {
        var t = this._zr;
        return this._model.clear(),
        Js(this._viewMap, function (e) {
            e.remove(),
            t.remove(e.group)
        }),
        this._viewMap = {},
        this.off(),
        this.error(!1),
        this
    },
    e.prototype.error = function (t) {
        this._isError = void 0 === t || t
    },
    e.prototype.isError = function () {
        return this._isError
    },
    e.prototype.resize = function (t) {
        this._zr.resize(t),
        this.update(!0)
    },
    e.prototype.dispatchAction = function (t, e, n) {
        if (!(arguments.length > 3 && void 0 !== arguments[3]) || arguments[3]) {
            var i = tl(this._actionQueue, function (n) {
                return n[0] === t.id && n[1] === e
            });
            i > -1 && this._actionQueue.splice(i, 1),
            this._actionQueue.push([t.id + "_" + e, n])
        } else
            this.trigger(t.id + "_" + e, n)
    },
    e.prototype.registerAction = function (t, e, n, i) {
        this.on(t.id + "_" + e, n, i || t)
    },
    e.prototype.getWidth = function () {
        return this._zr.getWidth()
    },
    e.prototype.getHeight = function () {
        return this._zr.getHeight()
    },
    e.prototype.getModel = function (t, e) {
        return 2 !== arguments.length ? 1 === arguments.length ? this._model._componentsMap[t] : this._model : "number" == typeof e ? this._model.getComponentByIndex(t, e) : Qs(e) ? this._model.getComponentById(t, e) : el(e) ? this._model.getComponent(t, e, !1) : void 0
    },
    e.prototype.getDataModel = function (t) {
        return this._model.getComponentByIndex("data", t)
    },
    e.prototype.getZr = function () {
        return this._zr
    },
    e.prototype.getDom = function () {
        return this._dom
    },
    e.prototype.getViewOfComponentModel = function (t) {
        return this._viewMap[t.id]
    },
    e.prototype.getRenderedCanvas = function (t) {
        if (h.canvasSupported)
            return (t = t || {}).pixelRatio = t.pixelRatio || 1, this.stopAnimation(), this._zr.painter.getRenderedCanvas(t)
    },
    e.prototype.stopAnimation = function () {
        var t = this._zr.storage.getDisplayList(!0);
        Js(t, function (t) {
            t.stopAnimation(!0)
        })
    },
    e.prototype.getDataUrl = function (t) {
        var e = {
            width: this.getWidth(),
            height: this.getHeight()
        };
        (t = t || {}).size && (this.resize(t.size), this.stopAnimation());
        var n = this.getRenderedCanvas(t).toDataURL("image/" + (t && t.type || "png"));
        return t.size && (this.resize(e), this.stopAnimation()),
        n
    },
    e.prototype.toggleEdit = function (t) {
        void 0 === t && (t = !this.isEnableEdit),
        this._model.eachComponent(function (e, n) {
            n.set("enableEdit", t)
        }),
        this.isEnableEdit = t
    },
    e
}
(pt);
function ul(t) {
    var e = this._viewMap,
    n = this._model,
    i = this._zr,
    r = void 0,
    o = void 0;
    return (r = us.getClass(t.type)) && ((o = new r(t, n, this)).type = t.type, e[t.id] = o, i.add(o.group)),
    o
}
function hl(t) {
    ms.registerClass(t, t.type)
}
function cl(t) {
    us.registerClass(t, t.type)
}
function fl(t) {
    Ws.registerClass(t, t.type)
}
function dl(t, e) {
    var n,
    i;
    (t && hl(t), e && cl(e), !t && e) && hl((i = n = function (t) {
            function e() {
                return o(this, e),
                u(this, t.apply(this, arguments))
            }
            return s(e, t),
            e
        }
            (ms), n.type = e.type, i))
}
var pl = Math.abs,
gl = Math.atan2,
vl = Math.cos,
yl = Math.max,
ml = Math.min,
xl = Math.sin,
_l = Math.sqrt,
wl = 1e-12,
bl = Math.PI,
Sl = bl / 2,
kl = 2 * bl;
function Ml(t) {
    return t >= 1 ? Sl : t <= -1 ? -Sl : Math.asin(t)
}
function Il(t) {
    return t.innerRadius
}
function Al(t) {
    return t.outerRadius
}
function Tl(t) {
    return t.startAngle
}
function Cl(t) {
    return t.endAngle
}
function zl(t) {
    return t && t.padAngle
}
function El(t, e, n, i, r, o, a) {
    var s = t - n,
    l = e - i,
    u = (a ? o : -o) / _l(s * s + l * l),
    h = u * l,
    c = -u * s,
    f = t + h,
    d = e + c,
    p = n + h,
    g = i + c,
    v = (f + p) / 2,
    y = (d + g) / 2,
    m = p - f,
    x = g - d,
    _ = m * m + x * x,
    w = r - o,
    b = f * g - p * d,
    S = (x < 0 ? -1 : 1) * _l(yl(0, w * w * _ - b * b)),
    k = (b * x - m * S) / _,
    M = (-b * m - x * S) / _,
    I = (b * x + m * S) / _,
    A = (-b * m + x * S) / _,
    T = k - v,
    C = M - y,
    z = I - v,
    E = A - y;
    return T * T + C * C > z * z + E * E && (k = I, M = A), {
        cx: k,
        cy: M,
        x01: -h,
        y01: -c,
        x11: k * (r / w - 1),
        y11: M * (r / w - 1)
    }
}
function Ll() {
    var t = Il,
    e = Al,
    n = Yo(0),
    i = null,
    r = Tl,
    o = Cl,
    a = zl,
    s = null;
    function l() {
        var l,
        u,
        h,
        c = +t.apply(this, arguments),
        f = +e.apply(this, arguments),
        d = r.apply(this, arguments) - Sl,
        p = o.apply(this, arguments) - Sl,
        g = pl(p - d),
        v = p > d;
        if (s || (s = l = qo()), f < c && (u = f, f = c, c = u), f > wl)
            if (g > kl - wl)
                s.moveTo(f * vl(d), f * xl(d)), s.arc(0, 0, f, d, p, !v), c > wl && (s.moveTo(c * vl(p), c * xl(p)), s.arc(0, 0, c, p, d, v));
            else {
                var y,
                m,
                x = d,
                _ = p,
                w = d,
                b = p,
                S = g,
                k = g,
                M = a.apply(this, arguments) / 2,
                I = M > wl && (i ? +i.apply(this, arguments) : _l(c * c + f * f)),
                A = ml(pl(f - c) / 2, +n.apply(this, arguments)),
                T = A,
                C = A;
                if (I > wl) {
                    var z = Ml(I / c * xl(M)),
                    E = Ml(I / f * xl(M));
                    (S -= 2 * z) > wl ? (w += z *= v ? 1 : -1, b -= z) : (S = 0, w = b = (d + p) / 2),
                    (k -= 2 * E) > wl ? (x += E *= v ? 1 : -1, _ -= E) : (k = 0, x = _ = (d + p) / 2)
                }
                var L = f * vl(x),
                D = f * xl(x),
                O = c * vl(b),
                P = c * xl(b);
                if (A > wl) {
                    var F = f * vl(_),
                    N = f * xl(_),
                    R = c * vl(w),
                    B = c * xl(w);
                    if (g < bl) {
                        var W = S > wl ? function (t, e, n, i, r, o, a, s) {
                            var l = n - t,
                            u = i - e,
                            h = a - r,
                            c = s - o,
                            f = (h * (e - o) - c * (t - r)) / (c * l - h * u);
                            return [t + f * l, e + f * u]
                        }
                        (L, D, R, B, F, N, O, P) : [O, P],
                        G = L - W[0],
                        H = D - W[1],
                        j = F - W[0],
                        U = N - W[1],
                        q = 1 / xl(((h = (G * j + H * U) / (_l(G * G + H * H) * _l(j * j + U * U))) > 1 ? 0 : h < -1 ? bl : Math.acos(h)) / 2),
                        Y = _l(W[0] * W[0] + W[1] * W[1]);
                        T = ml(A, (c - Y) / (q - 1)),
                        C = ml(A, (f - Y) / (q + 1))
                    }
                }
                k > wl ? C > wl ? (y = El(R, B, L, D, f, C, v), m = El(F, N, O, P, f, C, v), s.moveTo(y.cx + y.x01, y.cy + y.y01), C < A ? s.arc(y.cx, y.cy, C, gl(y.y01, y.x01), gl(m.y01, m.x01), !v) : (s.arc(y.cx, y.cy, C, gl(y.y01, y.x01), gl(y.y11, y.x11), !v), s.arc(0, 0, f, gl(y.cy + y.y11, y.cx + y.x11), gl(m.cy + m.y11, m.cx + m.x11), !v), s.arc(m.cx, m.cy, C, gl(m.y11, m.x11), gl(m.y01, m.x01), !v))) : (s.moveTo(L, D), s.arc(0, 0, f, x, _, !v)) : s.moveTo(L, D),
                c > wl && S > wl ? T > wl ? (y = El(O, P, F, N, c, -T, v), m = El(L, D, R, B, c, -T, v), s.lineTo(y.cx + y.x01, y.cy + y.y01), T < A ? s.arc(y.cx, y.cy, T, gl(y.y01, y.x01), gl(m.y01, m.x01), !v) : (s.arc(y.cx, y.cy, T, gl(y.y01, y.x01), gl(y.y11, y.x11), !v), s.arc(0, 0, c, gl(y.cy + y.y11, y.cx + y.x11), gl(m.cy + m.y11, m.cx + m.x11), v), s.arc(m.cx, m.cy, T, gl(m.y11, m.x11), gl(m.y01, m.x01), !v))) : s.arc(0, 0, c, b, w, v) : s.lineTo(O, P)
            }
        else
            s.moveTo(0, 0);
        if (s.closePath(), l)
            return s = null, l + "" || null
    }
    return l.centroid = function () {
        var n = (+t.apply(this, arguments) + +e.apply(this, arguments)) / 2,
        i = (+r.apply(this, arguments) + +o.apply(this, arguments)) / 2 - bl / 2;
        return [vl(i) * n, xl(i) * n]
    },
    l.innerRadius = function (e) {
        return arguments.length ? (t = "function" == typeof e ? e : Yo(+e), l) : t
    },
    l.outerRadius = function (t) {
        return arguments.length ? (e = "function" == typeof t ? t : Yo(+t), l) : e
    },
    l.cornerRadius = function (t) {
        return arguments.length ? (n = "function" == typeof t ? t : Yo(+t), l) : n
    },
    l.padRadius = function (t) {
        return arguments.length ? (i = null == t ? null : "function" == typeof t ? t : Yo(+t), l) : i
    },
    l.startAngle = function (t) {
        return arguments.length ? (r = "function" == typeof t ? t : Yo(+t), l) : r
    },
    l.endAngle = function (t) {
        return arguments.length ? (o = "function" == typeof t ? t : Yo(+t), l) : o
    },
    l.padAngle = function (t) {
        return arguments.length ? (a = "function" == typeof t ? t : Yo(+t), l) : a
    },
    l.context = function (t) {
        return arguments.length ? (s = null == t ? null : t, l) : s
    },
    l
}
var Dl = Qr.extend({
    type: "d3-arc",
    shape: {
        innerRadius: 0,
        outerRadius: 0,
        cornerRadius: 0,
        padRadius: 0,
        startAngle: 0,
        endAngle: 2 * Math.PI,
        padAngle: 0
    },
    style: {
        stroke: null,
        fill: null
    },
    updateArc: function () {
        !this.arc && (this.arc = Ll());
        var t = this.arc,
        e = this.shape;
        for (var n in e)
            !isNaN(e[n]) && t[n] && t[n](e[n])
    },
    buildPath: function (t, e) {
        this.updateArc(),
        this.arc.context(t)()
    }
});
function Ol(t, e) {
    return t < e ? -1 : t > e ? 1 : t >= e ? 0 : NaN
}
function Pl(t) {
    var e;
    return 1 === t.length && (e = t, t = function (t, n) {
        return Ol(e(t), n)
    }), {
        left: function (e, n, i, r) {
            for (null == i && (i = 0), null == r && (r = e.length); i < r; ) {
                var o = i + r >>> 1;
                t(e[o], n) < 0 ? i = o + 1 : r = o
            }
            return i
        },
        right: function (e, n, i, r) {
            for (null == i && (i = 0), null == r && (r = e.length); i < r; ) {
                var o = i + r >>> 1;
                t(e[o], n) > 0 ? r = o : i = o + 1
            }
            return i
        }
    }
}
var Fl = Pl(Ol).right;
function Nl(t, e) {
    var n,
    i,
    r,
    o = t.length,
    a = -1;
    if (null == e) {
        for (; ++a < o; )
            if (null != (n = t[a]) && n >= n)
                for (i = r = n; ++a < o; )
                    null != (n = t[a]) && (i > n && (i = n), r < n && (r = n))
    } else
        for (; ++a < o; )
            if (null != (n = e(t[a], a, t)) && n >= n)
                for (i = r = n; ++a < o; )
                    null != (n = e(t[a], a, t)) && (i > n && (i = n), r < n && (r = n));
    return [i, r]
}
var Rl = Math.sqrt(50),
Bl = Math.sqrt(10),
Wl = Math.sqrt(2);
function Gl(t, e, n) {
    var i,
    r,
    o,
    a = e < t,
    s = -1;
    if (a && (i = t, t = e, e = i), 0 === (o = Hl(t, e, n)) || !isFinite(o))
        return [];
    if (o > 0)
        for (t = Math.ceil(t / o), e = Math.floor(e / o), r = new Array(i = Math.ceil(e - t + 1)); ++s < i; )
            r[s] = (t + s) * o;
    else
        for (t = Math.floor(t * o), e = Math.ceil(e * o), r = new Array(i = Math.ceil(t - e + 1)); ++s < i; )
            r[s] = (t - s) / o;
    return a && r.reverse(),
    r
}
function Hl(t, e, n) {
    var i = (e - t) / Math.max(0, n),
    r = Math.floor(Math.log(i) / Math.LN10),
    o = i / Math.pow(10, r);
    return r >= 0 ? (o >= Rl ? 10 : o >= Bl ? 5 : o >= Wl ? 2 : 1) * Math.pow(10, r) : -Math.pow(10, -r) / (o >= Rl ? 10 : o >= Bl ? 5 : o >= Wl ? 2 : 1)
}
function jl(t, e, n) {
    var i = Math.abs(e - t) / Math.max(0, n),
    r = Math.pow(10, Math.floor(Math.log(i) / Math.LN10)),
    o = i / r;
    return o >= Rl ? r *= 10 : o >= Bl ? r *= 5 : o >= Wl && (r *= 2),
    e < t ? -r : r
}
function Ul(t, e) {
    var n,
    i,
    r = t.length,
    o = -1;
    if (null == e) {
        for (; ++o < r; )
            if (null != (n = t[o]) && n >= n)
                for (i = n; ++o < r; )
                    null != (n = t[o]) && n > i && (i = n)
    } else
        for (; ++o < r; )
            if (null != (n = e(t[o], o, t)) && n >= n)
                for (i = n; ++o < r; )
                    null != (n = e(t[o], o, t)) && n > i && (i = n);
    return i
}
function ql(t) {
    for (var e, n, i, r = t.length, o = -1, a = 0; ++o < r; )
        a += t[o].length;
    for (n = new Array(a); --r >= 0; )
        for (e = (i = t[r]).length; --e >= 0; )
            n[--a] = i[e];
    return n
}
function Yl(t, e) {
    var n,
    i,
    r = t.length,
    o = -1;
    if (null == e) {
        for (; ++o < r; )
            if (null != (n = t[o]) && n >= n)
                for (i = n; ++o < r; )
                    null != (n = t[o]) && i > n && (i = n)
    } else
        for (; ++o < r; )
            if (null != (n = e(t[o], o, t)) && n >= n)
                for (i = n; ++o < r; )
                    null != (n = e(t[o], o, t)) && i > n && (i = n);
    return i
}
function Vl() {}
function $l(t, e) {
    var n = new Vl;
    if (t instanceof Vl)
        t.each(function (t, e) {
            n.set(e, t)
        });
    else if (Array.isArray(t)) {
        var i,
        r = -1,
        o = t.length;
        if (null == e)
            for (; ++r < o; )
                n.set(r, t[r]);
        else
            for (; ++r < o; )
                n.set(e(i = t[r], r, t), i)
    } else if (t)
        for (var a in t)
            n.set(a, t[a]);
    return n
}
function Xl() {
    var t,
    e,
    n,
    i = [],
    r = [];
    function o(n, r, a, s) {
        if (r >= i.length)
            return null != t && n.sort(t), null != e ? e(n) : n;
        for (var l, u, h, c = -1, f = n.length, d = i[r++], p = $l(), g = a(); ++c < f; )
            (h = p.get(l = d(u = n[c]) + "")) ? h.push(u) : p.set(l, [u]);
        return p.each(function (t, e) {
            s(g, e, o(t, r, a, s))
        }),
        g
    }
    return n = {
        object: function (t) {
            return o(t, 0, Zl, Kl)
        },
        map: function (t) {
            return o(t, 0, Ql, Jl)
        },
        entries: function (t) {
            return function t(n, o) {
                if (++o > i.length)
                    return n;
                var a,
                s = r[o - 1];
                return null != e && o >= i.length ? a = n.entries() : (a = [], n.each(function (e, n) {
                            a.push({
                                key: n,
                                values: t(e, o)
                            })
                        })),
                null != s ? a.sort(function (t, e) {
                    return s(t.key, e.key)
                }) : a
            }
            (o(t, 0, Ql, Jl), 0)
        },
        key: function (t) {
            return i.push(t),
            n
        },
        sortKeys: function (t) {
            return r[i.length - 1] = t,
            n
        },
        sortValues: function (e) {
            return t = e,
            n
        },
        rollup: function (t) {
            return e = t,
            n
        }
    }
}
function Zl() {
    return {}
}
function Kl(t, e, n) {
    t[e] = n
}
function Ql() {
    return $l()
}
function Jl(t, e, n) {
    t.set(e, n)
}
function tu() {}
Vl.prototype = $l.prototype = {
    constructor: Vl,
    has: function (t) {
        return "$" + t in this
    },
    get: function (t) {
        return this["$" + t]
    },
    set: function (t, e) {
        return this["$" + t] = e,
        this
    },
    remove: function (t) {
        var e = "$" + t;
        return e in this && delete this[e]
    },
    clear: function () {
        for (var t in this)
            "$" === t[0] && delete this[t]
    },
    keys: function () {
        var t = [];
        for (var e in this)
            "$" === e[0] && t.push(e.slice(1));
        return t
    },
    values: function () {
        var t = [];
        for (var e in this)
            "$" === e[0] && t.push(this[e]);
        return t
    },
    entries: function () {
        var t = [];
        for (var e in this)
            "$" === e[0] && t.push({
                key: e.slice(1),
                value: this[e]
            });
        return t
    },
    size: function () {
        var t = 0;
        for (var e in this)
            "$" === e[0] && ++t;
        return t
    },
    empty: function () {
        for (var t in this)
            if ("$" === t[0])
                return !1;
        return !0
    },
    each: function (t) {
        for (var e in this)
            "$" === e[0] && t(this[e], e.slice(1), this)
    }
};
var eu = $l.prototype;
tu.prototype = function (t, e) {
    var n = new tu;
    if (t instanceof tu)
        t.each(function (t) {
            n.add(t)
        });
    else if (t) {
        var i = -1,
        r = t.length;
        if (null == e)
            for (; ++i < r; )
                n.add(t[i]);
        else
            for (; ++i < r; )
                n.add(e(t[i], i, t))
    }
    return n
}
.prototype = {
    constructor: tu,
    has: eu.has,
    add: function (t) {
        return this["$" + (t += "")] = t,
        this
    },
    remove: eu.remove,
    clear: eu.clear,
    values: eu.keys,
    size: eu.size,
    empty: eu.empty,
    each: eu.each
};
var nu = Array.prototype,
iu = nu.map,
ru = nu.slice,
ou = {
    name: "implicit"
};
function au(t) {
    var e = $l(),
    n = [],
    i = ou;
    function r(r) {
        var o = r + "",
        a = e.get(o);
        if (!a) {
            if (i !== ou)
                return i;
            e.set(o, a = n.push(r))
        }
        return t[(a - 1) % t.length]
    }
    return t = null == t ? [] : ru.call(t),
    r.domain = function (t) {
        if (!arguments.length)
            return n.slice();
        n = [],
        e = $l();
        for (var i, o, a = -1, s = t.length; ++a < s; )
            e.has(o = (i = t[a]) + "") || e.set(o, n.push(i));
        return r
    },
    r.range = function (e) {
        return arguments.length ? (t = ru.call(e), r) : t.slice()
    },
    r.unknown = function (t) {
        return arguments.length ? (i = t, r) : i
    },
    r.copy = function () {
        return au().domain(n).range(t).unknown(i)
    },
    r
}
function su() {
    var t,
    e,
    n = au().unknown(void 0),
    i = n.domain,
    r = n.range,
    o = [0, 1],
    a = !1,
    s = 0,
    l = 0,
    u = .5;
    function h() {
        var n = i().length,
        h = o[1] < o[0],
        c = o[h - 0],
        f = o[1 - h];
        t = (f - c) / Math.max(1, n - s + 2 * l),
        a && (t = Math.floor(t)),
        c += (f - c - t * (n - s)) * u,
        e = t * (1 - s),
        a && (c = Math.round(c), e = Math.round(e));
        var d = function (t, e, n) {
            t = +t,
            e = +e,
            n = (r = arguments.length) < 2 ? (e = t, t = 0, 1) : r < 3 ? 1 : +n;
            for (var i = -1, r = 0 | Math.max(0, Math.ceil((e - t) / n)), o = new Array(r); ++i < r; )
                o[i] = t + i * n;
            return o
        }
        (n).map(function (e) {
            return c + t * e
        });
        return r(h ? d.reverse() : d)
    }
    return delete n.unknown,
    n.domain = function (t) {
        return arguments.length ? (i(t), h()) : i()
    },
    n.range = function (t) {
        return arguments.length ? (o = [+t[0], +t[1]], h()) : o.slice()
    },
    n.rangeRound = function (t) {
        return o = [+t[0], +t[1]],
        a = !0,
        h()
    },
    n.bandwidth = function () {
        return e
    },
    n.step = function () {
        return t
    },
    n.round = function (t) {
        return arguments.length ? (a = !!t, h()) : a
    },
    n.padding = function (t) {
        return arguments.length ? (s = l = Math.max(0, Math.min(1, t)), h()) : s
    },
    n.paddingInner = function (t) {
        return arguments.length ? (s = Math.max(0, Math.min(1, t)), h()) : s
    },
    n.paddingOuter = function (t) {
        return arguments.length ? (l = Math.max(0, Math.min(1, t)), h()) : l
    },
    n.align = function (t) {
        return arguments.length ? (u = Math.max(0, Math.min(1, t)), h()) : u
    },
    n.copy = function () {
        return su().domain(i()).range(o).round(a).paddingInner(s).paddingOuter(l).align(u)
    },
    h()
}
function lu(t, e, n) {
    t.prototype = e.prototype = n,
    n.constructor = t
}
function uu(t, e) {
    var n = Object.create(t.prototype);
    for (var i in e)
        n[i] = e[i];
    return n
}
function hu() {}
var cu = "\\s*([+-]?\\d+)\\s*",
fu = "\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",
du = "\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",
pu = /^#([0-9a-f]{3})$/,
gu = /^#([0-9a-f]{6})$/,
vu = new RegExp("^rgb\\(" + [cu, cu, cu] + "\\)$"),
yu = new RegExp("^rgb\\(" + [du, du, du] + "\\)$"),
mu = new RegExp("^rgba\\(" + [cu, cu, cu, fu] + "\\)$"),
xu = new RegExp("^rgba\\(" + [du, du, du, fu] + "\\)$"),
_u = new RegExp("^hsl\\(" + [fu, du, du] + "\\)$"),
wu = new RegExp("^hsla\\(" + [fu, du, du, fu] + "\\)$"),
bu = {
    aliceblue: 15792383,
    antiquewhite: 16444375,
    aqua: 65535,
    aquamarine: 8388564,
    azure: 15794175,
    beige: 16119260,
    bisque: 16770244,
    black: 0,
    blanchedalmond: 16772045,
    blue: 255,
    blueviolet: 9055202,
    brown: 10824234,
    burlywood: 14596231,
    cadetblue: 6266528,
    chartreuse: 8388352,
    chocolate: 13789470,
    coral: 16744272,
    cornflowerblue: 6591981,
    cornsilk: 16775388,
    crimson: 14423100,
    cyan: 65535,
    darkblue: 139,
    darkcyan: 35723,
    darkgoldenrod: 12092939,
    darkgray: 11119017,
    darkgreen: 25600,
    darkgrey: 11119017,
    darkkhaki: 12433259,
    darkmagenta: 9109643,
    darkolivegreen: 5597999,
    darkorange: 16747520,
    darkorchid: 10040012,
    darkred: 9109504,
    darksalmon: 15308410,
    darkseagreen: 9419919,
    darkslateblue: 4734347,
    darkslategray: 3100495,
    darkslategrey: 3100495,
    darkturquoise: 52945,
    darkviolet: 9699539,
    deeppink: 16716947,
    deepskyblue: 49151,
    dimgray: 6908265,
    dimgrey: 6908265,
    dodgerblue: 2003199,
    firebrick: 11674146,
    floralwhite: 16775920,
    forestgreen: 2263842,
    fuchsia: 16711935,
    gainsboro: 14474460,
    ghostwhite: 16316671,
    gold: 16766720,
    goldenrod: 14329120,
    gray: 8421504,
    green: 32768,
    greenyellow: 11403055,
    grey: 8421504,
    honeydew: 15794160,
    hotpink: 16738740,
    indianred: 13458524,
    indigo: 4915330,
    ivory: 16777200,
    khaki: 15787660,
    lavender: 15132410,
    lavenderblush: 16773365,
    lawngreen: 8190976,
    lemonchiffon: 16775885,
    lightblue: 11393254,
    lightcoral: 15761536,
    lightcyan: 14745599,
    lightgoldenrodyellow: 16448210,
    lightgray: 13882323,
    lightgreen: 9498256,
    lightgrey: 13882323,
    lightpink: 16758465,
    lightsalmon: 16752762,
    lightseagreen: 2142890,
    lightskyblue: 8900346,
    lightslategray: 7833753,
    lightslategrey: 7833753,
    lightsteelblue: 11584734,
    lightyellow: 16777184,
    lime: 65280,
    limegreen: 3329330,
    linen: 16445670,
    magenta: 16711935,
    maroon: 8388608,
    mediumaquamarine: 6737322,
    mediumblue: 205,
    mediumorchid: 12211667,
    mediumpurple: 9662683,
    mediumseagreen: 3978097,
    mediumslateblue: 8087790,
    mediumspringgreen: 64154,
    mediumturquoise: 4772300,
    mediumvioletred: 13047173,
    midnightblue: 1644912,
    mintcream: 16121850,
    mistyrose: 16770273,
    moccasin: 16770229,
    navajowhite: 16768685,
    navy: 128,
    oldlace: 16643558,
    olive: 8421376,
    olivedrab: 7048739,
    orange: 16753920,
    orangered: 16729344,
    orchid: 14315734,
    palegoldenrod: 15657130,
    palegreen: 10025880,
    paleturquoise: 11529966,
    palevioletred: 14381203,
    papayawhip: 16773077,
    peachpuff: 16767673,
    peru: 13468991,
    pink: 16761035,
    plum: 14524637,
    powderblue: 11591910,
    purple: 8388736,
    rebeccapurple: 6697881,
    red: 16711680,
    rosybrown: 12357519,
    royalblue: 4286945,
    saddlebrown: 9127187,
    salmon: 16416882,
    sandybrown: 16032864,
    seagreen: 3050327,
    seashell: 16774638,
    sienna: 10506797,
    silver: 12632256,
    skyblue: 8900331,
    slateblue: 6970061,
    slategray: 7372944,
    slategrey: 7372944,
    snow: 16775930,
    springgreen: 65407,
    steelblue: 4620980,
    tan: 13808780,
    teal: 32896,
    thistle: 14204888,
    tomato: 16737095,
    turquoise: 4251856,
    violet: 15631086,
    wheat: 16113331,
    white: 16777215,
    whitesmoke: 16119285,
    yellow: 16776960,
    yellowgreen: 10145074
};
function Su(t) {
    var e;
    return t = (t + "").trim().toLowerCase(),
    (e = pu.exec(t)) ? new Tu((e = parseInt(e[1], 16)) >> 8 & 15 | e >> 4 & 240, e >> 4 & 15 | 240 & e, (15 & e) << 4 | 15 & e, 1) : (e = gu.exec(t)) ? ku(parseInt(e[1], 16)) : (e = vu.exec(t)) ? new Tu(e[1], e[2], e[3], 1) : (e = yu.exec(t)) ? new Tu(255 * e[1] / 100, 255 * e[2] / 100, 255 * e[3] / 100, 1) : (e = mu.exec(t)) ? Mu(e[1], e[2], e[3], e[4]) : (e = xu.exec(t)) ? Mu(255 * e[1] / 100, 255 * e[2] / 100, 255 * e[3] / 100, e[4]) : (e = _u.exec(t)) ? zu(e[1], e[2] / 100, e[3] / 100, 1) : (e = wu.exec(t)) ? zu(e[1], e[2] / 100, e[3] / 100, e[4]) : bu.hasOwnProperty(t) ? ku(bu[t]) : "transparent" === t ? new Tu(NaN, NaN, NaN, 0) : null
}
function ku(t) {
    return new Tu(t >> 16 & 255, t >> 8 & 255, 255 & t, 1)
}
function Mu(t, e, n, i) {
    return i <= 0 && (t = e = n = NaN),
    new Tu(t, e, n, i)
}
function Iu(t) {
    return t instanceof hu || (t = Su(t)),
    t ? new Tu((t = t.rgb()).r, t.g, t.b, t.opacity) : new Tu
}
function Au(t, e, n, i) {
    return 1 === arguments.length ? Iu(t) : new Tu(t, e, n, null == i ? 1 : i)
}
function Tu(t, e, n, i) {
    this.r = +t,
    this.g = +e,
    this.b = +n,
    this.opacity = +i
}
function Cu(t) {
    return ((t = Math.max(0, Math.min(255, Math.round(t) || 0))) < 16 ? "0" : "") + t.toString(16)
}
function zu(t, e, n, i) {
    return i <= 0 ? t = e = n = NaN : n <= 0 || n >= 1 ? t = e = NaN : e <= 0 && (t = NaN),
    new Lu(t, e, n, i)
}
function Eu(t, e, n, i) {
    return 1 === arguments.length ? function (t) {
        if (t instanceof Lu)
            return new Lu(t.h, t.s, t.l, t.opacity);
        if (t instanceof hu || (t = Su(t)), !t)
            return new Lu;
        if (t instanceof Lu)
            return t;
        var e = (t = t.rgb()).r / 255,
        n = t.g / 255,
        i = t.b / 255,
        r = Math.min(e, n, i),
        o = Math.max(e, n, i),
        a = NaN,
        s = o - r,
        l = (o + r) / 2;
        return s ? (a = e === o ? (n - i) / s + 6 * (n < i) : n === o ? (i - e) / s + 2 : (e - n) / s + 4, s /= l < .5 ? o + r : 2 - o - r, a *= 60) : s = l > 0 && l < 1 ? 0 : a,
        new Lu(a, s, l, t.opacity)
    }
    (t) : new Lu(t, e, n, null == i ? 1 : i)
}
function Lu(t, e, n, i) {
    this.h = +t,
    this.s = +e,
    this.l = +n,
    this.opacity = +i
}
function Du(t, e, n) {
    return 255 * (t < 60 ? e + (n - e) * t / 60 : t < 180 ? n : t < 240 ? e + (n - e) * (240 - t) / 60 : e)
}
lu(hu, Su, {
    displayable: function () {
        return this.rgb().displayable()
    },
    hex: function () {
        return this.rgb().hex()
    },
    toString: function () {
        return this.rgb() + ""
    }
}),
lu(Tu, Au, uu(hu, {
        brighter: function (t) {
            return t = null == t ? 1 / .7 : Math.pow(1 / .7, t),
            new Tu(this.r * t, this.g * t, this.b * t, this.opacity)
        },
        darker: function (t) {
            return t = null == t ? .7 : Math.pow(.7, t),
            new Tu(this.r * t, this.g * t, this.b * t, this.opacity)
        },
        rgb: function () {
            return this
        },
        displayable: function () {
            return 0 <= this.r && this.r <= 255 && 0 <= this.g && this.g <= 255 && 0 <= this.b && this.b <= 255 && 0 <= this.opacity && this.opacity <= 1
        },
        hex: function () {
            return "#" + Cu(this.r) + Cu(this.g) + Cu(this.b)
        },
        toString: function () {
            var t = this.opacity;
            return (1 === (t = isNaN(t) ? 1 : Math.max(0, Math.min(1, t))) ? "rgb(" : "rgba(") + Math.max(0, Math.min(255, Math.round(this.r) || 0)) + ", " + Math.max(0, Math.min(255, Math.round(this.g) || 0)) + ", " + Math.max(0, Math.min(255, Math.round(this.b) || 0)) + (1 === t ? ")" : ", " + t + ")")
        }
    })),
lu(Lu, Eu, uu(hu, {
        brighter: function (t) {
            return t = null == t ? 1 / .7 : Math.pow(1 / .7, t),
            new Lu(this.h, this.s, this.l * t, this.opacity)
        },
        darker: function (t) {
            return t = null == t ? .7 : Math.pow(.7, t),
            new Lu(this.h, this.s, this.l * t, this.opacity)
        },
        rgb: function () {
            var t = this.h % 360 + 360 * (this.h < 0),
            e = isNaN(t) || isNaN(this.s) ? 0 : this.s,
            n = this.l,
            i = n + (n < .5 ? n : 1 - n) * e,
            r = 2 * n - i;
            return new Tu(Du(t >= 240 ? t - 240 : t + 120, r, i), Du(t, r, i), Du(t < 120 ? t + 240 : t - 120, r, i), this.opacity)
        },
        displayable: function () {
            return (0 <= this.s && this.s <= 1 || isNaN(this.s)) && 0 <= this.l && this.l <= 1 && 0 <= this.opacity && this.opacity <= 1
        }
    }));
var Ou = Math.PI / 180,
Pu = 180 / Math.PI,
Fu = .96422,
Nu = 1,
Ru = .82521,
Bu = 4 / 29,
Wu = 6 / 29,
Gu = 3 * Wu * Wu,
Hu = Wu * Wu * Wu;
function ju(t) {
    if (t instanceof qu)
        return new qu(t.l, t.a, t.b, t.opacity);
    if (t instanceof Qu) {
        if (isNaN(t.h))
            return new qu(t.l, 0, 0, t.opacity);
        var e = t.h * Ou;
        return new qu(t.l, Math.cos(e) * t.c, Math.sin(e) * t.c, t.opacity)
    }
    t instanceof Tu || (t = Iu(t));
    var n,
    i,
    r = Xu(t.r),
    o = Xu(t.g),
    a = Xu(t.b),
    s = Yu((.2225045 * r + .7168786 * o + .0606169 * a) / Nu);
    return r === o && o === a ? n = i = s : (n = Yu((.4360747 * r + .3850649 * o + .1430804 * a) / Fu), i = Yu((.0139322 * r + .0971045 * o + .7141733 * a) / Ru)),
    new qu(116 * s - 16, 500 * (n - s), 200 * (s - i), t.opacity)
}
function Uu(t, e, n, i) {
    return 1 === arguments.length ? ju(t) : new qu(t, e, n, null == i ? 1 : i)
}
function qu(t, e, n, i) {
    this.l = +t,
    this.a = +e,
    this.b = +n,
    this.opacity = +i
}
function Yu(t) {
    return t > Hu ? Math.pow(t, 1 / 3) : t / Gu + Bu
}
function Vu(t) {
    return t > Wu ? t * t * t : Gu * (t - Bu)
}
function $u(t) {
    return 255 * (t <= .0031308 ? 12.92 * t : 1.055 * Math.pow(t, 1 / 2.4) - .055)
}
function Xu(t) {
    return (t /= 255) <= .04045 ? t / 12.92 : Math.pow((t + .055) / 1.055, 2.4)
}
function Zu(t) {
    if (t instanceof Qu)
        return new Qu(t.h, t.c, t.l, t.opacity);
    if (t instanceof qu || (t = ju(t)), 0 === t.a && 0 === t.b)
        return new Qu(NaN, 0, t.l, t.opacity);
    var e = Math.atan2(t.b, t.a) * Pu;
    return new Qu(e < 0 ? e + 360 : e, Math.sqrt(t.a * t.a + t.b * t.b), t.l, t.opacity)
}
function Ku(t, e, n, i) {
    return 1 === arguments.length ? Zu(t) : new Qu(t, e, n, null == i ? 1 : i)
}
function Qu(t, e, n, i) {
    this.h = +t,
    this.c = +e,
    this.l = +n,
    this.opacity = +i
}
lu(qu, Uu, uu(hu, {
        brighter: function (t) {
            return new qu(this.l + 18 * (null == t ? 1 : t), this.a, this.b, this.opacity)
        },
        darker: function (t) {
            return new qu(this.l - 18 * (null == t ? 1 : t), this.a, this.b, this.opacity)
        },
        rgb: function () {
            var t = (this.l + 16) / 116,
            e = isNaN(this.a) ? t : t + this.a / 500,
            n = isNaN(this.b) ? t : t - this.b / 200;
            return new Tu($u(3.1338561 * (e = Fu * Vu(e)) - 1.6168667 * (t = Nu * Vu(t)) - .4906146 * (n = Ru * Vu(n))), $u( - .9787684 * e + 1.9161415 * t + .033454 * n), $u(.0719453 * e - .2289914 * t + 1.4052427 * n), this.opacity)
        }
    })),
lu(Qu, Ku, uu(hu, {
        brighter: function (t) {
            return new Qu(this.h, this.c, this.l + 18 * (null == t ? 1 : t), this.opacity)
        },
        darker: function (t) {
            return new Qu(this.h, this.c, this.l - 18 * (null == t ? 1 : t), this.opacity)
        },
        rgb: function () {
            return ju(this).rgb()
        }
    }));
var Ju =  - .14861,
th = 1.78277,
eh =  - .29227,
nh =  - .90649,
ih = 1.97294,
rh = ih * nh,
oh = ih * th,
ah = th * eh - nh * Ju;
function sh(t, e, n, i) {
    return 1 === arguments.length ? function (t) {
        if (t instanceof lh)
            return new lh(t.h, t.s, t.l, t.opacity);
        t instanceof Tu || (t = Iu(t));
        var e = t.r / 255,
        n = t.g / 255,
        i = t.b / 255,
        r = (ah * i + rh * e - oh * n) / (ah + rh - oh),
        o = i - r,
        a = (ih * (n - r) - eh * o) / nh,
        s = Math.sqrt(a * a + o * o) / (ih * r * (1 - r)),
        l = s ? Math.atan2(a, o) * Pu - 120 : NaN;
        return new lh(l < 0 ? l + 360 : l, s, r, t.opacity)
    }
    (t) : new lh(t, e, n, null == i ? 1 : i)
}
function lh(t, e, n, i) {
    this.h = +t,
    this.s = +e,
    this.l = +n,
    this.opacity = +i
}
lu(lh, sh, uu(hu, {
        brighter: function (t) {
            return t = null == t ? 1 / .7 : Math.pow(1 / .7, t),
            new lh(this.h, this.s, this.l * t, this.opacity)
        },
        darker: function (t) {
            return t = null == t ? .7 : Math.pow(.7, t),
            new lh(this.h, this.s, this.l * t, this.opacity)
        },
        rgb: function () {
            var t = isNaN(this.h) ? 0 : (this.h + 120) * Ou,
            e = +this.l,
            n = isNaN(this.s) ? 0 : this.s * e * (1 - e),
            i = Math.cos(t),
            r = Math.sin(t);
            return new Tu(255 * (e + n * (Ju * i + th * r)), 255 * (e + n * (eh * i + nh * r)), 255 * (e + n * (ih * i)), this.opacity)
        }
    }));
var uh = Object.freeze({
    color: Su,
    rgb: Au,
    hsl: Eu,
    lab: Uu,
    hcl: Ku,
    lch: function (t, e, n, i) {
        return 1 === arguments.length ? Zu(t) : new Qu(n, e, t, null == i ? 1 : i)
    },
    gray: function (t, e) {
        return new qu(t, 0, 0, null == e ? 1 : e)
    },
    cubehelix: sh
});
function hh(t) {
    return function () {
        return t
    }
}
function ch(t) {
    return 1 == (t = +t) ? fh : function (e, n) {
        return n - e ? function (t, e, n) {
            return t = Math.pow(t, n),
            e = Math.pow(e, n) - t,
            n = 1 / n,
            function (i) {
                return Math.pow(t + i * e, n)
            }
        }
        (e, n, t) : hh(isNaN(e) ? n : e)
    }
}
function fh(t, e) {
    var n = e - t;
    return n ? function (t, e) {
        return function (n) {
            return t + n * e
        }
    }
    (t, n) : hh(isNaN(t) ? e : t)
}
var dh = function t(e) {
    var n = ch(e);
    function i(t, e) {
        var i = n((t = Au(t)).r, (e = Au(e)).r),
        r = n(t.g, e.g),
        o = n(t.b, e.b),
        a = fh(t.opacity, e.opacity);
        return function (e) {
            return t.r = i(e),
            t.g = r(e),
            t.b = o(e),
            t.opacity = a(e),
            t + ""
        }
    }
    return i.gamma = t,
    i
}
(1);
function ph(t, e) {
    return e -= t = +t,
    function (n) {
        return t + e * n
    }
}
var gh = /[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,
vh = new RegExp(gh.source, "g");
function yh(t, e) {
    var n,
    i = void 0 === e ? "undefined" : r(e);
    return null == e || "boolean" === i ? hh(e) : ("number" === i ? ph : "string" === i ? (n = Su(e)) ? (e = n, dh) : function (t, e) {
        var n,
        i,
        r,
        o = gh.lastIndex = vh.lastIndex = 0,
        a = -1,
        s = [],
        l = [];
        for (t += "", e += ""; (n = gh.exec(t)) && (i = vh.exec(e)); )
            (r = i.index) > o && (r = e.slice(o, r), s[a] ? s[a] += r : s[++a] = r), (n = n[0]) === (i = i[0]) ? s[a] ? s[a] += i : s[++a] = i : (s[++a] = null, l.push({
                        i: a,
                        x: ph(n, i)
                    })), o = vh.lastIndex;
        return o < e.length && (r = e.slice(o), s[a] ? s[a] += r : s[++a] = r),
        s.length < 2 ? l[0] ? function (t) {
            return function (e) {
                return t(e) + ""
            }
        }
        (l[0].x) : function (t) {
            return function () {
                return t
            }
        }
        (e) : (e = l.length, function (t) {
            for (var n, i = 0; i < e; ++i)
                s[(n = l[i]).i] = n.x(t);
            return s.join("")
        })
    }
         : e instanceof Su ? dh : e instanceof Date ? function (t, e) {
        var n = new Date;
        return e -= t = +t,
        function (i) {
            return n.setTime(t + e * i),
            n
        }
    }
         : Array.isArray(e) ? function (t, e) {
        var n,
        i = e ? e.length : 0,
        r = t ? Math.min(i, t.length) : 0,
        o = new Array(r),
        a = new Array(i);
        for (n = 0; n < r; ++n)
            o[n] = yh(t[n], e[n]);
        for (; n < i; ++n)
            a[n] = e[n];
        return function (t) {
            for (n = 0; n < r; ++n)
                a[n] = o[n](t);
            return a
        }
    }
         : "function" != typeof e.valueOf && "function" != typeof e.toString || isNaN(e) ? function (t, e) {
        var n,
        i = {},
        o = {};
        for (n in null !== t && "object" === (void 0 === t ? "undefined" : r(t)) || (t = {}), null !== e && "object" === (void 0 === e ? "undefined" : r(e)) || (e = {}), e)
            n in t ? i[n] = yh(t[n], e[n]) : o[n] = e[n];
        return function (t) {
            for (n in i)
                o[n] = i[n](t);
            return o
        }
    }
         : ph)(t, e)
}
function mh(t, e) {
    return e -= t = +t,
    function (n) {
        return Math.round(t + e * n)
    }
}
Math.PI,
Math.SQRT2;
function xh(t) {
    return function () {
        return t
    }
}
function _h(t) {
    return +t
}
var wh = [0, 1];
function bh(t, e) {
    return (e -= t = +t) ? function (n) {
        return (n - t) / e
    }
     : xh(e)
}
function Sh(t, e, n, i) {
    var r = t[0],
    o = t[1],
    a = e[0],
    s = e[1];
    return o < r ? (r = n(o, r), a = i(s, a)) : (r = n(r, o), a = i(a, s)),
    function (t) {
        return a(r(t))
    }
}
function kh(t, e, n, i) {
    var r = Math.min(t.length, e.length) - 1,
    o = new Array(r),
    a = new Array(r),
    s = -1;
    for (t[r] < t[0] && (t = t.slice().reverse(), e = e.slice().reverse()); ++s < r; )
        o[s] = n(t[s], t[s + 1]), a[s] = i(e[s], e[s + 1]);
    return function (e) {
        var n = Fl(t, e, 1, r) - 1;
        return a[n](o[n](e))
    }
}
function Mh(t, e) {
    return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp())
}
function Ih(t, e) {
    var n,
    i,
    r,
    o = wh,
    a = wh,
    s = yh,
    l = !1;
    function u() {
        return n = Math.min(o.length, a.length) > 2 ? kh : Sh,
        i = r = null,
        h
    }
    function h(e) {
        return (i || (i = n(o, a, l ? function (t) {
                    return function (e, n) {
                        var i = t(e = +e, n = +n);
                        return function (t) {
                            return t <= e ? 0 : t >= n ? 1 : i(t)
                        }
                    }
                }
                        (t) : t, s)))(+e)
    }
    return h.invert = function (t) {
        return (r || (r = n(a, o, bh, l ? function (t) {
                    return function (e, n) {
                        var i = t(e = +e, n = +n);
                        return function (t) {
                            return t <= 0 ? e : t >= 1 ? n : i(t)
                        }
                    }
                }
                        (e) : e)))(+t)
    },
    h.domain = function (t) {
        return arguments.length ? (o = iu.call(t, _h), u()) : o.slice()
    },
    h.range = function (t) {
        return arguments.length ? (a = ru.call(t), u()) : a.slice()
    },
    h.rangeRound = function (t) {
        return a = ru.call(t),
        s = mh,
        u()
    },
    h.clamp = function (t) {
        return arguments.length ? (l = !!t, u()) : l
    },
    h.interpolate = function (t) {
        return arguments.length ? (s = t, u()) : s
    },
    u()
}
function Ah(t, e) {
    if ((n = (t = e ? t.toExponential(e - 1) : t.toExponential()).indexOf("e")) < 0)
        return null;
    var n,
    i = t.slice(0, n);
    return [i.length > 1 ? i[0] + i.slice(2) : i, +t.slice(n + 1)]
}
function Th(t) {
    return (t = Ah(Math.abs(t))) ? t[1] : NaN
}
var Ch,
zh = /^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;
function Eh(t) {
    return new Lh(t)
}
function Lh(t) {
    if (!(e = zh.exec(t)))
        throw new Error("invalid format: " + t);
    var e;
    this.fill = e[1] || " ",
    this.align = e[2] || ">",
    this.sign = e[3] || "-",
    this.symbol = e[4] || "",
    this.zero = !!e[5],
    this.width = e[6] && +e[6],
    this.comma = !!e[7],
    this.precision = e[8] && +e[8].slice(1),
    this.trim = !!e[9],
    this.type = e[10] || ""
}
function Dh(t, e) {
    var n = Ah(t, e);
    if (!n)
        return t + "";
    var i = n[0],
    r = n[1];
    return r < 0 ? "0." + new Array(-r).join("0") + i : i.length > r + 1 ? i.slice(0, r + 1) + "." + i.slice(r + 1) : i + new Array(r - i.length + 2).join("0")
}
Eh.prototype = Lh.prototype,
Lh.prototype.toString = function () {
    return this.fill + this.align + this.sign + this.symbol + (this.zero ? "0" : "") + (null == this.width ? "" : Math.max(1, 0 | this.width)) + (this.comma ? "," : "") + (null == this.precision ? "" : "." + Math.max(0, 0 | this.precision)) + (this.trim ? "~" : "") + this.type
};
var Oh = {
    "%": function (t, e) {
        return (100 * t).toFixed(e)
    },
    b: function (t) {
        return Math.round(t).toString(2)
    },
    c: function (t) {
        return t + ""
    },
    d: function (t) {
        return Math.round(t).toString(10)
    },
    e: function (t, e) {
        return t.toExponential(e)
    },
    f: function (t, e) {
        return t.toFixed(e)
    },
    g: function (t, e) {
        return t.toPrecision(e)
    },
    o: function (t) {
        return Math.round(t).toString(8)
    },
    p: function (t, e) {
        return Dh(100 * t, e)
    },
    r: Dh,
    s: function (t, e) {
        var n = Ah(t, e);
        if (!n)
            return t + "";
        var i = n[0],
        r = n[1],
        o = r - (Ch = 3 * Math.max(-8, Math.min(8, Math.floor(r / 3)))) + 1,
        a = i.length;
        return o === a ? i : o > a ? i + new Array(o - a + 1).join("0") : o > 0 ? i.slice(0, o) + "." + i.slice(o) : "0." + new Array(1 - o).join("0") + Ah(t, Math.max(0, e + o - 1))[0]
    },
    X: function (t) {
        return Math.round(t).toString(16).toUpperCase()
    },
    x: function (t) {
        return Math.round(t).toString(16)
    }
};
function Ph(t) {
    return t
}
var Fh,
Nh,
Rh,
Bh = ["y", "z", "a", "f", "p", "n", "µ", "m", "", "k", "M", "G", "T", "P", "E", "Z", "Y"];
function Wh(t) {
    var e,
    n,
    i = t.grouping && t.thousands ? (e = t.grouping, n = t.thousands, function (t, i) {
        for (var r = t.length, o = [], a = 0, s = e[0], l = 0; r > 0 && s > 0 && (l + s + 1 > i && (s = Math.max(1, i - l)), o.push(t.substring(r -= s, r + s)), !((l += s + 1) > i)); )
            s = e[a = (a + 1) % e.length];
        return o.reverse().join(n)
    }) : Ph,
    r = t.currency,
    o = t.decimal,
    a = t.numerals ? function (t) {
        return function (e) {
            return e.replace(/[0-9]/g, function (e) {
                return t[+e]
            })
        }
    }
    (t.numerals) : Ph,
    s = t.percent || "%";
    function l(t) {
        var e = (t = Eh(t)).fill,
        n = t.align,
        l = t.sign,
        u = t.symbol,
        h = t.zero,
        c = t.width,
        f = t.comma,
        d = t.precision,
        p = t.trim,
        g = t.type;
        "n" === g ? (f = !0, g = "g") : Oh[g] || (null == d && (d = 12), p = !0, g = "g"),
        (h || "0" === e && "=" === n) && (h = !0, e = "0", n = "=");
        var v = "$" === u ? r[0] : "#" === u && /[boxX]/.test(g) ? "0" + g.toLowerCase() : "",
        y = "$" === u ? r[1] : /[%p]/.test(g) ? s : "",
        m = Oh[g],
        x = /[defgprs%]/.test(g);
        function _(t) {
            var r,
            s,
            u,
            _ = v,
            w = y;
            if ("c" === g)
                w = m(t) + w, t = "";
            else {
                var b = (t = +t) < 0;
                if (t = m(Math.abs(t), d), p && (t = function (t) {
                        t: for (var e, n = t.length, i = 1, r = -1; i < n; ++i)
                            switch (t[i]) {
                            case ".":
                                r = e = i;
                                break;
                            case "0":
                                0 === r && (r = i),
                                e = i;
                                break;
                            default:
                                if (r > 0) {
                                    if (!+t[i])
                                        break t;
                                    r = 0
                                }
                            }
                        return r > 0 ? t.slice(0, r) + t.slice(e + 1) : t
                    }
                        (t)), b && 0 == +t && (b = !1), _ = (b ? "(" === l ? l : "-" : "-" === l || "(" === l ? "" : l) + _, w = ("s" === g ? Bh[8 + Ch / 3] : "") + w + (b && "(" === l ? ")" : ""), x)
                    for (r = -1, s = t.length; ++r < s; )
                        if (48 > (u = t.charCodeAt(r)) || u > 57) {
                            w = (46 === u ? o + t.slice(r + 1) : t.slice(r)) + w,
                            t = t.slice(0, r);
                            break
                        }
            }
            f && !h && (t = i(t, 1 / 0));
            var S = _.length + t.length + w.length,
            k = S < c ? new Array(c - S + 1).join(e) : "";
            switch (f && h && (t = i(k + t, k.length ? c - w.length : 1 / 0), k = ""), n) {
            case "<":
                t = _ + t + w + k;
                break;
            case "=":
                t = _ + k + t + w;
                break;
            case "^":
                t = k.slice(0, S = k.length >> 1) + _ + t + w + k.slice(S);
                break;
            default:
                t = k + _ + t + w
            }
            return a(t)
        }
        return d = null == d ? 6 : /[gprs]/.test(g) ? Math.max(1, Math.min(21, d)) : Math.max(0, Math.min(20, d)),
        _.toString = function () {
            return t + ""
        },
        _
    }
    return {
        format: l,
        formatPrefix: function (t, e) {
            var n = l(((t = Eh(t)).type = "f", t)),
            i = 3 * Math.max(-8, Math.min(8, Math.floor(Th(e) / 3))),
            r = Math.pow(10, -i),
            o = Bh[8 + i / 3];
            return function (t) {
                return n(r * t) + o
            }
        }
    }
}
function Gh(t, e, n) {
    var i,
    r = t[0],
    o = t[t.length - 1],
    a = jl(r, o, null == e ? 10 : e);
    switch ((n = Eh(null == n ? ",f" : n)).type) {
    case "s":
        var s = Math.max(Math.abs(r), Math.abs(o));
        return null != n.precision || isNaN(i = function (t, e) {
            return Math.max(0, 3 * Math.max(-8, Math.min(8, Math.floor(Th(e) / 3))) - Th(Math.abs(t)))
        }
            (a, s)) || (n.precision = i),
        Rh(n, s);
    case "":
    case "e":
    case "g":
    case "p":
    case "r":
        null != n.precision || isNaN(i = function (t, e) {
            return t = Math.abs(t),
            e = Math.abs(e) - t,
            Math.max(0, Th(e) - Th(t)) + 1
        }
            (a, Math.max(Math.abs(r), Math.abs(o)))) || (n.precision = i - ("e" === n.type));
        break;
    case "f":
    case "%":
        null != n.precision || isNaN(i = function (t) {
            return Math.max(0, -Th(Math.abs(t)))
        }
            (a)) || (n.precision = i - 2 * ("%" === n.type))
    }
    return Nh(n)
}
function Hh() {
    var t = Ih(bh, ph);
    return t.copy = function () {
        return Mh(t, Hh())
    },
    function (t) {
        var e = t.domain;
        return t.ticks = function (t) {
            var n = e();
            return Gl(n[0], n[n.length - 1], null == t ? 10 : t)
        },
        t.tickFormat = function (t, n) {
            return Gh(e(), t, n)
        },
        t.nice = function (n) {
            null == n && (n = 10);
            var i,
            r = e(),
            o = 0,
            a = r.length - 1,
            s = r[o],
            l = r[a];
            return l < s && (i = s, s = l, l = i, i = o, o = a, a = i),
            (i = Hl(s, l, n)) > 0 ? i = Hl(s = Math.floor(s / i) * i, l = Math.ceil(l / i) * i, n) : i < 0 && (i = Hl(s = Math.ceil(s * i) / i, l = Math.floor(l * i) / i, n)),
            i > 0 ? (r[o] = Math.floor(s / i) * i, r[a] = Math.ceil(l / i) * i, e(r)) : i < 0 && (r[o] = Math.ceil(s * i) / i, r[a] = Math.floor(l * i) / i, e(r)),
            t
        },
        t
    }
    (t)
}
function jh(t, e) {
    var n,
    i = 0,
    r = (t = t.slice()).length - 1,
    o = t[i],
    a = t[r];
    return a < o && (n = i, i = r, r = n, n = o, o = a, a = n),
    t[i] = e.floor(o),
    t[r] = e.ceil(a),
    t
}
function Uh(t, e) {
    return (e = Math.log(e / t)) ? function (n) {
        return Math.log(n / t) / e
    }
     : xh(e)
}
function qh(t, e) {
    return t < 0 ? function (n) {
        return -Math.pow(-e, n) * Math.pow(-t, 1 - n)
    }
     : function (n) {
        return Math.pow(e, n) * Math.pow(t, 1 - n)
    }
}
function Yh(t) {
    return isFinite(t) ?  + ("1e" + t) : t < 0 ? 0 : t
}
function Vh(t) {
    return 10 === t ? Yh : t === Math.E ? Math.exp : function (e) {
        return Math.pow(t, e)
    }
}
function $h(t) {
    return t === Math.E ? Math.log : 10 === t && Math.log10 || 2 === t && Math.log2 || (t = Math.log(t), function (e) {
        return Math.log(e) / t
    })
}
function Xh(t) {
    return function (e) {
        return -t(-e)
    }
}
Fh = Wh({
    decimal: ".",
    thousands: ",",
    grouping: [3],
    currency: ["$", ""]
}),
Nh = Fh.format,
Rh = Fh.formatPrefix;
var Zh = new Date,
Kh = new Date;
function Qh(t, e, n, i) {
    function r(e) {
        return t(e = new Date(+e)),
        e
    }
    return r.floor = r,
    r.ceil = function (n) {
        return t(n = new Date(n - 1)),
        e(n, 1),
        t(n),
        n
    },
    r.round = function (t) {
        var e = r(t),
        n = r.ceil(t);
        return t - e < n - t ? e : n
    },
    r.offset = function (t, n) {
        return e(t = new Date(+t), null == n ? 1 : Math.floor(n)),
        t
    },
    r.range = function (n, i, o) {
        var a,
        s = [];
        if (n = r.ceil(n), o = null == o ? 1 : Math.floor(o), !(n < i && o > 0))
            return s;
        do {
            s.push(a = new Date(+n)),
            e(n, o),
            t(n)
        } while (a < n && n < i);
        return s
    },
    r.filter = function (n) {
        return Qh(function (e) {
            if (e >= e)
                for (; t(e), !n(e); )
                    e.setTime(e - 1)
        }, function (t, i) {
            if (t >= t)
                if (i < 0)
                    for (; ++i <= 0; )
                        for (; e(t, -1), !n(t); );
                else
                    for (; --i >= 0; )
                        for (; e(t, 1), !n(t); );
        })
    },
    n && (r.count = function (e, i) {
        return Zh.setTime(+e),
        Kh.setTime(+i),
        t(Zh),
        t(Kh),
        Math.floor(n(Zh, Kh))
    }, r.every = function (t) {
        return t = Math.floor(t),
        isFinite(t) && t > 0 ? t > 1 ? r.filter(i ? function (e) {
            return i(e) % t == 0
        }
             : function (e) {
            return r.count(0, e) % t == 0
        }) : r : null
    }),
    r
}
var Jh = Qh(function () {}, function (t, e) {
    t.setTime(+t + e)
}, function (t, e) {
    return e - t
});
Jh.every = function (t) {
    return t = Math.floor(t),
    isFinite(t) && t > 0 ? t > 1 ? Qh(function (e) {
        e.setTime(Math.floor(e / t) * t)
    }, function (e, n) {
        e.setTime(+e + n * t)
    }, function (e, n) {
        return (n - e) / t
    }) : Jh : null
};
var tc = Jh.range,
ec = 6e4,
nc = 6048e5,
ic = Qh(function (t) {
    t.setTime(1e3 * Math.floor(t / 1e3))
}, function (t, e) {
    t.setTime(+t + 1e3 * e)
}, function (t, e) {
    return (e - t) / 1e3
}, function (t) {
    return t.getUTCSeconds()
}),
rc = ic.range,
oc = Qh(function (t) {
    t.setTime(Math.floor(t / ec) * ec)
}, function (t, e) {
    t.setTime(+t + e * ec)
}, function (t, e) {
    return (e - t) / ec
}, function (t) {
    return t.getMinutes()
}),
ac = oc.range,
sc = Qh(function (t) {
    var e = t.getTimezoneOffset() * ec % 36e5;
    e < 0 && (e += 36e5),
    t.setTime(36e5 * Math.floor((+t - e) / 36e5) + e)
}, function (t, e) {
    t.setTime(+t + 36e5 * e)
}, function (t, e) {
    return (e - t) / 36e5
}, function (t) {
    return t.getHours()
}),
lc = sc.range,
uc = Qh(function (t) {
    t.setHours(0, 0, 0, 0)
}, function (t, e) {
    t.setDate(t.getDate() + e)
}, function (t, e) {
    return (e - t - (e.getTimezoneOffset() - t.getTimezoneOffset()) * ec) / 864e5
}, function (t) {
    return t.getDate() - 1
}),
hc = uc.range;
function cc(t) {
    return Qh(function (e) {
        e.setDate(e.getDate() - (e.getDay() + 7 - t) % 7),
        e.setHours(0, 0, 0, 0)
    }, function (t, e) {
        t.setDate(t.getDate() + 7 * e)
    }, function (t, e) {
        return (e - t - (e.getTimezoneOffset() - t.getTimezoneOffset()) * ec) / nc
    })
}
var fc = cc(0),
dc = cc(1),
pc = cc(2),
gc = cc(3),
vc = cc(4),
yc = cc(5),
mc = cc(6),
xc = fc.range,
_c = dc.range,
wc = pc.range,
bc = gc.range,
Sc = vc.range,
kc = yc.range,
Mc = mc.range,
Ic = Qh(function (t) {
    t.setDate(1),
    t.setHours(0, 0, 0, 0)
}, function (t, e) {
    t.setMonth(t.getMonth() + e)
}, function (t, e) {
    return e.getMonth() - t.getMonth() + 12 * (e.getFullYear() - t.getFullYear())
}, function (t) {
    return t.getMonth()
}),
Ac = Ic.range,
Tc = Qh(function (t) {
    t.setMonth(0, 1),
    t.setHours(0, 0, 0, 0)
}, function (t, e) {
    t.setFullYear(t.getFullYear() + e)
}, function (t, e) {
    return e.getFullYear() - t.getFullYear()
}, function (t) {
    return t.getFullYear()
});
Tc.every = function (t) {
    return isFinite(t = Math.floor(t)) && t > 0 ? Qh(function (e) {
        e.setFullYear(Math.floor(e.getFullYear() / t) * t),
        e.setMonth(0, 1),
        e.setHours(0, 0, 0, 0)
    }, function (e, n) {
        e.setFullYear(e.getFullYear() + n * t)
    }) : null
};
var Cc = Tc.range,
zc = Qh(function (t) {
    t.setUTCSeconds(0, 0)
}, function (t, e) {
    t.setTime(+t + e * ec)
}, function (t, e) {
    return (e - t) / ec
}, function (t) {
    return t.getUTCMinutes()
}),
Ec = zc.range,
Lc = Qh(function (t) {
    t.setUTCMinutes(0, 0, 0)
}, function (t, e) {
    t.setTime(+t + 36e5 * e)
}, function (t, e) {
    return (e - t) / 36e5
}, function (t) {
    return t.getUTCHours()
}),
Dc = Lc.range,
Oc = Qh(function (t) {
    t.setUTCHours(0, 0, 0, 0)
}, function (t, e) {
    t.setUTCDate(t.getUTCDate() + e)
}, function (t, e) {
    return (e - t) / 864e5
}, function (t) {
    return t.getUTCDate() - 1
}),
Pc = Oc.range;
function Fc(t) {
    return Qh(function (e) {
        e.setUTCDate(e.getUTCDate() - (e.getUTCDay() + 7 - t) % 7),
        e.setUTCHours(0, 0, 0, 0)
    }, function (t, e) {
        t.setUTCDate(t.getUTCDate() + 7 * e)
    }, function (t, e) {
        return (e - t) / nc
    })
}
var Nc = Fc(0),
Rc = Fc(1),
Bc = Fc(2),
Wc = Fc(3),
Gc = Fc(4),
Hc = Fc(5),
jc = Fc(6),
Uc = Nc.range,
qc = Rc.range,
Yc = Bc.range,
Vc = Wc.range,
$c = Gc.range,
Xc = Hc.range,
Zc = jc.range,
Kc = Qh(function (t) {
    t.setUTCDate(1),
    t.setUTCHours(0, 0, 0, 0)
}, function (t, e) {
    t.setUTCMonth(t.getUTCMonth() + e)
}, function (t, e) {
    return e.getUTCMonth() - t.getUTCMonth() + 12 * (e.getUTCFullYear() - t.getUTCFullYear())
}, function (t) {
    return t.getUTCMonth()
}),
Qc = Kc.range,
Jc = Qh(function (t) {
    t.setUTCMonth(0, 1),
    t.setUTCHours(0, 0, 0, 0)
}, function (t, e) {
    t.setUTCFullYear(t.getUTCFullYear() + e)
}, function (t, e) {
    return e.getUTCFullYear() - t.getUTCFullYear()
}, function (t) {
    return t.getUTCFullYear()
});
Jc.every = function (t) {
    return isFinite(t = Math.floor(t)) && t > 0 ? Qh(function (e) {
        e.setUTCFullYear(Math.floor(e.getUTCFullYear() / t) * t),
        e.setUTCMonth(0, 1),
        e.setUTCHours(0, 0, 0, 0)
    }, function (e, n) {
        e.setUTCFullYear(e.getUTCFullYear() + n * t)
    }) : null
};
var tf = Jc.range,
ef = Object.freeze({
    timeInterval: Qh,
    timeMillisecond: Jh,
    timeMilliseconds: tc,
    utcMillisecond: Jh,
    utcMilliseconds: tc,
    timeSecond: ic,
    timeSeconds: rc,
    utcSecond: ic,
    utcSeconds: rc,
    timeMinute: oc,
    timeMinutes: ac,
    timeHour: sc,
    timeHours: lc,
    timeDay: uc,
    timeDays: hc,
    timeWeek: fc,
    timeWeeks: xc,
    timeSunday: fc,
    timeSundays: xc,
    timeMonday: dc,
    timeMondays: _c,
    timeTuesday: pc,
    timeTuesdays: wc,
    timeWednesday: gc,
    timeWednesdays: bc,
    timeThursday: vc,
    timeThursdays: Sc,
    timeFriday: yc,
    timeFridays: kc,
    timeSaturday: mc,
    timeSaturdays: Mc,
    timeMonth: Ic,
    timeMonths: Ac,
    timeYear: Tc,
    timeYears: Cc,
    utcMinute: zc,
    utcMinutes: Ec,
    utcHour: Lc,
    utcHours: Dc,
    utcDay: Oc,
    utcDays: Pc,
    utcWeek: Nc,
    utcWeeks: Uc,
    utcSunday: Nc,
    utcSundays: Uc,
    utcMonday: Rc,
    utcMondays: qc,
    utcTuesday: Bc,
    utcTuesdays: Yc,
    utcWednesday: Wc,
    utcWednesdays: Vc,
    utcThursday: Gc,
    utcThursdays: $c,
    utcFriday: Hc,
    utcFridays: Xc,
    utcSaturday: jc,
    utcSaturdays: Zc,
    utcMonth: Kc,
    utcMonths: Qc,
    utcYear: Jc,
    utcYears: tf
});
function nf(t) {
    if (0 <= t.y && t.y < 100) {
        var e = new Date(-1, t.m, t.d, t.H, t.M, t.S, t.L);
        return e.setFullYear(t.y),
        e
    }
    return new Date(t.y, t.m, t.d, t.H, t.M, t.S, t.L)
}
function rf(t) {
    if (0 <= t.y && t.y < 100) {
        var e = new Date(Date.UTC(-1, t.m, t.d, t.H, t.M, t.S, t.L));
        return e.setUTCFullYear(t.y),
        e
    }
    return new Date(Date.UTC(t.y, t.m, t.d, t.H, t.M, t.S, t.L))
}
function of(t) {
    return {
        y: t,
        m: 0,
        d: 1,
        H: 0,
        M: 0,
        S: 0,
        L: 0
    }
}
var af,
sf,
lf,
uf,
hf = {
    "-": "",
    _: " ",
    0: "0"
},
cf = /^\s*\d+/,
ff = /^%/,
df = /[\\^$*+?|[\]().{}]/g;
function pf(t, e, n) {
    var i = t < 0 ? "-" : "",
    r = (i ? -t : t) + "",
    o = r.length;
    return i + (o < n ? new Array(n - o + 1).join(e) + r : r)
}
function gf(t) {
    return t.replace(df, "\\$&")
}
function vf(t) {
    return new RegExp("^(?:" + t.map(gf).join("|") + ")", "i")
}
function yf(t) {
    for (var e = {}, n = -1, i = t.length; ++n < i; )
        e[t[n].toLowerCase()] = n;
    return e
}
function mf(t, e, n) {
    var i = cf.exec(e.slice(n, n + 1));
    return i ? (t.w = +i[0], n + i[0].length) : -1
}
function xf(t, e, n) {
    var i = cf.exec(e.slice(n, n + 1));
    return i ? (t.u = +i[0], n + i[0].length) : -1
}
function _f(t, e, n) {
    var i = cf.exec(e.slice(n, n + 2));
    return i ? (t.U = +i[0], n + i[0].length) : -1
}
function wf(t, e, n) {
    var i = cf.exec(e.slice(n, n + 2));
    return i ? (t.V = +i[0], n + i[0].length) : -1
}
function bf(t, e, n) {
    var i = cf.exec(e.slice(n, n + 2));
    return i ? (t.W = +i[0], n + i[0].length) : -1
}
function Sf(t, e, n) {
    var i = cf.exec(e.slice(n, n + 4));
    return i ? (t.y = +i[0], n + i[0].length) : -1
}
function kf(t, e, n) {
    var i = cf.exec(e.slice(n, n + 2));
    return i ? (t.y = +i[0] + (+i[0] > 68 ? 1900 : 2e3), n + i[0].length) : -1
}
function Mf(t, e, n) {
    var i = /^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n, n + 6));
    return i ? (t.Z = i[1] ? 0 :  - (i[2] + (i[3] || "00")), n + i[0].length) : -1
}
function If(t, e, n) {
    var i = cf.exec(e.slice(n, n + 2));
    return i ? (t.m = i[0] - 1, n + i[0].length) : -1
}
function Af(t, e, n) {
    var i = cf.exec(e.slice(n, n + 2));
    return i ? (t.d = +i[0], n + i[0].length) : -1
}
function Tf(t, e, n) {
    var i = cf.exec(e.slice(n, n + 3));
    return i ? (t.m = 0, t.d = +i[0], n + i[0].length) : -1
}
function Cf(t, e, n) {
    var i = cf.exec(e.slice(n, n + 2));
    return i ? (t.H = +i[0], n + i[0].length) : -1
}
function zf(t, e, n) {
    var i = cf.exec(e.slice(n, n + 2));
    return i ? (t.M = +i[0], n + i[0].length) : -1
}
function Ef(t, e, n) {
    var i = cf.exec(e.slice(n, n + 2));
    return i ? (t.S = +i[0], n + i[0].length) : -1
}
function Lf(t, e, n) {
    var i = cf.exec(e.slice(n, n + 3));
    return i ? (t.L = +i[0], n + i[0].length) : -1
}
function Df(t, e, n) {
    var i = cf.exec(e.slice(n, n + 6));
    return i ? (t.L = Math.floor(i[0] / 1e3), n + i[0].length) : -1
}
function Of(t, e, n) {
    var i = ff.exec(e.slice(n, n + 1));
    return i ? n + i[0].length : -1
}
function Pf(t, e, n) {
    var i = cf.exec(e.slice(n));
    return i ? (t.Q = +i[0], n + i[0].length) : -1
}
function Ff(t, e, n) {
    var i = cf.exec(e.slice(n));
    return i ? (t.Q = 1e3 * +i[0], n + i[0].length) : -1
}
function Nf(t, e) {
    return pf(t.getDate(), e, 2)
}
function Rf(t, e) {
    return pf(t.getHours(), e, 2)
}
function Bf(t, e) {
    return pf(t.getHours() % 12 || 12, e, 2)
}
function Wf(t, e) {
    return pf(1 + uc.count(Tc(t), t), e, 3)
}
function Gf(t, e) {
    return pf(t.getMilliseconds(), e, 3)
}
function Hf(t, e) {
    return Gf(t, e) + "000"
}
function jf(t, e) {
    return pf(t.getMonth() + 1, e, 2)
}
function Uf(t, e) {
    return pf(t.getMinutes(), e, 2)
}
function qf(t, e) {
    return pf(t.getSeconds(), e, 2)
}
function Yf(t) {
    var e = t.getDay();
    return 0 === e ? 7 : e
}
function Vf(t, e) {
    return pf(fc.count(Tc(t), t), e, 2)
}
function $f(t, e) {
    var n = t.getDay();
    return t = n >= 4 || 0 === n ? vc(t) : vc.ceil(t),
    pf(vc.count(Tc(t), t) + (4 === Tc(t).getDay()), e, 2)
}
function Xf(t) {
    return t.getDay()
}
function Zf(t, e) {
    return pf(dc.count(Tc(t), t), e, 2)
}
function Kf(t, e) {
    return pf(t.getFullYear() % 100, e, 2)
}
function Qf(t, e) {
    return pf(t.getFullYear() % 1e4, e, 4)
}
function Jf(t) {
    var e = t.getTimezoneOffset();
    return (e > 0 ? "-" : (e *= -1, "+")) + pf(e / 60 | 0, "0", 2) + pf(e % 60, "0", 2)
}
function td(t, e) {
    return pf(t.getUTCDate(), e, 2)
}
function ed(t, e) {
    return pf(t.getUTCHours(), e, 2)
}
function nd(t, e) {
    return pf(t.getUTCHours() % 12 || 12, e, 2)
}
function id(t, e) {
    return pf(1 + Oc.count(Jc(t), t), e, 3)
}
function rd(t, e) {
    return pf(t.getUTCMilliseconds(), e, 3)
}
function od(t, e) {
    return rd(t, e) + "000"
}
function ad(t, e) {
    return pf(t.getUTCMonth() + 1, e, 2)
}
function sd(t, e) {
    return pf(t.getUTCMinutes(), e, 2)
}
function ld(t, e) {
    return pf(t.getUTCSeconds(), e, 2)
}
function ud(t) {
    var e = t.getUTCDay();
    return 0 === e ? 7 : e
}
function hd(t, e) {
    return pf(Nc.count(Jc(t), t), e, 2)
}
function cd(t, e) {
    var n = t.getUTCDay();
    return t = n >= 4 || 0 === n ? Gc(t) : Gc.ceil(t),
    pf(Gc.count(Jc(t), t) + (4 === Jc(t).getUTCDay()), e, 2)
}
function fd(t) {
    return t.getUTCDay()
}
function dd(t, e) {
    return pf(Rc.count(Jc(t), t), e, 2)
}
function pd(t, e) {
    return pf(t.getUTCFullYear() % 100, e, 2)
}
function gd(t, e) {
    return pf(t.getUTCFullYear() % 1e4, e, 4)
}
function vd() {
    return "+0000"
}
function yd() {
    return "%"
}
function md(t) {
    return +t
}
function xd(t) {
    return Math.floor(+t / 1e3)
}
!function (t) {
    af = function (t) {
        var e = t.dateTime,
        n = t.date,
        i = t.time,
        r = t.periods,
        o = t.days,
        a = t.shortDays,
        s = t.months,
        l = t.shortMonths,
        u = vf(r),
        h = yf(r),
        c = vf(o),
        f = yf(o),
        d = vf(a),
        p = yf(a),
        g = vf(s),
        v = yf(s),
        y = vf(l),
        m = yf(l),
        x = {
            a: function (t) {
                return a[t.getDay()]
            },
            A: function (t) {
                return o[t.getDay()]
            },
            b: function (t) {
                return l[t.getMonth()]
            },
            B: function (t) {
                return s[t.getMonth()]
            },
            c: null,
            d: Nf,
            e: Nf,
            f: Hf,
            H: Rf,
            I: Bf,
            j: Wf,
            L: Gf,
            m: jf,
            M: Uf,
            p: function (t) {
                return r[ + (t.getHours() >= 12)]
            },
            Q: md,
            s: xd,
            S: qf,
            u: Yf,
            U: Vf,
            V: $f,
            w: Xf,
            W: Zf,
            x: null,
            X: null,
            y: Kf,
            Y: Qf,
            Z: Jf,
            "%": yd
        },
        _ = {
            a: function (t) {
                return a[t.getUTCDay()]
            },
            A: function (t) {
                return o[t.getUTCDay()]
            },
            b: function (t) {
                return l[t.getUTCMonth()]
            },
            B: function (t) {
                return s[t.getUTCMonth()]
            },
            c: null,
            d: td,
            e: td,
            f: od,
            H: ed,
            I: nd,
            j: id,
            L: rd,
            m: ad,
            M: sd,
            p: function (t) {
                return r[ + (t.getUTCHours() >= 12)]
            },
            Q: md,
            s: xd,
            S: ld,
            u: ud,
            U: hd,
            V: cd,
            w: fd,
            W: dd,
            x: null,
            X: null,
            y: pd,
            Y: gd,
            Z: vd,
            "%": yd
        },
        w = {
            a: function (t, e, n) {
                var i = d.exec(e.slice(n));
                return i ? (t.w = p[i[0].toLowerCase()], n + i[0].length) : -1
            },
            A: function (t, e, n) {
                var i = c.exec(e.slice(n));
                return i ? (t.w = f[i[0].toLowerCase()], n + i[0].length) : -1
            },
            b: function (t, e, n) {
                var i = y.exec(e.slice(n));
                return i ? (t.m = m[i[0].toLowerCase()], n + i[0].length) : -1
            },
            B: function (t, e, n) {
                var i = g.exec(e.slice(n));
                return i ? (t.m = v[i[0].toLowerCase()], n + i[0].length) : -1
            },
            c: function (t, n, i) {
                return k(t, e, n, i)
            },
            d: Af,
            e: Af,
            f: Df,
            H: Cf,
            I: Cf,
            j: Tf,
            L: Lf,
            m: If,
            M: zf,
            p: function (t, e, n) {
                var i = u.exec(e.slice(n));
                return i ? (t.p = h[i[0].toLowerCase()], n + i[0].length) : -1
            },
            Q: Pf,
            s: Ff,
            S: Ef,
            u: xf,
            U: _f,
            V: wf,
            w: mf,
            W: bf,
            x: function (t, e, i) {
                return k(t, n, e, i)
            },
            X: function (t, e, n) {
                return k(t, i, e, n)
            },
            y: kf,
            Y: Sf,
            Z: Mf,
            "%": Of
        };
        function b(t, e) {
            return function (n) {
                var i,
                r,
                o,
                a = [],
                s = -1,
                l = 0,
                u = t.length;
                for (n instanceof Date || (n = new Date(+n)); ++s < u; )
                    37 === t.charCodeAt(s) && (a.push(t.slice(l, s)), null != (r = hf[i = t.charAt(++s)]) ? i = t.charAt(++s) : r = "e" === i ? " " : "0", (o = e[i]) && (i = o(n, r)), a.push(i), l = s + 1);
                return a.push(t.slice(l, s)),
                a.join("")
            }
        }
        function S(t, e) {
            return function (n) {
                var i,
                r,
                o = of(1900);
                if (k(o, t, n += "", 0) != n.length)
                    return null;
                if ("Q" in o)
                    return new Date(o.Q);
                if ("p" in o && (o.H = o.H % 12 + 12 * o.p), "V" in o) {
                    if (o.V < 1 || o.V > 53)
                        return null;
                    "w" in o || (o.w = 1),
                    "Z" in o ? (i = (r = (i = rf(of(o.y))).getUTCDay()) > 4 || 0 === r ? Rc.ceil(i) : Rc(i), i = Oc.offset(i, 7 * (o.V - 1)), o.y = i.getUTCFullYear(), o.m = i.getUTCMonth(), o.d = i.getUTCDate() + (o.w + 6) % 7) : (i = (r = (i = e(of(o.y))).getDay()) > 4 || 0 === r ? dc.ceil(i) : dc(i), i = uc.offset(i, 7 * (o.V - 1)), o.y = i.getFullYear(), o.m = i.getMonth(), o.d = i.getDate() + (o.w + 6) % 7)
                } else ("W" in o || "U" in o) && ("w" in o || (o.w = "u" in o ? o.u % 7 : "W" in o ? 1 : 0), r = "Z" in o ? rf(of(o.y)).getUTCDay() : e(of(o.y)).getDay(), o.m = 0, o.d = "W" in o ? (o.w + 6) % 7 + 7 * o.W - (r + 5) % 7 : o.w + 7 * o.U - (r + 6) % 7);
                return "Z" in o ? (o.H += o.Z / 100 | 0, o.M += o.Z % 100, rf(o)) : e(o)
            }
        }
        function k(t, e, n, i) {
            for (var r, o, a = 0, s = e.length, l = n.length; a < s; ) {
                if (i >= l)
                    return -1;
                if (37 === (r = e.charCodeAt(a++))) {
                    if (r = e.charAt(a++), !(o = w[r in hf ? e.charAt(a++) : r]) || (i = o(t, n, i)) < 0)
                        return -1
                } else if (r != n.charCodeAt(i++))
                    return -1
            }
            return i
        }
        return x.x = b(n, x),
        x.X = b(i, x),
        x.c = b(e, x),
        _.x = b(n, _),
        _.X = b(i, _),
        _.c = b(e, _), {
            format: function (t) {
                var e = b(t += "", x);
                return e.toString = function () {
                    return t
                },
                e
            },
            parse: function (t) {
                var e = S(t += "", nf);
                return e.toString = function () {
                    return t
                },
                e
            },
            utcFormat: function (t) {
                var e = b(t += "", _);
                return e.toString = function () {
                    return t
                },
                e
            },
            utcParse: function (t) {
                var e = S(t, rf);
                return e.toString = function () {
                    return t
                },
                e
            }
        }
    }
    (t),
    sf = af.format,
    af.parse,
    lf = af.utcFormat,
    uf = af.utcParse
}
({
    dateTime: "%x, %X",
    date: "%-m/%-d/%Y",
    time: "%-I:%M:%S %p",
    periods: ["AM", "PM"],
    days: ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"],
    shortDays: ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"],
    months: ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"],
    shortMonths: ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"]
});
Date.prototype.toISOString || lf("%Y-%m-%dT%H:%M:%S.%LZ");
+new Date("2000-01-01T00:00:00.000Z") || uf("%Y-%m-%dT%H:%M:%S.%LZ");
var _d = "arc",
wd = function (t) {
    function e() {
        var n,
        i;
        o(this, e);
        for (var r = arguments.length, a = Array(r), s = 0; s < r; s++)
            a[s] = arguments[s];
        return n = i = u(this, t.call.apply(t, [this].concat(a))),
        i.type = _d,
        u(i, n)
    }
    return s(e, t),
    e.prototype.getPoint = function (t, e, n, i) {
        var r = Math.cos,
        o = Math.sin;
        return [t + r(i) * n, e + o(i) * n]
    },
    e.prototype.getAttrs = function (t, e, n, i, r) {
        for (var o = t, a = e, s = n.symbolStyle.angleWithItem ? i : 2 * Math.PI, l = n.symbolStyle.edgePadding, u = n.outerRadius, h = s / 4 / Math.PI * 360 / l, c = [], f = 0; f < h; f++) {
            var d = this.getPoint(o, a, u, s / h * f + 0 - Math.PI / 2);
            c.push({
                shape: {
                    symbolType: r,
                    x: d[0] - n.symbolStyle.radius,
                    y: d[1] - n.symbolStyle.radius,
                    width: 2 * n.symbolStyle.radius,
                    height: 2 * n.symbolStyle.radius
                },
                cursor: "default",
                style: {
                    stroke: n.symbolStyle.stroke,
                    fill: n.symbolStyle.fill
                }
            })
        }
        return c
    },
    e.prototype.render = function (t, e, n) {
        this.remove();
        this.group;
        var i = t.getData();
        if (i) {
            t.get("z"),
            t.get("zlevel");
            var r = t.get("itemStyle"),
            o = t.get("circleStyle"),
            s = t.get("startArc"),
            l = t.get("endArc"),
            u = t.get("center"),
            h = t.get("radius"),
            c = n.getWidth(),
            f = n.getHeight(),
            d = "string" == typeof u[0] ? parseInt(parseFloat(u[0].split("%")[0]) / 100 * c) : parseInt(u[0]),
            p = "string" == typeof u[1] ? parseInt(parseFloat(u[1].split("%")[0]) / 100 * f) : parseInt(u[1]),
            g = "string" == typeof h[0] ? parseInt(parseFloat(h[0].split("%")[0]) / 100 * c) : parseInt(h[0]),
            v = "string" == typeof h[1] ? parseInt(parseFloat(h[1].split("%")[0]) / 100 * f) : parseInt(h[1]),
            y = Hh().domain([0, 2 * Math.PI]).range([0, 360]),
            m = i.values[0].value / (i.max - i.min),
            x = s.angleCross,
            _ = l.angleCross,
            w = 0,
            b = 0;
            0 !== m && (w = y.invert(x), b = y.invert(_));
            var S = m || 0 == m ? m * (2 * Math.PI) : Math.PI,
            k = t.get("animation") ? 0 : S,
            M = new Dl({
                shape: {
                    innerRadius: g,
                    outerRadius: v,
                    startAngle: 0,
                    endAngle: k,
                    cornerRadius: r.normal.cornerRadius,
                    data: i
                },
                position: [d, p],
                style: r.normal,
                cursor: "default"
            }),
            I = void 0;
            s.show && 0 !== s.angleCross && (I = new Dl({
                    shape: {
                        innerRadius: g,
                        outerRadius: v,
                        startAngle: 0,
                        endAngle: w,
                        cornerRadius: s.normal.cornerRadius
                    },
                    position: [d, p],
                    style: s.normal,
                    cursor: "default"
                }));
            var A = void 0;
            if (l.show && 0 !== l.angleCross && (A = new Dl({
                        shape: {
                            innerRadius: g,
                            outerRadius: v,
                            startAngle: t.get("animation") ? 0 : S,
                            endAngle: t.get("animation") ? 0 : S + b,
                            cornerRadius: l.normal.cornerRadius
                        },
                        position: [d, p],
                        style: l.normal,
                        cursor: "default"
                    }), t.get("animation") && A.animateTo({
                        shape: {
                            startAngle: S,
                            endAngle: S + b
                        }
                    }, 800, "cubicOut")), t.get("animation") && M.animateTo({
                    shape: {
                        endAngle: S
                    }
                }, 800, "cubicOut"), o.show) {
                if ("line" == o.outerType)
                    this.setShape("outline", zs, {
                        shape: {
                            symbolType: "circle",
                            x: d - o.outerRadius,
                            y: p - o.outerRadius,
                            width: 2 * o.outerRadius,
                            height: 2 * o.outerRadius
                        },
                        cursor: "default",
                        style: {
                            stroke: o.outerStrokeColor,
                            fill: o.outerFillColor
                        }
                    });
                else if ("dotted" == o.outerType) {
                    var T = this.getAttrs(d, p, o, S, "circle");
                    this.setShapeGroup("outline", zs, T)
                } else {
                    var C = this.getAttrs(d, p, o, S, "square");
                    this.setShapeGroup("outline", zs, C)
                }
                this.setShape("innerPie", zs, {
                    shape: {
                        symbolType: "circle",
                        x: d - o.innerRadius,
                        y: p - o.innerRadius,
                        width: 2 * o.innerRadius,
                        height: 2 * o.innerRadius
                    },
                    cursor: "default",
                    style: {
                        stroke: o.innerStrokeColor,
                        fill: o.innerFillColor
                    }
                })
            }
            this.group.add(M),
            this.group.add(I),
            this.group.add(A);
            var z = r.formatter,
            E = r.offsetCenter,
            L = "string" == typeof E[0] ? parseFloat(E[0].split("%")[0]) / 100 * c : E[0],
            D = "string" == typeof E[1] ? parseFloat(E[1].split("%")[0]) / 100 * f : E[1],
            O = new vo({
                cursor: "default",
                style: e.getFormattedText(a({
                        text: z(i.values[0], m),
                        x: d - L,
                        y: p - D
                    }, r.textStyle))
            });
            if (this.group.add(O), i.title) {
                var P = t.get("title"),
                F = "string" == typeof P.offsetCenter[0] ? parseFloat(P.offsetCenter[0].split("%")[0]) / 100 * c : P.offsetCenter[0],
                N = "string" == typeof P.offsetCenter[1] ? parseFloat(P.offsetCenter[1].split("%")[0]) / 100 * f : P.offsetCenter[1],
                R = new vo({
                    cursor: "default",
                    style: {
                        text: i.title,
                        x: d - F,
                        y: p - N,
                        font: P.textStyle.fontWeight + " " + P.textStyle.fontSize + "px " + P.textStyle.fontFamily,
                        textBaseline: "middle",
                        textAlign: "center",
                        textFill: P.textStyle.color
                    }
                });
                this.group.add(R)
            }
        }
    },
    e
}
(cs);
wd.type = _d;
var bd = "arc",
Sd = function (t) {
    function e() {
        var n,
        i;
        o(this, e);
        for (var r = arguments.length, a = Array(r), s = 0; s < r; s++)
            a[s] = arguments[s];
        return n = i = u(this, t.call.apply(t, [this].concat(a))),
        i.type = bd,
        u(i, n)
    }
    return s(e, t),
    e
}
(_s);
Sd.type = bd,
Sd.defaultOption = {
    zlevel: 0,
    z: 1,
    data: void 0,
    $dataIndex: void 0,
    center: ["50%", "50%"],
    radius: [10, 20],
    title: {
        offsetCenter: [0, 0],
        textStyle: {
            color: "#333",
            fontStyle: "normal",
            fontFamily: "sans-serif",
            fontWeight: "normal",
            fontSize: 14
        }
    },
    circleStyle: {
        show: !1,
        innerRadius: 55,
        outerRadius: 70,
        innerType: "line",
        outerType: "line",
        symbolStyle: {
            angleWithItem: !1,
            edgePadding: 1,
            radius: 3,
            stroke: "#000",
            fill: "#000"
        },
        innerStrokeColor: "#333",
        innerFillColor: "#F04927",
        outerFillColor: "#F04927",
        outerStrokeColor: "#F04927"
    },
    animation: !0,
    itemStyle: {
        offsetCenter: [0, 0],
        normal: {
            stroke: "#333",
            fill: "#333",
            cornerRadius: 0
        },
        formatter: function (t, e) {
            return e
        },
        textStyle: {
            position: "center",
            textBaseline: "middle",
            textAlign: "center",
            color: "#333",
            fontFamily: "sans-serif",
            fontWeight: "normal",
            fontSize: 12
        }
    },
    startArc: {
        show: !1,
        angleCross: 1,
        normal: {
            fill: "#576AD0",
            stroke: "#576AD0",
            cornerRadius: 0
        }
    },
    endArc: {
        show: !1,
        angleCross: 1,
        normal: {
            fill: "#576AD0",
            stroke: "#576AD0",
            cornerRadius: 0
        }
    }
},
dl(Sd, wd);
var kd = "pie",
Md = function (t) {
    function e() {
        var n,
        i;
        o(this, e);
        for (var r = arguments.length, a = Array(r), s = 0; s < r; s++)
            a[s] = arguments[s];
        return n = i = u(this, t.call.apply(t, [this].concat(a))),
        i.type = kd,
        u(i, n)
    }
    return s(e, t),
    e.prototype.render = function (t, e, n) {
        var o = t._updateTime <= 1,
        s = t.drawData,
        l = 0;
        if (s) {
            var u = T(),
            h = Math.PI,
            c = 2 * h,
            f = this.group,
            d = (t.get("z"), t.get("zlevel"), t.get("label")),
            p = t.get("label").hideList,
            g = t.get("label").symbol,
            v = t.get("circleStyle"),
            y = t.get("itemStyle"),
            m = t.get("item").normal.style,
            x = t.get("item").emphasis.style,
            _ = this,
            w = t.get("center"),
            k = t.get("radius"),
            M = t.get("likeAlipay"),
            I = (e.getComponentByIndex("grid", 0) || {
                position: {
                    width: n.getWidth(),
                    height: n.getHeight(),
                    left: 0,
                    top: 0
                }
            }).position,
            A = I.width,
            C = I.height,
            z = I.left,
            E = I.top,
            L = A || n.getWidth(),
            P = C || n.getHeight(),
            F = "string" == typeof w[0] ? parseInt(parseFloat(w[0].split("%")[0]) / 100 * L) : parseInt(w[0]),
            N = "string" == typeof w[1] ? parseInt(parseFloat(w[1].split("%")[0]) / 100 * P) : parseInt(w[1]),
            R = t.get("theme");
            F += z,
            N += E;
            var W = void 0,
            G = void 0,
            H = void 0,
            j = Math.min(L, P);
            void 0 == k ? (W = j / 4, H = (G = j / 2.5) + 10) : (W = "string" == typeof k[0] ? parseInt(parseFloat(k[0].split("%")[0]) / 100 * j) : parseInt(k[0]), G = "string" == typeof k[1] ? parseInt(parseFloat(k[1].split("%")[0]) / 100 * j) : parseInt(k[1]), H = "string" == typeof k[2] ? parseInt(parseFloat(k[2].split("%")[0]) / 100 * j) : k[2] ? parseInt(k[2]) : G + 8);
            var U = d.position,
            q = !("center" != U),
            Y = !("inner" != U),
            V = !("both" != U),
            $ = d.lineLen || [15, 15],
            X = B($) ? $[0] : $,
            Z = B($) ? $[1] : $,
            K = d.formatter,
            Q = d.nameFormatter,
            J = [],
            tt = [],
            et = [],
            nt = [],
            it = t.get("animation"),
            rt = s.values,
            ot = 0,
            at = void 0,
            st = void 0,
            lt = void 0,
            ut = !!y.shadowRadius;
            ut && this.setShapeGroup("gray", Dl, [{
                        key: "gray",
                        shape: {
                            outerRadius: G,
                            innerRadius: W
                        },
                        style: {
                            fill: y.shadowColor
                        },
                        position: [F, N]
                    }
                ], {
                animation: it,
                animateFrom: [{
                        position: [F, N]
                    }
                ]
            });
            var ht = t.get("avoidLabelGap");
            this.onShape = Nt,
            this.offShape = Rt,
            this.onEmphasis = Bt,
            this.onNormal = function () {
                Wt.call(_)
            };
            var ct = {};
            if (s.max && s.min) {
                var ft = Math.abs(s.values[0].value / (s.max - s.min));
                (ft >= 1 || !ft) && (ft = 1);
                var dt = s.values[0].color,
                pt = ft * c;
                Ft.call(this, {
                    endAngle: pt,
                    itemValue: ft,
                    strokeColor: dt,
                    startAngle: 0
                }, i)
            } else {
                for (var gt = rt.length, vt = 0, yt = 0; yt < gt; yt++)
                    ot += rt[yt].value - 0;
                (at = Hh()).domain(Nl(rt, function (t) {
                        return t.value
                    })),
                at.range([1.2 * W, G]),
                isNaN(ot) && (ot = 0);
                for (var mt, xt = 0; xt < gt; xt++) {
                    mt = rt[xt];
                    var _t = ot ? Math.abs(mt.value / ot) : 1 / gt,
                    wt = vt + _t * c,
                    bt = mt.color || R[xt % R.length],
                    St = H - G,
                    kt = H,
                    Mt = G,
                    It = W;
                    "rose" == y.type && (kt = (Mt = at(mt.value)) + St);
                    var At = {
                        itemValue: _t,
                        inner: It,
                        outer: Mt,
                        hover: kt,
                        startAngle: vt,
                        endAngle: wt,
                        strokeColor: bt,
                        itemName: mt.name,
                        value: mt.value,
                        dataIndex: mt.dataIndex,
                        name: mt.name
                    };
                    Ft.call(this, At, xt),
                    vt = wt
                }
            }
            if (function () {
                if (B(p) && (p.sort(), !q))
                    if (V)
                        for (var t = p.length - 1; t >= 0; t--) {
                            var e = p[t];
                            tt.splice(2 * e + 1, 1),
                            tt.splice(2 * e, 1),
                            et.splice(e, 1)
                        }
                    else
                        for (var n = p.length - 1; n >= 0; n--) {
                            var i = p[n];
                            tt.splice(i, 1),
                            et.splice(i, 1)
                        }
            }
                (), "outer" === U && t.get("avoidLabelOverlap")) {
                var Tt = O(tt, function (t) {
                    return {
                        x: t.style.x,
                        y: t.style.y,
                        position: "outer",
                        height: new vo(t).getBoundingRect().height,
                        len: X,
                        len2: Z
                    }
                });
                !function (t, e, n, i, r, o) {
                    for (var a = [], s = [], l = 0; l < t.length; l++)
                        t[l].x < e ? a.push(t[l]) : s.push(t[l]);
                    for (Pt(s, e, n, i, 1, 0, o), Pt(a, e, n, i, -1, 0, o), l = 0; l < et.length; l++) {
                        var u = et[l].shape.data;
                        if (u) {
                            var h = u[1][0] - u[2][0],
                            c = t[l].x < e;
                            u[2][0] = t[l].x,
                            u[1][1] = u[2][1] = t[l].y,
                            u[1][0] = u[2][0] + h,
                            d.outerOffset && (u[2][0] = t[l].x = c ? d.outerOffset : A - d.outerOffset),
                            t[l].x < e ? u[2][0] += 5 : u[2][0] -= 5,
                            nt.length && (nt[l].position = [].concat(u[0]))
                        }
                    }
                }
                (Tt, F, N, G, 0, P),
                D(tt, function (t, e) {
                    t.style.x = Tt[e].x,
                    t.style.y = Tt[e].y
                })
            }
            this._shape = this.setShapeGroup("shape", Dl, J, {
                animation: it,
                animateList: {
                    shape: {
                        endAngle: 0,
                        startAngle: 0
                    }
                }
            }, function (e) {
                e.off("mouseover"),
                e.off("mouseout"),
                e.on("click", function (e) {
                    e.target.node;
                    n.dispatchAction(t, $a.itemClick, e)
                }),
                e.on("dblclick", function (e) {
                    e.target.node;
                    n.dispatchAction(t, $a.dblClick, e)
                }),
                t.get("hoverAnimation") && (e.on("mouseover", function (e) {
                        var i = e.target;
                        Bt.call(i),
                        n.dispatchAction(t, $a.mouseover, e)
                    }), e.on("mouseout", function (e) {
                        e.target;
                        Wt.call(_),
                        n.dispatchAction(t, $a.mouseout, e)
                    }), e.on("mousemove", function (e) {
                        n.dispatchAction(t, $a.mousemove, e)
                    }))
            });
            var Ct = this.setShapeGroup("line", Qo, et, {
                animation: it,
                animateList: {
                    shape: {
                        data: [[0, 0], [0, 0], [0, 0]]
                    }
                }
            }),
            zt = this.setShapeGroup("text", vo, tt, {
                animation: it,
                animateList: {
                    style: {
                        x: 0,
                        y: 0
                    }
                }
            }),
            Et = this.setShapeGroup("labelSymbol", zs, nt, {
                animation: it,
                animateList: {
                    position: [0, 0]
                }
            });
            if (o && it && f.setClipPath(function () {
                    var t = this.setShape("shape_clip", Dl, {
                        shape: {
                            outerRadius: Math.max(L, P) / 2,
                            innerRadius: 0,
                            startAngle: 0,
                            endAngle: 0
                        },
                        position: [F, N]
                    });
                    return t.animateTo({
                        shape: {
                            endAngle: c
                        }
                    }, 300, "linear", function () {
                        f.removeClipPath()
                    }),
                    t
                }
                    .call(this)), s.title) {
                var Lt = t.get("title"),
                Dt = "string" == typeof Lt.offsetCenter[0] ? parseFloat(Lt.offsetCenter[0].split("%")[0]) / 100 * L : Lt.offsetCenter[0],
                Ot = "string" == typeof Lt.offsetCenter[1] ? parseFloat(Lt.offsetCenter[1].split("%")[0]) / 100 * P : Lt.offsetCenter[1];
                this.setShapeGroup("title_text", vo, [{
                            style: a({
                                text: s.title,
                                x: F - Dt,
                                y: N - Ot,
                                font: Lt.textStyle.fontWeight + " " + Lt.textStyle.fontSize + "px " + Lt.textStyle.fontFamily,
                                textBaseline: "middle",
                                textAlign: "center",
                                textFill: Lt.textStyle.color
                            }, Lt.textStyle)
                        }
                    ])
            }
        }
        function Pt(t, e, n, i, r, o, a) {
            function s(e, n, i, r) {
                for (var o = e; o < n; o++)
                    if (t[o].y += i, o > e && o + 1 < n && t[o + 1].y > t[o].y + t[o].height)
                        return void l(o, i / 2);
                l(n - 1, i / 2)
            }
            function l(e, n) {
                for (var i = e; i >= 0 && (t[i].y -= n, !(i > 0 && t[i].y > t[i - 1].y + t[i - 1].height)); i--);
            }
            function u(t, e, n, i, r, o) {
                for (var a = e ? Number.MAX_VALUE : 0, s = 0, l = t.length; s < l; s++)
                    if ("center" !== t[s].position) {
                        var u = Math.abs(t[s].y - i),
                        h = t[s].len,
                        c = t[s].len2,
                        f = u < r + h ? Math.sqrt((r + h + c) * (r + h + c) - u * u) : Math.abs(t[s].x - n);
                        e && f >= a && (f = a - 10),
                        !e && f <= a && (f = a + 10),
                        t[s].x = n + f * o,
                        a = f
                    }
            }
            t.sort(function (t, e) {
                return t.y - e.y
            });
            for (var h, c = 0, f = t.length, d = [], p = [], g = 0; g < f; g++)
                (h = t[g].y - c) < 0 && s(g, f, -h), c = t[g].y + t[g].height + ht;
            a - c < 0 && l(f - 1, c - a);
            for (g = 0; g < f; g++)
                t[g].y >= n ? p.push(t[g]) : d.push(t[g]);
            u(d, !1, e, n, i, r),
            u(p, !0, e, n, i, r)
        }
        function Ft(e, n) {
            var i = e.endAngle,
            r = e.inner,
            o = e.outer,
            s = (e.hover, e.startAngle),
            l = e.strokeColor,
            u = e.itemValue,
            h = e.itemName,
            f = (e.value, void 0);
            J.push({
                shape: {
                    outerRadius: o,
                    innerRadius: r,
                    endAngle: i,
                    startAngle: s
                },
                key: h,
                position: [F, N],
                style: a({
                    fill: l
                }, m),
                seriesIndex: t.index,
                data: {
                    name: h,
                    value: (100 * u).toFixed(0) + "%",
                    item: e
                },
                z: 10
            }),
            e.loopKey = e.dataIndex,
            void 0 === d.show && (q ? st ? f = st : (lt = function (t) {
                        var e = v && v.innerCircleRadius || t.inner - 8,
                        n = v.fillColor || t.strokeColor;
                        return this.setShapeGroup("innerCircle", Dl, [{
                                    key: "innerCircle",
                                    shape: {
                                        outerRadius: e,
                                        innerRadius: 0,
                                        endAngle: c,
                                        startAngle: 0
                                    },
                                    position: [F, N],
                                    style: {
                                        fill: n,
                                        stroke: null
                                    }
                                }
                            ], {
                            animation: it,
                            animateFrom: [{
                                    position: [F, N]
                                }
                            ]
                        })
                    }
                        .call(this, e), f = Ht.call(this, e, !0), st = f) : (e.itemName = "", f = Ht.call(this, e)))
        }
        function Nt(t) {
            if (zt.childOfName(t) && Ct.childOfName(t)) {
                var e = {
                    opacity: 1
                };
                zt.childOfName(t).setStyle(e),
                Ct.childOfName(t).setStyle(e),
                Et.childOfName(t).setStyle(e)
            }
        }
        function Rt(t) {
            var e = {
                opacity: 0
            };
            zt.eachChild(function (t) {
                return t.setStyle(e)
            }),
            Ct.eachChild(function (t) {
                return t.setStyle(e)
            }),
            Et.eachChild(function (t) {
                return t.setStyle(e)
            })
        }
        function Bt() {
            Wt.call(_);
            var t = this.data.item,
            e = this.name;
            lt && (v.fillColor || lt.childAt(0).setStyle({
                    fill: t.strokeColor
                }), zt && zt.childAt(0).setStyle({
                    text: K(t, t.itemValue) + (t.itemName ? "\n{a|" + t.itemName + "}" : ""),
                    fill: d.emphasis && d.emphasis.color || d.color || t.strokeColor
                })),
            this.stopAnimation(!0);
            var n = S(b(m), x, !0);
            this.animateTo({
                shape: {
                    innerRadius: ut ? t.inner + y.shadowRadius : t.inner,
                    outerRadius: t.hover
                },
                style: a({}, n),
                z2: ++l
            }, 300, "elasticOut"),
            M && (Rt(), Nt(e))
        }
        function Wt() {
            this._shape.eachChild(function (t) {
                var e = t.data.item;
                t.animateTo({
                    shape: {
                        outerRadius: e.outer,
                        innerRadius: e.inner
                    },
                    style: a({}, m)
                }, 50, "elasticOut")
            }),
            M && Rt()
        }
        function Gt(t) {
            if ("object" !== (void 0 === t ? "undefined" : r(t)))
                return t;
            var e = t.colorStops;
            return e[e.length - 1].color
        }
        function Ht(t, e) {
            var i = t.endAngle,
            r = t.startAngle,
            o = t.strokeColor,
            s = t.itemValue,
            l = t.value,
            c = (i + r) / 2 - h / 2,
            f = (G + W) / 2,
            p = Math.cos(c),
            v = Math.sin(c),
            m = e ? 0 : p * f,
            x = e ? 0 : v * f,
            _ = M ? 2 * (H - G) : 0,
            w = (Y ? (G + W) / 2 * p : (G + _) * p) + F,
            b = (Y ? (G + W) / 2 * v : (G + _) * v) + N,
            k = w + p * X,
            I = b + v * X;
            if (M) {
                var A = k;
                p > 0 && (A = n.getWidth() - k),
                t.validWidth = A,
                t.labelFontSize = d.textStyle.fontSize
            } else {
                var T = k + (p < 0 ? -1 : 1) * Z,
                C = T;
                p > 0 && (C = n.getWidth() - T),
                t.validWidth = C,
                t.labelFontSize = d.textStyle.fontSize
            }
            var z = void 0,
            E = void 0,
            L = [],
            D = "center",
            O = d.textStyle.color,
            P = d.textStyle.insideColor || O,
            R = K(t, s),
            B = M ? 0 : 1;
            if (!1 === R)
                return !1;
            if (q)
                z = F, E = N;
            else if (Y)
                z = F + m, E = N + x;
            else {
                var j = ct[R] || function (t) {
                    u.save(),
                    u.font = (d.textStyle.fontSize || 12) + "px sans-serif";
                    var e = Math.max.apply(Math, t.split("\n").map(function (t) {
                                return u.measureText(t).width
                            }));
                    return u.restore(),
                    e
                }
                (R);
                ct[R] = j,
                M && (Z = j);
                var U = k + (p < 0 ? -1 : 1) * Z,
                $ = I;
                D = Y ? "center" : p > 0 ? "left" : "right",
                O = O && "auto" != O ? O : o,
                M ? (z = k + (p < 0 ? -1 : 0) * j, E = I - 2, D = d.textStyle.textAlign) : (z = U + (p < 0 ? -5 : 5), E = $),
                V && (tt.push({
                        key: "both" + t.name,
                        style: S({
                            text: R,
                            x: F + m,
                            y: N + x,
                            fontSize: d.textStyle.fontSize,
                            fontFamily: d.textStyle.fontFamily,
                            textBaseline: "middle",
                            textAlign: "center",
                            textFill: Gt(P)
                        }, d.textStyle, !0),
                        silent: !0,
                        z: 11
                    }), R = Q(t)),
                "rose" == y.type && (w = at(l) * p + F, b = at(l) * v + N),
                L = [[w, b], [k, I], [U, $]],
                et.push({
                    shape: {
                        data: L
                    },
                    key: t.name,
                    style: {
                        stroke: Gt(d.lineColor || O),
                        opacity: B
                    }
                }),
                g.show && nt.push({
                    key: t.name,
                    shape: {
                        symbolType: g.type,
                        x: -g.size / 2,
                        y: -g.size / 2,
                        width: g.size,
                        height: g.size
                    },
                    style: a({
                        fill: O,
                        opacity: B
                    }, g.style),
                    position: [w, b]
                })
            }
            return tt.push({
                key: t.name,
                style: S({
                    opacity: B,
                    text: R + (t.itemName ? "\n{a|" + t.itemName + "}" : ""),
                    x: z,
                    y: E,
                    fontSize: d.textStyle.fontSize,
                    fontFamily: d.textStyle.fontFamily,
                    textBaseline: M ? "bottom" : "middle",
                    textAlign: D,
                    textFill: Gt(O),
                    rich: {
                        a: {
                            fontSize: d.subTextStyle.fontSize,
                            textLineHeight: d.subTextStyle.textLineHeight
                        }
                    }
                }, d.textStyle, !0),
                silent: !0,
                z: 11
            }),
            !0
        }
    },
    e
}
(cs);
Md.type = kd;
var Id = "pie",
Ad = function (t) {
    function e() {
        var n,
        i;
        o(this, e);
        for (var r = arguments.length, a = Array(r), s = 0; s < r; s++)
            a[s] = arguments[s];
        return n = i = u(this, t.call.apply(t, [this].concat(a))),
        i.type = Id,
        u(i, n)
    }
    return s(e, t),
    e.prototype.update = function () {
        this.globalModel;
        var t = this.getData(),
        e = t.values;
        e[0] && e[0][0] && e.forEach(function (t) {
            t.name = t[0],
            t.value = t[1],
            t.color = t[2]
        });
        var n = this.get("selected"),
        i = P(t.values, function (t, e) {
            return t.dataIndex = e,
            !(n && !1 === n[t.name])
        });
        if (i.length >= 0) {
            if ("nice" == this.get("itemStyle").order) {
                i.sort(function (t, e) {
                    return t.value - e.value
                });
                var r = i.pop();
                r && i.splice(0, 0, r)
            }
            var o = t.max,
            a = t.min,
            s = t.title;
            this.drawData = {
                max: o,
                min: a,
                title: s,
                values: i
            }
        }
    },
    e.prototype.getSeriesColor = function (t) {
        var e = this.get("theme"),
        n = this.getData().values.findIndex(function (e) {
            return e.name == t
        }),
        i = void 0,
        r = void 0;
        if (arguments.length && this.get("name") !== t) {
            var o = this.findDataNamed(t);
            o && (i = o.itemStyle, r = o.color)
        } else
            i = this.get("itemStyle"), r = this.get("color");
        return r || (i && i.normal ? i.normal.stroke || i.normal.fill : e[n % e.length])
    },
    e
}
(_s);
Ad.type = Id,
Ad.defaultOption = {
    theme: vs,
    center: ["50%", "50%"],
    radius: [50, "30%"],
    hoverAnimation: !0,
    avoidLabelOverlap: !0,
    avoidLabelGap: 6,
    likeAlipay: !1,
    itemStyle: {
        shadowRadius: 0,
        shadowColor: "#e4e4e4",
        order: "nice"
    },
    item: {
        normal: {
            style: {}
        },
        emphasis: {
            style: {}
        }
    },
    label: {
        nameFormatter: function () {},
        lineColor: "",
        position: "inner",
        outerOffset: 0,
        textStyle: {
            color: ""
        },
        subTextStyle: {
            fontSize: 14,
            textLineHeight: 30
        },
        symbol: {
            show: !1,
            size: 5,
            type: "circle",
            style: {}
        }
    },
    title: {
        offsetCenter: [0, 0],
        textStyle: {
            color: "#333",
            fontFamily: "sans-serif",
            fontWeight: "normal",
            fontSize: 18
        }
    }
},
dl(Ad, Md);
var Td = Math.PI,
Cd = Math.cos,
zd = Math.sin,
Ed = Qr.extend({
    type: "arcline",
    shape: {
        cx: 0,
        cy: 0,
        r: 0,
        r1: 0,
        endAngle: -Td / 2,
        startAngle: -Td / 2,
        edgePadding: 1
    },
    style: {
        stroke: "#000",
        fill: null
    },
    buildPath: function (t, e) {
        var n = e.cx,
        i = e.cy,
        r = e.endAngle,
        o = e.startAngle,
        a = e.edgePadding,
        s = n,
        l = .97 * i >> 0,
        u = e.r,
        h = e.r1 || .8 * u >> 0,
        c = r / 4 / Td * 360 / a;
        function f(t, e, n, i) {
            return [t + Cd(i) * n, e + zd(i) * n]
        }
        for (var d = 0; d < c; d++) {
            var p = f(n, i, u, r / c * d + o),
            g = f(s, l, h, r / c * d + o);
            t.moveTo.apply(t, p),
            t.lineTo.apply(t, g)
        }
    }
}),
Ld = "arcline",
Dd = function (t) {
    function e() {
        var n,
        i;
        o(this, e);
        for (var r = arguments.length, a = Array(r), s = 0; s < r; s++)
            a[s] = arguments[s];
        return n = i = u(this, t.call.apply(t, [this].concat(a))),
        i.type = Ld,
        u(i, n)
    }
    return s(e, t),
    e.prototype.render = function (t, e, n) {
        this.remove();
        var i = Math.PI,
        r = (this.group, t.drawData),
        o = (t.get("z"), t.get("zlevel"), t.get("itemStyle")),
        a = o.normal.lineWidth,
        s = o.emphasis.lineWidth,
        l = t.get("circleStyle"),
        u = t.get("center"),
        h = t.get("radius"),
        c = n.getWidth(),
        f = n.getHeight(),
        d = "string" == typeof u[0] ? parseInt(parseFloat(u[0].split("%")[0]) / 100 * c) : parseInt(u[0]),
        p = "string" == typeof u[1] ? parseInt(parseFloat(u[1].split("%")[0]) / 100 * f) : parseInt(u[1]),
        g = "string" == typeof h[0] ? parseInt(parseFloat(h[0].split("%")[0]) / 100 * c) : parseInt(h[0]),
        v = "string" == typeof h[1] ? parseInt(parseFloat(h[1].split("%")[0]) / 100 * f) : parseInt(h[1]),
        y = l.edgePadding || 2,
        m = o.formatter,
        x = void 0,
        _ = [],
        w = r.values,
        b = 0;
        function S(t) {
            var e = t.endAngle,
            n = t.startAngle,
            i = t.strokeColor,
            r = t.itemValue,
            o = this.setShape(Math.random(), Ed, {
                shape: {
                    cx: d,
                    cy: p,
                    r: v,
                    r1: g,
                    endAngle: e,
                    startAngle: n,
                    edgePadding: y
                },
                style: {
                    fill: null,
                    stroke: i
                }
            }),
            l = void 0;
            return o.on("mouseover", function () {
                clearTimeout(l),
                l = setTimeout(function () {
                    x.setStyle({
                        text: m(null, r),
                        fill: i
                    }),
                    o.stopAnimation(!0),
                    o.animateTo({
                        shape: {
                            r: v + 8
                        },
                        style: {
                            lineWidth: s
                        }
                    }, 300, "elasticOut")
                }, 50)
            }),
            o.on("mouseout", function () {
                clearTimeout(l),
                o.stopAnimation(!0),
                l = setTimeout(function () {
                    o.animateTo({
                        shape: {
                            r: v
                        },
                        style: {
                            lineWidth: a
                        }
                    }, 300, "elasticOut")
                }, 50)
            }),
            o
        }
        function k(t, e) {
            return x = new vo({
                style: {
                    text: m(null, t),
                    x: d,
                    y: .97 * p,
                    font: o.textStyle.fontWeight + " " + o.textStyle.fontSize + "px " + o.textStyle.fontFamily,
                    textBaseline: "middle",
                    textAlign: "center",
                    textFill: e
                }
            }),
            this.group.add(x),
            x
        }
        if (function () {
            var t = new Ed({
                shape: {
                    cx: d,
                    cy: p,
                    r: v,
                    r1: g,
                    edgePadding: y,
                    endAngle: 2 * Math.PI
                },
                style: {
                    stroke: l.backgroundColor || "#223272"
                }
            }),
            e = new yo({
                shape: {
                    cx: d,
                    cy: p,
                    r: v + 3
                },
                style: {
                    fill: null,
                    stroke: l.outerCircleColor || "#101851"
                }
            }),
            n = new yo({
                shape: {
                    cx: d,
                    cy: .97 * p,
                    r: g - 3
                },
                style: {
                    fill: null,
                    stroke: l.innerCircleColor || "#314b89"
                }
            });
            this.group.add(e),
            this.group.add(n),
            this.group.add(t)
        }
            .call(this), w.length > 1) {
            for (var M = w.length, I = -i / 2, A = void 0, T = void 0, C = 0; C < M; C++)
                b += w[C].value;
            for (var z, E = 0; E < M; E++) {
                z = w[E];
                var L = Math.abs(z.value / b),
                D = L * (2 * Math.PI),
                O = {
                    itemValue: L,
                    startAngle: I,
                    endAngle: D,
                    strokeColor: z.color
                };
                0 == E && (A = L, T = z.color),
                S.call(this, O),
                I += D
            }
            k.call(this, A, T)
        } else {
            var P = Math.abs(r.values[0].value / (r.max - r.min));
            P >= 1 && (P = 1);
            var F = r.values[0].color,
            N = P * (2 * Math.PI) || 0;
            S.call(this, {
                endAngle: N,
                itemValue: P,
                strokeColor: F,
                startAngle: -i / 2
            }),
            k.call(this, P, F)
        }
        for (var R = 0; R < _.length; R++)
            this.group.add(arc);
        if (r.title) {
            var B = t.get("title"),
            W = "string" == typeof B.offsetCenter[0] ? parseFloat(B.offsetCenter[0].split("%")[0]) / 100 * c : B.offsetCenter[0],
            G = "string" == typeof B.offsetCenter[1] ? parseFloat(B.offsetCenter[1].split("%")[0]) / 100 * f : B.offsetCenter[1],
            H = new vo({
                style: {
                    text: r.title,
                    x: d - W,
                    y: p - G,
                    font: B.textStyle.fontWeight + " " + B.textStyle.fontSize + "px " + B.textStyle.fontFamily,
                    textBaseline: "middle",
                    textAlign: "center",
                    textFill: B.textStyle.color
                }
            });
            this.group.add(H)
        }
    },
    e
}
(cs);
Dd.type = Ld;
var Od = "arcline",
Pd = function (t) {
    function e() {
        var n,
        i;
        o(this, e);
        for (var r = arguments.length, a = Array(r), s = 0; s < r; s++)
            a[s] = arguments[s];
        return n = i = u(this, t.call.apply(t, [this].concat(a))),
        i.type = Od,
        u(i, n)
    }
    return s(e, t),
    e.prototype.update = function () {
        this.globalModel;
        var t = this.getData(),
        e = this.get("selected"),
        n = P(t.values, function (t, n) {
            return !(e && !1 === e[t.name])
        });
        if (n.length > 0) {
            n.sort(function (t, e) {
                return e.value - t.value
            });
            var i = t.max,
            r = t.min;
            this.drawData = {
                max: i,
                min: r,
                values: n
            }
        }
    },
    e
}
(_s);
Pd.type = Od,
Pd.defaultOption = {
    zlevel: 0,
    z: 1,
    center: ["50%", "50%"],
    radius: [10, 20],
    title: {
        offsetCenter: [0, 0],
        textStyle: {
            color: "#333",
            fontStyle: "normal",
            fontFamily: "sans-serif",
            fontWeight: "normal",
            fontSize: 14
        }
    },
    circleStyle: {
        show: !1,
        innerRadius: 55,
        outerRadius: 70,
        innerStrokeColor: "#333",
        innerFillColor: "#F04927",
        outerFillColor: "#F04927"
    },
    itemStyle: {
        normal: {
            stroke: "#333",
            fill: "#333",
            cornerRadius: 0,
            lineWidth: 1
        },
        formatter: function (t, e) {
            return e
        },
        textStyle: {
            position: null,
            color: "#333",
            fontFamily: "sans-serif",
            fontWeight: "normal",
            fontSize: 12
        },
        emphasis: {
            lineWidth: 2
        }
    }
},
dl(Pd, Dd);
var Fd = "arcbar",
Nd = function (t) {
    function e() {
        var n,
        i;
        o(this, e);
        for (var r = arguments.length, a = Array(r), s = 0; s < r; s++)
            a[s] = arguments[s];
        return n = i = u(this, t.call.apply(t, [this].concat(a))),
        i.type = Fd,
        u(i, n)
    }
    return s(e, t),
    e.prototype.render = function (t, e, n) {
        this.remove();
        var i = Math.PI,
        o = 2 * i,
        a = (this.group, t.getData()),
        s = (t.get("z"), t.get("zlevel"), t.get("itemStyle")),
        l = t.get("circleStyle"),
        u = t.get("hoverStyle"),
        h = (t.get("colors"), t.get("center")),
        c = t.get("radius"),
        f = n.getWidth(),
        d = n.getHeight(),
        p = Math.min(f, d),
        g = "string" == typeof h[0] ? parseInt(parseFloat(h[0].split("%")[0]) / 100 * f) : parseInt(h[0]),
        v = "string" == typeof h[1] ? parseInt(parseFloat(h[1].split("%")[0]) / 100 * d) : parseInt(h[1]),
        y = s.itemRadius || 6,
        m = "string" == typeof c ? parseInt(parseFloat(c.split("%")[0]) / 100 * p) / 2 : parseInt(c),
        x = m - y + 1,
        _ = (l.edgePadding, u.formatter),
        w = void 0,
        b = [],
        S = a.values,
        k = 0;
        function M(t, n) {
            var a,
            s,
            u,
            h,
            c,
            f = t.endAngle,
            d = (t.startAngle, t.strokeColor, t.itemValue),
            p = t.itemName,
            y = (s = void 0, u = void 0, h = void 0, c = void 0, (a = f) < i / 2 && a >= 0 ? (s = u = 0, h = c = 1) : a >= i / 2 && a < i ? (s = u = 0, h = Math.cos(i + a) / 2, c = 1) : a >= i && a < 1.5 * i ? (s = Math.sin(a - i) / (1 + Math.sin(a - i)), u = 0, h = 0, c = (Math.cos(a - i) + 1) / 2) : a >= 1.5 * i && a < o && (s = .5, u = 0, h = (1 - Math.sin(o - a)) / 2, c = (1 - Math.cos(o - a)) / 2), {
                x: s,
                y: u,
                x2: h,
                y2: c
            }),
            b = S[n].color || l.color || ["#2bbdb9", "#2bbdb9"];
            ("object" !== (void 0 === b ? "undefined" : r(b)) || b.length <= 1) && (b = [b, Su(b).brighter()]);
            var k = new Dl({
                shape: {
                    outerRadius: m,
                    innerRadius: x,
                    endAngle: 0,
                    startAngle: 0,
                    cornerRadius: 4
                },
                position: [g, v],
                style: {
                    fill: {
                        type: "linear",
                        x: y.x,
                        y: y.y,
                        x2: y.x2,
                        y2: y.y2,
                        colorStops: [{
                                offset: 0,
                                color: b[0]
                            }, {
                                offset: 1,
                                color: b[1]
                            }
                        ],
                        globalCoord: !1
                    },
                    stroke: null
                }
            }),
            M = void 0;
            k.on("mouseover", function () {
                clearTimeout(M),
                M = setTimeout(function () {
                    w && w.setStyle("text", _(d)),
                    k.stopAnimation(!0),
                    k.animateTo({
                        shape: {
                            r: m + 8
                        }
                    }, 300, "elasticOut")
                }, 50)
            }),
            k.on("mouseout", function () {
                clearTimeout(M),
                k.stopAnimation(!0),
                M = setTimeout(function () {
                    k.animateTo({
                        shape: {
                            r: m
                        }
                    }, 300, "elasticOut")
                }, 50)
            }),
            k.animateTo({
                shape: {
                    endAngle: f
                }
            }, 500, "linear"),
            this.group.add(k);
            var I = e.get("tooltip") && e.get("tooltip").formatter;
            return I || (I = function (t, e) {
                return t + ": " + (100 * e).toFixed(0) + "%"
            }),
            k.data = {
                value: I(p, d)
            },
            k
        }
        function I(t) {
            if (!1 !== u.show)
                return w = new vo({
                    style: {
                        text: _(t),
                        x: g,
                        y: .97 * v,
                        font: u.textStyle.fontWeight + " " + u.textStyle.fontSize + "px " + u.textStyle.fontFamily,
                        textBaseline: "middle",
                        textAlign: "center",
                        textFill: u.textStyle.color
                    }
                }), this.group.add(w), w
        }
        if (function () {
            var t = l.borderColor,
            e = (m + x) / 2,
            n = new Dl({
                shape: {
                    outerRadius: e + .5,
                    innerRadius: e - .5,
                    endAngle: 0,
                    startAngle: o,
                    cornerRadius: 4
                },
                position: [g, v],
                style: {
                    fill: t
                }
            });
            this.group.add(n)
        }
            .call(this), S.length > 1) {
            var A = S.length,
            T = void 0;
            k = Nl(S, function (t) {
                return t.value
            })[1];
            for (var C, z = 0; z < A; z++) {
                C = S[z];
                var E = Math.abs(C.value / k),
                L = {
                    itemValue: E,
                    startAngle: 0,
                    endAngle: E * l.maxAngle / 180 * i || 3 * E / 4 * (2 * i) || i,
                    strokeColor: C.color,
                    itemName: C.name
                };
                0 == z && (T = E),
                M.call(this, L, z),
                x -= y,
                m -= y
            }
            I.call(this, T)
        } else {
            var D = Math.abs(a.values[0].value / (a.max - a.min)),
            O = a.values[0].color,
            P = a.values[0].name,
            F = D * l.maxAngle / 180 * i || D * (2 * Math.PI) || 0;
            l.shadowColor && function (t) {
                var e = t.endAngle,
                n = new Dl({
                    shape: {
                        outerRadius: m,
                        innerRadius: 0,
                        endAngle: 0,
                        startAngle: 0,
                        cornerRadius: 0
                    },
                    position: [g, v],
                    style: {
                        fill: l.shadowColor
                    }
                });
                n.animateTo({
                    shape: {
                        endAngle: e
                    }
                }, 500, "linear"),
                this.group.add(n)
            }
            .call(this, {
                endAngle: F
            }),
            M.call(this, {
                endAngle: F,
                itemValue: D,
                strokeColor: O,
                startAngle: -i / 2,
                itemName: P
            }, 0),
            I.call(this, D)
        }
        for (var N = 0; N < b.length; N++)
            this.group.add(arc);
        if (a.title) {
            var R = t.get("title"),
            B = "string" == typeof R.offsetCenter[0] ? parseFloat(R.offsetCenter[0].split("%")[0]) / 100 * f : R.offsetCenter[0],
            W = "string" == typeof R.offsetCenter[1] ? parseFloat(R.offsetCenter[1].split("%")[0]) / 100 * d : R.offsetCenter[1],
            G = new vo({
                style: {
                    text: a.title,
                    x: g - B,
                    y: v - W,
                    font: R.textStyle.fontWeight + " " + R.textStyle.fontSize + "px " + R.textStyle.fontFamily,
                    textBaseline: "middle",
                    textAlign: "center",
                    textFill: R.textStyle.color
                }
            });
            this.group.add(G)
        }
    },
    e
}
(cs);
Nd.type = Fd;
var Rd = "arcbar",
Bd = function (t) {
    function e() {
        var n,
        i;
        o(this, e);
        for (var r = arguments.length, a = Array(r), s = 0; s < r; s++)
            a[s] = arguments[s];
        return n = i = u(this, t.call.apply(t, [this].concat(a))),
        i.type = Rd,
        u(i, n)
    }
    return s(e, t),
    e
}
(_s);
Bd.type = Rd,
Bd.defaultOption = {
    zlevel: 0,
    z: 1,
    center: ["50%", "50%"],
    radius: [10, 20],
    title: {
        offsetCenter: [0, 0],
        textStyle: {
            color: "#333",
            fontStyle: "normal",
            fontFamily: "sans-serif",
            fontWeight: "normal",
            fontSize: 14
        }
    },
    circleStyle: {
        maxAngle: 270
    },
    hoverStyle: {
        formatter: function (t) {
            return t
        },
        textStyle: {
            position: null,
            color: "#333",
            fontFamily: "sans-serif",
            fontWeight: "normal",
            fontSize: 12
        }
    },
    itemStyle: {
        normal: {
            stroke: "#333",
            fill: "#333",
            cornerRadius: 0
        }
    }
},
dl(Bd, Nd);
var Wd = "radar",
Gd = function (t) {
    function e() {
        var n,
        i;
        o(this, e);
        for (var r = arguments.length, a = Array(r), s = 0; s < r; s++)
            a[s] = arguments[s];
        return n = i = u(this, t.call.apply(t, [this].concat(a))),
        i.type = Wd,
        u(i, n)
    }
    return s(e, t),
    e
}
(_s);
Gd.type = Wd,
Gd.defaultOption = {
    $radarAxisIndex: 0,
    name: void 0,
    animation: !0,
    duration: 500,
    easing: "cubicOut",
    symbol: "circle",
    symbolSize: 3,
    label: {
        normal: {
            show: !1,
            distanceOffset: 1,
            offset: [0, 15],
            formatter: void 0,
            textBaseline: "middle",
            textAlign: "center"
        },
        emphasis: {
            show: !1
        }
    },
    itemStyle: {
        normal: {
            lineWidth: 1,
            borderType: "solid",
            fill: "auto",
            opacity: .6
        },
        emphasis: {
            lineWidth: 1,
            borderType: "solid",
            fill: "auto",
            opacity: .8
        }
    },
    tooltip: {
        formatter: function (t) {
            for (var e = t.data.name + ":<br />", n = 0; n < t.indicator.length; n++)
                e += t.indicator[n].name + ": " + t.data.value[n] + "<br />";
            return e
        }
    },
    zlevel: 0,
    z: 2
};
var Hd = uh,
jd = function (t) {
    function e() {
        var n,
        i;
        o(this, e);
        for (var r = arguments.length, a = Array(r), s = 0; s < r; s++)
            a[s] = arguments[s];
        return n = i = u(this, t.call.apply(t, [this].concat(a))),
        i.type = Wd,
        u(i, n)
    }
    return s(e, t),
    e.prototype.getBrighterColor = function (t, e) {
        return "auto" == e ? t.toString() : "hidden" == e ? void 0 : e
    },
    e.prototype.render = function (t, e, n) {
        for (var i, r, o = Math.cos, s = Math.sin, l = ["#c23531", "#2f4554", "#61a0a8", "#d48265", "#91c7ae", "#749f83", "#ca8622", "#bda29a", "#6e7074", "#546570", "#c4ccd3"], u = t.getData(), h = t.get("$radarAxisIndex"), c = e.getComponentByIndex("radarAxis", h), f = c.radiusScaleArr, d = c.angleScale, p = t.get("itemStyle"), g = t.get("label"), v = t.get("label").normal.distanceOffset, y = t.get("duration"), m = t.get("easing"), x = t.get("symbol"), _ = t.get("animation"), w = (t.get("$legendIndex"), t.get("selected")), b = n.getWidth(), S = n.getHeight(), k = c.get("center"), M = "string" == typeof k[0] ? parseInt(parseFloat(k[0].split("%")[0]) / 100 * b) : parseInt(k[0]), I = "string" == typeof k[1] ? parseInt(parseFloat(k[1].split("%")[0]) / 100 * S) : parseInt(k[1]), A = [], T = [], C = 0; C < u.length; C++) {
            var z = u[C],
            E = z.value,
            L = void 0,
            D = void 0,
            O = void 0;
            H(x) ? (L = x.normal.style.stroke ? x.normal.style.stroke : l[C], D = x.normal.size, O = x.normal.style.fill ? x.normal.style.fill : "#fff") : (L = t.get("color") ? t.get("color") : l[C], D = t.get("symbolSize"), O = "#fff");
            var P = (L = Hd.color(L)).toString();
            L.opacity = p.normal.opacity;
            var F = this.getBrighterColor(L, p.normal.fill),
            N = [];
            T = [];
            for (var R = 0; R < E.length; R++) {
                var B = f[R](E[R]),
                W = B * o(d(R)),
                G = B * s(d(R)),
                j = (B + 10 * v) * o(d(R)),
                U = (B + 10 * v) * s(d(R));
                N.push([W, G, j, U]),
                T.push([0, 0])
            }
            w && !1 === w[z.name] || A.push({
                shape: {
                    points: N
                },
                position: [M, I],
                key: z.name,
                style: a({
                    stroke: P
                }, p.normal, {
                    fill: F
                }),
                data: {
                    value: t.get("tooltip").formatter({
                        seriesIndex: C,
                        color: P,
                        data: z,
                        indicator: c.get("indicator")
                    })
                }
            });
            for (var q = [], Y = [], V = 0; V < N.length; V++) {
                q.push({
                    z2: 4,
                    shape: {
                        cx: N[V][0],
                        cy: N[V][1],
                        r: D
                    },
                    key: "symbol_" + C + "_" + V,
                    position: [M, I],
                    style: {
                        stroke: P,
                        fill: O
                    },
                    data: {
                        value: t.get("tooltip").formatter({
                            seriesIndex: C,
                            color: P,
                            data: z,
                            indicator: c.get("indicator")
                        })
                    }
                });
                var $ = N[V][0],
                X = N[V][1],
                Z = 0 == $.toFixed(6) ? "center" : $.toFixed(6) < 0 ? "right" : "left",
                K = 0 == $.toFixed(6) ? X < 0 ? "bottom" : "top" : void 0;
                Y.push({
                    z2: 5,
                    key: "label_" + C + "_" + V,
                    style: a({
                        text: "function" == typeof g.normal.formatter ? g.normal.formatter(E[V]) : E[V],
                        x: N[V][2] - g.normal.offset[0],
                        y: N[V][3] - g.normal.offset[1],
                        textFill: P
                    }, g.normal, {
                        textAlign: Z,
                        textVerticalAlign: K
                    }),
                    position: [M, I],
                    data: {
                        value: t.get("tooltip").formatter({
                            seriesIndex: C,
                            color: P,
                            data: z,
                            indicator: c.get("indicator")
                        })
                    }
                })
            }
            this.setShapeGroup("symbolGroup" + C, yo, q, {
                animation: _,
                animateFrom: {
                    shape: {
                        r: 0
                    }
                },
                duration: y,
                easing: m
            }, void 0, function (t) {
                t.on("mouseover", function (t) {
                    var e = t.target;
                    i._children[e.name.split("_")[1]].trigger("mouseover")
                }),
                t.on("mouseout", function (t) {
                    var e = t.target;
                    i._children[e.name.split("_")[1]].trigger("mouseout")
                })
            }),
            r = this.setShapeGroup("labelGroup" + C, vo, Y),
            g.normal.show ? r.show() : r.hide()
        }
        var Q = this;
        i = this.setShapeGroup("polygon", ko, A, {
            animation: _,
            animateFrom: {
                shape: {
                    points: T
                }
            },
            duration: y,
            easing: m
        }, void 0, function (e) {
            e.on("mouseover", function () {
                g.emphasis.show ? (r.eachChild(function (t) {
                        var e = t.style.textAlign;
                        t.setStyle(a({}, g.emphasis, {
                                textAlign: e
                            })),
                        t.z2 = 3
                    }), r.show()) : r.hide();
                var e = Hd.color(this.style.stroke);
                e.opacity = p.emphasis.opacity,
                this.setStyle(a({}, p.emphasis, {
                        fill: Q.getBrighterColor(e, p.emphasis.fill)
                    })),
                this.z2 = 3,
                n.dispatchAction(t, $a.mouseover, this)
            }),
            e.on("mouseout", function () {
                g.normal.show ? (r.eachChild(function (t) {
                        var e = t.style.textAlign;
                        t.setStyle(a({}, g.normal, {
                                textAlign: e
                            })),
                        t.z2 = 0
                    }), r.show()) : r.hide();
                var e = Hd.color(this.style.stroke);
                e.opacity = p.normal.opacity,
                this.setStyle(a({}, p.normal, {
                        fill: Q.getBrighterColor(e, p.normal.fill)
                    })),
                this.z2 = 0,
                n.dispatchAction(t, $a.mouseout, this)
            }),
            e.on("click", function (e) {
                var i = e.target;
                n.dispatchAction(t, $a.itemClick, i)
            })
        })
    },
    e
}
(cs);
jd.type = Wd,
dl(Gd, jd);
var Ud = Qr.extend({
    type: "d3-area",
    shape: {
        data: [],
        x: void 0,
        x0: void 0,
        x1: void 0,
        y: void 0,
        y0: void 0,
        y1: void 0,
        defined: void 0,
        curve: void 0,
        yStart: 0,
        percent: 1
    },
    style: {
        stroke: null,
        fill: "#000"
    },
    updateArea: function () {
        !this.area && (this.area = function () {
            var t = Xo,
            e = null,
            n = Yo(0),
            i = Zo,
            r = Yo(!0),
            o = null,
            a = $o,
            s = null;
            function l(l) {
                var u,
                h,
                c,
                f,
                d,
                p = l.length,
                g = !1,
                v = new Array(p),
                y = new Array(p);
                for (null == o && (s = a(d = qo())), u = 0; u <= p; ++u) {
                    if (!(u < p && r(f = l[u], u, l)) === g)
                        if (g = !g)
                            h = u, s.areaStart(), s.lineStart();
                        else {
                            for (s.lineEnd(), s.lineStart(), c = u - 1; c >= h; --c)
                                s.point(v[c], y[c]);
                            s.lineEnd(),
                            s.areaEnd()
                        }
                    g && (v[u] = +t(f, u, l), y[u] = +n(f, u, l), s.point(e ? +e(f, u, l) : v[u], i ? +i(f, u, l) : y[u]))
                }
                if (d)
                    return s = null, d + "" || null
            }
            function u() {
                return Ko().defined(r).curve(a).context(o)
            }
            return l.x = function (n) {
                return arguments.length ? (t = "function" == typeof n ? n : Yo(+n), e = null, l) : t
            },
            l.x0 = function (e) {
                return arguments.length ? (t = "function" == typeof e ? e : Yo(+e), l) : t
            },
            l.x1 = function (t) {
                return arguments.length ? (e = null == t ? null : "function" == typeof t ? t : Yo(+t), l) : e
            },
            l.y = function (t) {
                return arguments.length ? (n = "function" == typeof t ? t : Yo(+t), i = null, l) : n
            },
            l.y0 = function (t) {
                return arguments.length ? (n = "function" == typeof t ? t : Yo(+t), l) : n
            },
            l.y1 = function (t) {
                return arguments.length ? (i = null == t ? null : "function" == typeof t ? t : Yo(+t), l) : i
            },
            l.lineX0 = l.lineY0 = function () {
                return u().x(t).y(n)
            },
            l.lineY1 = function () {
                return u().x(t).y(i)
            },
            l.lineX1 = function () {
                return u().x(e).y(n)
            },
            l.defined = function (t) {
                return arguments.length ? (r = "function" == typeof t ? t : Yo(!!t), l) : r
            },
            l.curve = function (t) {
                return arguments.length ? (a = t, null != o && (s = a(o)), l) : a
            },
            l.context = function (t) {
                return arguments.length ? (null == t ? o = s = null : s = a(o = t), l) : o
            },
            l
        }
            ());
        var t = this.area,
        e = this.shape;
        for (var n in e)
            !~["data", "percent", "yStart"].indexOf(n) && t[n] && void 0 !== e[n] && ("y1" === n || "y0" === n ? function () {
                var i = e[n],
                r = W(i),
                o = e.percent,
                a = e["y1" === n ? "y1Start" : "y0Start"],
                s = W(a);
                t[n](function (t, e, n) {
                    return (r ? i(t, e, n) : i) * o + (a ? (s ? a(t, e, n) : a) * (1 - o) : 0)
                })
            }
                () : t[n](e[n]))
    },
    buildPath: function (t, e) {
        this.updateArea(),
        this.area.context(t)(e.data)
    }
});
function qd(t) {
    return t < 0 ? -1 : 1
}
function Yd(t, e, n) {
    var i = t._x1 - t._x0,
    r = e - t._x1,
    o = (t._y1 - t._y0) / (i || r < 0 && -0),
    a = (n - t._y1) / (r || i < 0 && -0),
    s = (o * r + a * i) / (i + r);
    return (qd(o) + qd(a)) * Math.min(Math.abs(o), Math.abs(a), .5 * Math.abs(s)) || 0
}
function Vd(t, e) {
    var n = t._x1 - t._x0;
    return n ? (3 * (t._y1 - t._y0) / n - e) / 2 : e
}
function $d(t, e, n) {
    var i = t._x0,
    r = t._y0,
    o = t._x1,
    a = t._y1,
    s = (o - i) / 3;
    t._context.bezierCurveTo(i + s, r + s * e, o - s, a - s * n, o, a)
}
function Xd(t) {
    this._context = t
}
function Zd(t) {
    this._context = new Kd(t)
}
function Kd(t) {
    this._context = t
}
function Qd(t) {
    this._context = t
}
function Jd(t) {
    var e,
    n,
    i = t.length - 1,
    r = new Array(i),
    o = new Array(i),
    a = new Array(i);
    for (r[0] = 0, o[0] = 2, a[0] = t[0] + 2 * t[1], e = 1; e < i - 1; ++e)
        r[e] = 1, o[e] = 4, a[e] = 4 * t[e] + 2 * t[e + 1];
    for (r[i - 1] = 2, o[i - 1] = 7, a[i - 1] = 8 * t[i - 1] + t[i], e = 1; e < i; ++e)
        n = r[e] / o[e - 1], o[e] -= n, a[e] -= n * a[e - 1];
    for (r[i - 1] = a[i - 1] / o[i - 1], e = i - 2; e >= 0; --e)
        r[e] = (a[e] - r[e + 1]) / o[e];
    for (o[i - 1] = (t[i] + r[i - 1]) / 2, e = 0; e < i - 1; ++e)
        o[e] = 2 * t[e + 1] - r[e + 1];
    return [r, o]
}
function tp(t, e) {
    this._context = t,
    this._t = e
}
Xd.prototype = {
    areaStart: function () {
        this._line = 0
    },
    areaEnd: function () {
        this._line = NaN
    },
    lineStart: function () {
        this._x0 = this._x1 = this._y0 = this._y1 = this._t0 = NaN,
        this._point = 0
    },
    lineEnd: function () {
        switch (this._point) {
        case 2:
            this._context.lineTo(this._x1, this._y1);
            break;
        case 3:
            $d(this, this._t0, Vd(this, this._t0))
        }
        (this._line || 0 !== this._line && 1 === this._point) && this._context.closePath(),
        this._line = 1 - this._line
    },
    point: function (t, e) {
        var n = NaN;
        if (e = +e, (t = +t) !== this._x1 || e !== this._y1) {
            switch (this._point) {
            case 0:
                this._point = 1,
                this._line ? this._context.lineTo(t, e) : this._context.moveTo(t, e);
                break;
            case 1:
                this._point = 2;
                break;
            case 2:
                this._point = 3,
                $d(this, Vd(this, n = Yd(this, t, e)), n);
                break;
            default:
                $d(this, this._t0, n = Yd(this, t, e))
            }
            this._x0 = this._x1,
            this._x1 = t,
            this._y0 = this._y1,
            this._y1 = e,
            this._t0 = n
        }
    }
},
(Zd.prototype = Object.create(Xd.prototype)).point = function (t, e) {
    Xd.prototype.point.call(this, e, t)
},
Kd.prototype = {
    moveTo: function (t, e) {
        this._context.moveTo(e, t)
    },
    closePath: function () {
        this._context.closePath()
    },
    lineTo: function (t, e) {
        this._context.lineTo(e, t)
    },
    bezierCurveTo: function (t, e, n, i, r, o) {
        this._context.bezierCurveTo(e, t, i, n, o, r)
    }
},
Qd.prototype = {
    areaStart: function () {
        this._line = 0
    },
    areaEnd: function () {
        this._line = NaN
    },
    lineStart: function () {
        this._x = [],
        this._y = []
    },
    lineEnd: function () {
        var t = this._x,
        e = this._y,
        n = t.length;
        if (n)
            if (this._line ? this._context.lineTo(t[0], e[0]) : this._context.moveTo(t[0], e[0]), 2 === n)
                this._context.lineTo(t[1], e[1]);
            else
                for (var i = Jd(t), r = Jd(e), o = 0, a = 1; a < n; ++o, ++a)
                    this._context.bezierCurveTo(i[0][o], r[0][o], i[1][o], r[1][o], t[a], e[a]);
        (this._line || 0 !== this._line && 1 === n) && this._context.closePath(),
        this._line = 1 - this._line,
        this._x = this._y = null
    },
    point: function (t, e) {
        this._x.push(+t),
        this._y.push(+e)
    }
},
tp.prototype = {
    areaStart: function () {
        this._line = 0
    },
    areaEnd: function () {
        this._line = NaN
    },
    lineStart: function () {
        this._x = this._y = NaN,
        this._point = 0
    },
    lineEnd: function () {
        0 < this._t && this._t < 1 && 2 === this._point && this._context.lineTo(this._x, this._y),
        (this._line || 0 !== this._line && 1 === this._point) && this._context.closePath(),
        this._line >= 0 && (this._t = 1 - this._t, this._line = 1 - this._line)
    },
    point: function (t, e) {
        switch (t = +t, e = +e, this._point) {
        case 0:
            this._point = 1,
            this._line ? this._context.lineTo(t, e) : this._context.moveTo(t, e);
            break;
        case 1:
            this._point = 2;
        default:
            if (this._t <= 0)
                this._context.lineTo(this._x, e), this._context.lineTo(t, e);
            else {
                var n = this._x * (1 - this._t) + t * this._t;
                this._context.lineTo(n, this._y),
                this._context.lineTo(n, e)
            }
        }
        this._x = t,
        this._y = e
    }
};
var ep = {
    linear: $o,
    monotoneX: function (t) {
        return new Xd(t)
    },
    monotoneY: function (t) {
        return new Zd(t)
    },
    natural: function (t) {
        return new Qd(t)
    },
    step: function (t) {
        return new tp(t, .5)
    },
    stepAfter: function (t) {
        return new tp(t, 1)
    },
    stepBefore: function (t) {
        return new tp(t, 0)
    }
};
function np(t) {
    var e = t.type,
    n = void 0;
    switch (e) {
    case "bundle":
        n = "beta";
        break;
    case "cardinal":
    case "cardinalOpen":
    case "cardinalClosed":
        n = "tension";
        break;
    case "catmullRom":
    case "catmullRomOpen":
    case "catmullRomClosed":
        n = "alpha"
    }
    return n ? ep[e][n](t.param) : ep[e]
}
var ip = "scatter",
rp = function (t) {
    function e() {
        var n,
        i;
        o(this, e);
        for (var r = arguments.length, a = Array(r), s = 0; s < r; s++)
            a[s] = arguments[s];
        return n = i = u(this, t.call.apply(t, [this].concat(a))),
        i.type = ip,
        i.isScatter = !0,
        u(i, n)
    }
    return s(e, t),
    e.prototype.formatData = function (t) {
        return t && t.length ? B(t[0]) ? t : O(t, function (t, e) {
            return [e, t]
        }) : t
    },
    e.prototype.formatOption = function (e) {
        var n;
        (n = t.prototype.formatOption).call.apply(n, [this].concat(Array.prototype.slice.call(arguments))),
        e.color && "scatter" === e.type && !Na(e, "symbol.normal.style.fill") && Fa(e, "symbol.normal.style.fill", e.color),
        void 0 === e.$calendarIndex && void 0 === e.$geoIndex || (e.$axisIndex = void 0)
    },
    e.prototype.updateByCalendar = function () {
        var t = this.globalModel,
        e = this.getData(),
        n = t.getComponentByIndex("calendar", this.get("$calendarIndex")),
        i = [];
        D(e, function (t, e) {
            if (t) {
                var r = t[0],
                o = [],
                a = n.calcPoint(r);
                o = a ? [a.x, a.y, t, e] : null,
                i.push(o)
            }
        }),
        this.data = e,
        this.startIndex = 0,
        this.lastPoints = this.points,
        this.points = i
    },
    e.prototype.updateByGeo = function () {
        var t = this.globalModel,
        e = this.getData(),
        n = t.getComponentByIndex("geo", this.get("$geoIndex")),
        i = [];
        D(e, function (t, e) {
            if (t) {
                var r = [],
                o = n.projection(t);
                r = o ? [o[0], o[1], t, e] : null,
                i.push(r)
            }
        }),
        this.data = e,
        this.startIndex = 0,
        this.lastPoints = this.points,
        this.points = i
    },
    e.prototype.updateByAxis = function () {
        var t = this,
        e = this.getAxisModel("x"),
        n = this.getAxisModel("y"),
        i = !!this.get("stack"),
        r = i ? this.stackData : this.getData(),
        o = [],
        a = void 0,
        s = "left" === e.get("position") || "right" === e.get("position");
        if (!n) {
            var l = e.get("position");
            a = Ea(this.get("offset"), this.global["bottom" === l || "top" === l ? "getHeight" : "getWidth"]()) + e.pos
        }
        var u = "time" === e.get("type"),
        h = e && e.scale,
        c = h && h.domain(),
        f = n && "time" === n.get("type"),
        d = n && n.scale,
        p = d && d.domain(),
        g = n && n.get("compare");
        if (!this.get("stack") && g && "ordinal" === e.getAxisType()) {
            var v = e.startIndex,
            y = e.endIndex,
            m = r[v][1];
            r = r.map(function (t) {
                if (t[0] < v || t[0] > y)
                    return t;
                var e = [].concat(t);
                return "percent" === g ? e[1] = (e[1] - m) / m : e[1] -= m,
                e[2] = t,
                e
            })
        }
        D(r, function (r, l) {
            if (r) {
                var g = r.value || r,
                v = g[0],
                y = g[1],
                m = [];
                i && (y = y[1]),
                m[s ? 1 : 0] = op(v, e, u, h, c),
                m[s ? 0 : 1] = n ? B(y) ? O(y, function (t) {
                    return op(t, n, f, d, p)
                }) : op(y, n, f, d, p) : a,
                isNaN(m[0]) || isNaN(m[1]) ? "area" === t.get("type") ? isNaN(m[0]) ? o.push(null) : o.push(m) : o.push(null) : (i ? (m[2] = r[2], m[3] = l) : (m[2] = r, m[3] = l), o.push(m))
            } else
                o.push(null)
        }),
        this.data = r,
        this.startIndex = e.startIndex,
        this.lastPoints = this.points,
        this.points = o
    },
    e.prototype.update = function () {
        void 0 !== this.get("$calendarIndex") ? this.updateByCalendar() : void 0 !== this.get("$geoIndex") ? this.updateByGeo() : this.updateByAxis()
    },
    e.prototype.getSeriesColor = function (t) {
        if (this.get("color"))
            return this.get("color");
        var e = this.get("symbol").normal;
        return e.style.fill || e.style.stroke
    },
    e.prototype.onUnSelected = function () {
        this.lastPoints = void 0,
        this.preLastPoints = void 0,
        this.points = void 0
    },
    e
}
(_s);
function op(t, e, n, i, r) {
    if (n && !(t instanceof Date) && (t = new Date(t)), "number" == typeof t || n)
        switch (e.getAxisType()) {
        case "continuous":
            if (t <= r[1] && t >= r[0])
                return i(t);
            break;
        case "ordinal":
            var o = e.startIndex;
            if (t <= e.endIndex && t >= o)
                return i(r[t - o]) + ("band" === e.get("type") ? i.bandwidth() / 2 : 0)
        }
}
rp.type = ip,
rp.emphasisList = ["symbol", "label"],
rp.defaultOption = {
    $dataIndex: void 0,
    dataKey: void 0,
    $axisIndex: [0, 1],
    name: void 0,
    symbol: {
        normal: {
            show: !0,
            type: "circle",
            offset: [0, 0],
            size: 8,
            style: {
                fill: "#058499"
            }
        },
        emphasis: {
            show: !1,
            style: {}
        }
    },
    label: {
        normal: {
            show: !1,
            style: {
                position: "top"
            },
            formatter: void 0
        },
        emphasis: {
            show: !1,
            style: {}
        }
    },
    $geoIndex: void 0,
    markers: {
        linkLine: {
            style: {
                lineWidth: 2,
                stroke: "#FFBB00"
            },
            retain: 150,
            linePoints: void 0
        },
        labelGroup: [],
        data: void 0
    },
    large: !1,
    largeThreshold: 2e3,
    onClick: void 0,
    onDBLClick: void 0,
    selectedList: [],
    enableSelect: !1,
    legendHoverLink: !0,
    whenEmphasisZ: 99999,
    offset: 0,
    cursor: "default",
    zlevel: 0,
    z: 4
};
var ap = function (t) {
    function e() {
        var n,
        i;
        o(this, e);
        for (var r = arguments.length, a = Array(r), s = 0; s < r; s++)
            a[s] = arguments[s];
        return n = i = u(this, t.call.apply(t, [this].concat(a))),
        i.type = ip,
        u(i, n)
    }
    return s(e, t),
    e.prototype.renderAllSymbol = function (t, e, n, i) {
        this.group,
        t.get("symbol").normal;
        var r = t.isScatter,
        o = t.get("selectedList"),
        a = t.get("whenEmphasisZ"),
        s = t.get("animation"),
        l = t.get("animationDuration"),
        u = t.get("animationEasing"),
        h = t.get("cursor"),
        c = [],
        f = [],
        d = void 0;
        D(i, function (e, n) {
            if (e) {
                var i = e[2],
                r = !!o && o.indexOf(e[3]) > -1,
                s = {
                    shape: lp(t, i, r),
                    position: [e[0], e[1]],
                    key: e[3],
                    z2: r && a ? a : e[3] + 99,
                    seriesIndex: t.index,
                    dataIndex: e[3],
                    rectHover: !0,
                    cursor: h
                };
                c.push(s),
                f.push({
                    shape: {
                        x: 0,
                        y: 0,
                        width: 0,
                        height: 0
                    },
                    position: [e[0], e[1]]
                })
            }
        }),
        d = r || t.get("stack") ? {
            shape: {
                x: 0,
                y: 0,
                width: 0,
                height: 0
            },
            position: [0, 0]
        }
         : null,
        this.setShapeGroup("symbolGroup", zs, c, {
            animation: s,
            duration: l,
            easing: u,
            animateFrom: f,
            animateList: d
        }, function (e) {
            e.on("mouseover", function (e) {
                var i = e.target;
                sp(i, t, !0),
                a && (i.z2 = a + 1),
                n.dispatchAction(t, $a.mouseover, {
                    data: t.points[i.dataIndex][2],
                    dataIndex: i.dataIndex,
                    name: t.get("name"),
                    seriesIndex: t.index,
                    position: {
                        x: t.points[i.dataIndex][0],
                        y: t.points[i.dataIndex][1]
                    }
                })
            }),
            e.on("mouseout", function (e) {
                var i = e.target;
                -1 === t.get("selectedList").indexOf(i.dataIndex) && sp(i, t, !1),
                n.dispatchAction(t, $a.mouseout, {
                    data: t.points[i.dataIndex][2],
                    dataIndex: i.dataIndex,
                    name: t.get("name"),
                    seriesIndex: t.index,
                    position: {
                        x: t.points[i.dataIndex][0],
                        y: t.points[i.dataIndex][1]
                    }
                })
            }),
            e.on("click", function (i) {
                var r = t.get("enableSelect"),
                o = t.get("selectedList"),
                a = i.target;
                if ("multiple" === r) {
                    var s = o.indexOf(a.dataIndex);
                    s > -1 ? (o.splice(s, 1), t.set("selectedList", o), sp(a, t, !1)) : (o.push(a.dataIndex), t.set("selectedList", o))
                } else
                    r && (D(o, function (n) {
                            e.childOfName(n) && sp(e.childOfName(n), t, !1)
                        }), t.set("selectedList", [a.dataIndex]), n.dispatchAction(t, $a.selectedListChange, [a.dataIndex]));
                n.dispatchAction(t, $a.itemClick, {
                    data: t.points[a.dataIndex][2],
                    dataIndex: a.dataIndex,
                    name: t.get("name"),
                    seriesIndex: t.index,
                    position: {
                        x: t.points[a.dataIndex][0],
                        y: t.points[a.dataIndex][1]
                    }
                }),
                t.get("onClick") && t.get("onClick")(t.points[a.dataIndex][2], i)
            }),
            e.on("dblclick", function (e) {
                var n = e.target;
                t.get("onDBLClick") && t.get("onDBLClick")(t.points[n.dataIndex][2], e)
            })
        }),
        this.getShape("symbolGroup").eachChild(function (e) {
            ~o.indexOf(e.dataIndex) ? sp(e, t, !0, !0) : sp(e, t, !1, !0)
        })
    },
    e.prototype.renderLargeSymbol = function (t, e, n, i) {
        var r = t.get("symbol").normal,
        o = [];
        D(i, function (e) {
            if (e) {
                var n = e[2],
                i = lp(t, n, !1);
                i.x += e[0],
                i.y += e[1],
                o.push(i)
            }
        }),
        this.setShape("symbolGroup", Ls, {
            shape: {
                points: o
            },
            style: r.style,
            silent: !0
        })
    },
    e.prototype.getMarkerInfoByItemIndex = function (t, e) {
        var n = void 0;
        return e.map(function (e, i) {
            e[3] != t || (n = e)
        }),
        n
    },
    e.prototype.renderMarkers = function (t, e, n, i) {
        var r = this,
        o = t.get("markers"),
        s = o.data,
        l = o.linkLine,
        u = o.labelGroup,
        h = t.get("$geoIndex"),
        c = n.getModel("geo", h),
        f = [],
        d = [];
        ("selectedList" === s ? t.get("selectedList").map(function (t, e) {
                return {
                    itemIndex: t
                }
            }) : s).map(function (t, e) {
            var n = S(b(t.linkLine) || {}, l),
            o = S(b(t.labelGroup) || [], u),
            s = t.itemIndex,
            h = n.linePoints,
            p = n.retain,
            g = void 0,
            v = r.getMarkerInfoByItemIndex(s, i);
            B(g = "function" == typeof h ? h({
                    position: c.position,
                    startPos: [v[0], v[1]],
                    markerInfo: v[2],
                    itemIndex: v[3],
                    retain: p
                }) : B(h) ? h : [[v[0], v[1]], [v[0] + 20, v[1] - 40], [v[0] + 20 + p, v[1] - 40]]),
            f.push({
                shape: {
                    x: function (t) {
                        return t[0]
                    },
                    y: function (t) {
                        return t[1]
                    },
                    data: g,
                    percent: 1,
                    defined: function (t) {
                        return t
                    }
                },
                style: n.style,
                markerLine: {
                    itemIndex: s,
                    markerInfo: v
                }
            });
            for (var y = 0; y < o.length; y++) {
                var m = o[y],
                x = m.offset || [0, 0],
                _ = void 0;
                "function" == typeof m.formatter && (_ = m.formatter({
                        position: c.position,
                        startPos: [v[0], v[1]],
                        markerInfo: v[2],
                        itemIndex: v[3],
                        retain: p
                    })),
                "function" == typeof m.offset && (x = m.offset({
                        position: c.position,
                        startPos: [v[0], v[1]],
                        markerInfo: v[2],
                        itemIndex: v[3],
                        retain: p
                    })),
                _ && d.push({
                    style: a({}, m.style, {
                        text: _
                    }),
                    position: [g[1][0] + x[0], g[1][1] + x[1]] || g[1]
                })
            }
        }),
        this.setShapeGroup("markerLine", Qo, f),
        this.setShapeGroup("markerText", vo, d)
    },
    e.prototype.render = function (t, e, n) {
        var i = t.points,
        r = t.tickPoints,
        o = t.isScatter,
        a = t.get("symbol").normal,
        s = t.get("markers"),
        l = "all" === a.show || o ? i : r;
        a.show ? t.get("large") && l.length > t.get("largeThreshold") ? this.renderLargeSymbol(t, e, n, l) : this.renderAllSymbol(t, e, n, l) : this.removeShape("symbolGroup"),
        s && s.show && ("selectedList" === s.data || s.data[0]) && this.renderMarkers(t, e, n, l)
    },
    e.prototype.highlight = function (t, e, n, i) {
        if (i) {
            var r = i.index,
            o = t.get("symbol").emphasis,
            a = t.get("label").emphasis,
            s = t.get("z"),
            l = t.get("type"),
            u = t.get("zlevel"),
            h = t.getRealData(),
            c = t.points,
            f = "scatter" === l ? Da(h, function (t) {
                return t && t[0] === r
            }) : [r];
            if (o.show || a.show) {
                this.getShape("highlightSymbol");
                var d = this.getShape("symbolGroup"),
                p = [];
                D(f, function (e) {
                    var n = d && d.childOfName(e);
                    if (n)
                        sp(n, t, !0);
                    else {
                        var i = c[e];
                        if (!i)
                            return;
                        var r = i[2],
                        o = {
                            shape: lp(t, r, !0),
                            position: [i[0], i[1]],
                            dataIndex: i[3],
                            style: up(t, r, !0, i[3]),
                            z2: i[3] + 99,
                            z: s,
                            zlevel: u,
                            seriesIndex: t.index
                        };
                        p.push(o)
                    }
                }),
                this.setShapeGroup("highlightSymbol", zs, p).show()
            }
        } else {
            var g = this.getShape("symbolGroup");
            g && g.eachChild(function (e) {
                sp(e, t, !0)
            })
        }
    },
    e.prototype.downplay = function (t, e, n, i) {
        var r = this,
        o = t.get("selectedList");
        if (i) {
            var a = i.index,
            s = (i.startIndex, t.getRealData()),
            l = "scatter" === t.get("type") ? Da(s, function (t) {
                return t && t[0] === a
            }) : [a];
            this.getShape("symbolGroup") && D(l, function (e) {
                var n = r.getShape("symbolGroup").childOfName(e);
                n && -1 === o.indexOf(e) && sp(n, t, !1)
            }),
            this.getShape("highlightSymbol") && this.getShape("highlightSymbol").hide()
        } else {
            var u = this.getShape("symbolGroup");
            u && u.eachChild(function (e) {
                -1 === o.indexOf(e.dataIndex) && sp(e, t, !1)
            })
        }
    },
    e
}
(cs);
function sp(t, e, n, i) {
    if (e.get("symbol")[n ? "emphasis" : "normal"].show) {
        var r = e.get("stack") ? e.stackData[t.dataIndex][2] : e.getRealData(t.dataIndex);
        i || (t.stopAnimation(!0), t.animate("shape", !1).when(100, lp(e, r, n)).start()),
        t.useStyle(up(e, r, n, t.dataIndex)),
        !n && (t.z2 = t.dataIndex + 99)
    }
}
function lp(t, e, n) {
    var i = t.get("symbol"),
    r = (i = n ? S(b(i.normal), i.emphasis, !0) : i.normal).type,
    o = i.size,
    a = i.offset,
    s = Oa("function" == typeof o ? o(e) : o);
    return {
        symbolType: r,
        x: -s.width / 2 + a[0],
        y: -s.height / 2 + a[1],
        width: s.width,
        height: s.height
    }
}
function up(t, e, n, i) {
    var r = t.get("symbol"),
    o = t.get("label"),
    s = r.normal.style,
    l = e[1],
    u = {
        data: e,
        index: i - t.startIndex,
        dataIndex: i
    },
    h = t.get("$visualMapIndex"),
    c = void 0,
    f = void 0;
    if (c = W(s) ? s(l, u) : b(s), void 0 !== h) {
        var d = t.globalModel.getComponentByIndex("visualMap", h);
        void 0 !== t.get("$calendarIndex") || "line" === t.get("type") ? c.fill = d.getColorStop(e[1], c.fill) : c.fill = d.getColorStop(e[2], c.fill)
    }
    if (n) {
        var p = r.emphasis.style;
        c = S(c, p = W(p) ? p(l, u) : b(p), !0)
    }
    if (n) {
        var g = o.emphasis;
        if (g.show) {
            var v = o.normal,
            y = g.formatter || v.formatter,
            m = S(W(v.style) ? v.style(l, u) : b(v.style), g.style, !0);
            f = a({
                text: y ? y(l, u) : l
            }, Sa(hp(m, l, u)))
        }
    } else {
        var x = o.normal;
        if (x.show) {
            var _ = x.formatter,
            w = W(x.style) ? x.style(l, u) : b(x.style);
            f = a({
                text: _ ? _(l, u) : l
            }, Sa(hp(w, l, u)))
        }
    }
    return f && (c = S(c, f)),
    c
}
function hp(t, e, n) {
    var i = {};
    return D(t, function (t, r) {
        W(t) ? i[r] = t(e, n) : i[r] = t
    }),
    i
}
ap.type = ip;
var cp = "line",
fp = function (t) {
    function e() {
        var n,
        i;
        o(this, e);
        for (var r = arguments.length, a = Array(r), s = 0; s < r; s++)
            a[s] = arguments[s];
        return n = i = u(this, t.call.apply(t, [this].concat(a))),
        i.type = cp,
        i.isScatter = !1,
        u(i, n)
    }
    return s(e, t),
    e.prototype.formatOption = function (e) {
        var n;
        (n = t.prototype.formatOption).call.apply(n, [this].concat(Array.prototype.slice.call(arguments))),
        e.color && (Na(e, "line.normal.style.stroke") || Fa(e, "line.normal.style.stroke", e.color), Na(e, "area.normal.style.fill") || Fa(e, "area.normal.style.fill", e.color), Na(e, "symbol.normal.style.fill") || Na(e, "symbol.normal.style.stroke") || (Fa(e, "symbol.normal.style.fill", "white"), Fa(e, "symbol.normal.style.stroke", e.color)))
    },
    e.prototype.update = function () {
        t.prototype.update.call(this);
        var e = this.getAxisModel("x"),
        n = this.getAxisModel("y"),
        i = e.scale,
        r = n.scale,
        o = r.domain(),
        a = i.domain(),
        s = this.get("stack"),
        l = this.data,
        u = "band" === e.get("type") ? i.bandwidth() / 2 : 0,
        h = this.points,
        c = "left" === e.get("position") || "right" === e.get("position");
        if ("ordinal" === e.getAxisType()) {
            var f = this.get("symbol").normal;
            if ("auto" === f.show) {
                var d = Oa(f.size),
                p = ["bottom", "top"].indexOf(e.get("position")) > -1,
                g = [];
                d = p ? d.width : d.height;
                for (var v = 0; v < h.length; v++)
                    h[v] && (g.length ? h[v][p ? 0 : 1] - g[g.length - 1][p ? 0 : 1] > d && g.push(h[v]) : g.push(h[v]));
                this.tickPoints = g
            } else
                this.tickPoints = O(e.axis.values(), function (t, n) {
                    var o = a.indexOf(t) + e.startIndex;
                    if (l[o]) {
                        var h = l[o][1];
                        if ("number" != typeof h)
                            return;
                        var c = i(t) + u,
                        f = r(s ? h[1] : h);
                        if ("number" == typeof c && "number" == typeof f)
                            return [c, f, l[o], o]
                    }
                })
        } else
            this.tickPoints = h;
        if ("time" === e.get("type")) {
            var y = void 0,
            m = void 0,
            x = void 0,
            _ = void 0;
            for (x = h.length; x--; )
                if (h[x]) {
                    x < h.length - 1 && new Date(l[x + 1][0]) > i.domain()[1] && (m = h[x]);
                    break
                }
            for (_ = 0; _ < h.length; _++)
                if (h[_]) {
                    _ > 0 && new Date(l[_ - 1][0]) < i.domain()[0] && (y = h[_]);
                    break
                }
            m || y ? (this.points = [].concat(h), m && this.points.splice(x + 1, 0, c ? [m[0], i.range()[1], m[2], m[3]] : [i.range()[1], m[1], m[2], m[3]])) : this.points = h
        }
        this.y0 = r(o[1] < 0 ? o[1] : o[0] > 0 ? o[0] : 0),
        this.startIndex = e.startIndex,
        this.endIndex = e.endIndex,
        this.yAxis = n
    },
    e.prototype.getSeriesColor = function (t) {
        if (this.get("color"))
            return this.get("color");
        var e = this.get("line").normal,
        n = this.get("area").normal,
        i = this.get("symbol").normal;
        return e.show ? e.style.stroke : n.show ? n.style.fill : i.style.fill || i.style.stroke
    },
    e
}
(rp);
function dp(t, e, n) {
    return Math.min(Math.max(t, e), n)
}
fp.type = cp,
fp.emphasisList = ["symbol", "link", "label", "line", "area"],
fp.defaultOption = {
    $dataIndex: void 0,
    dataKey: void 0,
    $axisIndex: [0, 1],
    name: void 0,
    pieces: void 0,
    aliasType: void 0,
    line: {
        normal: {
            show: !0,
            style: {
                fill: void 0,
                stroke: "#058499",
                lineWidth: 2
            }
        },
        emphasis: {}
    },
    area: {
        normal: {
            show: !1,
            snapToBottom: !1,
            style: {
                fill: "#058499"
            }
        },
        emphasis: {}
    },
    symbol: {
        normal: {
            show: !1,
            type: "circle",
            offset: [0, 0],
            size: 8,
            style: {}
        },
        emphasis: {
            show: !1,
            style: {}
        }
    },
    link: {
        normal: {
            show: !1,
            style: {}
        },
        emphasis: {
            show: !1,
            style: {}
        }
    },
    label: {
        normal: {
            show: !1,
            style: {
                position: "top"
            },
            formatter: void 0
        },
        emphasis: {
            show: !1,
            style: {}
        }
    },
    curve: {
        type: "linear",
        param: void 0
    },
    showRipple: !1,
    connectNulls: !1,
    legendHoverLink: !0,
    selectedList: [],
    enableSelect: !1,
    cursor: "default",
    zlevel: 0,
    z: 3
};
var pp = function (t) {
    function e() {
        var n,
        i;
        o(this, e);
        for (var r = arguments.length, a = Array(r), s = 0; s < r; s++)
            a[s] = arguments[s];
        return n = i = u(this, t.call.apply(t, [this].concat(a))),
        i.type = cp,
        u(i, n)
    }
    return s(e, t),
    e.prototype.render = function (e, n, i) {
        var r;
        (r = t.prototype.render).call.apply(r, [this].concat(Array.prototype.slice.call(arguments)));
        this.group;
        var o = e.get("line").normal,
        s = e.get("area").normal,
        l = s.snapToBottom,
        u = e.get("curve"),
        h = e.get("link").normal,
        c = e.get("pieces"),
        f = e.get("animation"),
        d = e.get("animationDuration"),
        p = e.get("animationEasing"),
        g = e.get("cursor"),
        v = e.y0,
        y = e.points,
        m = e.tickPoints,
        x = Nl(y, function (t) {
            return t && t[1]
        }),
        _ = x[0],
        w = x[1],
        b = e.stackIndex,
        S = e.lastStackTotal,
        k = e.stackTotal,
        M = e.lineTotal,
        I = e.lastLineTotal,
        A = e.get("stack"),
        T = void 0,
        C = e.yAxis.scale;
        if (c) {
            for (var z = [], E = i.getHeight(), L = 0; L < c.length; L++) {
                var O = c[L];
                void 0 !== O.max ? z.push({
                    offset: dp(C(O.max) / E, 0, 1),
                    color: O.color
                }) : z.push({
                    offset: 0,
                    color: O.color
                }),
                void 0 !== O.min ? z.push({
                    offset: dp(C(O.min) / E, 0, 1),
                    color: O.color
                }) : z.push({
                    offset: 1,
                    color: O.color
                })
            }
            T = {
                global: !0,
                x: 0,
                x2: 0,
                y: 0,
                y2: E,
                colorStops: z
            }
        }
        e.get("connectNulls") && (y = P(y, function (t) {
                return t
            }));
        var F = v,
        N = v,
        R = v;
        if (e.lastPoints && (R = function (t, n) {
                return e.lastPoints[n] ? e.lastPoints[n][1] : t[1]
            }), A) {
            var B = e.preLastPoints;
            if (B)
                N = function (t, e) {
                    return B[e] ? B[e][1] : t[1]
                };
            else if (b) {
                var W = gp(e, n);
                W.lastPoints && (N = R = function (t, e) {
                    return W.lastPoints[e] ? W.lastPoints[e][1] : t[1]
                })
            }
            if (b) {
                var G = gp(e, n);
                F = function (t, e) {
                    return G.points[e] && G.points[e][1]
                },
                e.preLastPoints = G.points
            } else
                e.preLastPoints = void 0
        }
        if (s.show) {
            (A && k !== S || M !== I) && this.getShape("area") && this.setShape("area", Ud, {
                shape: {
                    percent: 0
                }
            });
            var H = Math.max(C.range()[1], C.range()[0]),
            j = {
                x: function (t) {
                    return t[0]
                },
                y1: function (t) {
                    return t[1]
                },
                y0: l ? H : F,
                y0Start: l ? H : N,
                y1Start: l ? H : R,
                data: y,
                curve: np(u),
                percent: 1,
                defined: function (t) {
                    return t
                }
            },
            U = v > w || l ? s.style : Ta(s.style, (v < _ ? 0 : v - _) / (w - _));
            T && (U = a({}, U, {
                    fill: T
                })),
            this.setShape("area", Ud, {
                shape: j,
                style: U,
                z2: 0,
                cursor: g
            }, {
                animation: f,
                duration: d,
                easing: p,
                animateFrom: {
                    shape: {
                        percent: 0
                    }
                }
            }, function (t) {
                var n = e.get("area").emphasis;
                n.style && _a(t, n.style)
            })
        } else
            this.removeShape("area");
        if (o.show) {
            (A && k !== S || M !== I) && this.getShape("line") && this.setShape("line", Qo, {
                shape: {
                    percent: 0
                }
            });
            var q = {
                x: function (t) {
                    return t[0]
                },
                y: function (t) {
                    return t[1]
                },
                data: y,
                yStart: R,
                percent: 1,
                curve: np(u),
                defined: function (t) {
                    return t
                }
            },
            Y = o.style;
            T && (Y = a({}, Y, {
                    stroke: T
                })),
            this.setShape("line", Qo, {
                shape: q,
                style: Y,
                z2: 1,
                cursor: g
            }, {
                animation: f,
                duration: d,
                easing: p,
                animateFrom: {
                    shape: {
                        percent: 0
                    }
                }
            }, function (t) {
                var n = e.get("line").emphasis;
                n.style && _a(t, n.style)
            }),
            e.get("showRipple") && function (t, e) {
                var n = t.data,
                i = n.length,
                r = void 0,
                o = void 0,
                a = void 0;
                if (n.filter(function (t) {
                        return t
                    }).length <= 1)
                    return void this.removeShape("rippleGroup");
                for (a = i - 1; a >= 0; --a)
                    if (n[a]) {
                        r = n[a][0],
                        o = n[a][1];
                        break
                    }
                for (var s = new Ze, l = void 0, u = void 0, h = new zs({
                        position: [r, o],
                        z: 102,
                        z2: 102,
                        shape: {
                            symbolType: "circle",
                            width: 4,
                            height: 4,
                            x: -2,
                            y: -2
                        },
                        style: {
                            fill: "#fff"
                        }
                    }), c = 0; c < 2; ++c) {
                    l = c / 2 * 3e3;
                    var f = (u = new zs({
                            position: [r, o],
                            scale: [1, 1],
                            z: 101,
                            z2: 101,
                            shape: {
                                symbolType: "circle",
                                x: -2,
                                y: -2,
                                width: 4,
                                height: 4
                            },
                            style: {
                                fill: e.stroke
                            }
                        })).animate("", !0).when(3e3, {
                        scale: [4, 4]
                    }).delay(l),
                    d = u.animateStyle(!0).when(3e3, {
                        opacity: 0
                    }).delay(l);
                    f.start(),
                    d.start(),
                    s.add(h),
                    s.add(u)
                }
                this.set("rippleGroup", s)
            }
            .call(this, q, Y)
        } else
            this.removeShape("line");
        if (h.show) {
            var V = "all" === h.show ? y : m,
            $ = [],
            X = h.style,
            Z = Ta(h.style, 0),
            K = void 0;
            if (A && b) {
                var Q = gp(e, n);
                K = "all" === h.show ? Q.points : Q.tickPoints
            }
            D(V, function (t, e) {
                t && $.push(oa({
                        shape: {
                            x1: t[0],
                            y1: K ? K[e][1] : v,
                            x2: t[0],
                            y2: t[1],
                            percent: 1
                        },
                        style: v > t[1] ? X : Z,
                        key: e,
                        z2: 2,
                        cursor: g
                    }))
            }),
            this.setShapeGroup("linkGroup", Eo, $, {
                animation: f,
                duration: d,
                easing: p,
                animateFrom: {
                    shape: {
                        percent: 0
                    }
                }
            })
        } else
            this.removeShape("linkGroup")
    },
    e.prototype.highlight = function (e, n, i, r) {
        var o;
        if ((o = t.prototype.highlight).call.apply(o, [this].concat(Array.prototype.slice.call(arguments))), r) {
            var a = r.index,
            s = e.get("link").emphasis,
            l = e.get("z"),
            u = e.get("stack"),
            h = e.get("zlevel"),
            c = e.getRealData(),
            f = e.points,
            d = Da(c, function (t) {
                return t && t[0] === a
            }),
            p = e.y0;
            if (s.show) {
                var g = e.stackIndex,
                v = (this.getShape("highlightLink"), S(b(e.get("link").normal), s, !0)),
                y = void 0,
                m = [];
                if (u && g) {
                    var x = gp(e, n);
                    y = x.points
                }
                D(d, function (t) {
                    var e = f[t];
                    if (e) {
                        var n = {
                            shape: {
                                x1: e[0],
                                y1: y ? y[t][1] : p,
                                x2: e[0],
                                y2: e[1]
                            },
                            style: Ta(v.style, p > e[1] ? 1 : 0),
                            z2: 10,
                            z: l,
                            zlevel: h
                        };
                        m.push(n)
                    }
                }),
                this.setShapeGroup("highlightLink", Eo, m).show()
            }
        } else
            this.getShape("line") && this.getShape("line").trigger("emphasis"), this.getShape("area") && this.getShape("area").trigger("emphasis")
    },
    e.prototype.downplay = function (e, n, i, r) {
        var o;
        (o = t.prototype.downplay).call.apply(o, [this].concat(Array.prototype.slice.call(arguments))),
        r ? this.getShape("highlightLink") && this.getShape("highlightLink").hide() : (this.getShape("line") && this.getShape("line").trigger("normal"), this.getShape("area") && this.getShape("area").trigger("normal"))
    },
    e
}
(ap);
function gp(t, e) {
    var n = t.get("stack"),
    i = t.stackIndex;
    return e.getComponent("series", function (t) {
        return t.get("stack") === n && t.stackIndex === i - 1
    }, !0)[0]
}
pp.type = cp,
dl(fp, pp);
var vp = Qr.extend({
    type: "largeRects",
    shape: {
        points: [],
        y0: 0,
        rectWidth: 1
    },
    style: {
        fill: "black",
        stroke: null
    },
    buildPath: function (t, e) {
        var n = e.points,
        i = e.y0,
        r = e.rectWidth;
        D(n, function (e) {
            t.rect(e[0], e[1], r, i - e[1])
        })
    }
}),
yp = "bar",
mp = function (t) {
    function e() {
        var n,
        i;
        o(this, e);
        for (var r = arguments.length, a = Array(r), s = 0; s < r; s++)
            a[s] = arguments[s];
        return n = i = u(this, t.call.apply(t, [this].concat(a))),
        i.type = yp,
        u(i, n)
    }
    return s(e, t),
    e.prototype.formatData = function (t) {
        var e = "band" === this.getAxisModel("x").get("type");
        return O(t, function (t, n) {
            return e ? [n, t] : t
        })
    },
    e.prototype.formatOption = function (e) {
        var n;
        (n = t.prototype.formatOption).call.apply(n, [this].concat(Array.prototype.slice.call(arguments))),
        e.color && !Na(e, "itemStyle.normal.fill") && Fa(e, "itemStyle.normal.fill", e.color)
    },
    e.prototype.update = function () {
        this.globalModel;
        var t = this.barTotal,
        e = this.getAxisModel("x"),
        n = this.getAxisModel("y"),
        i = n && n.get("compare"),
        r = e.startIndex,
        o = e.endIndex,
        a = e.scale,
        s = n.scale,
        l = a.domain(),
        u = s.domain(),
        h = s(u[1] < 0 ? u[1] : u[0] > 0 ? u[0] : 0),
        c = void 0,
        f = void 0,
        d = void 0,
        p = [];
        if ("band" === e.get("type")) {
            var g = a.bandwidth(),
            v = e.barGap,
            y = (1 - v * (t - 1)) / t;
            if (c = (this.get("stack") ? this.stackData : this.getData()).slice(r, o + 1), d = g * y, f = g * (this.barIndex * (v + y)), !this.get("stack") && i) {
                var m = c[0][1];
                c = c.map(function (t) {
                    var e = [].concat(t);
                    return "percent" === i ? e[1] = (e[1] - m) / m : e[1] -= m,
                    e[2] = t,
                    e
                }),
                this.data = c
            }
            D(c, function (t, e) {
                if (t) {
                    t[0];
                    var n = t[1],
                    i = B(n) ? O(n, function (t) {
                        return s(t)
                    }) : s(n);
                    p.push([a(l[e]) + f, i, t, e + r, e])
                }
            }),
            this.bandwidth = a.bandwidth(),
            this.centerOffset = f + d / 2
        } else {
            var x = this.getData();
            d = this.get("rectWidth"),
            f = -d / 2,
            D(x, function (t, i) {
                if (t) {
                    var r = t[0],
                    o = t[1],
                    a = B(o) ? O(o, function (t) {
                        return xp(t, n)
                    }) : xp(o, n),
                    s = [];
                    s[0] = xp(r, e) + f,
                    s[1] = a,
                    isNaN(s[0]) || isNaN(s[0]) || (s[2] = t, s[3] = i, p.push(s))
                }
            })
        }
        this.ticks = O(e.axis.values(), function (t) {
            return l.indexOf(t) + r
        }),
        this.points = p,
        this.y0 = h,
        this.position = e.get("position"),
        this.rectWidth = Math.max(d, .5)
    },
    e.prototype.getSeriesColor = function (t) {
        if (this.get("color"))
            return this.get("color");
        var e = this.get("itemStyle").normal;
        switch (this.get("barType")) {
        case "cuboid":
            e = e.front;
            break;
        case "shadowRect":
            e = e.rect
        }
        var n = e.fill || e.stroke;
        return n ? H(n) ? n.colorStops[0].color : e.fill : void 0
    },
    e
}
(_s);
function xp(t, e) {
    var n = "time" === e.get("type");
    if (n && !(t instanceof Date) && (t = new Date(t)), "number" == typeof t || n) {
        var i = e.getAxisType(),
        r = e.scale,
        o = r.domain();
        switch (i) {
        case "continuous":
            if (t <= o[1] && t >= o[0])
                return r(t);
            break;
        case "ordinal":
            var a = e.startIndex;
            if (t <= e.endIndex && t >= a)
                return r(o[t - a]) + ("band" === e.get("type") ? r.bandwidth() / 2 : 0)
        }
    }
}
function _p() {
    var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},
    e = arguments[1],
    n = e.style,
    i = e.show,
    r = e.formatter,
    o = arguments[2],
    s = arguments[3],
    l = arguments[4];
    if (i) {
        var u = o.data[1],
        h = function (t, e) {
            return a({}, t, {
                seriesIndex: e.index,
                seriesName: e.name
            })
        }
        (o, l),
        c = (W(n) ? n(u, h) : n) || {};
        return S(s.getFormattedText(function (t, e, n) {
                var i = {};
                return D(t, function (t, r) {
                    W(t) ? i[r] = t(e, n) : i[r] = t
                }),
                i
            }
                (a({}, c, {
                        text: r ? r(u, h) : u
                    }), u, h)), t)
    }
    return t
}
function wp(t, e, n, i) {
    var r = t.rectWidth,
    o = t.position,
    s = t.y0,
    l = (t.points, t.data),
    u = t.model,
    h = t.globalModel,
    c = (t.ticks, n[0]),
    f = n[1],
    d = n[2],
    p = n[3],
    g = n[4],
    v = e ? {
        fill: "rgba(0, 0, 0, 0)"
    }
     : i ? S(u.get("itemStyle").emphasis, u.get("itemStyle").normal) : u.get("itemStyle").normal,
    y = u.get("rectMin"),
    m = u.get("rectRadius"),
    x = i ? S(u.get("label").emphasis, u.get("label").normal) : u.get("label").normal,
    _ = W(v) ? v(l[p]) : a({}, v),
    w = u.get("subPixelOptimize"),
    b = u.get("$visualMapIndex"),
    k = W(m) ? m(l[p]) : m;
    if (void 0 !== b) {
        var M = u.globalModel.getComponentByIndex("visualMap", b);
        _.fill = M.getColorStop(d[1], _.fill)
    }
    if ("top" === o || "bottom" === o) {
        var I = void 0,
        A = void 0;
        if (B(f)) {
            var T = Math.min.apply(null, f);
            I = Math.max.apply(null, f) - T,
            A = T
        } else
            I = s - f, A = f;
        e && (_ = _p(_, x, {
                data: l[p],
                dataIndex: p,
                index: g
            }, h, u)),
        Math.abs(I) < y && (I < 0 ? (A += y + I, I = -y) : (A -= y - I, I = y)),
        l[p][1] < 0 && (_ = Ta(_)),
        I < 0 && (A += I, I = -I);
        var C = {
            shape: {
                x: c,
                y: A,
                width: r,
                height: I,
                r: k
            },
            key: p,
            style: _,
            z2: e ? 9 : 1
        };
        return w && (C = aa(C)), {
            attr: C,
            animateFrom: {
                shape: {
                    y: B(f) ? f[0] : s,
                    height: 0
                }
            }
        }
    }
    var z = void 0,
    E = void 0;
    if (B(f)) {
        var L = Math.min.apply(null, f);
        z = Math.max.apply(null, f) - L,
        E = L
    } else
        z = s - f, E = f;
    e && (_ = _p(_, x, {
            data: l[p],
            dataIndex: p
        }, h, u)),
    Math.abs(z) < y && (z < 0 ? (E += y + z, z = -y) : (E -= y - z, z = y)),
    l[p][1] < 0 && (_ = Ta(_)),
    z < 0 && (E += z, z = -z);
    var D = {
        shape: {
            x: E,
            y: c,
            width: z,
            height: r,
            r: k
        },
        key: p,
        style: _,
        z2: e ? 9 : 1
    };
    return w && (D = aa(D)), {
        attr: D,
        animateFrom: {
            shape: {
                x: B(f) ? f[0] : s,
                width: 0
            }
        }
    }
}
mp.type = yp,
mp.emphasisList = ["itemStyle", "label"],
mp.defaultOption = {
    $dataIndex: void 0,
    dataKey: void 0,
    $axisIndex: [0, 1],
    name: void 0,
    rectRadius: void 0,
    subPixelOptimize: !0,
    itemStyle: {
        normal: {},
        emphasis: {}
    },
    label: {
        normal: {
            show: !1,
            formatter: void 0,
            style: {
                position: "inside"
            }
        },
        emphasis: {
            show: !1,
            style: {}
        }
    },
    joinArea: {
        show: !1,
        style: {
            fill: "rgba(12, 55, 256, 0.3)"
        },
        showLabel: !0,
        labelStyle: {},
        formatter: void 0
    },
    large: !1,
    largeThreshold: 2e3,
    barType: "rect",
    selectedList: [],
    enableSelect: !1,
    onZero: !0,
    xLookAngle: 30,
    yLookAngle: 30,
    rectMin: 0,
    rectWidth: 10,
    legendHoverLink: !0,
    stack: void 0,
    overlap: void 0,
    hideZero: !1,
    cursor: "default",
    zlevel: 0,
    z: 2
};
var bp = Array,
Sp = function (t) {
    var e,
    n,
    i;
    if (t && "object" === (void 0 === t ? "undefined" : r(t)) && t.hasOwnProperty("elements")) {
        for (n = t.elements, i = new bp(16), e = 0; e < 16; ++e)
            i[e] = n[e];
        this.elements = i
    } else
        this.elements = new bp([1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1])
};
Sp.prototype.setIdentity = function () {
    var t = this.elements;
    return t[0] = 1,
    t[4] = 0,
    t[8] = 0,
    t[12] = 0,
    t[1] = 0,
    t[5] = 1,
    t[9] = 0,
    t[13] = 0,
    t[2] = 0,
    t[6] = 0,
    t[10] = 1,
    t[14] = 0,
    t[3] = 0,
    t[7] = 0,
    t[11] = 0,
    t[15] = 1,
    this
},
Sp.prototype.set = function (t) {
    var e,
    n,
    i;
    if ((n = t.elements) !== (i = this.elements)) {
        for (e = 0; e < 16; ++e)
            i[e] = n[e];
        return this
    }
},
Sp.prototype.concat = function (t) {
    var e,
    n,
    i,
    r,
    o,
    a,
    s,
    l;
    if (n = this.elements, i = this.elements, n === (r = t.elements))
        for (r = new bp(16), e = 0; e < 16; ++e)
            r[e] = n[e];
    for (e = 0; e < 4; e++)
        o = i[e], a = i[e + 4], s = i[e + 8], l = i[e + 12], n[e] = o * r[0] + a * r[1] + s * r[2] + l * r[3], n[e + 4] = o * r[4] + a * r[5] + s * r[6] + l * r[7], n[e + 8] = o * r[8] + a * r[9] + s * r[10] + l * r[11], n[e + 12] = o * r[12] + a * r[13] + s * r[14] + l * r[15];
    return this
},
Sp.prototype.multiply = Sp.prototype.concat,
Sp.prototype.multiplyVector3 = function (t) {
    var e = this.elements,
    n = t.elements,
    i = new kp,
    r = i.elements;
    return r[0] = n[0] * e[0] + n[1] * e[4] + n[2] * e[8] + e[11],
    r[1] = n[0] * e[1] + n[1] * e[5] + n[2] * e[9] + e[12],
    r[2] = n[0] * e[2] + n[1] * e[6] + n[2] * e[10] + e[13],
    i
},
Sp.prototype.multiplyVector4 = function (t) {
    var e = this.elements,
    n = t.elements,
    i = new Mp,
    r = i.elements;
    return r[0] = n[0] * e[0] + n[1] * e[4] + n[2] * e[8] + n[3] * e[12],
    r[1] = n[0] * e[1] + n[1] * e[5] + n[2] * e[9] + n[3] * e[13],
    r[2] = n[0] * e[2] + n[1] * e[6] + n[2] * e[10] + n[3] * e[14],
    r[3] = n[0] * e[3] + n[1] * e[7] + n[2] * e[11] + n[3] * e[15],
    i
},
Sp.prototype.transpose = function () {
    var t,
    e;
    return e = (t = this.elements)[1],
    t[1] = t[4],
    t[4] = e,
    e = t[2],
    t[2] = t[8],
    t[8] = e,
    e = t[3],
    t[3] = t[12],
    t[12] = e,
    e = t[6],
    t[6] = t[9],
    t[9] = e,
    e = t[7],
    t[7] = t[13],
    t[13] = e,
    e = t[11],
    t[11] = t[14],
    t[14] = e,
    this
},
Sp.prototype.setInverseOf = function (t) {
    var e,
    n,
    i,
    r,
    o;
    if (n = t.elements, i = this.elements, (r = new bp(16))[0] = n[5] * n[10] * n[15] - n[5] * n[11] * n[14] - n[9] * n[6] * n[15] + n[9] * n[7] * n[14] + n[13] * n[6] * n[11] - n[13] * n[7] * n[10], r[4] = -n[4] * n[10] * n[15] + n[4] * n[11] * n[14] + n[8] * n[6] * n[15] - n[8] * n[7] * n[14] - n[12] * n[6] * n[11] + n[12] * n[7] * n[10], r[8] = n[4] * n[9] * n[15] - n[4] * n[11] * n[13] - n[8] * n[5] * n[15] + n[8] * n[7] * n[13] + n[12] * n[5] * n[11] - n[12] * n[7] * n[9], r[12] = -n[4] * n[9] * n[14] + n[4] * n[10] * n[13] + n[8] * n[5] * n[14] - n[8] * n[6] * n[13] - n[12] * n[5] * n[10] + n[12] * n[6] * n[9], r[1] = -n[1] * n[10] * n[15] + n[1] * n[11] * n[14] + n[9] * n[2] * n[15] - n[9] * n[3] * n[14] - n[13] * n[2] * n[11] + n[13] * n[3] * n[10], r[5] = n[0] * n[10] * n[15] - n[0] * n[11] * n[14] - n[8] * n[2] * n[15] + n[8] * n[3] * n[14] + n[12] * n[2] * n[11] - n[12] * n[3] * n[10], r[9] = -n[0] * n[9] * n[15] + n[0] * n[11] * n[13] + n[8] * n[1] * n[15] - n[8] * n[3] * n[13] - n[12] * n[1] * n[11] + n[12] * n[3] * n[9], r[13] = n[0] * n[9] * n[14] - n[0] * n[10] * n[13] - n[8] * n[1] * n[14] + n[8] * n[2] * n[13] + n[12] * n[1] * n[10] - n[12] * n[2] * n[9], r[2] = n[1] * n[6] * n[15] - n[1] * n[7] * n[14] - n[5] * n[2] * n[15] + n[5] * n[3] * n[14] + n[13] * n[2] * n[7] - n[13] * n[3] * n[6], r[6] = -n[0] * n[6] * n[15] + n[0] * n[7] * n[14] + n[4] * n[2] * n[15] - n[4] * n[3] * n[14] - n[12] * n[2] * n[7] + n[12] * n[3] * n[6], r[10] = n[0] * n[5] * n[15] - n[0] * n[7] * n[13] - n[4] * n[1] * n[15] + n[4] * n[3] * n[13] + n[12] * n[1] * n[7] - n[12] * n[3] * n[5], r[14] = -n[0] * n[5] * n[14] + n[0] * n[6] * n[13] + n[4] * n[1] * n[14] - n[4] * n[2] * n[13] - n[12] * n[1] * n[6] + n[12] * n[2] * n[5], r[3] = -n[1] * n[6] * n[11] + n[1] * n[7] * n[10] + n[5] * n[2] * n[11] - n[5] * n[3] * n[10] - n[9] * n[2] * n[7] + n[9] * n[3] * n[6], r[7] = n[0] * n[6] * n[11] - n[0] * n[7] * n[10] - n[4] * n[2] * n[11] + n[4] * n[3] * n[10] + n[8] * n[2] * n[7] - n[8] * n[3] * n[6], r[11] = -n[0] * n[5] * n[11] + n[0] * n[7] * n[9] + n[4] * n[1] * n[11] - n[4] * n[3] * n[9] - n[8] * n[1] * n[7] + n[8] * n[3] * n[5], r[15] = n[0] * n[5] * n[10] - n[0] * n[6] * n[9] - n[4] * n[1] * n[10] + n[4] * n[2] * n[9] + n[8] * n[1] * n[6] - n[8] * n[2] * n[5], 0 === (o = n[0] * r[0] + n[1] * r[4] + n[2] * r[8] + n[3] * r[12]))
        return this;
    for (o = 1 / o, e = 0; e < 16; e++)
        i[e] = r[e] * o;
    return this
},
Sp.prototype.invert = function () {
    return this.setInverseOf(this)
},
Sp.prototype.setOrtho = function (t, e, n, i, r, o) {
    var a,
    s,
    l,
    u;
    if (t === e || n === i || r === o)
        throw "null frustum";
    return s = 1 / (e - t),
    l = 1 / (i - n),
    u = 1 / (o - r),
    (a = this.elements)[0] = 2 * s,
    a[1] = 0,
    a[2] = 0,
    a[3] = 0,
    a[4] = 0,
    a[5] = 2 * l,
    a[6] = 0,
    a[7] = 0,
    a[8] = 0,
    a[9] = 0,
    a[10] = -2 * u,
    a[11] = 0,
    a[12] =  - (e + t) * s,
    a[13] =  - (i + n) * l,
    a[14] =  - (o + r) * u,
    a[15] = 1,
    this
},
Sp.prototype.ortho = function (t, e, n, i, r, o) {
    return this.concat((new Sp).setOrtho(t, e, n, i, r, o))
},
Sp.prototype.setFrustum = function (t, e, n, i, r, o) {
    var a,
    s,
    l,
    u;
    if (t === e || i === n || r === o)
        throw "null frustum";
    if (r <= 0)
        throw "near <= 0";
    if (o <= 0)
        throw "far <= 0";
    return s = 1 / (e - t),
    l = 1 / (i - n),
    u = 1 / (o - r),
    (a = this.elements)[0] = 2 * r * s,
    a[1] = 0,
    a[2] = 0,
    a[3] = 0,
    a[4] = 0,
    a[5] = 2 * r * l,
    a[6] = 0,
    a[7] = 0,
    a[8] = (e + t) * s,
    a[9] = (i + n) * l,
    a[10] =  - (o + r) * u,
    a[11] = -1,
    a[12] = 0,
    a[13] = 0,
    a[14] = -2 * r * o * u,
    a[15] = 0,
    this
},
Sp.prototype.frustum = function (t, e, n, i, r, o) {
    return this.concat((new Sp).setFrustum(t, e, n, i, r, o))
},
Sp.prototype.setPerspective = function (t, e, n, i) {
    var r,
    o,
    a,
    s;
    if (n === i || 0 === e)
        throw "null frustum";
    if (n <= 0)
        throw "near <= 0";
    if (i <= 0)
        throw "far <= 0";
    if (t = Math.PI * t / 180 / 2, 0 === (a = Math.sin(t)))
        throw "null frustum";
    return o = 1 / (i - n),
    s = Math.cos(t) / a,
    (r = this.elements)[0] = s / e,
    r[1] = 0,
    r[2] = 0,
    r[3] = 0,
    r[4] = 0,
    r[5] = s,
    r[6] = 0,
    r[7] = 0,
    r[8] = 0,
    r[9] = 0,
    r[10] =  - (i + n) * o,
    r[11] = -1,
    r[12] = 0,
    r[13] = 0,
    r[14] = -2 * n * i * o,
    r[15] = 0,
    this
},
Sp.prototype.perspective = function (t, e, n, i) {
    return this.concat((new Sp).setPerspective(t, e, n, i))
},
Sp.prototype.setScale = function (t, e, n) {
    var i = this.elements;
    return i[0] = t,
    i[4] = 0,
    i[8] = 0,
    i[12] = 0,
    i[1] = 0,
    i[5] = e,
    i[9] = 0,
    i[13] = 0,
    i[2] = 0,
    i[6] = 0,
    i[10] = n,
    i[14] = 0,
    i[3] = 0,
    i[7] = 0,
    i[11] = 0,
    i[15] = 1,
    this
},
Sp.prototype.scale = function (t, e, n) {
    var i = this.elements;
    return i[0] *= t,
    i[4] *= e,
    i[8] *= n,
    i[1] *= t,
    i[5] *= e,
    i[9] *= n,
    i[2] *= t,
    i[6] *= e,
    i[10] *= n,
    i[3] *= t,
    i[7] *= e,
    i[11] *= n,
    this
},
Sp.prototype.setTranslate = function (t, e, n) {
    var i = this.elements;
    return i[0] = 1,
    i[4] = 0,
    i[8] = 0,
    i[12] = t,
    i[1] = 0,
    i[5] = 1,
    i[9] = 0,
    i[13] = e,
    i[2] = 0,
    i[6] = 0,
    i[10] = 1,
    i[14] = n,
    i[3] = 0,
    i[7] = 0,
    i[11] = 0,
    i[15] = 1,
    this
},
Sp.prototype.translate = function (t, e, n) {
    var i = this.elements;
    return i[12] += i[0] * t + i[4] * e + i[8] * n,
    i[13] += i[1] * t + i[5] * e + i[9] * n,
    i[14] += i[2] * t + i[6] * e + i[10] * n,
    i[15] += i[3] * t + i[7] * e + i[11] * n,
    this
},
Sp.prototype.setRotate = function (t, e, n, i) {
    var r,
    o,
    a,
    s,
    l,
    u,
    h,
    c,
    f,
    d,
    p,
    g;
    return t = Math.PI * t / 180,
    r = this.elements,
    o = Math.sin(t),
    a = Math.cos(t),
    0 !== e && 0 === n && 0 === i ? (e < 0 && (o = -o), r[0] = 1, r[4] = 0, r[8] = 0, r[12] = 0, r[1] = 0, r[5] = a, r[9] = -o, r[13] = 0, r[2] = 0, r[6] = o, r[10] = a, r[14] = 0, r[3] = 0, r[7] = 0, r[11] = 0, r[15] = 1) : 0 === e && 0 !== n && 0 === i ? (n < 0 && (o = -o), r[0] = a, r[4] = 0, r[8] = o, r[12] = 0, r[1] = 0, r[5] = 1, r[9] = 0, r[13] = 0, r[2] = -o, r[6] = 0, r[10] = a, r[14] = 0, r[3] = 0, r[7] = 0, r[11] = 0, r[15] = 1) : 0 === e && 0 === n && 0 !== i ? (i < 0 && (o = -o), r[0] = a, r[4] = -o, r[8] = 0, r[12] = 0, r[1] = o, r[5] = a, r[9] = 0, r[13] = 0, r[2] = 0, r[6] = 0, r[10] = 1, r[14] = 0, r[3] = 0, r[7] = 0, r[11] = 0, r[15] = 1) : (1 !== (s = Math.sqrt(e * e + n * n + i * i)) && (e *= l = 1 / s, n *= l, i *= l), u = 1 - a, h = e * n, c = n * i, f = i * e, d = e * o, p = n * o, g = i * o, r[0] = e * e * u + a, r[1] = h * u + g, r[2] = f * u - p, r[3] = 0, r[4] = h * u - g, r[5] = n * n * u + a, r[6] = c * u + d, r[7] = 0, r[8] = f * u + p, r[9] = c * u - d, r[10] = i * i * u + a, r[11] = 0, r[12] = 0, r[13] = 0, r[14] = 0, r[15] = 1),
    this
},
Sp.prototype.rotate = function (t, e, n, i) {
    return this.concat((new Sp).setRotate(t, e, n, i))
},
Sp.prototype.setLookAt = function (t, e, n, i, r, o, a, s, l) {
    var u,
    h,
    c,
    f,
    d,
    p,
    g,
    v,
    y,
    m,
    x,
    _;
    return h = i - t,
    c = r - e,
    f = o - n,
    p = (c *= d = 1 / Math.sqrt(h * h + c * c + f * f)) * l - (f *= d) * s,
    g = f * a - (h *= d) * l,
    v = h * s - c * a,
    m = (g *= y = 1 / Math.sqrt(p * p + g * g + v * v)) * f - (v *= y) * c,
    x = v * h - (p *= y) * f,
    _ = p * c - g * h,
    (u = this.elements)[0] = p,
    u[1] = m,
    u[2] = -h,
    u[3] = 0,
    u[4] = g,
    u[5] = x,
    u[6] = -c,
    u[7] = 0,
    u[8] = v,
    u[9] = _,
    u[10] = -f,
    u[11] = 0,
    u[12] = 0,
    u[13] = 0,
    u[14] = 0,
    u[15] = 1,
    this.translate(-t, -e, -n)
},
Sp.prototype.lookAt = function (t, e, n, i, r, o, a, s, l) {
    return this.concat((new Sp).setLookAt(t, e, n, i, r, o, a, s, l))
},
Sp.prototype.dropShadow = function (t, e) {
    var n = new Sp,
    i = n.elements,
    r = t[0] * e[0] + t[1] * e[1] + t[2] * e[2] + t[3] * e[3];
    return i[0] = r - e[0] * t[0],
    i[1] = -e[1] * t[0],
    i[2] = -e[2] * t[0],
    i[3] = -e[3] * t[0],
    i[4] = -e[0] * t[1],
    i[5] = r - e[1] * t[1],
    i[6] = -e[2] * t[1],
    i[7] = -e[3] * t[1],
    i[8] = -e[0] * t[2],
    i[9] = -e[1] * t[2],
    i[10] = r - e[2] * t[2],
    i[11] = -e[3] * t[2],
    i[12] = -e[0] * t[3],
    i[13] = -e[1] * t[3],
    i[14] = -e[2] * t[3],
    i[15] = r - e[3] * t[3],
    this.concat(n)
},
Sp.prototype.dropShadowDirectionally = function (t, e, n, i, r, o, a, s, l) {
    var u = i * t + r * e + o * n;
    return this.dropShadow([t, e, n, -u], [a, s, l, 0])
};
var kp = function (t) {
    var e = new bp(3);
    t && "object" === (void 0 === t ? "undefined" : r(t)) && (e[0] = t[0], e[1] = t[1], e[2] = t[2]),
    this.elements = e
};
kp.prototype.normalize = function () {
    var t = this.elements,
    e = t[0],
    n = t[1],
    i = t[2],
    r = Math.sqrt(e * e + n * n + i * i);
    return r ? 1 == r ? this : (r = 1 / r, t[0] = e * r, t[1] = n * r, t[2] = i * r, this) : (t[0] = 0, t[1] = 0, t[2] = 0, this)
};
var Mp = function (t) {
    var e = new bp(4);
    t && "object" === (void 0 === t ? "undefined" : r(t)) && (e[0] = t[0], e[1] = t[1], e[2] = t[2], e[3] = t[3]),
    this.elements = e
},
Ip = function (t) {
    function e(n) {
        o(this, e);
        var i = u(this, t.apply(this, arguments));
        return i.name = n.name,
        i.group.name = n.name,
        i.dataIndex = n.dataIndex,
        i.group.dataIndex = n.dataIndex,
        i.seriesIndex = n.seriesIndex,
        i.group.seriesIndex = n.seriesIndex,
        delete n.name,
        delete n.dataIndex,
        delete n.seriesIndex,
        i
    }
    return s(e, t),
    e.prototype.attr = function (t) {
        var e = this._shapeMap;
        D(t, function (t, n) {
            return e[n] && e[n].attr(t)
        })
    },
    e.prototype.animateTo = function (t, e, n, i, r) {
        G(n) ? (r = i, i = n, n = 0) : W(i) ? (r = i, i = "linear", n = 0) : W(n) ? (r = n, n = 0) : W(e) ? (r = e, e = 500) : e || (e = 500);
        var o = this._shapeMap;
        D(t, function (t, a) {
            return o[a] && o[a].animateTo(t, e, n, i, r)
        })
    },
    e.prototype.setStyle = function (t) {
        var e = this._shapeMap;
        D(t, function (t, n) {
            return e[n] && e[n].setStyle(t)
        })
    },
    e.prototype.useStyle = function (t) {
        var e = this._shapeMap;
        D(t, function (t, n) {
            return e[n] && e[n].useStyle(t)
        })
    },
    e.prototype.on = function () {
        var t;
        (t = this.group).on.apply(t, arguments)
    },
    e.prototype.off = function () {
        var t;
        (t = this.group).off.apply(t, arguments)
    },
    e.prototype.one = function () {
        var t;
        (t = this.group).one.apply(t, arguments)
    },
    e.prototype.trigger = function () {
        var t;
        (t = this.group).trigger.apply(t, arguments)
    },
    e
}
(Ba),
Ap = function (t) {
    function e(n) {
        o(this, e);
        var i = u(this, t.apply(this, arguments));
        return D(n, function (t, e) {
            i.setShape(e, ko, t)
        }),
        i
    }
    return s(e, t),
    e
}
(Ip);
function Tp(t, e) {
    return t[e]
}
var Cp = Qr.extend({
    type: "candlestick",
    shape: {
        x: 0,
        open: 0,
        close: 0,
        low: 0,
        hight: 0,
        width: 0
    },
    style: {
        lineWidth: 1
    },
    buildPath: function (t, e) {
        var n = e.x,
        i = e.open,
        r = e.close,
        o = e.low,
        a = e.high,
        s = e.width,
        l = .5 + (n + s / 2 >> 0);
        if (s > .5) {
            var u = Math.max(i, r),
            h = Math.min(i, r);
            t.rect(n, h, s, u - h),
            t.moveTo(l, o),
            t.lineTo(l, u),
            t.moveTo(l, h),
            t.lineTo(l, a)
        } else
            t.rect(n, a, s, a - o)
    }
});
var zp = Qr.extend({
    type: "candlestick",
    shape: {
        x: 0,
        low: 0,
        q1: 0,
        median: 0,
        q3: 0,
        high: 0
    },
    style: {
        fill: "white",
        stroke: "#e93030"
    },
    buildPath: function (t, e) {
        var n = e.x,
        i = e.low,
        r = e.q1,
        o = e.median,
        a = e.q3,
        s = e.high,
        l = e.width,
        u = n,
        h = u + l / 2,
        c = n + l;
        t.moveTo(u, i),
        t.lineTo(c, i),
        t.moveTo(h, i),
        t.lineTo(h, r),
        t.rect(u, r, l, a - r),
        t.moveTo(u, o),
        t.lineTo(c, o),
        t.moveTo(h, a),
        t.lineTo(h, s),
        t.moveTo(u, s),
        t.lineTo(c, s)
    }
});
var Ep = {
    rect: function (t, e) {
        t.rectWidth,
        t.position,
        t.y0;
        var n = t.points,
        i = t.data,
        r = t.model,
        o = (t.globalModel, t.ticks),
        a = e ? {
            fill: "rgba(0, 0, 0, 0)"
        }
         : r.get("itemStyle").normal,
        s = (r.get("rectMin"), r.get("rectRadius"), r.get("hideZero")),
        l = r.get("label").normal,
        u = [],
        h = [];
        return void 0 === a.lineWidth && (a.lineWidth = 1),
        D(n, function (n) {
            n[0],
            n[1];
            var r = n[2],
            a = n[3];
            if (!e || ("all" === l.show || l.show && o.indexOf(r[0]) > -1) && (!s || s && 0 !== i[a][1])) {
                var c = wp(t, e, n);
                u.push(c.attr),
                h.push(c.animateFrom)
            }
        }), {
            attrs: u,
            animateFroms: h,
            animateList: {
                shape: {
                    x: 0,
                    y: 0,
                    width: 0,
                    height: 0
                }
            },
            Shape: Co
        }
    },
    cuboid: function (t) {
        var e = t.rectWidth,
        n = t.position,
        i = t.y0,
        r = t.points,
        o = t.model,
        a = o.get("itemStyle").normal,
        s = o.get("xLookAngle") / 180 * Math.PI,
        l = o.get("yLookAngle") / 180 * Math.PI,
        u = !!o.get("stack"),
        h = [],
        c = [];
        if ("top" === n || "bottom" === n) {
            var f = Tp(a, "front"),
            d = Tp(a, "left"),
            p = Tp(a, "top"),
            g = new Sp;
            g.setLookAt(Math.tan(s), Math.tan(l), 1, 0, 0, 0, 0, 1, 0);
            var v = [-e / 4, e / 4 * 3],
            y = void 0;
            y = Math.tan(s) > 0 ? [0, -e] : [e, 0];
            var m = [new Sp(g).multiplyVector3(new kp([v[0], 0, y[1]])).elements.slice(0, 2), new Sp(g).multiplyVector3(new kp([v[1], 0, y[1]])).elements.slice(0, 2), new Sp(g).multiplyVector3(new kp([v[0], 0, y[0]])).elements.slice(0, 2), new Sp(g).multiplyVector3(new kp([v[1], 0, y[0]])).elements.slice(0, 2)];
            D(r, function (t, e) {
                for (var n = t[0], r = t[1], o = {}, a = {}, g = [], v = [], y = u ? r[0] : i, x = u ? r[1] : r, _ = 0; _ < m.length; _++) {
                    var w = m[_][0] + n;
                    g.push([w, m[_][1] + y]),
                    g.push([w, m[_][1] + x]),
                    v.push([w, m[_][1] + y])
                }
                o.front = {
                    shape: {
                        points: b([g[0], g[2], g[3], g[1]])
                    },
                    style: f
                },
                a.front = {
                    shape: {
                        points: b([v[0], v[1], v[1], v[0]])
                    }
                };
                var S = [];
                Math.tan(s) > 0 ? (S = [g[0], g[4], g[5], g[1]], a.left = {
                        shape: {
                            points: b([v[0], v[2], v[2], v[0]])
                        }
                    }) : (S = [g[2], g[6], g[7], g[3]], a.left = {
                        shape: {
                            points: b([v[1], v[3], v[3], v[1]])
                        }
                    }),
                o.left = {
                    shape: {
                        points: b(S)
                    },
                    style: d
                };
                var k = [];
                k = Math.tan(l) > 0 && x < y || Math.tan(l) < 0 && x > y ? [g[1], g[3], g[7], g[5]] : [g[0], g[2], g[6], g[4]],
                o.top = {
                    shape: {
                        points: b(k)
                    },
                    style: p
                },
                a.top = {
                    shape: {
                        points: b([v[0], v[1], v[3], v[2]])
                    }
                },
                h.push(o),
                c.push(a)
            })
        }
        return {
            attrs: h,
            animateFroms: c,
            Shape: Ap
        }
    },
    candlestick: function (t) {
        var e = t.rectWidth,
        n = t.position,
        i = (t.y0, t.points),
        r = t.data,
        o = t.model.get("itemStyle").normal,
        a = [],
        s = [];
        return "top" !== n && "bottom" !== n || D(i, function (t) {
            var n = t[0],
            i = t[1],
            l = i[0],
            u = i[1],
            h = i[2],
            c = i[3],
            f = (t[2], t[3]);
            a.push({
                shape: {
                    x: n,
                    open: l,
                    close: u,
                    low: h,
                    high: c,
                    width: e
                },
                style: W(o) ? o(r[f]) : o
            }),
            s.push({
                shape: {
                    open: l,
                    close: l,
                    low: l,
                    high: l
                }
            })
        }), {
            attrs: a,
            animateFroms: s,
            animateList: {
                shape: {
                    open: 0,
                    close: 0,
                    low: 0,
                    high: 0,
                    width: 0
                }
            },
            Shape: Cp
        }
    },
    shadowRect: function (t) {
        var e = t.rectWidth,
        n = t.position,
        i = t.y0,
        r = t.points,
        o = t.model,
        a = o.get("itemStyle").normal,
        s = o.get("xLookAngle") / 180 * Math.PI,
        l = o.get("yLookAngle") / 180 * Math.PI,
        u = !!o.get("stack"),
        h = [],
        c = [];
        if ("top" === n || "bottom" === n) {
            var f = a.rect,
            d = a.shadow,
            p = new Sp;
            p.setLookAt(Math.tan(s), Math.tan(l), 1, 0, 0, 0, 0, 1, 0);
            var g = [0, e],
            v = [2 * e, 0],
            y = [new Sp(p).multiplyVector3(new kp([g[0], 0, v[1]])).elements.slice(0, 2), new Sp(p).multiplyVector3(new kp([g[1], 0, v[1]])).elements.slice(0, 2), new Sp(p).multiplyVector3(new kp([g[0], 0, v[0]])).elements.slice(0, 2), new Sp(p).multiplyVector3(new kp([g[1], 0, v[0]])).elements.slice(0, 2)];
            D(r, function (t, e) {
                for (var n = t[0], r = t[1], a = {}, s = {}, l = [], p = [], g = u ? r[0] : i, v = u ? r[1] : r, m = 0; m < y.length; m++) {
                    var x = y[m][0] + n;
                    l.push([x, y[m][1] + g]),
                    l.push([x, y[m][1] + v]),
                    p.push([x, y[m][1] + g])
                }
                var _;
                (a.rect = {
                        shape: {
                            points: b([l[0], l[2], l[3], l[1]])
                        },
                        style: f,
                        z2: 2
                    }, s.rect = {
                        shape: {
                            points: b([p[0], p[1], p[1], p[0]])
                        }
                    }, u && 0 !== o.stackIndex) || (_ = [l[0], l[2], l[6], l[4]], a.shadow = {
                        shape: {
                            points: b(_)
                        },
                        style: d,
                        z2: 0
                    }, s.shadow = {
                        shape: {
                            points: b([p[0], p[1], p[3], p[2]])
                        }
                    });
                h.push(a),
                c.push(s)
            })
        }
        return {
            attrs: h,
            animateFroms: c,
            Shape: Ap
        }
    },
    boxplot: function (t) {
        var e = t.rectWidth,
        n = t.position,
        i = (t.y0, t.points),
        r = t.data,
        o = t.model.get("itemStyle").normal,
        a = [],
        s = [];
        return "top" !== n && "bottom" !== n || D(i, function (t) {
            var n = t[0],
            i = t[1],
            l = i[0],
            u = i[1],
            h = i[2],
            c = i[3],
            f = i[4],
            d = (t[2], t[3]);
            a.push({
                shape: {
                    x: n,
                    low: l,
                    q1: u,
                    median: h,
                    q3: c,
                    high: f,
                    width: e
                },
                style: W(o) ? o(r[d]) : o
            }),
            s.push({
                shape: {
                    low: h,
                    q1: h,
                    median: h,
                    q3: h,
                    high: h
                }
            })
        }), {
            attrs: a,
            animateFroms: s,
            animateList: {
                shape: {
                    x: 0,
                    low: 0,
                    q1: 0,
                    median: 0,
                    q3: 0,
                    high: 0,
                    width: 0
                }
            },
            Shape: zp
        }
    },
    waterfall: function (t) {
        var e = t.rectWidth,
        n = t.position,
        i = (t.y0, t.points),
        r = t.data,
        o = t.model.get("itemStyle").normal,
        a = [],
        s = [];
        return "top" !== n && "bottom" !== n || D(i, function (t) {
            var n = t[0],
            i = t[1],
            l = i[0],
            u = i[1],
            h = (t[2], t[3]);
            a.push(aa({
                    shape: {
                        x: n,
                        y: u,
                        width: e,
                        height: l - u
                    },
                    style: W(o) ? o(r[h]) : o
                })),
            s.push({
                shape: {
                    height: 0
                }
            })
        }), {
            attrs: a,
            animateFroms: s,
            animateList: {
                shape: {
                    x: 0,
                    y: 0,
                    width: 0,
                    height: 0
                }
            },
            Shape: Co
        }
    }
},
Lp = function (t) {
    function e() {
        var n,
        i;
        o(this, e);
        for (var r = arguments.length, a = Array(r), s = 0; s < r; s++)
            a[s] = arguments[s];
        return n = i = u(this, t.call.apply(t, [this].concat(a))),
        i.type = yp,
        u(i, n)
    }
    return s(e, t),
    e.prototype.renderAll = function (t, e, n) {
        var i = this,
        r = t.get("barType"),
        o = (t.get("itemStyle").normal, t.get("animation")),
        s = t.get("animationDuration"),
        l = t.get("animationEasing"),
        u = t.get("cursor"),
        h = t.get("joinArea"),
        c = t.getData(),
        f = t.points,
        d = t.y0,
        p = t.rectWidth,
        g = t.position,
        v = t.ticks;
        if (Ep[r]) {
            var y = Ep[r]({
                rectWidth: p,
                position: g,
                y0: d,
                points: f,
                data: c,
                model: t,
                globalModel: e,
                ticks: v
            }),
            m = y.attrs,
            x = y.animateFroms,
            _ = y.animateList,
            w = y.animateLeave,
            S = y.Shape;
            if (D(m, function (e, n) {
                    e.dataIndex = e.key = f[n][3],
                    e.seriesIndex = t.index,
                    e.cursor = u
                }), this.setShapeGroup("rectGroup", S, m, {
                    animation: o,
                    duration: s,
                    easing: l,
                    animateFrom: x,
                    animateList: _,
                    animateLeave: w
                }, void 0, function (e) {
                    e.on("click", function (e) {
                        var i = t.get("enableSelect");
                        if ("multiple" === i) {
                            var r = t.get("selectedList"),
                            o = r.indexOf(this.dataIndex);
                            o > -1 ? (r.splice(o, 1), t.set("selectedList", r)) : (r.push(this.dataIndex), t.set("selectedList", r)),
                            n.dispatchAction(t, $a.selectedListChange, r)
                        } else
                            i && (t.set("selectedList", [this.dataIndex]), n.dispatchAction(t, $a.selectedListChange, [this.dataIndex]))
                    }),
                    e.on("dblclick", function (e) {
                        t.get("selectedList");
                        n.dispatchAction(t, $a.dblClick, this.dataIndex)
                    })
                }), h.show) {
                for (var k = [], M = [], I = t.bandwidth, A = 1; A < f.length; A++) {
                    var T = f[A],
                    C = f[A - 1],
                    z = h.style,
                    E = C[0] + I;
                    if (h.showLabel) {
                        var L = T[2][1] - C[2][1],
                        O = W(h.labelStyle) ? h.labelStyle(L, T, C) : b(h.labelStyle);
                        z = a({}, z, {
                            text: h.formatter ? h.formatter(L, T, C) : L
                        }, e.getFormattedText(O))
                    }
                    k.push({
                        shape: {
                            points: [[E, C[1]], [T[0], T[1]], [T[0], d], [E, d]]
                        },
                        style: z,
                        key: T[3],
                        cursor: u
                    }),
                    M.push({
                        shape: {
                            points: [[E, d], [E, d], [E, d], [E, d]]
                        }
                    })
                }
                this.setShapeGroup("joinAreaGroup", ko, k, {
                    animation: o,
                    duration: s,
                    easing: l,
                    animateFrom: M
                })
            }
            if (t.get("label").normal.show) {
                var P = Ep.rect({
                    rectWidth: p,
                    position: g,
                    y0: d,
                    points: f,
                    data: c,
                    model: t,
                    globalModel: e,
                    ticks: v
                }, !0),
                F = P.attrs,
                N = P.animateFroms,
                R = P.animateList,
                B = P.Shape;
                D(F, function (t, e) {
                    t.silent = !0
                }),
                this.setShapeGroup("textRectGroup", B, F, {
                    animation: o,
                    duration: s,
                    easing: l,
                    animateFrom: N,
                    animateList: R,
                    animateLeave: w
                })
            }
            var G = this.getShape("rectGroup"),
            H = t.get("selectedList");
            G.eachChild(function (r) {
                ~H.indexOf(r.dataIndex) && i.highlight(t, e, n, {
                    index: r.dataIndex
                })
            })
        }
    },
    e.prototype.renderLarge = function (t, e, n) {
        var i = t.points,
        r = t.y0,
        o = t.rectWidth,
        a = t.get("itemStyle").normal;
        this.setShape("largeRects", vp, {
            shape: {
                points: i,
                y0: r,
                rectWidth: o
            },
            style: a,
            silent: !0
        })
    },
    e.prototype.render = function (t, e, n) {
        var i = t.points;
        t.get("large") && i.length > t.get("largeThreshold") ? (this.removeShape("rectGroup"), this.renderLarge(t, e, n)) : (this.removeShape("largeRects"), this.renderAll(t, e, n))
    },
    e.prototype.highlight = function (t, e, n, i) {
        var r = this,
        o = (t.getAxisModel("x"), t.get("itemStyle").emphasis),
        a = t.get("label").emphasis;
        if (i) {
            var s = i.index,
            l = this.getShape("rectGroup", s);
            l && Dp(this, t, e, l, o, a)
        } else {
            this.getShape("rectGroup").eachChild(function (n) {
                Dp(r, t, e, n, o, a)
            })
        }
    },
    e.prototype.downplay = function (t, e, n, i) {
        var r = this,
        o = (t.getAxisModel("x"), t.get("itemStyle").normal),
        a = t.get("label").normal,
        s = t.get("selectedList");
        if (i) {
            var l = i.index,
            u = this.getShape("rectGroup", l);
            u && !~s.indexOf(u.dataIndex) && Op(this, t, e, u, o, a)
        } else {
            this.getShape("rectGroup").eachChild(function (n) {
                !~s.indexOf(n.dataIndex) && Op(r, t, e, n, o, a)
            })
        }
    },
    e
}
(cs);
function Dp(t, e, n, i, r, o) {
    var a = i.dataIndex,
    s = e.getData(a),
    l = W(r) ? r(s) : r;
    if (i.groupShape && (i = i.groupShape), i.setStyle(s[1] < 0 ? Ta(l) : l), o.show) {
        e.get("label").normal;
        var u = t.getShape("textRectGroup");
        u || (u = t.setShapeGroup("textRectGroup", Co, []));
        var h = e.points,
        c = e.y0,
        f = e.rectWidth,
        d = e.position,
        p = e.ticks,
        g = F(h, function (t) {
            return t[3] === a
        });
        if (g) {
            var v = t.getShape("textRectGroup", i.dataIndex),
            y = wp({
                rectWidth: f,
                position: d,
                y0: c,
                points: h,
                data: e.getData(),
                model: e,
                globalModel: n,
                ticks: p
            }, !0, g, !0),
            m = y.attr;
            y.animateFrom;
            v ? v.attr(m) : (m.silent = !0, m.z = e.get("z"), m.name = a, v = new Co(m), u.add(v))
        }
    }
}
function Op(t, e, n, i, r, o) {
    var s = i.dataIndex,
    l = e.getData(s),
    u = W(r) ? r(l) : a({}, r),
    h = t.getShape("textRectGroup", s),
    c = e.get("$visualMapIndex");
    if (void 0 !== c) {
        var f = e.globalModel.getComponentByIndex("visualMap", c);
        u.fill = f.getColorStop(l[1], u.fill)
    }
    if (i.groupShape && (i = i.groupShape), i.useStyle(l[1] < 0 ? Ta(u) : u), !o.show || "all" !== o.show && -1 === e.ticks.indexOf(l[0]))
        h && t.getShape("textRectGroup").remove(h);
    else {
        var d = e.points,
        p = e.y0,
        g = e.rectWidth,
        v = e.position,
        y = e.ticks,
        m = F(d, function (t) {
            return t[3] === s
        });
        if (m && h) {
            var x = wp({
                rectWidth: g,
                position: v,
                y0: p,
                points: d,
                data: e.getData(),
                model: e,
                globalModel: n,
                ticks: y
            }, !0, m, !1),
            _ = x.attr;
            x.animateFrom;
            h.attr(_)
        }
    }
}
Lp.type = yp,
dl(mp, Lp),
dl(rp, ap);
var Pp = Array.prototype.slice;
function Fp(t) {
    return t.source
}
function Np(t) {
    return t.target
}
function Rp(t) {
    var e = Fp,
    n = Np,
    i = Xo,
    r = Zo,
    o = null;
    function a() {
        var a,
        s = Pp.call(arguments),
        l = e.apply(this, s),
        u = n.apply(this, s);
        if (o || (o = a = qo()), t(o, +i.apply(this, (s[0] = l, s)), +r.apply(this, s), +i.apply(this, (s[0] = u, s)), +r.apply(this, s)), a)
            return o = null, a + "" || null
    }
    return a.source = function (t) {
        return arguments.length ? (e = t, a) : e
    },
    a.target = function (t) {
        return arguments.length ? (n = t, a) : n
    },
    a.x = function (t) {
        return arguments.length ? (i = "function" == typeof t ? t : Yo(+t), a) : i
    },
    a.y = function (t) {
        return arguments.length ? (r = "function" == typeof t ? t : Yo(+t), a) : r
    },
    a.context = function (t) {
        return arguments.length ? (o = null == t ? null : t, a) : o
    },
    a
}
function Bp(t, e, n, i, r) {
    t.moveTo(e, n),
    t.bezierCurveTo(e = (e + i) / 2, n, e, r, i, r)
}
function Wp(t, e, n, i, r) {
    t.moveTo(e, n),
    t.bezierCurveTo(e, n = (n + r) / 2, i, n, i, r)
}
var Gp = Qr.extend({
    type: "d3-link",
    shape: {
        source: void 0,
        target: void 0,
        x: void 0,
        y: void 0,
        orient: "horizontal"
    },
    style: {
        stroke: null,
        fill: null
    },
    updateLink: function () {
        var t = this.shape.orient;
        this.link || ("straightLine" === t ? (this.link = Ko(), this.link.x(function (t) {
                    return t[0]
                }).y(function (t) {
                    return t[1]
                })) : this.link = Rp("horizontal" === t ? Bp : Wp))
    },
    buildPath: function (t, e) {
        var n = this.shape,
        i = n.source,
        r = n.target,
        o = n.orient;
        this.updateLink(),
        "straightLine" === o ? this.link.context(t)([i, r]) : this.link.context(t)({
            source: i,
            target: r
        })
    }
});
function Hp(t, e) {
    return t < e ? -1 : t > e ? 1 : t >= e ? 0 : NaN
}
var jp,
Up;
1 === (jp = Hp).length && (Up = jp, jp = function (t, e) {
    return Hp(Up(t), e)
});
function qp(t, e) {
    var n,
    i,
    r = t.length,
    o = -1;
    if (null == e) {
        for (; ++o < r; )
            if (null != (n = t[o]) && n >= n)
                for (i = n; ++o < r; )
                    null != (n = t[o]) && i > n && (i = n)
    } else
        for (; ++o < r; )
            if (null != (n = e(t[o], o, t)) && n >= n)
                for (i = n; ++o < r; )
                    null != (n = e(t[o], o, t)) && i > n && (i = n);
    return i
}
function Yp(t, e) {
    var n,
    i = t.length,
    r = -1,
    o = 0;
    if (null == e)
        for (; ++r < i; )
            (n = +t[r]) && (o += n);
    else
        for (; ++r < i; )
            (n = +e(t[r], r, t)) && (o += n);
    return o
}
function Vp() {}
function $p(t, e) {
    var n = new Vp;
    if (t instanceof Vp)
        t.each(function (t, e) {
            n.set(e, t)
        });
    else if (Array.isArray(t)) {
        var i,
        r = -1,
        o = t.length;
        if (null == e)
            for (; ++r < o; )
                n.set(r, t[r]);
        else
            for (; ++r < o; )
                n.set(e(i = t[r], r, t), i)
    } else if (t)
        for (var a in t)
            n.set(a, t[a]);
    return n
}
function Xp() {
    var t,
    e,
    n,
    i = [],
    r = [];
    function o(n, r, a, s) {
        if (r >= i.length)
            return null != t && n.sort(t), null != e ? e(n) : n;
        for (var l, u, h, c = -1, f = n.length, d = i[r++], p = $p(), g = a(); ++c < f; )
            (h = p.get(l = d(u = n[c]) + "")) ? h.push(u) : p.set(l, [u]);
        return p.each(function (t, e) {
            s(g, e, o(t, r, a, s))
        }),
        g
    }
    return n = {
        object: function (t) {
            return o(t, 0, Zp, Kp)
        },
        map: function (t) {
            return o(t, 0, Qp, Jp)
        },
        entries: function (t) {
            return function t(n, o) {
                if (++o > i.length)
                    return n;
                var a,
                s = r[o - 1];
                return null != e && o >= i.length ? a = n.entries() : (a = [], n.each(function (e, n) {
                            a.push({
                                key: n,
                                values: t(e, o)
                            })
                        })),
                null != s ? a.sort(function (t, e) {
                    return s(t.key, e.key)
                }) : a
            }
            (o(t, 0, Qp, Jp), 0)
        },
        key: function (t) {
            return i.push(t),
            n
        },
        sortKeys: function (t) {
            return r[i.length - 1] = t,
            n
        },
        sortValues: function (e) {
            return t = e,
            n
        },
        rollup: function (t) {
            return e = t,
            n
        }
    }
}
function Zp() {
    return {}
}
function Kp(t, e, n) {
    t[e] = n
}
function Qp() {
    return $p()
}
function Jp(t, e, n) {
    t.set(e, n)
}
function tg() {}
Vp.prototype = $p.prototype = {
    constructor: Vp,
    has: function (t) {
        return "$" + t in this
    },
    get: function (t) {
        return this["$" + t]
    },
    set: function (t, e) {
        return this["$" + t] = e,
        this
    },
    remove: function (t) {
        var e = "$" + t;
        return e in this && delete this[e]
    },
    clear: function () {
        for (var t in this)
            "$" === t[0] && delete this[t]
    },
    keys: function () {
        var t = [];
        for (var e in this)
            "$" === e[0] && t.push(e.slice(1));
        return t
    },
    values: function () {
        var t = [];
        for (var e in this)
            "$" === e[0] && t.push(this[e]);
        return t
    },
    entries: function () {
        var t = [];
        for (var e in this)
            "$" === e[0] && t.push({
                key: e.slice(1),
                value: this[e]
            });
        return t
    },
    size: function () {
        var t = 0;
        for (var e in this)
            "$" === e[0] && ++t;
        return t
    },
    empty: function () {
        for (var t in this)
            if ("$" === t[0])
                return !1;
        return !0
    },
    each: function (t) {
        for (var e in this)
            "$" === e[0] && t(this[e], e.slice(1), this)
    }
};
var eg = $p.prototype;
function ng(t) {
    return t.target.depth
}
function ig(t, e) {
    return t.sourceLinks.length ? t.depth : e - 1
}
function rg(t) {
    return function () {
        return t
    }
}
function og(t, e) {
    return sg(t.source, e.source) || t.index - e.index
}
function ag(t, e) {
    return sg(t.target, e.target) || t.index - e.index
}
function sg(t, e) {
    return t.y0 - e.y0
}
function lg(t) {
    return t.value
}
function ug(t) {
    return (t.y0 + t.y1) / 2
}
function hg(t) {
    return ug(t.source) * t.value
}
function cg(t) {
    return ug(t.target) * t.value
}
function fg(t) {
    return t.index
}
function dg(t) {
    return t.nodes
}
function pg(t) {
    return t.links
}
function gg(t, e) {
    var n = t.get(e);
    if (!n)
        throw new Error("missing: " + e);
    return n
}
tg.prototype = function (t, e) {
    var n = new tg;
    if (t instanceof tg)
        t.each(function (t) {
            n.add(t)
        });
    else if (t) {
        var i = -1,
        r = t.length;
        if (null == e)
            for (; ++i < r; )
                n.add(t[i]);
        else
            for (; ++i < r; )
                n.add(e(t[i], i, t))
    }
    return n
}
.prototype = {
    constructor: tg,
    has: eg.has,
    add: function (t) {
        return this["$" + (t += "")] = t,
        this
    },
    remove: eg.remove,
    clear: eg.clear,
    values: eg.keys,
    size: eg.size,
    empty: eg.empty,
    each: eg.each
};
var vg = Math.PI,
yg = 2 * vg,
mg = yg - 1e-6;
function xg() {
    this._x0 = this._y0 = this._x1 = this._y1 = null,
    this._ = ""
}
function _g() {
    return new xg
}
function wg(t) {
    return function () {
        return t
    }
}
xg.prototype = _g.prototype = {
    constructor: xg,
    moveTo: function (t, e) {
        this._ += "M" + (this._x0 = this._x1 = +t) + "," + (this._y0 = this._y1 = +e)
    },
    closePath: function () {
        null !== this._x1 && (this._x1 = this._x0, this._y1 = this._y0, this._ += "Z")
    },
    lineTo: function (t, e) {
        this._ += "L" + (this._x1 = +t) + "," + (this._y1 = +e)
    },
    quadraticCurveTo: function (t, e, n, i) {
        this._ += "Q" + +t + "," + +e + "," + (this._x1 = +n) + "," + (this._y1 = +i)
    },
    bezierCurveTo: function (t, e, n, i, r, o) {
        this._ += "C" + +t + "," + +e + "," + +n + "," + +i + "," + (this._x1 = +r) + "," + (this._y1 = +o)
    },
    arcTo: function (t, e, n, i, r) {
        t = +t,
        e = +e,
        n = +n,
        i = +i,
        r = +r;
        var o = this._x1,
        a = this._y1,
        s = n - t,
        l = i - e,
        u = o - t,
        h = a - e,
        c = u * u + h * h;
        if (r < 0)
            throw new Error("negative radius: " + r);
        if (null === this._x1)
            this._ += "M" + (this._x1 = t) + "," + (this._y1 = e);
        else if (c > 1e-6)
            if (Math.abs(h * s - l * u) > 1e-6 && r) {
                var f = n - o,
                d = i - a,
                p = s * s + l * l,
                g = f * f + d * d,
                v = Math.sqrt(p),
                y = Math.sqrt(c),
                m = r * Math.tan((vg - Math.acos((p + c - g) / (2 * v * y))) / 2),
                x = m / y,
                _ = m / v;
                Math.abs(x - 1) > 1e-6 && (this._ += "L" + (t + x * u) + "," + (e + x * h)),
                this._ += "A" + r + "," + r + ",0,0," +  + (h * f > u * d) + "," + (this._x1 = t + _ * s) + "," + (this._y1 = e + _ * l)
            } else
                this._ += "L" + (this._x1 = t) + "," + (this._y1 = e);
        else ;
    },
    arc: function (t, e, n, i, r, o) {
        t = +t,
        e = +e;
        var a = (n = +n) * Math.cos(i),
        s = n * Math.sin(i),
        l = t + a,
        u = e + s,
        h = 1 ^ o,
        c = o ? i - r : r - i;
        if (n < 0)
            throw new Error("negative radius: " + n);
        null === this._x1 ? this._ += "M" + l + "," + u : (Math.abs(this._x1 - l) > 1e-6 || Math.abs(this._y1 - u) > 1e-6) && (this._ += "L" + l + "," + u),
        n && (c < 0 && (c = c % yg + yg), c > mg ? this._ += "A" + n + "," + n + ",0,1," + h + "," + (t - a) + "," + (e - s) + "A" + n + "," + n + ",0,1," + h + "," + (this._x1 = l) + "," + (this._y1 = u) : c > 1e-6 && (this._ += "A" + n + "," + n + ",0," +  + (c >= vg) + "," + h + "," + (this._x1 = t + n * Math.cos(r)) + "," + (this._y1 = e + n * Math.sin(r))))
    },
    rect: function (t, e, n, i) {
        this._ += "M" + (this._x0 = this._x1 = +t) + "," + (this._y0 = this._y1 = +e) + "h" + +n + "v" + +i + "h" + -n + "Z"
    },
    toString: function () {
        return this._
    }
};
Math.PI;
function bg(t) {
    return t[0]
}
function Sg(t) {
    return t[1]
}
var kg = Array.prototype.slice;
function Mg(t) {
    return t.source
}
function Ig(t) {
    return t.target
}
function Ag(t, e, n, i, r) {
    t.moveTo(e, n),
    t.bezierCurveTo(e = (e + i) / 2, n, e, r, i, r)
}
function Tg() {
    return function (t) {
        var e = Mg,
        n = Ig,
        i = bg,
        r = Sg,
        o = null;
        function a() {
            var a,
            s = kg.call(arguments),
            l = e.apply(this, s),
            u = n.apply(this, s);
            if (o || (o = a = _g()), t(o, +i.apply(this, (s[0] = l, s)), +r.apply(this, s), +i.apply(this, (s[0] = u, s)), +r.apply(this, s)), a)
                return o = null, a + "" || null
        }
        return a.source = function (t) {
            return arguments.length ? (e = t, a) : e
        },
        a.target = function (t) {
            return arguments.length ? (n = t, a) : n
        },
        a.x = function (t) {
            return arguments.length ? (i = "function" == typeof t ? t : wg(+t), a) : i
        },
        a.y = function (t) {
            return arguments.length ? (r = "function" == typeof t ? t : wg(+t), a) : r
        },
        a.context = function (t) {
            return arguments.length ? (o = null == t ? null : t, a) : o
        },
        a
    }
    (Ag)
}
function Cg(t) {
    return t < 0 ? -1 : 1
}
function zg(t, e, n) {
    var i = t._x1 - t._x0,
    r = e - t._x1,
    o = (t._y1 - t._y0) / (i || r < 0 && -0),
    a = (n - t._y1) / (r || i < 0 && -0),
    s = (o * r + a * i) / (i + r);
    return (Cg(o) + Cg(a)) * Math.min(Math.abs(o), Math.abs(a), .5 * Math.abs(s)) || 0
}
function Eg(t, e) {
    var n = t._x1 - t._x0;
    return n ? (3 * (t._y1 - t._y0) / n - e) / 2 : e
}
function Lg(t, e, n) {
    var i = t._x0,
    r = t._y0,
    o = t._x1,
    a = t._y1,
    s = (o - i) / 3;
    t._context.bezierCurveTo(i + s, r + s * e, o - s, a - s * n, o, a)
}
function Dg(t) {
    this._context = t
}
function Og(t) {
    this._context = t
}
function Pg(t) {
    return [t.source.x1, t.y0]
}
function Fg(t) {
    return [t.target.x0, t.y1]
}
Dg.prototype = {
    areaStart: function () {
        this._line = 0
    },
    areaEnd: function () {
        this._line = NaN
    },
    lineStart: function () {
        this._x0 = this._x1 = this._y0 = this._y1 = this._t0 = NaN,
        this._point = 0
    },
    lineEnd: function () {
        switch (this._point) {
        case 2:
            this._context.lineTo(this._x1, this._y1);
            break;
        case 3:
            Lg(this, this._t0, Eg(this, this._t0))
        }
        (this._line || 0 !== this._line && 1 === this._point) && this._context.closePath(),
        this._line = 1 - this._line
    },
    point: function (t, e) {
        var n = NaN;
        if (e = +e, (t = +t) !== this._x1 || e !== this._y1) {
            switch (this._point) {
            case 0:
                this._point = 1,
                this._line ? this._context.lineTo(t, e) : this._context.moveTo(t, e);
                break;
            case 1:
                this._point = 2;
                break;
            case 2:
                this._point = 3,
                Lg(this, Eg(this, n = zg(this, t, e)), n);
                break;
            default:
                Lg(this, this._t0, n = zg(this, t, e))
            }
            this._x0 = this._x1,
            this._x1 = t,
            this._y0 = this._y1,
            this._y1 = e,
            this._t0 = n
        }
    }
},
(function (t) {
    this._context = new Og(t)
}
    .prototype = Object.create(Dg.prototype)).point = function (t, e) {
    Dg.prototype.point.call(this, e, t)
},
Og.prototype = {
    moveTo: function (t, e) {
        this._context.moveTo(e, t)
    },
    closePath: function () {
        this._context.closePath()
    },
    lineTo: function (t, e) {
        this._context.lineTo(e, t)
    },
    bezierCurveTo: function (t, e, n, i, r, o) {
        this._context.bezierCurveTo(e, t, i, n, o, r)
    }
};
var Ng = Object.freeze({
    sankey: function () {
        var t = 0,
        e = 0,
        n = 1,
        i = 1,
        o = 24,
        a = 8,
        s = fg,
        l = ig,
        u = dg,
        h = pg,
        c = 32;
        function f() {
            var f = {
                nodes: u.apply(null, arguments),
                links: h.apply(null, arguments)
            };
            return function (t) {
                t.nodes.forEach(function (t, e) {
                    t.index = e,
                    t.sourceLinks = [],
                    t.targetLinks = []
                });
                var e = $p(t.nodes, s);
                t.links.forEach(function (t, n) {
                    t.index = n;
                    var i = t.source,
                    o = t.target;
                    "object" !== (void 0 === i ? "undefined" : r(i)) && (i = t.source = gg(e, i)),
                    "object" !== (void 0 === o ? "undefined" : r(o)) && (o = t.target = gg(e, o)),
                    i.sourceLinks.push(t),
                    o.targetLinks.push(t)
                })
            }
            (f),
            function (t) {
                t.nodes.forEach(function (t) {
                    t.value = Math.max(Yp(t.sourceLinks, lg), Yp(t.targetLinks, lg))
                })
            }
            (f),
            function (e) {
                var i,
                r,
                a;
                for (i = e.nodes, r = [], a = 0; i.length; ++a, i = r, r = [])
                    i.forEach(function (t) {
                        t.depth = a,
                        t.sourceLinks.forEach(function (t) {
                            r.indexOf(t.target) < 0 && r.push(t.target)
                        })
                    });
                for (i = e.nodes, r = [], a = 0; i.length; ++a, i = r, r = [])
                    i.forEach(function (t) {
                        t.height = a,
                        t.targetLinks.forEach(function (t) {
                            r.indexOf(t.source) < 0 && r.push(t.source)
                        })
                    });
                var s = (n - t - o) / (a - 1);
                e.nodes.forEach(function (e) {
                    e.x1 = (e.x0 = t + Math.max(0, Math.min(a - 1, Math.floor(l.call(null, e, a)))) * s) + o
                })
            }
            (f),
            function (t) {
                var n,
                r = Xp().key(function (t) {
                    return t.x0
                }).sortKeys(Hp).entries(t.nodes).map(function (t) {
                    return t.values
                });
                n = qp(r, function (t) {
                    return (i - e - (t.length - 1) * a) / Yp(t, lg)
                }),
                r.forEach(function (t) {
                    t.forEach(function (t, e) {
                        t.y1 = (t.y0 = e) + t.value * n
                    })
                }),
                t.links.forEach(function (t) {
                    t.width = t.value * n
                }),
                h();
                for (var o = 1, s = c; s > 0; --s)
                    u(o *= .99), h(), l(o), h();
                function l(t) {
                    r.forEach(function (e) {
                        e.forEach(function (e) {
                            if (e.targetLinks.length) {
                                var n = (Yp(e.targetLinks, hg) / Yp(e.targetLinks, lg) - ug(e)) * t;
                                e.y0 += n,
                                e.y1 += n
                            }
                        })
                    })
                }
                function u(t) {
                    r.slice().reverse().forEach(function (e) {
                        e.forEach(function (e) {
                            if (e.sourceLinks.length) {
                                var n = (Yp(e.sourceLinks, cg) / Yp(e.sourceLinks, lg) - ug(e)) * t;
                                e.y0 += n,
                                e.y1 += n
                            }
                        })
                    })
                }
                function h() {
                    r.forEach(function (t) {
                        var n,
                        r,
                        o,
                        s = e,
                        l = t.length;
                        for (t.sort(sg), o = 0; o < l; ++o)
                            n = t[o], (r = s - n.y0) > 0 && (n.y0 += r, n.y1 += r), s = n.y1 + a;
                        if ((r = s - a - i) > 0)
                            for (s = n.y0 -= r, n.y1 -= r, o = l - 2; o >= 0; --o)
                                n = t[o], (r = n.y1 + a - s) > 0 && (n.y0 -= r, n.y1 -= r), s = n.y0
                    })
                }
            }
            (f),
            d(f),
            f
        }
        function d(t) {
            t.nodes.forEach(function (t) {
                t.sourceLinks.sort(ag),
                t.targetLinks.sort(og)
            }),
            t.nodes.forEach(function (t) {
                var e = t.y0,
                n = e;
                t.sourceLinks.forEach(function (t) {
                    t.y0 = e + t.width / 2,
                    e += t.width
                }),
                t.targetLinks.forEach(function (t) {
                    t.y1 = n + t.width / 2,
                    n += t.width
                })
            })
        }
        return f.update = function (t) {
            return d(t),
            t
        },
        f.nodeId = function (t) {
            return arguments.length ? (s = "function" == typeof t ? t : rg(t), f) : s
        },
        f.nodeAlign = function (t) {
            return arguments.length ? (l = "function" == typeof t ? t : rg(t), f) : l
        },
        f.nodeWidth = function (t) {
            return arguments.length ? (o = +t, f) : o
        },
        f.nodePadding = function (t) {
            return arguments.length ? (a = +t, f) : a
        },
        f.nodes = function (t) {
            return arguments.length ? (u = "function" == typeof t ? t : rg(t), f) : u
        },
        f.links = function (t) {
            return arguments.length ? (h = "function" == typeof t ? t : rg(t), f) : h
        },
        f.size = function (r) {
            return arguments.length ? (t = e = 0, n = +r[0], i = +r[1], f) : [n - t, i - e]
        },
        f.extent = function (r) {
            return arguments.length ? (t = +r[0][0], n = +r[1][0], e = +r[0][1], i = +r[1][1], f) : [[t, e], [n, i]]
        },
        f.iterations = function (t) {
            return arguments.length ? (c = +t, f) : c
        },
        f
    },
    sankeyCenter: function (t) {
        return t.targetLinks.length ? t.depth : t.sourceLinks.length ? qp(t.sourceLinks, ng) - 1 : 0
    },
    sankeyLeft: function (t) {
        return t.depth
    },
    sankeyRight: function (t, e) {
        return e - 1 - t.height
    },
    sankeyJustify: ig,
    sankeyLinkHorizontal: function () {
        return Tg().source(Pg).target(Fg)
    }
}),
Rg = "sankey",
Bg = function (t) {
    function e() {
        var n,
        i;
        o(this, e);
        for (var r = arguments.length, a = Array(r), s = 0; s < r; s++)
            a[s] = arguments[s];
        return n = i = u(this, t.call.apply(t, [this].concat(a))),
        i.type = Rg,
        u(i, n)
    }
    return s(e, t),
    e.prototype.update = function () {
        var t = this.globalModel,
        e = this.getData(),
        n = this.get("$gridIndex"),
        i = t.getComponentByIndex("grid", n),
        r = i.position,
        o = r.left,
        a = r.top,
        s = r.right,
        l = r.bottom,
        u = this.get("nodeWidth"),
        h = this.get("nodePadding"),
        c = this.get("nodeAlign"),
        f = this.get("iterations");
        e && e.links && D(e.links, function (t) {
            t.value = t.value - 0
        }),
        (this.sankey = Ng.sankey().nodeWidth(u).nodePadding(h).nodeAlign(Ng[c]).iterations(f).extent([[o, a], [s, l]]))(e),
        this.position = i.position
    },
    e
}
(_s);
Bg.type = Rg,
Bg.defaultOption = {
    data: void 0,
    $gridIndex: 0,
    nodeWidth: 15,
    nodePadding: 15,
    nodeAlign: "sankeyJustify",
    iterations: 32,
    linkStyle: {
        normal: {},
        emphasis: {}
    },
    onNodeClick: void 0,
    nodeStyle: {
        normal: {},
        emphasis: {}
    },
    label: {
        show: !0,
        padding: 5,
        position: "right",
        offset: [0, 0],
        style: {
            normal: {},
            emphasis: {}
        },
        formatter: void 0
    },
    triggerOn: "mousemove",
    zlevel: 0,
    z: 1
};
var Wg = function (t) {
    function e() {
        var n,
        i;
        o(this, e);
        for (var r = arguments.length, a = Array(r), s = 0; s < r; s++)
            a[s] = arguments[s];
        return n = i = u(this, t.call.apply(t, [this].concat(a))),
        i.type = Rg,
        u(i, n)
    }
    return s(e, t),
    e.prototype.render = function (t, e) {
        this.remove();
        for (var n, i = t.getData(), r = t.get("nodeStyle"), o = t.get("linkStyle"), s = t.get("label"), l = t.get("nodeColors") || [], u = t.get("name"), h = t.get("nodeWidth"), c = t.get("triggerOn"), f = t.position, d = (f.left + f.right) / 2, p = i.links, g = i.nodes, v = [], y = [], m = [], x = void 0, _ = void 0, w = 0; w < g.length; w++) {
            var b = g[w],
            S = b.x0,
            k = b.y0,
            M = b.x1,
            I = b.y1,
            A = (b.name, b.color || l[w % l.length]),
            T = W(r.normal) ? r.normal(g[w]) : r.normal,
            C = W(r.emphasis) ? r.emphasis(g[w]) : r.emphasis;
            T = a({
                fill: A
            }, T),
            C = a({
                fill: T.fill
            }, C),
            g[w].type = "node";
            var z = {
                shape: {
                    x: S,
                    y: k,
                    width: M - S,
                    height: I - k
                },
                style: T,
                z2: 10,
                key: w,
                data: g[w],
                _hoverStyle: C
            };
            g[w].color = z.style.fill,
            g[w].hoverColor = z._hoverStyle.fill,
            v.push(z)
        }
        if (_ = this.setShapeGroup("nodeGroup", Co, v, void 0, function (e) {
                e.eachChild(function (t, e) {
                    _a(t, t._hoverStyle, {
                        disableMouse: !0
                    })
                }),
                e.on(c, function (t) {
                    var e = t.target.data;
                    et(e, "emphasis"),
                    et(e, "emphasis", !0)
                }),
                e.on("mouseout", function (t) {
                    var e = t.target.data;
                    et(e, "normal"),
                    et(e, "normal", !0)
                }),
                e.on("click", function (e) {
                    t.get("onNodeClick") && t.get("onNodeClick")(e.target.data, e)
                })
            }), s.show) {
            for (var E = 0; E < g.length; E++) {
                var L = g[E],
                O = L.x0,
                P = L.y0,
                F = L.x1,
                N = L.y1,
                R = L.name,
                B = s.style.normal,
                G = s.padding,
                H = s.offset,
                j = s.position,
                U = s.formatter,
                q = U ? U(R, g[E]) : R,
                Y = e.getFormattedText({
                    position: [(O + F) / 2 + (O > d ? -h / 2 : h / 2), (P + N) / 2],
                    style: a({
                        x: H[0],
                        y: H[1],
                        text: q,
                        textVerticalAlign: "center",
                        textAlign: O > d ? "right" : "left"
                    }, B),
                    z2: 11,
                    key: E,
                    data: g[E],
                    rectHover: !0
                }),
                V = (Y.style.textAlign, void 0);
                switch (j) {
                case "right":
                    V = [(O + F) / 2 + h / 2 + G, (P + N) / 2];
                    break;
                case "left":
                    V = [(O + F) / 2 - h / 2 - G, (P + N) / 2];
                    break;
                case "top":
                    V = [(O + F) / 2, P - G];
                    break;
                case "bottom":
                    V = [(O + F) / 2, N + G];
                    break;
                default:
                    V = [(O + F) / 2, (P + N) / 2]
                }
                Y.position = V,
                m.push(Y)
            }
            x = this.setShapeGroup("labelGroup", vo, m, void 0, function (n) {
                n.on(c, function (t) {
                    var e = t.target.data;
                    et(e, "emphasis"),
                    et(e, "emphasis", !0)
                }),
                n.on("mouseout", function (t) {
                    var e = t.target.data;
                    et(e, "normal"),
                    et(e, "normal", !0)
                }),
                n.eachChild(function (t, n) {
                    _a(t, e.getFormattedText(a({}, s.style.emphasis)), {
                        disableMouse: !0
                    })
                }),
                n.on("click", function (e) {
                    t.get("onNodeClick") && t.get("onNodeClick")(e.target.data, e)
                })
            })
        }
        function $(t) {
            return [t.target.x0, t.y1]
        }
        for (var X = 0; X < p.length; X++) {
            var Z = {
                colorStops: [{
                        offset: 0,
                        color: p[X].source.color
                    }, {
                        offset: 1,
                        color: p[X].target.color
                    }
                ]
            };
            p[X].color = p[X].source.color,
            p[X].name = u,
            p[X].type = "link";
            var K = W(o.normal) ? o.normal(p[X]) : o.normal,
            Q = W(o.emphasis) ? o.emphasis(p[X]) : o.emphasis;
            y.push({
                shape: {
                    source: (n = p[X], [n.source.x1, n.y0]),
                    target: $(p[X])
                },
                style: a({
                    stroke: Z
                }, K, {
                    lineWidth: Math.max(1, p[X].width)
                }),
                key: X,
                data: p[X],
                z2: 1,
                _hoverStyle: Q
            })
        }
        var J = this.setShapeGroup("linkGroup", Gp, y, void 0, function (t) {
            t.eachChild(function (t, e) {
                var n = {
                    colorStops: [{
                            offset: 0,
                            color: t.data.source.hoverColor || t.data.source.color
                        }, {
                            offset: 1,
                            color: t.data.target.hoverColor || t.data.target.color
                        }
                    ]
                };
                _a(t, a({
                        stroke: n
                    }, t._hoverStyle), {
                    disableMouse: !0
                })
            }),
            t.on(c, function (t) {
                var e = t.target.data;
                tt(e, "emphasis"),
                tt(e, "emphasis", !0)
            }),
            t.on("mouseout", function (t) {
                var e = t.target.data;
                tt(e, "normal"),
                tt(e, "normal", !0)
            })
        });
        function tt(t, e, n) {
            J.childAt(t.index).trigger(e),
            et(n ? t.target : t.source, e, n)
        }
        function et(t, e, n) {
            _.childAt(t.index).trigger(e),
            x && x.childAt(t.index).trigger(e),
            D(t[n ? "sourceLinks" : "targetLinks"], function (t) {
                J.childAt(t.index).trigger(e),
                tt(t, e, n)
            })
        }
    },
    e
}
(cs);
Wg.type = Rg,
dl(Bg, Wg);
var Gg = "histogram",
Hg = function (t) {
    function e() {
        var n,
        i;
        o(this, e);
        for (var r = arguments.length, a = Array(r), s = 0; s < r; s++)
            a[s] = arguments[s];
        return n = i = u(this, t.call.apply(t, [this].concat(a))),
        i.type = Gg,
        u(i, n)
    }
    return s(e, t),
    e.prototype.update = function () {
        var t = this.getAxisModel("x"),
        e = this.getAxisModel("y"),
        n = t.scale,
        i = e.scale,
        r = n.domain(),
        o = i.domain(),
        a = i(o[1] < 0 ? o[1] : o[0] > 0 ? o[0] : 0),
        s = [];
        D(this.getData(), function (t, e) {
            var o = t[0],
            a = t[1],
            l = [];
            (o = function (t, e) {
                if (t[0] >= e[0] && t[1] <= e[1])
                    return t;
                if (t[1] < e[0] || t[0] > e[1])
                    return !1;
                if (t[0] < e[0] && t[1] > e[1])
                    return [e[0], e[1]];
                if (t[0] < e[0])
                    return [e[0], t[1]];
                if (t[1] > e[1])
                    return [t[0], e[1]]
            }
                (o, r)) && (l[0] = [n(o[0]), n(o[1])], l[1] = i(a), l[2] = t, l[3] = e, s.push(l))
        }),
        this.points = s,
        this.y0 = a
    },
    e
}
(_s);
Hg.type = Gg,
Hg.emphasisList = ["itemStyle", "label"],
Hg.defaultOption = {
    $dataIndex: void 0,
    dataKey: void 0,
    $axisIndex: [0, 1],
    name: void 0,
    onZero: !0,
    rectWidth: "100%",
    itemStyle: {
        normal: {},
        emphasis: {}
    },
    label: {
        normal: {
            show: !1,
            style: {
                position: "inside",
                fill: "black"
            }
        },
        emphasis: {
            show: !1,
            style: {}
        }
    },
    zlevel: 0,
    z: 1
};
var jg = function (t) {
    function e() {
        var n,
        i;
        o(this, e);
        for (var r = arguments.length, a = Array(r), s = 0; s < r; s++)
            a[s] = arguments[s];
        return n = i = u(this, t.call.apply(t, [this].concat(a))),
        i.type = Gg,
        u(i, n)
    }
    return s(e, t),
    e.prototype.render = function (t, e) {
        var n = t.get("itemStyle"),
        i = t.get("label"),
        r = t.get("rectWidth"),
        o = n.normal,
        a = n.emphasis,
        s = i.normal,
        l = i.emphasis,
        u = t.points,
        h = t.y0,
        c = [];
        D(u, function (n) {
            var i = n[0],
            u = n[1],
            f = (i[0] + i[1]) / 2,
            d = i[1] - i[0],
            p = W(o) ? o(n[2]) : b(o),
            g = W(a) ? a(n[2]) : b(a),
            v = Ea(r, d);
            p = _p(p, s, {
                data: n[2],
                dataIndex: n[3]
            }, e, t),
            g = _p(g, S(l, s), {
                data: n[2],
                dataIndex: n[3]
            }, e, t),
            c.push(aa({
                    shape: {
                        x: f - v / 2,
                        y: u,
                        width: v,
                        height: h - u
                    },
                    style: p,
                    emphasisStyle: g,
                    seriesIndex: t.index,
                    dataIndex: n[3],
                    key: n[3]
                }))
        }),
        this.setShapeGroup("rectGroup", Co, c, {
            animation: t.get("animation"),
            animateFrom: {
                shape: {
                    y: h,
                    height: 0
                }
            }
        }, void 0, function (t) {
            _a(t, t.emphasisStyle)
        })
    },
    e
}
(cs);
jg.type = Gg,
dl(Hg, jg);
var Ug = {
    value: function () {}
};
function qg() {
    for (var t, e = 0, n = arguments.length, i = {}; e < n; ++e) {
        if (!(t = arguments[e] + "") || t in i)
            throw new Error("illegal type: " + t);
        i[t] = []
    }
    return new Yg(i)
}
function Yg(t) {
    this._ = t
}
function Vg(t, e) {
    for (var n, i = 0, r = t.length; i < r; ++i)
        if ((n = t[i]).name === e)
            return n.value
}
function $g(t, e, n) {
    for (var i = 0, r = t.length; i < r; ++i)
        if (t[i].name === e) {
            t[i] = Ug,
            t = t.slice(0, i).concat(t.slice(i + 1));
            break
        }
    return null != n && t.push({
        name: e,
        value: n
    }),
    t
}
Yg.prototype = qg.prototype = {
    constructor: Yg,
    on: function (t, e) {
        var n,
        i,
        r = this._,
        o = (i = r, (t + "").trim().split(/^|\s+/).map(function (t) {
                var e = "",
                n = t.indexOf(".");
                if (n >= 0 && (e = t.slice(n + 1), t = t.slice(0, n)), t && !i.hasOwnProperty(t))
                    throw new Error("unknown type: " + t);
                return {
                    type: t,
                    name: e
                }
            })),
        a = -1,
        s = o.length;
        if (!(arguments.length < 2)) {
            if (null != e && "function" != typeof e)
                throw new Error("invalid callback: " + e);
            for (; ++a < s; )
                if (n = (t = o[a]).type)
                    r[n] = $g(r[n], t.name, e);
                else if (null == e)
                    for (n in r)
                        r[n] = $g(r[n], t.name, null);
            return this
        }
        for (; ++a < s; )
            if ((n = (t = o[a]).type) && (n = Vg(r[n], t.name)))
                return n
    },
    copy: function () {
        var t = {},
        e = this._;
        for (var n in e)
            t[n] = e[n].slice();
        return new Yg(t)
    },
    call: function (t, e) {
        if ((n = arguments.length - 2) > 0)
            for (var n, i, r = new Array(n), o = 0; o < n; ++o)
                r[o] = arguments[o + 2];
        if (!this._.hasOwnProperty(t))
            throw new Error("unknown type: " + t);
        for (o = 0, n = (i = this._[t]).length; o < n; ++o)
            i[o].value.apply(e, r)
    },
    apply: function (t, e, n) {
        if (!this._.hasOwnProperty(t))
            throw new Error("unknown type: " + t);
        for (var i = this._[t], r = 0, o = i.length; r < o; ++r)
            i[r].value.apply(e, n)
    }
};
var Xg = Math.PI / 180,
Zg = 64,
Kg = 2048;
function Qg() {
    var t = [256, 256],
    e = Jg,
    n = tv,
    i = nv,
    r = ev,
    o = ev,
    a = iv,
    s = rv,
    l = lv,
    u = [],
    h = 1 / 0,
    c = qg("word", "end"),
    f = null,
    d = Math.random,
    p = {},
    g = uv;
    function v(e, n, i) {
        t[0],
        t[1];
        for (var r, o, a, s, u, h = n.x, c = n.y, f = Math.sqrt(t[0] * t[0] + t[1] * t[1]), p = l(t), g = d() < .5 ? 1 : -1, v = -g; (r = p(v += g)) && (o = ~~r[0], a = ~~r[1], !(Math.min(Math.abs(o), Math.abs(a)) >= f)); )
            if (n.x = h + o, n.y = c + a, !(n.x + n.x0 < 0 || n.y + n.y0 < 0 || n.x + n.x1 > t[0] || n.y + n.y1 > t[1] || i && av(n, e, t[0]) || i && (u = i, !((s = n).x + s.x1 > u[0].x && s.x + s.x0 < u[1].x && s.y + s.y1 > u[0].y && s.y + s.y0 < u[1].y)))) {
                for (var y, m = n.sprite, x = n.width >> 5, _ = t[0] >> 5, w = n.x - (x << 4), b = 127 & w, S = 32 - b, k = n.y1 - n.y0, M = (n.y + n.y0) * _ + (w >> 5), I = 0; I < k; I++) {
                    y = 0;
                    for (var A = 0; A <= x; A++)
                        e[M + A] |= y << S | (A < x ? (y = m[I * x + A]) >>> b : 0);
                    M += _
                }
                return delete n.sprite,
                !0
            }
        return !1
    }
    return p.canvas = function (t) {
        return arguments.length ? (g = hv(t), p) : g
    },
    p.start = function () {
        var l = function (t) {
            t.width = t.height = 1;
            var e = Math.sqrt(t.getContext("2d").getImageData(0, 0, 1, 1).data.length >> 2);
            t.width = (Zg << 5) / e,
            t.height = Kg / e;
            var n = t.getContext("2d");
            return n.fillStyle = n.strokeStyle = "red",
            n.textAlign = "center",
            n.textBaseline = "middle", {
                context: n,
                ratio: e
            }
        }
        (g()),
        y = function (t) {
            var e = [],
            n = -1;
            for (; ++n < t; )
                e[n] = 0;
            return e
        }
        ((t[0] >> 5) * t[1]),
        m = null,
        x = u.length,
        _ = -1,
        w = [],
        b = u.map(function (t, l) {
            return t.text = e.call(this, t, l),
            t.font = n.call(this, t, l),
            t.style = r.call(this, t, l),
            t.weight = o.call(this, t, l),
            t.rotate = a.call(this, t, l),
            t.size = ~~i.call(this, t, l),
            t.padding = s.call(this, t, l),
            t
        }).sort(function (t, e) {
            return e.size - t.size
        });
        return f && clearInterval(f),
        f = setInterval(S, 0),
        S(),
        p;
        function S() {
            for (var e = Date.now(); Date.now() - e < h && ++_ < x && f; ) {
                var n = b[_];
                n.x = t[0] * (d() + .5) >> 1,
                n.y = t[1] * (d() + .5) >> 1,
                ov(l, n, b, _),
                n.hasText && v(y, n, m) && (w.push(n), c.call("word", p, n), m ? sv(m, n) : m = [{
                            x: n.x + n.x0,
                            y: n.y + n.y0
                        }, {
                            x: n.x + n.x1,
                            y: n.y + n.y1
                        }
                    ], n.x -= t[0] >> 1, n.y -= t[1] >> 1)
            }
            _ >= x && (p.stop(), c.call("end", p, w, m))
        }
    },
    p.stop = function () {
        return f && (clearInterval(f), f = null),
        p
    },
    p.timeInterval = function (t) {
        return arguments.length ? (h = null == t ? 1 / 0 : t, p) : h
    },
    p.words = function (t) {
        return arguments.length ? (u = t, p) : u
    },
    p.size = function (e) {
        return arguments.length ? (t = [+e[0], +e[1]], p) : t
    },
    p.font = function (t) {
        return arguments.length ? (n = hv(t), p) : n
    },
    p.fontStyle = function (t) {
        return arguments.length ? (r = hv(t), p) : r
    },
    p.fontWeight = function (t) {
        return arguments.length ? (o = hv(t), p) : o
    },
    p.rotate = function (t) {
        return arguments.length ? (a = hv(t), p) : a
    },
    p.text = function (t) {
        return arguments.length ? (e = hv(t), p) : e
    },
    p.spiral = function (t) {
        return arguments.length ? (l = cv[t] || t, p) : l
    },
    p.fontSize = function (t) {
        return arguments.length ? (i = hv(t), p) : i
    },
    p.padding = function (t) {
        return arguments.length ? (s = hv(t), p) : s
    },
    p.random = function (t) {
        return arguments.length ? (d = t, p) : d
    },
    p.on = function () {
        var t = c.on.apply(c, arguments);
        return t === c ? p : t
    },
    p
}
function Jg(t) {
    return t.text
}
function tv() {
    return "serif"
}
function ev() {
    return "normal"
}
function nv(t) {
    return Math.sqrt(t.value)
}
function iv() {
    return 30 * (~~(6 * Math.random()) - 3)
}
function rv() {
    return 1
}
function ov(t, e, n, i) {
    if (!e.sprite) {
        var r = t.context,
        o = t.ratio;
        r.clearRect(0, 0, (Zg << 5) / o, Kg / o);
        var a = 0,
        s = 0,
        l = 0,
        u = n.length;
        for (--i; ++i < u; ) {
            e = n[i],
            r.save(),
            r.font = e.style + " " + e.weight + " " + ~~((e.size + 1) / o) + "px " + e.font;
            var h = r.measureText(e.text + "m").width * o,
            c = e.size << 1;
            if (e.rotate) {
                var f = Math.sin(e.rotate * Xg),
                d = Math.cos(e.rotate * Xg),
                p = h * d,
                g = h * f,
                v = c * d,
                y = c * f;
                h = Math.max(Math.abs(p + y), Math.abs(p - y)) + 31 >> 5 << 5,
                c = ~~Math.max(Math.abs(g + v), Math.abs(g - v))
            } else
                h = h + 31 >> 5 << 5;
            if (c > l && (l = c), a + h >= Zg << 5 && (a = 0, s += l, l = 0), s + c >= Kg)
                break;
            r.translate((a + (h >> 1)) / o, (s + (c >> 1)) / o),
            e.rotate && r.rotate(e.rotate * Xg),
            r.fillText(e.text, 0, 0),
            e.padding && (r.lineWidth = 2 * e.padding, r.strokeText(e.text, 0, 0)),
            r.restore(),
            e.width = h,
            e.height = c,
            e.xoff = a,
            e.yoff = s,
            e.x1 = h >> 1,
            e.y1 = c >> 1,
            e.x0 = -e.x1,
            e.y0 = -e.y1,
            e.hasText = !0,
            a += h
        }
        for (var m = r.getImageData(0, 0, (Zg << 5) / o, Kg / o).data, x = []; --i >= 0; )
            if ((e = n[i]).hasText) {
                for (var _ = (h = e.width) >> 5, w = (c = e.y1 - e.y0, 0); w < c * _; w++)
                    x[w] = 0;
                if (null == (a = e.xoff))
                    return;
                s = e.yoff;
                for (var b = 0, S = -1, k = 0; k < c; k++) {
                    for (w = 0; w < h; w++) {
                        var M = _ * k + (w >> 5),
                        I = m[(s + k) * (Zg << 5) + (a + w) << 2] ? 1 << 31 - w % 32 : 0;
                        x[M] |= I,
                        b |= I
                    }
                    b ? S = k : (e.y0++, c--, k--, s++)
                }
                e.y1 = e.y0 + S,
                e.sprite = x.slice(0, (e.y1 - e.y0) * _)
            }
    }
}
function av(t, e, n) {
    n >>= 5;
    for (var i, r = t.sprite, o = t.width >> 5, a = t.x - (o << 4), s = 127 & a, l = 32 - s, u = t.y1 - t.y0, h = (t.y + t.y0) * n + (a >> 5), c = 0; c < u; c++) {
        i = 0;
        for (var f = 0; f <= o; f++)
            if ((i << l | (f < o ? (i = r[c * o + f]) >>> s : 0)) & e[h + f])
                return !0;
        h += n
    }
    return !1
}
function sv(t, e) {
    var n = t[0],
    i = t[1];
    e.x + e.x0 < n.x && (n.x = e.x + e.x0),
    e.y + e.y0 < n.y && (n.y = e.y + e.y0),
    e.x + e.x1 > i.x && (i.x = e.x + e.x1),
    e.y + e.y1 > i.y && (i.y = e.y + e.y1)
}
function lv(t) {
    var e = t[0] / t[1];
    return function (t) {
        return [e * (t *= .1) * Math.cos(t), t * Math.sin(t)]
    }
}
function uv() {
    return document.createElement("canvas")
}
function hv(t) {
    return "function" == typeof t ? t : function () {
        return t
    }
}
var cv = {
    archimedean: lv,
    rectangular: function (t) {
        var e = 4 * t[0] / t[1],
        n = 0,
        i = 0;
        return function (t) {
            var r = t < 0 ? -1 : 1;
            switch (Math.sqrt(1 + 4 * r * t) - r & 3) {
            case 0:
                n += e;
                break;
            case 1:
                i += 4;
                break;
            case 2:
                n -= e;
                break;
            default:
                i -= 4
            }
            return [n, i]
        }
    }
},
fv = "wordcloud",
dv = function (t) {
    function e() {
        o(this, e);
        var n = u(this, t.apply(this, arguments));
        return n.type = fv,
        n.layout = Qg(),
        n
    }
    return s(e, t),
    e.prototype.update = function () {
        var t = this.globalModel,
        e = this._option,
        n = e.fontFamily,
        i = e.fontStyle,
        r = e.fontWeight,
        o = e.fontSize,
        a = e.padding,
        s = e.rotate,
        l = e.text,
        u = e.random,
        h = e.spiral,
        c = this.getData(),
        f = this.get("$gridIndex"),
        d = t.getComponentByIndex("grid", f).position;
        this.layout.size([d.width, d.height]).words(c).font(n).fontStyle(i).fontWeight(r).fontSize(o).padding(a).rotate(s).text(l).random(u).spiral(h).stop().start(),
        this.data = c,
        this.position = d
    },
    e
}
(_s);
dv.type = fv,
dv.defaultOption = {
    zlevel: 0,
    z: 1,
    fontFamily: "Impact",
    fontStyle: "normal",
    fontWeight: "normal",
    fontSize: function (t) {
        return t.value
    },
    color: void 0,
    padding: 1,
    rotate: function () {
        return 30 * (~~(6 * Math.random()) - 3)
    },
    text: function (t) {
        return t.name
    },
    random: Math.random,
    spiral: "archimedean"
};
var pv = function (t) {
    function e() {
        var n,
        i;
        o(this, e);
        for (var r = arguments.length, a = Array(r), s = 0; s < r; s++)
            a[s] = arguments[s];
        return n = i = u(this, t.call.apply(t, [this].concat(a))),
        i.type = fv,
        u(i, n)
    }
    return s(e, t),
    e.prototype.render = function (t, e, n) {
        var i = t.data,
        r = t.position,
        o = r.width,
        a = r.height,
        s = r.left,
        l = r.top,
        u = t.get("fontFamily"),
        h = t.get("fontStyle"),
        c = t.get("fontWeight"),
        f = [],
        d = au(vs),
        p = t.get("color");
        D(i, function (t, e) {
            var n = {
                style: {
                    text: t.text,
                    fill: p ? W(p) ? p(t, e) : p : d(e),
                    fontSize: t.size,
                    textAlign: "center",
                    textBaseline: "middle",
                    fontFamily: u,
                    fontWeight: c,
                    fontStyle: h
                },
                rotation: -t.rotate / 180 * Math.PI,
                position: [t.x, t.y],
                key: t.text,
                data: t
            };
            t.x + s + o / 2 > o || t.x + s + o / 2 < 0 || t.y + l + a / 2 < 0 || t.y + l + a / 2 > a || f.push(Sa(n))
        });
        var g = this.setShapeGroup("wordcould", vo, f, {
            animation: t.get("animation"),
            animateList: {
                style: {
                    fontSize: 0
                },
                rotation: 0,
                position: [0, 0]
            },
            animateFrom: {
                style: {
                    fontSize: 0
                }
            }
        }, function (e) {
            e.on("click", function (e) {
                n.dispatchAction(t, $a.itemClick, {
                    data: e.target.data,
                    e: e
                })
            })
        });
        g.getBoundingRect();
        g.attr("position", [s + o / 2, l + a / 2])
    },
    e
}
(cs);
pv.type = fv,
dl(dv, pv);
var gv = "funnel",
vv = function (t) {
    function e() {
        var n,
        i;
        o(this, e);
        for (var r = arguments.length, a = Array(r), s = 0; s < r; s++)
            a[s] = arguments[s];
        return n = i = u(this, t.call.apply(t, [this].concat(a))),
        i.type = gv,
        u(i, n)
    }
    return s(e, t),
    e.prototype.update = function () {
        var t = this.getData(),
        e = this.globalModel.getComponentByIndex("grid", this.get("$gridIndex")),
        n = this.get("sort"),
        i = e.position,
        r = this.get("selected"),
        o = void 0;
        r && (t = P(t, function (t) {
                return !1 !== r[t.name]
            })),
        n && ("descending" === n ? t = t.sort(function (t, e) {
                return e.value - t.value
            }) : "ascending" === n ? t = t.sort(function (t, e) {
                return t.value - e.value
            }) : W(n) && (t = t.sort(n))),
        D(t, function (t) {
            (!o || o.value < t.value) && (o = t)
        }),
        this.maxItem = o,
        this.data = t,
        this.position = i
    },
    e
}
(_s);
vv.type = gv,
vv.emphasisList = ["itemStyle", "label", "labelLine"],
vv.defaultOption = {
    $dataIndex: void 0,
    dataKey: void 0,
    $gridIndex: 0,
    sort: "descending",
    gap: 0,
    legendHoverLink: !0,
    funnelAlign: "center",
    minSize: "0%",
    maxSize: "100%",
    itemStyle: {
        normal: {},
        emphasis: {}
    },
    label: {
        normal: {
            show: !0,
            position: "center",
            gap: 50,
            style: {
                fill: "#acacac",
                textVerticalAlign: "center"
            }
        },
        emphasis: {
            show: !0,
            style: {}
        }
    },
    labelLine: {
        normal: {
            show: !0,
            style: {
                stroke: "#acacac",
                lineWidth: 1
            }
        },
        emphasis: {
            show: !0,
            style: {}
        }
    },
    zlevel: 0,
    z: 1
};
var yv = function (t) {
    function e(n, i, r) {
        o(this, e);
        var a = u(this, t.apply(this, arguments));
        (a.type = gv, n.get("legendHoverLink")) && D(i.getComponent("legend"), function (t) {
            r.registerAction(t, Xa.mouseover, function (e) {
                var n = e.name;
                if (t.isSelected(n)) {
                    var i = a.getShape("funnel", n);
                    a.getShape("funnel", n).trigger("mouseover", {
                        target: i
                    })
                }
            }),
            r.registerAction(t, Xa.mouseout, function (t) {
                var e = t.name,
                n = a.getShape("funnel", e);
                n && n.trigger("mouseout", {
                    target: n
                })
            })
        });
        return a
    }
    return s(e, t),
    e.prototype.render = function (t, e) {
        var n = this,
        i = t.data,
        r = t.position,
        o = r.width,
        s = r.height,
        l = r.left,
        u = r.top,
        h = r.right,
        c = t.maxItem;
        if (i.length) {
            var f = t.get("gap"),
            d = t.get("animation"),
            p = t.get("funnelAlign"),
            g = t.get("label").normal,
            v = t.get("label").emphasis,
            y = t.get("itemStyle").normal,
            m = t.get("itemStyle").emphasis,
            x = t.get("labelLine").normal,
            _ = t.get("labelLine").emphasis,
            w = Ea(t.get("maxSize"), o),
            k = Ea(t.get("minSize"), o),
            M = i.length,
            I = (s - (M - 1) * f) / M,
            A = (w - k) / c.value,
            T = l + o / 2,
            C = [],
            z = [],
            E = [],
            L = [],
            D = u;
            l = T - w / 2,
            h = T + w / 2;
            for (var O = 0; O < M; O++) {
                var P = i[O],
                F = P.value,
                N = (F * A + k) / 2,
                R = void 0,
                B = void 0,
                W = void 0,
                G = void 0,
                H = 0;
                if (O < M - 1)
                    H = (i[O + 1].value * A + k) / 2;
                else
                    H = (F * A + k) / 2;
                switch (p) {
                case "left":
                    R = l,
                    B = l + 2 * N,
                    W = l,
                    G = l + 2 * H;
                    break;
                case "right":
                    R = h,
                    B = h - 2 * N,
                    W = h,
                    G = h - 2 * H;
                    break;
                case "center":
                default:
                    R = T - N,
                    B = T + N,
                    W = T - H,
                    G = T + H
                }
                a({
                    fill: P.color
                }, y);
                if (g.show) {
                    var j = void 0,
                    U = void 0,
                    q = void 0,
                    Y = void 0,
                    V = D + I / 2,
                    $ = g.formatter ? g.formatter(P.value, P) : P.value,
                    X = !1;
                    switch (g.position) {
                    case "left":
                        j = (Y = (q = (R + W) / 2) - g.gap) - 5,
                        U = "right";
                        break;
                    case "right":
                        j = (Y = (q = (B + G) / 2) + g.gap) + 5,
                        U = "left";
                        break;
                    default:
                        j = (R + B) / 2,
                        U = "center",
                        X = !0
                    }
                    E.push({
                        style: a({
                            opacity: 1,
                            x: j,
                            y: V,
                            text: $,
                            textAlign: U
                        }, Sa(b(g.style))),
                        key: P.name,
                        _hoverStyle: a({
                            text: v.formatter ? g.formatter(P.value, P) : $
                        }, Sa(b(v.style))),
                        silent: X,
                        z2: 1
                    }),
                    x.show && !X && L.push(oa({
                            shape: {
                                x1: q,
                                y1: V,
                                x2: Y,
                                y2: V
                            },
                            key: P.name,
                            style: x.style,
                            _hoverStyle: b(_.style)
                        }))
                }
                C.push({
                    shape: {
                        points: [[R, D], [B, D], [G, D + I], [W, D + I]]
                    },
                    style: a({
                        opacity: 1,
                        fill: P.color
                    }, y),
                    _hoverStyle: b(m),
                    key: P.name,
                    data: P,
                    z2: 0
                }),
                z.push({
                    shape: {
                        points: [[R, D], [B, D], [B, D], [R, D]]
                    }
                }),
                D += I + f
            }
            this.setShapeGroup("funnel", ko, C, {
                animation: d,
                animateFrom: z,
                animateLeave: {
                    style: {
                        opacity: 0
                    }
                }
            }, void 0, function (e) {
                e._hoverStyle && _a(e, e._hoverStyle),
                e.on("mouseover", function (e) {
                    var i = e.target;
                    if (v.show) {
                        var r = n.getShape("label", i.name);
                        if (r)
                            r.trigger("emphasis");
                        else {
                            var o = i.shape.points,
                            s = void 0,
                            l = void 0,
                            u = (o[1][1] + o[2][1]) / 2,
                            h = v.formatter || g.formatter,
                            c = h ? h(i.data.value, i.data) : i.data.value;
                            switch (v.position || g.position) {
                            case "left":
                                s = (o[0][0] + o[3][0]) / 2 - g.gap - 5,
                                l = "right";
                                break;
                            case "right":
                                s = (o[1][0] + o[2][0]) / 2 + g.gap + 5,
                                l = "left";
                                break;
                            default:
                                s = (o[0][0] + o[1][0]) / 2,
                                l = "center"
                            }
                            n.setShape("tempLabel", vo, {
                                style: a({
                                    x: s,
                                    y: u,
                                    text: c,
                                    textAlign: l
                                }, Sa(S(b(g.style), v.style, !0))),
                                z: t.get("z"),
                                z2: 999,
                                silent: !0
                            })
                        }
                        if (_.show) {
                            var f = n.getShape("labelLine", i.name);
                            if (f)
                                f.trigger("emphasis");
                            else {
                                var d = i.shape.points,
                                p = void 0,
                                y = void 0,
                                m = (d[1][1] + d[2][1]) / 2,
                                w = !1;
                                switch (g.position) {
                                case "left":
                                    y = (p = (d[0][0] + d[3][0]) / 2) - g.gap;
                                    break;
                                case "right":
                                    y = (p = (d[1][0] + d[2][0]) / 2) + g.gap;
                                    break;
                                default:
                                    w = !0
                                }
                                x.show && !w && n.setShape("tempLabelLine", Eo, oa({
                                        shape: {
                                            x1: p,
                                            y1: m,
                                            x2: y,
                                            y2: m
                                        },
                                        style: S(b(x.style), _.style, !0)
                                    }))
                            }
                        }
                    }
                }),
                e.on("mouseout", function (t) {
                    var e = t.target;
                    if (v.show) {
                        var i = n.getShape("label", e.name),
                        r = n.getShape("labelLine", e.name);
                        i ? i.trigger("normal") : n.removeShape("tempLabel"),
                        r ? r.trigger("normal") : n.removeShape("tempLabelLine")
                    }
                })
            }),
            this.setShapeGroup("label", vo, E, void 0, void 0, function (t) {
                t._hoverStyle && _a(t, t._hoverStyle)
            }),
            this.setShapeGroup("labelLine", Eo, L, void 0, void 0, function (t) {
                t._hoverStyle && _a(t, t._hoverStyle)
            })
        } else
            this.removeShape("funnel")
    },
    e
}
(cs);
yv.type = gv,
dl(vv, yv);
var mv = "gauge",
xv = function (t) {
    function e() {
        var n,
        i;
        o(this, e);
        for (var r = arguments.length, a = Array(r), s = 0; s < r; s++)
            a[s] = arguments[s];
        return n = i = u(this, t.call.apply(t, [this].concat(a))),
        i.type = mv,
        u(i, n)
    }
    return s(e, t),
    e.prototype.update = function () {
        var t = this.getData(),
        e = this.get("min"),
        n = this.get("max"),
        i = this.get("title").text,
        r = this.get("startAngle"),
        o = this.get("endAngle"),
        a = this.global,
        s = a.getWidth(),
        l = a.getHeight(),
        u = Math.min(l, s),
        h = this.get("center"),
        c = this.get("radius"),
        f = this.get("color"),
        d = this.get("gradient"),
        p = void 0;
        H(t) ? (void 0 !== t.min && (e = t.min), void 0 !== t.max && (n = t.max), p = t.value, void 0 !== t.title && (i = t.title)) : p = t,
        p = Math.min(Math.max(e, p), n),
        f && (f = B(f) ? f.sort(function (t, e) {
                return t[0] - e[0]
            }) : [[1, f]], d && 0 !== f[0][0] && f.unshift([0, f[0][1]])),
        this.color = f,
        this.title = i,
        this.percent = (p - e) / (n - e),
        this.startAngle = r / 180 * Math.PI,
        this.endAngle = o / 180 * Math.PI,
        this.value = p,
        this.radius = Ea(c, u),
        this.center = [Ea(h[0], s), Ea(h[1], l)],
        this.min = e,
        this.max = n
    },
    e
}
(_s);
xv.type = mv,
xv.defaultOption = {
    data: void 0,
    center: ["50%", "50%"],
    radius: "40%",
    startAngle: -210,
    endAngle: 30,
    min: 0,
    max: 100,
    splitNumber: 10,
    tickOffset: 40,
    color: [[1, "red"]],
    gradient: !1,
    arcNum: 50,
    axisLine: {
        show: !0,
        style: {
            lineWidth: 30
        }
    },
    arcOutline: {
        show: !1,
        style: {
            fill: "#0E122D",
            stroke: "#26284F"
        }
    },
    endArc: {
        show: !1,
        angleCross: 1,
        style: {
            fill: "#EF136D",
            stroke: "#EF136D"
        }
    },
    splitLine: {
        show: !0,
        type: "tick",
        length: 15,
        gradient: !1,
        color: [[0, "#202126"], [.5, "#0096FE"], [1, "#202126"]],
        style: {
            fill: "#ED1671",
            stroke: "#acacac",
            lineWidth: 2
        }
    },
    axisTick: {
        show: !0,
        type: "tick",
        splitNumber: 5,
        length: 8,
        gradient: !1,
        color: [[0, "#202126"], [.5, "#0096FE"], [1, "#202126"]],
        style: {
            fill: "#ED1671",
            stroke: "#acacac",
            lineWidth: 1
        }
    },
    axisLabel: {
        show: !0,
        distance: 15,
        formatter: void 0,
        style: {
            fill: "#acacac",
            textAlign: "center",
            textVerticalAlign: "center"
        }
    },
    title: {
        show: !0,
        text: void 0,
        offsetCenter: [0, "80%"],
        style: {
            fill: "#acacac",
            fontSize: 20,
            textAlign: "center",
            textVerticalAlign: "center"
        }
    },
    detail: {
        show: !0,
        offsetCenter: [0, 0],
        formatter: void 0,
        style: {
            fontSize: 50,
            textAlign: "center",
            textVerticalAlign: "center"
        }
    },
    zlevel: 0,
    z: 1
};
var _v = function (t) {
    function e() {
        var n,
        i;
        o(this, e);
        for (var r = arguments.length, a = Array(r), s = 0; s < r; s++)
            a[s] = arguments[s];
        return n = i = u(this, t.call.apply(t, [this].concat(a))),
        i.type = mv,
        u(i, n)
    }
    return s(e, t),
    e.prototype.render = function (t, e, n) {
        var i = t.min,
        r = t.max,
        o = t.value,
        s = t.radius,
        l = t.center,
        u = t.startAngle,
        h = t.endAngle,
        c = t.percent,
        f = t.title,
        d = t.color,
        p = t.get("arcNum"),
        g = t.get("splitNumber"),
        v = t.get("axisLine"),
        y = t.get("detail"),
        m = t.get("title"),
        x = t.get("splitLine"),
        _ = t.get("axisLabel"),
        w = t.get("axisTick"),
        b = t.get("tickOffset"),
        S = t.get("gradient"),
        k = t.get("animation"),
        M = t.get("arcOutline"),
        I = t.get("endArc"),
        A = Hh().domain([0, 2 * Math.PI]).range([0, 360]).invert(I.angleCross);
        b = Ea(b, s);
        var T = v.style,
        C = u + Math.PI / 2,
        z = h + Math.PI / 2,
        E = s,
        L = s - T.lineWidth;
        if (M.show && this.setShape("arcOutline", Dl, {
                shape: {
                    outerRadius: E,
                    innerRadius: L,
                    startAngle: C,
                    endAngle: z,
                    cornerRadius: 0
                },
                position: l,
                style: M.style,
                cursor: "default"
            }), v.show)
            if (S || !d) {
                for (var D = bv(d), O = d.length - 1, P = (z - C) * c / (p * O), F = [], N = 0; N < p * O; N++) {
                    var R = C + P * N,
                    B = C + P * N + P,
                    W = Sv(D.color, D.domain, R, C, z);
                    F.push({
                        key: N,
                        shape: {
                            outerRadius: E,
                            innerRadius: L,
                            startAngle: R,
                            endAngle: B,
                            cornerRadius: 0
                        },
                        position: l,
                        style: {
                            fill: W,
                            stroke: W
                        },
                        cursor: "default"
                    })
                }
                this.setShapeGroup("axisLine", Dl, F, {
                    animation: k,
                    animateFrom: {
                        shape: {
                            startAngle: C,
                            endAngle: C
                        }
                    }
                })
            } else {
                for (var G = [], H = 0; H < d.length; H++) {
                    var j = void 0,
                    U = void 0;
                    0 === H ? (j = C, U = c < d[H][0] ? C + (z - C) * c : C + (z - C) * d[H][0]) : c < d[H - 1][0] ? j = U = C + (z - C) * c : c < d[H][0] ? (j = C + (z - C) * d[H - 1][0], U = C + (z - C) * c) : (j = C + (z - C) * d[H - 1][0], U = C + (z - C) * d[H][0]),
                    G.push({
                        shape: {
                            outerRadius: E,
                            innerRadius: L,
                            startAngle: j,
                            endAngle: U
                        },
                        position: l,
                        style: a({
                            fill: d[H][1]
                        }, T),
                        key: d[H][0],
                        z2: 0,
                        silent: !0
                    })
                }
                this.setShapeGroup("axisLine", Dl, G, {
                    animation: k,
                    animateFrom: {
                        shape: {
                            startAngle: C,
                            endAngle: C
                        }
                    }
                })
            }
        if (I.show && 0 !== I.angleCross && this.setShape("endArc", Dl, {
                shape: {
                    outerRadius: E,
                    innerRadius: L,
                    startAngle: C + (z - C) * c,
                    endAngle: C + (z - C) * c + A,
                    cornerRadius: 0
                },
                position: l,
                style: I.style,
                cursor: "default"
            }, {
                animation: k,
                animateFrom: {
                    shape: {
                        startAngle: C,
                        endAngle: C
                    }
                }
            }), y.show) {
            var q = y.offsetCenter,
            Y = y.formatter,
            V = y.style;
            q = wv(q, s),
            this.setShape("detail", vo, {
                style: e.getFormattedText(a({
                        text: Y ? Y(o) : o
                    }, V)),
                position: [l[0] + q[0], l[1] + q[1]]
            })
        }
        if (m.show && f) {
            var $ = m.offsetCenter,
            X = m.style;
            $ = wv($, s),
            this.setShape("title", vo, {
                style: e.getFormattedText(a({
                        text: f
                    }, X)),
                position: [l[0] + $[0], l[1] + $[1]]
            })
        }
        if (x.show) {
            var Z = x.length,
            K = x.style,
            Q = x.color,
            J = [],
            tt = (h - u) / g,
            et = u,
            nt = {};
            x.gradient && (nt = bv(Q)),
            Z = Ea(Z, s);
            for (var it = 0; it <= g; it++) {
                var rt = {};
                if (w.gradient) {
                    var ot = Sv(nt.color, nt.domain, et, u, h);
                    rt = {
                        fill: ot,
                        stroke: ot
                    }
                } else
                    rt = K;
                "tick" === x.type ? J.push({
                    shape: {
                        x1: l[0] + Math.cos(et) * (s - b),
                        x2: l[0] + Math.cos(et) * (s - b - Z),
                        y1: l[1] + Math.sin(et) * (s - b),
                        y2: l[1] + Math.sin(et) * (s - b - Z)
                    },
                    style: rt,
                    z2: 5,
                    silent: !0
                }) : "circle" === x.type && J.push({
                    shape: {
                        cx: l[0] + Math.cos(et) * (s - b),
                        cy: l[1] + Math.sin(et) * (s - b),
                        r: Z
                    },
                    style: rt,
                    silent: !0
                }),
                et += tt
            }
            "tick" === x.type ? this.setShapeGroup("splitLine", Eo, J) : "circle" === x.type && this.setShapeGroup("splitLine", yo, J)
        }
        if (w.show) {
            var at = w.length,
            st = w.splitNumber,
            lt = w.style,
            ut = w.color,
            ht = [],
            ct = g * st,
            ft = (h - u) / ct,
            dt = u,
            pt = {};
            w.gradient && (pt = bv(ut)),
            at = Ea(at, s);
            for (var gt = 0; gt <= ct; gt++) {
                var vt = {};
                if (w.gradient) {
                    var yt = Sv(pt.color, pt.domain, dt, u, h);
                    vt = {
                        fill: yt,
                        stroke: yt
                    }
                } else
                    vt = lt;
                "tick" === w.type ? ht.push({
                    shape: {
                        x1: l[0] + Math.cos(dt) * (s - b),
                        x2: l[0] + Math.cos(dt) * (s - b - at),
                        y1: l[1] + Math.sin(dt) * (s - b),
                        y2: l[1] + Math.sin(dt) * (s - b - at)
                    },
                    style: vt,
                    z2: 4,
                    silent: !0
                }) : "circle" === w.type && ht.push({
                    shape: {
                        cx: l[0] + Math.cos(dt) * (s - b),
                        cy: l[1] + Math.sin(dt) * (s - b),
                        r: at
                    },
                    style: vt,
                    silent: !0
                }),
                dt += ft
            }
            "tick" === w.type ? this.setShapeGroup("axisTick", Eo, ht) : "circle" === w.type && this.setShapeGroup("axisTick", yo, ht)
        }
        if (_.show) {
            var mt = _.formatter,
            xt = _.distance,
            _t = _.style,
            wt = [],
            bt = (h - u) / g,
            St = u,
            kt = (r - i) / g,
            Mt = i,
            It = Ea(x.length, s);
            xt = Ea(xt, s);
            for (var At = 0; At <= g; At++)
                wt.push({
                    style: e.getFormattedText(a({
                            x: l[0] + Math.cos(St) * (s - b - It - xt),
                            y: l[1] + Math.sin(St) * (s - b - It - xt),
                            text: mt ? mt(Mt) : Mt
                        }, _t)),
                    z2: 7,
                    silent: !0
                }), St += bt, Mt += kt;
            this.setShapeGroup("axisLabel", vo, wt)
        }
    },
    e
}
(cs);
function wv(t, e) {
    return B(t) ? [Ea(t[0], e), Ea(t[1], e)] : [Ea(t, e), Ea(t, e)]
}
function bv(t) {
    for (var e = {
            domain: [],
            color: []
        }, n = 0; n < t.length; n++)
        e.domain.push(t[n][0]), e.color.push(t[n][1]);
    return e
}
function Sv(t, e, n, i, r) {
    var o = Hh().domain([i, r]).range([0, 1]);
    return Hh().domain(e).range(t).interpolate(dh)(o(n))
}
_v.type = mv,
dl(xv, _v);
var kv = function (t) {
    function e() {
        return o(this, e),
        u(this, t.apply(this, arguments))
    }
    return s(e, t),
    e.prototype.formatOption = function (e) {
        var n;
        (n = t.prototype.formatOption).call.apply(n, [this].concat(Array.prototype.slice.call(arguments))),
        e.color && (Na(e, "area.normal.style.fill") || Fa(e, "area.normal.style.fill", e.color))
    },
    e.prototype.formatData = function (t) {
        return O(t, function (t, e) {
            return [e, t]
        })
    },
    e.prototype.update = function () {
        var e;
        (e = t.prototype.update).call.apply(e, [this].concat(Array.prototype.slice.call(arguments)));
        var n = this.getAxisModel("y").scale,
        i = n.domain();
        this.y0 = n(i[1] < 0 ? i[1] : i[0] > 0 ? i[0] : 0)
    },
    e
}
(rp);
kv.type = "area",
kv.defaultOption = {
    $dataIndex: void 0,
    dataKey: void 0,
    $axisIndex: [0, 1],
    name: void 0,
    area: {
        normal: {
            show: !0,
            style: {
                fill: "#ccc"
            }
        }
    },
    curve: {
        type: "linear",
        param: void 0
    },
    connectNulls: !1,
    legendHoverLink: !0,
    cursor: "default",
    zlevel: 0,
    z: 3
};
var Mv = function (t) {
    function e() {
        return o(this, e),
        u(this, t.apply(this, arguments))
    }
    return s(e, t),
    e.prototype.render = function (t, e, n) {
        var i = t.get("cursor"),
        r = t.get("curve"),
        o = t.get("animation"),
        a = t.get("animationDuration"),
        s = t.get("animationEasing"),
        l = t.get("area").normal,
        u = l.style,
        h = t.points,
        c = t.y0;
        if (l.show) {
            var f = {
                x: function (t) {
                    return t[0]
                },
                y0: function (t) {
                    return t[1][0]
                },
                y1: function (t) {
                    return t[1][1]
                },
                data: h,
                curve: np(r),
                y0Start: c,
                y1Start: c,
                percent: 1,
                defined: function (t) {
                    return t
                }
            };
            this.setShape("area", Ud, {
                shape: f,
                style: u,
                cursor: i
            }, {
                animation: o,
                duration: a,
                easing: s,
                animateFrom: {
                    shape: {
                        percent: 0
                    }
                }
            })
        }
    },
    e
}
(cs);
Mv.type = "area",
dl(kv, Mv);
var Iv = "lines",
Av = function (t) {
    function e() {
        var n,
        i;
        o(this, e);
        for (var r = arguments.length, a = Array(r), s = 0; s < r; s++)
            a[s] = arguments[s];
        return n = i = u(this, t.call.apply(t, [this].concat(a))),
        i.type = Iv,
        u(i, n)
    }
    return s(e, t),
    e
}
(_s);
Av.type = Iv,
Av.defaultOption = {
    $dataIndex: void 0,
    dataKey: void 0,
    $geoIndex: 0,
    name: void 0,
    effectSymbol: {
        show: !1,
        type: "circle",
        size: 3,
        style: {},
        period: 4e3,
        delay: 0,
        trailLength: .2,
        loop: !0
    },
    line: {
        show: !0,
        curveness: 0,
        style: {}
    },
    endSymbol: {
        show: !1,
        type: "arrow",
        size: 10,
        style: {}
    },
    zlevel: 0,
    z: 9
};
var Tv = function (t) {
    function e(n) {
        o(this, e);
        var i = u(this, t.apply(this, arguments)),
        r = n.model,
        a = n.line,
        s = n.coords,
        l = s[0],
        h = s[1],
        c = {
            shape: {
                x1: l[0],
                y1: l[1],
                x2: h[0],
                y2: h[1],
                cpx1: (l[0] + h[0]) / 2 - (l[1] - h[1]) * a.curveness,
                cpy1: (l[1] + h[1]) / 2 - (h[0] - l[0]) * a.curveness,
                percent: 1
            },
            style: a.style
        },
        f = new Oo(c),
        d = n.effectSymbol,
        p = n.endSymbol,
        g = d.size,
        v = f.pointAt(0),
        y = f.pointAt(1),
        m = f.tangentAt(0),
        x = f.tangentAt(1),
        _ = -Math.PI / 2 - Math.atan2(m[1], m[0]),
        w = -Math.PI / 2 - Math.atan2(x[1], x[0]);
        if (a.show && i.setShape("line", Oo, c, {
                animation: r.get("animation"),
                animateFrom: {
                    shape: {
                        percent: 0
                    }
                }
            }), p.show) {
            var b = new zs({
                shape: {
                    symbolType: "arrow",
                    x: -p.size / 2,
                    y: -p.size / 2,
                    width: p.size,
                    height: p.size
                },
                style: p.style,
                position: y,
                rotation: w
            });
            if (i.set("endSymbol", b), r.get("animation"))
                b.__t = 0, b.animate("", !1).when(r.get("animationDuration"), {
                    __t: 1
                }).during(function () {
                    var t = f.tangentAt(b.__t),
                    e = -Math.PI / 2 - Math.atan2(t[1], t[0]);
                    b.attr("position", f.pointAt(b.__t)),
                    b.attr("rotation", e)
                }).start(r.get("animationEasing"))
        }
        if (d.show) {
            var S = new zs({
                shape: {
                    symbolType: d.type,
                    x: -g / 2,
                    y: -g / 2,
                    width: g,
                    height: g
                },
                style: d.style,
                position: v,
                rotation: _
            });
            i.set("symbol", S),
            S.__t = 0,
            S.animate("", d.loop).when(d.period, {
                __t: 1
            }).delay(W(d.delay) ? d.delay(n.data, n.index, n) : d.delay).during(function () {
                var t = f.tangentAt(S.__t),
                e = -Math.PI / 2 - Math.atan2(t[1], t[0]);
                S.attr("position", f.pointAt(S.__t)),
                S.attr("rotation", e)
            }).start()
        }
        return i
    }
    return s(e, t),
    e
}
(Ip),
Cv = function (t) {
    function e() {
        var n,
        i;
        o(this, e);
        for (var r = arguments.length, a = Array(r), s = 0; s < r; s++)
            a[s] = arguments[s];
        return n = i = u(this, t.call.apply(t, [this].concat(a))),
        i.type = Iv,
        u(i, n)
    }
    return s(e, t),
    e.prototype.render = function (t, e, n) {
        this.remove();
        var i = n.getZr(),
        r = "svg" === i.painter.getType(),
        o = t.get("zlevel"),
        a = t.get("effectSymbol"),
        s = t.get("endSymbol"),
        l = a.show,
        u = a.trailLength,
        h = t.get("line"),
        c = n.getModel("geo", 0),
        f = t.getData(),
        d = [];
        r || i.painter.getLayer(o).clear(!0),
        l && u && (r || i.configLayer(o, {
                motionBlur: !0,
                lastFrameAlpha: Math.max(Math.min(u / 10 + .9, 1), 0)
            })),
        D(f, function (e, n) {
            var i = e.coords,
            r = c.projection(i[0]),
            o = c.projection(i[1]);
            d.push({
                coords: [r, o],
                line: h,
                effectSymbol: a,
                endSymbol: s,
                model: t,
                key: n,
                index: n,
                data: e
            })
        }),
        this.setShapeGroup("flylines", Tv, d)
    },
    e
}
(cs);
Cv.type = Iv,
dl(Av, Cv);
var zv = "effectScatter",
Ev = function (t) {
    function e() {
        var n,
        i;
        o(this, e);
        for (var r = arguments.length, a = Array(r), s = 0; s < r; s++)
            a[s] = arguments[s];
        return n = i = u(this, t.call.apply(t, [this].concat(a))),
        i.type = zv,
        u(i, n)
    }
    return s(e, t),
    e
}
(rp);
Ev.type = zv,
Ev.defaultOption = {
    $dataIndex: void 0,
    dataKey: void 0,
    $axisIndex: [0, 1],
    name: void 0,
    effectType: "ripple",
    showEffectOn: "render",
    rippleEffect: {
        period: 4e3,
        scale: 3,
        brushType: "stroke",
        number: 3
    },
    symbol: {
        normal: {
            show: !0,
            type: "circle",
            offset: [0, 0],
            size: 8,
            style: {
                fill: "#058499",
                lineWidth: .5
            }
        },
        emphasis: {
            show: !1,
            style: {}
        }
    },
    label: {
        normal: {
            show: !1,
            style: {
                position: "top"
            },
            formatter: void 0
        },
        emphasis: {
            show: !1,
            style: {}
        }
    },
    cursor: "default",
    zlevel: 0,
    z: 4
};
var Lv = function (t) {
    function e(n) {
        o(this, e);
        for (var i = u(this, t.apply(this, arguments)), r = i.setShape("symbol", zs, n), s = new Ze, l = n.model, h = l.get("rippleEffect"), c = l.get("showEffectOn"), f = h.number, d = h.period, p = h.scale, g = h.brushType, v = function (t) {
            var e = new zs(a({}, n, {
                        z2: 99,
                        silent: !0,
                        scale: [.8, .8]
                    }));
            if ("fill" === g) {
                var i = n.style.fill || n.style.stroke;
                e.setStyle({
                    fill: i,
                    stroke: null
                })
            } else {
                var o = n.style.stroke || n.style.fill;
                e.setStyle({
                    fill: null,
                    stroke: o
                })
            }
            var l = -t / f * d;
            e.animateScale = e.animate("", !0).when(d, {
                scale: [p, p]
            }).delay(l),
            e.animateOpacity = e.animateStyle(!0).when(d, {
                opacity: 0
            }).delay(l),
            "emphasis" === c ? (r.on("mouseover", function () {
                    e.show(),
                    e.animateScale.start(),
                    e.animateOpacity.start()
                }), r.on("mouseout", function () {
                    e.animateScale.stop(),
                    e.animateOpacity.stop(),
                    e.hide()
                })) : (e.animateScale.start(), e.animateOpacity.start()),
            s.add(e)
        }, y = 0; y < f; y++)
            v(y);
        return i.set("rippleGroup", s),
        i
    }
    return s(e, t),
    e
}
(Ip),
Dv = function (t) {
    function e() {
        var n,
        i;
        o(this, e);
        for (var r = arguments.length, a = Array(r), s = 0; s < r; s++)
            a[s] = arguments[s];
        return n = i = u(this, t.call.apply(t, [this].concat(a))),
        i.type = zv,
        u(i, n)
    }
    return s(e, t),
    e.prototype.renderAllSymbol = function (t, e, n, i) {
        this.group,
        t.get("symbol").normal,
        t.isScatter;
        var r = t.get("cursor"),
        o = [];
        D(i, function (e, n) {
            if (e) {
                var i = e[2],
                s = {
                    shape: function (t, e, n) {
                        var i = t.get("symbol"),
                        r = (i = n ? S(b(i.normal), i.emphasis, !0) : i.normal).type,
                        o = i.size,
                        a = i.offset,
                        s = Oa("function" == typeof o ? o(e) : o);
                        return {
                            symbolType: r,
                            x: -s.width / 2 + a[0],
                            y: -s.height / 2 + a[1],
                            width: s.width,
                            height: s.height
                        }
                    }
                    (t, i, !1),
                    position: [e[0], e[1]],
                    style: function (t, e, n, i) {
                        var r = t.get("symbol"),
                        o = t.get("label"),
                        s = r.normal.style,
                        l = e[1],
                        u = {
                            data: e,
                            index: i - t.startIndex,
                            dataIndex: i
                        },
                        h = t.get("$visualMapIndex"),
                        c = void 0,
                        f = void 0;
                        if (c = W(s) ? s(l, u) : b(s), void 0 !== h) {
                            var d = t.globalModel.getComponentByIndex("visualMap", h);
                            void 0 !== t.get("$calendarIndex") || "line" === t.get("type") ? c.fill = d.getColorStop(e[1], c.fill) : c.fill = d.getColorStop(e[2], c.fill)
                        }
                        if (n) {
                            var p = r.emphasis.style;
                            p = W(p) ? p(l, u) : b(p),
                            c = S(c, p, !0)
                        }
                        if (n) {
                            var g = o.emphasis;
                            if (g.show) {
                                var v = o.normal,
                                y = g.formatter || v.formatter,
                                m = W(v.style) ? v.style(l, u) : b(v.style),
                                x = S(m, g.style, !0);
                                f = a({
                                    text: y ? y(l, u) : l
                                }, Sa(Ov(x, l, u)))
                            }
                        } else {
                            var _ = o.normal;
                            if (_.show) {
                                var w = _.formatter,
                                k = W(_.style) ? _.style(l, u) : b(_.style);
                                f = a({
                                    text: w ? w(l, u) : l
                                }, Sa(Ov(k, l, u)))
                            }
                        }
                        f && (c = S(c, f));
                        return c
                    }
                    (t, i, !1, e[3]),
                    key: e[3],
                    seriesIndex: t.index,
                    dataIndex: e[3],
                    rectHover: !0,
                    cursor: r,
                    model: t
                };
                o.push(s)
            }
        }),
        this.setShapeGroup("symbolGroup", Lv, o)
    },
    e.prototype.render = function (t, e, n) {
        this.remove(),
        this.renderAllSymbol(t, e, n, t.points)
    },
    e
}
(cs);
function Ov(t, e, n) {
    var i = {};
    return D(t, function (t, r) {
        W(t) ? i[r] = t(e, n) : i[r] = t
    }),
    i
}
Dv.type = zv,
dl(Ev, Dv);
var Pv = function () {
    function t() {
        o(this, t),
        this.defaultRadius = 25,
        this.defaultBlur = 15,
        this.defaultGradient = {
            .4: "blue",
            .6: "cyan",
            .7: "lime",
            .8: "yellow",
            1: "red"
        };
        var e = this._canvas = A();
        this._ctx = e.getContext("2d"),
        this._max = 1,
        this._min = 0,
        this._data = []
    }
    return t.prototype.data = function (t) {
        return this._data = t,
        this
    },
    t.prototype.max = function (t) {
        return this._max = t,
        this
    },
    t.prototype.min = function (t) {
        return this._min = t,
        this
    },
    t.prototype.add = function (t) {
        return this._data.push(t),
        this
    },
    t.prototype.clear = function () {
        return this._data = [],
        this
    },
    t.prototype.radius = function (t, e) {
        e = void 0 === e ? this.defaultBlur : e;
        var n = this._circle = this._createCanvas(),
        i = n.getContext("2d"),
        r = this._r = t + e;
        return n.width = n.height = 2 * r,
        i.shadowOffsetX = i.shadowOffsetY = 2 * r,
        i.shadowBlur = e,
        i.shadowColor = "black",
        i.beginPath(),
        i.arc(-r, -r, t, 0, 2 * Math.PI, !0),
        i.closePath(),
        i.fill(),
        this
    },
    t.prototype.gradient = function (t) {
        var e = this._createCanvas(),
        n = e.getContext("2d"),
        i = n.createLinearGradient(0, 0, 0, 256);
        for (var r in e.width = 1, e.height = 256, t)
            i.addColorStop(+r, t[r]);
        return n.fillStyle = i,
        n.fillRect(0, 0, 1, 256),
        this._grad = n.getImageData(0, 0, 1, 256).data,
        this
    },
    t.prototype.draw = function () {
        var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : .05,
        e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 1,
        n = arguments[2],
        i = arguments[3];
        this._circle || this.radius(this.defaultRadius),
        this._grad || this.gradient(this.defaultGradient);
        var r = this._canvas,
        o = this._ctx;
        r.width = n,
        r.height = i,
        o.clearRect(0, 0, n, i);
        for (var a, s = this._max - this._min, l = 0, u = this._data.length; l < u; l++)
            a = this._data[l], o.globalAlpha = Math.min(Math.max((a[2] - this._min) / s, t), e), o.drawImage(this._circle, a[0] - this._r, a[1] - this._r);
        var h = o.getImageData(0, 0, n, i);
        return this._colorize(h.data, this._grad),
        o.putImageData(h, 0, 0),
        this
    },
    t.prototype._colorize = function (t, e) {
        for (var n, i = 0, r = t.length; i < r; i += 4)
            (n = 4 * t[i + 3]) && (t[i] = e[n], t[i + 1] = e[n + 1], t[i + 2] = e[n + 2])
    },
    t.prototype._createCanvas = function () {
        return "undefined" != typeof document ? document.createElement("canvas") : new this._canvas.constructor
    },
    t
}
(),
Fv = "heatmap",
Nv = function (t) {
    function e() {
        var n,
        i;
        o(this, e);
        for (var r = arguments.length, a = Array(r), s = 0; s < r; s++)
            a[s] = arguments[s];
        return n = i = u(this, t.call.apply(t, [this].concat(a))),
        i.type = Fv,
        u(i, n)
    }
    return s(e, t),
    e.prototype.updateByAxis = function () {
        for (var t = this.data, e = this.getAxisModel("x"), n = this.getAxisModel("y"), i = e.scale, r = n.scale, o = e.domain, a = n.domain, s = e.startIndex, l = n.startIndex, u = i.step(), h = r.step(), c = i.paddingOuter() * u, f = i.paddingOuter() * h, d = [], p = 0; p < t.length; p++) {
            var g = t[p];
            d.push([i(o[g[0] - s]) - c, r(a[g[1] - l]) - f, g[2]])
        }
        this.points = d,
        this.width = u,
        this.height = h
    },
    e.prototype.updateByCalendar = function () {
        var t = this.globalModel,
        e = this.data,
        n = t.getComponentByIndex("calendar", this.get("$calendarIndex")),
        i = n.get("cellSize"),
        r = [];
        D(e, function (t, e) {
            var o = t[0],
            a = [],
            s = n.calcPoint(o);
            s && (a = [s.x - i / 2, s.y - i / 2, t[1]], r.push(a))
        }),
        this.points = r,
        this.width = i,
        this.height = i
    },
    e.prototype.updateByGeo = function () {
        var t = this.globalModel,
        e = this.data,
        n = t.getComponentByIndex("geo", this.get("$geoIndex")),
        i = [];
        D(e, function (t, e) {
            var r = n.projection(t);
            r && i.push([r[0], r[1], t[2]])
        }),
        this.points = i
    },
    e.prototype.update = function () {
        this.global;
        var t = this.get("$axisIndex"),
        e = this.get("$calendarIndex"),
        n = this.get("$geoIndex"),
        i = this.getData();
        i = P(i, function (t) {
            return t
        }),
        this.data = i,
        void 0 !== t ? this.updateByAxis() : void 0 !== e ? this.updateByCalendar() : void 0 !== n && this.updateByGeo()
    },
    e
}
(_s);
Nv.type = Fv,
Nv.defaultOption = {
    zlevel: 0,
    z: 1,
    pointSize: 20,
    blurSize: 30,
    minOpacity: 0,
    maxOpacity: 1,
    itemStyle: {
        normal: {
            fill: "rgba(102, 132, 221, 0.5)"
        }
    }
};
var Rv = function (t) {
    function e() {
        var n,
        i;
        o(this, e);
        for (var r = arguments.length, a = Array(r), s = 0; s < r; s++)
            a[s] = arguments[s];
        return n = i = u(this, t.call.apply(t, [this].concat(a))),
        i.type = Fv,
        u(i, n)
    }
    return s(e, t),
    e.prototype.renderOnGeo = function (t, e, n) {
        for (var i = t.points, r = t.get("blurSize"), o = t.get("pointSize"), a = t.get("minOpacity"), s = t.get("maxOpacity"), l = (t.get("itemStyle").normal, t.get("$visualMapIndex")), u = n.getModel("visualMap", l), h = n.getWidth(), c = (n.getHeight(), this._heat || new Pv), f = u.get("inRange").color, d = {}, p = 0; p < f.length; p++)
            d[f[p][0]] = f[p][1];
        c.data(i),
        c.max(u.get("max")),
        c.min(u.get("min")),
        c.radius(o, r),
        c.gradient(d),
        c.draw(a, s, h, h),
        this.setShape("heatmap", yi, {
            style: {
                width: h,
                height: h,
                x: 0,
                y: 0,
                image: c._canvas
            },
            silent: !0
        })
    },
    e.prototype.renderOnOther = function (t, e, n) {
        for (var i = t.points, r = t.width, o = t.height, s = t.get("itemStyle").normal, l = n.getModel("visualMap", 0), u = [], h = 0; h < i.length; h++) {
            var c = i[h],
            f = l && l.getColorStop(c[2]),
            d = a({}, s);
            f && (d.fill = f),
            u.push({
                shape: {
                    x: 0,
                    y: 0,
                    width: r,
                    height: o
                },
                position: [c[0], c[1]],
                style: d,
                data: {
                    value: c[2]
                }
            })
        }
        this.setShapeGroup("heatmap", Co, u)
    },
    e.prototype.render = function (t) {
        void 0 !== t.get("$geoIndex") ? this.renderOnGeo.apply(this, arguments) : this.renderOnOther.apply(this, arguments)
    },
    e
}
(cs);
function Bv(t, e) {
    return t.parent === e.parent ? 1 : 2
}
function Wv(t, e) {
    return t + e.x
}
function Gv(t, e) {
    return Math.max(t, e.y)
}
function Hv(t) {
    var e = 0,
    n = t.children,
    i = n && n.length;
    if (i)
        for (; --i >= 0; )
            e += n[i].value;
    else
        e = 1;
    t.value = e
}
function jv(t, e) {
    var n,
    i,
    r,
    o,
    a,
    s = new Vv(t),
    l = +t.value && (s.value = t.value),
    u = [s];
    for (null == e && (e = Uv); n = u.pop(); )
        if (l && (n.value = +n.data.value), (r = e(n.data)) && (a = r.length))
            for (n.children = new Array(a), o = a - 1; o >= 0; --o)
                u.push(i = n.children[o] = new Vv(r[o])), i.parent = n, i.depth = n.depth + 1;
    return s.eachBefore(Yv)
}
function Uv(t) {
    return t.children
}
function qv(t) {
    t.data = t.data.data
}
function Yv(t) {
    var e = 0;
    do {
        t.height = e
    } while ((t = t.parent) && t.height < ++e)
}
function Vv(t) {
    this.data = t,
    this.depth = this.height = 0,
    this.parent = null
}
Rv.type = Fv,
dl(Nv, Rv),
Vv.prototype = jv.prototype = {
    constructor: Vv,
    count: function () {
        return this.eachAfter(Hv)
    },
    each: function (t) {
        var e,
        n,
        i,
        r,
        o = this,
        a = [o];
        do {
            for (e = a.reverse(), a = []; o = e.pop(); )
                if (t(o), n = o.children)
                    for (i = 0, r = n.length; i < r; ++i)
                        a.push(n[i])
        } while (a.length);
        return this
    },
    eachAfter: function (t) {
        for (var e, n, i, r = this, o = [r], a = []; r = o.pop(); )
            if (a.push(r), e = r.children)
                for (n = 0, i = e.length; n < i; ++n)
                    o.push(e[n]);
        for (; r = a.pop(); )
            t(r);
        return this
    },
    eachBefore: function (t) {
        for (var e, n, i = this, r = [i]; i = r.pop(); )
            if (t(i), e = i.children)
                for (n = e.length - 1; n >= 0; --n)
                    r.push(e[n]);
        return this
    },
    sum: function (t) {
        return this.eachAfter(function (e) {
            for (var n = +t(e.data) || 0, i = e.children, r = i && i.length; --r >= 0; )
                n += i[r].value;
            e.value = n
        })
    },
    sort: function (t) {
        return this.eachBefore(function (e) {
            e.children && e.children.sort(t)
        })
    },
    path: function (t) {
        for (var e = this, n = function (t, e) {
            if (t === e)
                return t;
            var n = t.ancestors(),
            i = e.ancestors(),
            r = null;
            for (t = n.pop(), e = i.pop(); t === e; )
                r = t, t = n.pop(), e = i.pop();
            return r
        }
            (e, t), i = [e]; e !== n; )
            e = e.parent, i.push(e);
        for (var r = i.length; t !== n; )
            i.splice(r, 0, t), t = t.parent;
        return i
    },
    ancestors: function () {
        for (var t = this, e = [t]; t = t.parent; )
            e.push(t);
        return e
    },
    descendants: function () {
        var t = [];
        return this.each(function (e) {
            t.push(e)
        }),
        t
    },
    leaves: function () {
        var t = [];
        return this.eachBefore(function (e) {
            e.children || t.push(e)
        }),
        t
    },
    links: function () {
        var t = this,
        e = [];
        return t.each(function (n) {
            n !== t && e.push({
                source: n.parent,
                target: n
            })
        }),
        e
    },
    copy: function () {
        return jv(this).eachBefore(qv)
    }
};
var $v = Array.prototype.slice;
function Xv(t) {
    for (var e, n, i = 0, r = (t = function (t) {
            for (var e, n, i = t.length; i; )
                n = Math.random() * i-- | 0, e = t[i], t[i] = t[n], t[n] = e;
            return t
        }
            ($v.call(t))).length, o = []; i < r; )
        e = t[i], n && Qv(n, e) ? ++i : (n = ty(o = Zv(o, e)), i = 0);
    return n
}
function Zv(t, e) {
    var n,
    i;
    if (Jv(e, t))
        return [e];
    for (n = 0; n < t.length; ++n)
        if (Kv(e, t[n]) && Jv(ey(t[n], e), t))
            return [t[n], e];
    for (n = 0; n < t.length - 1; ++n)
        for (i = n + 1; i < t.length; ++i)
            if (Kv(ey(t[n], t[i]), e) && Kv(ey(t[n], e), t[i]) && Kv(ey(t[i], e), t[n]) && Jv(ny(t[n], t[i], e), t))
                return [t[n], t[i], e];
    throw new Error
}
function Kv(t, e) {
    var n = t.r - e.r,
    i = e.x - t.x,
    r = e.y - t.y;
    return n < 0 || n * n < i * i + r * r
}
function Qv(t, e) {
    var n = t.r - e.r + 1e-6,
    i = e.x - t.x,
    r = e.y - t.y;
    return n > 0 && n * n > i * i + r * r
}
function Jv(t, e) {
    for (var n = 0; n < e.length; ++n)
        if (!Qv(t, e[n]))
            return !1;
    return !0
}
function ty(t) {
    switch (t.length) {
    case 1:
        return {
            x: (e = t[0]).x,
            y: e.y,
            r: e.r
        };
    case 2:
        return ey(t[0], t[1]);
    case 3:
        return ny(t[0], t[1], t[2])
    }
    var e
}
function ey(t, e) {
    var n = t.x,
    i = t.y,
    r = t.r,
    o = e.x,
    a = e.y,
    s = e.r,
    l = o - n,
    u = a - i,
    h = s - r,
    c = Math.sqrt(l * l + u * u);
    return {
        x: (n + o + l / c * h) / 2,
        y: (i + a + u / c * h) / 2,
        r: (c + r + s) / 2
    }
}
function ny(t, e, n) {
    var i = t.x,
    r = t.y,
    o = t.r,
    a = e.x,
    s = e.y,
    l = e.r,
    u = n.x,
    h = n.y,
    c = n.r,
    f = i - a,
    d = i - u,
    p = r - s,
    g = r - h,
    v = l - o,
    y = c - o,
    m = i * i + r * r - o * o,
    x = m - a * a - s * s + l * l,
    _ = m - u * u - h * h + c * c,
    w = d * p - f * g,
    b = (p * _ - g * x) / (2 * w) - i,
    S = (g * v - p * y) / w,
    k = (d * x - f * _) / (2 * w) - r,
    M = (f * y - d * v) / w,
    I = S * S + M * M - 1,
    A = 2 * (o + b * S + k * M),
    T = b * b + k * k - o * o,
    C =  - (I ? (A + Math.sqrt(A * A - 4 * I * T)) / (2 * I) : T / A);
    return {
        x: i + b + S * C,
        y: r + k + M * C,
        r: C
    }
}
function iy(t, e, n) {
    var i,
    r,
    o,
    a,
    s = t.x - e.x,
    l = t.y - e.y,
    u = s * s + l * l;
    u ? (r = e.r + n.r, r *= r, a = t.r + n.r, r > (a *= a) ? (i = (u + a - r) / (2 * u), o = Math.sqrt(Math.max(0, a / u - i * i)), n.x = t.x - i * s - o * l, n.y = t.y - i * l + o * s) : (i = (u + r - a) / (2 * u), o = Math.sqrt(Math.max(0, r / u - i * i)), n.x = e.x + i * s - o * l, n.y = e.y + i * l + o * s)) : (n.x = e.x + n.r, n.y = e.y)
}
function ry(t, e) {
    var n = t.r + e.r - 1e-6,
    i = e.x - t.x,
    r = e.y - t.y;
    return n > 0 && n * n > i * i + r * r
}
function oy(t) {
    var e = t._,
    n = t.next._,
    i = e.r + n.r,
    r = (e.x * n.r + n.x * e.r) / i,
    o = (e.y * n.r + n.y * e.r) / i;
    return r * r + o * o
}
function ay(t) {
    this._ = t,
    this.next = null,
    this.previous = null
}
function sy(t) {
    if (!(r = t.length))
        return 0;
    var e,
    n,
    i,
    r,
    o,
    a,
    s,
    l,
    u,
    h,
    c;
    if ((e = t[0]).x = 0, e.y = 0, !(r > 1))
        return e.r;
    if (n = t[1], e.x = -n.r, n.x = e.r, n.y = 0, !(r > 2))
        return e.r + n.r;
    iy(n, e, i = t[2]),
    e = new ay(e),
    n = new ay(n),
    i = new ay(i),
    e.next = i.previous = n,
    n.next = e.previous = i,
    i.next = n.previous = e;
    t: for (s = 3; s < r; ++s) {
        iy(e._, n._, i = t[s]),
        i = new ay(i),
        l = n.next,
        u = e.previous,
        h = n._.r,
        c = e._.r;
        do {
            if (h <= c) {
                if (ry(l._, i._)) {
                    n = l,
                    e.next = n,
                    n.previous = e,
                    --s;
                    continue t
                }
                h += l._.r,
                l = l.next
            } else {
                if (ry(u._, i._)) {
                    (e = u).next = n,
                    n.previous = e,
                    --s;
                    continue t
                }
                c += u._.r,
                u = u.previous
            }
        } while (l !== u.next);
        for (i.previous = e, i.next = n, e.next = n.previous = n = i, o = oy(e); (i = i.next) !== n; )
            (a = oy(i)) < o && (e = i, o = a);
        n = e.next
    }
    for (e = [n._], i = n; (i = i.next) !== n; )
        e.push(i._);
    for (i = Xv(e), s = 0; s < r; ++s)
        (e = t[s]).x -= i.x, e.y -= i.y;
    return i.r
}
function ly(t) {
    if ("function" != typeof t)
        throw new Error;
    return t
}
function uy() {
    return 0
}
function hy(t) {
    return function () {
        return t
    }
}
function cy(t) {
    return Math.sqrt(t.value)
}
function fy(t) {
    return function (e) {
        e.children || (e.r = Math.max(0, +t(e) || 0))
    }
}
function dy(t, e) {
    return function (n) {
        if (i = n.children) {
            var i,
            r,
            o,
            a = i.length,
            s = t(n) * e || 0;
            if (s)
                for (r = 0; r < a; ++r)
                    i[r].r += s;
            if (o = sy(i), s)
                for (r = 0; r < a; ++r)
                    i[r].r -= s;
            n.r = o + s
        }
    }
}
function py(t) {
    return function (e) {
        var n = e.parent;
        e.r *= t,
        n && (e.x = n.x + t * e.x, e.y = n.y + t * e.y)
    }
}
function gy(t) {
    t.x0 = Math.round(t.x0),
    t.y0 = Math.round(t.y0),
    t.x1 = Math.round(t.x1),
    t.y1 = Math.round(t.y1)
}
function vy(t, e, n, i, r) {
    for (var o, a = t.children, s = -1, l = a.length, u = t.value && (i - e) / t.value; ++s < l; )
        (o = a[s]).y0 = n, o.y1 = r, o.x0 = e, o.x1 = e += o.value * u
}
var yy = "$",
my = {
    depth: -1
},
xy = {};
function _y(t) {
    return t.id
}
function wy(t) {
    return t.parentId
}
function by(t, e) {
    return t.parent === e.parent ? 1 : 2
}
function Sy(t) {
    var e = t.children;
    return e ? e[0] : t.t
}
function ky(t) {
    var e = t.children;
    return e ? e[e.length - 1] : t.t
}
function My(t, e, n) {
    var i = n / (e.i - t.i);
    e.c -= i,
    e.s += n,
    t.c += i,
    e.z += n,
    e.m += n
}
function Iy(t, e, n) {
    return t.a.parent === e.parent ? t.a : n
}
function Ay(t, e) {
    this._ = t,
    this.parent = null,
    this.children = null,
    this.A = null,
    this.a = this,
    this.z = 0,
    this.m = 0,
    this.c = 0,
    this.s = 0,
    this.t = null,
    this.i = e
}
function Ty() {
    var t = by,
    e = 1,
    n = 1,
    i = null;
    function r(r) {
        var l = function (t) {
            for (var e, n, i, r, o, a = new Ay(t, 0), s = [a]; e = s.pop(); )
                if (i = e._.children)
                    for (e.children = new Array(o = i.length), r = o - 1; r >= 0; --r)
                        s.push(n = e.children[r] = new Ay(i[r], r)), n.parent = e;
            return (a.parent = new Ay(null, 0)).children = [a],
            a
        }
        (r);
        if (l.eachAfter(o), l.parent.m = -l.z, l.eachBefore(a), i)
            r.eachBefore(s);
        else {
            var u = r,
            h = r,
            c = r;
            r.eachBefore(function (t) {
                t.x < u.x && (u = t),
                t.x > h.x && (h = t),
                t.depth > c.depth && (c = t)
            });
            var f = u === h ? 1 : t(u, h) / 2,
            d = f - u.x,
            p = e / (h.x + f + d),
            g = n / (c.depth || 1);
            r.eachBefore(function (t) {
                t.x = (t.x + d) * p,
                t.y = t.depth * g
            })
        }
        return r
    }
    function o(e) {
        var n = e.children,
        i = e.parent.children,
        r = e.i ? i[e.i - 1] : null;
        if (n) {
            !function (t) {
                for (var e, n = 0, i = 0, r = t.children, o = r.length; --o >= 0; )
                    (e = r[o]).z += n, e.m += n, n += e.s + (i += e.c)
            }
            (e);
            var o = (n[0].z + n[n.length - 1].z) / 2;
            r ? (e.z = r.z + t(e._, r._), e.m = e.z - o) : e.z = o
        } else
            r && (e.z = r.z + t(e._, r._));
        e.parent.A = function (e, n, i) {
            if (n) {
                for (var r, o = e, a = e, s = n, l = o.parent.children[0], u = o.m, h = a.m, c = s.m, f = l.m; s = ky(s), o = Sy(o), s && o; )
                    l = Sy(l), (a = ky(a)).a = e, (r = s.z + c - o.z - u + t(s._, o._)) > 0 && (My(Iy(s, e, i), e, r), u += r, h += r), c += s.m, u += o.m, f += l.m, h += a.m;
                s && !ky(a) && (a.t = s, a.m += c - h),
                o && !Sy(l) && (l.t = o, l.m += u - f, i = e)
            }
            return i
        }
        (e, r, e.parent.A || i[0])
    }
    function a(t) {
        t._.x = t.z + t.parent.m,
        t.m += t.parent.m
    }
    function s(t) {
        t.x *= e,
        t.y = t.depth * n
    }
    return r.separation = function (e) {
        return arguments.length ? (t = e, r) : t
    },
    r.size = function (t) {
        return arguments.length ? (i = !1, e = +t[0], n = +t[1], r) : i ? null : [e, n]
    },
    r.nodeSize = function (t) {
        return arguments.length ? (i = !0, e = +t[0], n = +t[1], r) : i ? [e, n] : null
    },
    r
}
function Cy(t, e, n, i, r) {
    for (var o, a = t.children, s = -1, l = a.length, u = t.value && (r - n) / t.value; ++s < l; )
        (o = a[s]).x0 = e, o.x1 = i, o.y0 = n, o.y1 = n += o.value * u
}
Ay.prototype = Object.create(Vv.prototype);
var zy = (1 + Math.sqrt(5)) / 2;
function Ey(t, e, n, i, r, o) {
    for (var a, s, l, u, h, c, f, d, p, g, v, y = [], m = e.children, x = 0, _ = 0, w = m.length, b = e.value; x < w; ) {
        l = r - n,
        u = o - i;
        do {
            h = m[_++].value
        } while (!h && _ < w);
        for (c = f = h, v = h * h * (g = Math.max(u / l, l / u) / (b * t)), p = Math.max(f / v, v / c); _ < w; ++_) {
            if (h += s = m[_].value, s < c && (c = s), s > f && (f = s), v = h * h * g, (d = Math.max(f / v, v / c)) > p) {
                h -= s;
                break
            }
            p = d
        }
        y.push(a = {
                value: h,
                dice: l < u,
                children: m.slice(x, _)
            }),
        a.dice ? vy(a, n, i, r, b ? i += u * h / b : o) : Cy(a, n, i, b ? n += l * h / b : r, o),
        b -= h,
        x = _
    }
    return y
}
var Ly = function t(e) {
    function n(t, n, i, r, o) {
        Ey(e, t, n, i, r, o)
    }
    return n.ratio = function (e) {
        return t((e = +e) > 1 ? e : 1)
    },
    n
}
(zy);
function Dy() {
    var t = Ly,
    e = !1,
    n = 1,
    i = 1,
    r = [0],
    o = uy,
    a = uy,
    s = uy,
    l = uy,
    u = uy;
    function h(t) {
        return t.x0 = t.y0 = 0,
        t.x1 = n,
        t.y1 = i,
        t.eachBefore(c),
        r = [0],
        e && t.eachBefore(gy),
        t
    }
    function c(e) {
        var n = r[e.depth],
        i = e.x0 + n,
        h = e.y0 + n,
        c = e.x1 - n,
        f = e.y1 - n;
        c < i && (i = c = (i + c) / 2),
        f < h && (h = f = (h + f) / 2),
        e.x0 = i,
        e.y0 = h,
        e.x1 = c,
        e.y1 = f,
        e.children && (n = r[e.depth + 1] = o(e) / 2, i += u(e) - n, h += a(e) - n, c -= s(e) - n, f -= l(e) - n, c < i && (i = c = (i + c) / 2), f < h && (h = f = (h + f) / 2), t(e, i, h, c, f))
    }
    return h.round = function (t) {
        return arguments.length ? (e = !!t, h) : e
    },
    h.size = function (t) {
        return arguments.length ? (n = +t[0], i = +t[1], h) : [n, i]
    },
    h.tile = function (e) {
        return arguments.length ? (t = ly(e), h) : t
    },
    h.padding = function (t) {
        return arguments.length ? h.paddingInner(t).paddingOuter(t) : h.paddingInner()
    },
    h.paddingInner = function (t) {
        return arguments.length ? (o = "function" == typeof t ? t : hy(+t), h) : o
    },
    h.paddingOuter = function (t) {
        return arguments.length ? h.paddingTop(t).paddingRight(t).paddingBottom(t).paddingLeft(t) : h.paddingTop()
    },
    h.paddingTop = function (t) {
        return arguments.length ? (a = "function" == typeof t ? t : hy(+t), h) : a
    },
    h.paddingRight = function (t) {
        return arguments.length ? (s = "function" == typeof t ? t : hy(+t), h) : s
    },
    h.paddingBottom = function (t) {
        return arguments.length ? (l = "function" == typeof t ? t : hy(+t), h) : l
    },
    h.paddingLeft = function (t) {
        return arguments.length ? (u = "function" == typeof t ? t : hy(+t), h) : u
    },
    h
}
function Oy(t, e, n, i, r) {
    var o,
    a,
    s = t.children,
    l = s.length,
    u = new Array(l + 1);
    for (u[0] = a = o = 0; o < l; ++o)
        u[o + 1] = a += s[o].value;
    !function t(e, n, i, r, o, a, l) {
        if (e >= n - 1) {
            var h = s[e];
            return h.x0 = r,
            h.y0 = o,
            h.x1 = a,
            void(h.y1 = l)
        }
        var c = u[e],
        f = i / 2 + c,
        d = e + 1,
        p = n - 1;
        for (; d < p; ) {
            var g = d + p >>> 1;
            u[g] < f ? d = g + 1 : p = g
        }
        f - u[d - 1] < u[d] - f && e + 1 < d && --d;
        var v = u[d] - c,
        y = i - v;
        if (a - r > l - o) {
            var m = (r * y + a * v) / i;
            t(e, d, v, r, o, m, l),
            t(d, n, y, m, o, a, l)
        } else {
            var x = (o * y + l * v) / i;
            t(e, d, v, r, o, a, x),
            t(d, n, y, r, x, a, l)
        }
    }
    (0, l, t.value, e, n, i, r)
}
function Py(t, e, n, i, r) {
    (1 & t.depth ? Cy : vy)(t, e, n, i, r)
}
var Fy = function t(e) {
    function n(t, n, i, r, o) {
        if ((a = t._squarify) && a.ratio === e)
            for (var a, s, l, u, h, c = -1, f = a.length, d = t.value; ++c < f; ) {
                for (l = (s = a[c]).children, u = s.value = 0, h = l.length; u < h; ++u)
                    s.value += l[u].value;
                s.dice ? vy(s, n, i, r, i += (o - i) * s.value / d) : Cy(s, n, i, n += (r - n) * s.value / d, o),
                d -= s.value
            }
        else
            t._squarify = a = Ey(e, t, n, i, r, o), a.ratio = e
    }
    return n.ratio = function (e) {
        return t((e = +e) > 1 ? e : 1)
    },
    n
}
(zy),
Ny = Object.freeze({
    cluster: function () {
        var t = Bv,
        e = 1,
        n = 1,
        i = !1;
        function r(r) {
            var o,
            a = 0;
            r.eachAfter(function (e) {
                var n = e.children;
                n ? (e.x = function (t) {
                    return t.reduce(Wv, 0) / t.length
                }
                    (n), e.y = function (t) {
                    return 1 + t.reduce(Gv, 0)
                }
                    (n)) : (e.x = o ? a += t(e, o) : 0, e.y = 0, o = e)
            });
            var s = function (t) {
                for (var e; e = t.children; )
                    t = e[0];
                return t
            }
            (r),
            l = function (t) {
                for (var e; e = t.children; )
                    t = e[e.length - 1];
                return t
            }
            (r),
            u = s.x - t(s, l) / 2,
            h = l.x + t(l, s) / 2;
            return r.eachAfter(i ? function (t) {
                t.x = (t.x - r.x) * e,
                t.y = (r.y - t.y) * n
            }
                 : function (t) {
                t.x = (t.x - u) / (h - u) * e,
                t.y = (1 - (r.y ? t.y / r.y : 1)) * n
            })
        }
        return r.separation = function (e) {
            return arguments.length ? (t = e, r) : t
        },
        r.size = function (t) {
            return arguments.length ? (i = !1, e = +t[0], n = +t[1], r) : i ? null : [e, n]
        },
        r.nodeSize = function (t) {
            return arguments.length ? (i = !0, e = +t[0], n = +t[1], r) : i ? [e, n] : null
        },
        r
    },
    hierarchy: jv,
    pack: function () {
        var t = null,
        e = 1,
        n = 1,
        i = uy;
        function r(r) {
            return r.x = e / 2,
            r.y = n / 2,
            t ? r.eachBefore(fy(t)).eachAfter(dy(i, .5)).eachBefore(py(1)) : r.eachBefore(fy(cy)).eachAfter(dy(uy, 1)).eachAfter(dy(i, r.r / Math.min(e, n))).eachBefore(py(Math.min(e, n) / (2 * r.r))),
            r
        }
        return r.radius = function (e) {
            return arguments.length ? (t = null == (n = e) ? null : ly(n), r) : t;
            var n
        },
        r.size = function (t) {
            return arguments.length ? (e = +t[0], n = +t[1], r) : [e, n]
        },
        r.padding = function (t) {
            return arguments.length ? (i = "function" == typeof t ? t : hy(+t), r) : i
        },
        r
    },
    packSiblings: function (t) {
        return sy(t),
        t
    },
    packEnclose: Xv,
    partition: function () {
        var t = 1,
        e = 1,
        n = 0,
        i = !1;
        function r(r) {
            var o = r.height + 1;
            return r.x0 = r.y0 = n,
            r.x1 = t,
            r.y1 = e / o,
            r.eachBefore(function (t, e) {
                return function (i) {
                    i.children && vy(i, i.x0, t * (i.depth + 1) / e, i.x1, t * (i.depth + 2) / e);
                    var r = i.x0,
                    o = i.y0,
                    a = i.x1 - n,
                    s = i.y1 - n;
                    a < r && (r = a = (r + a) / 2),
                    s < o && (o = s = (o + s) / 2),
                    i.x0 = r,
                    i.y0 = o,
                    i.x1 = a,
                    i.y1 = s
                }
            }
                (e, o)),
            i && r.eachBefore(gy),
            r
        }
        return r.round = function (t) {
            return arguments.length ? (i = !!t, r) : i
        },
        r.size = function (n) {
            return arguments.length ? (t = +n[0], e = +n[1], r) : [t, e]
        },
        r.padding = function (t) {
            return arguments.length ? (n = +t, r) : n
        },
        r
    },
    stratify: function () {
        var t = _y,
        e = wy;
        function n(n) {
            var i,
            r,
            o,
            a,
            s,
            l,
            u,
            h = n.length,
            c = new Array(h),
            f = {};
            for (r = 0; r < h; ++r)
                i = n[r], s = c[r] = new Vv(i), null != (l = t(i, r, n)) && (l += "") && (f[u = yy + (s.id = l)] = u in f ? xy : s);
            for (r = 0; r < h; ++r)
                if (s = c[r], null != (l = e(n[r], r, n)) && (l += "")) {
                    if (!(a = f[yy + l]))
                        throw new Error("missing: " + l);
                    if (a === xy)
                        throw new Error("ambiguous: " + l);
                    a.children ? a.children.push(s) : a.children = [s],
                    s.parent = a
                } else {
                    if (o)
                        throw new Error("multiple roots");
                    o = s
                }
            if (!o)
                throw new Error("no root");
            if (o.parent = my, o.eachBefore(function (t) {
                    t.depth = t.parent.depth + 1,
                    --h
                }).eachBefore(Yv), o.parent = null, h > 0)
                throw new Error("cycle");
            return o
        }
        return n.id = function (e) {
            return arguments.length ? (t = ly(e), n) : t
        },
        n.parentId = function (t) {
            return arguments.length ? (e = ly(t), n) : e
        },
        n
    },
    tree: Ty,
    treemap: Dy,
    treemapBinary: Oy,
    treemapDice: vy,
    treemapSlice: Cy,
    treemapSliceDice: Py,
    treemapSquarify: Ly,
    treemapResquarify: Fy
}),
Ry = "treemap",
By = {
    treemapBinary: Oy,
    treemapDice: vy,
    treemapSlice: Cy,
    treemapSliceDice: Py,
    treemapSquarify: Ly,
    treemapResquarify: Fy
},
Wy = function (t) {
    function e() {
        var n,
        i;
        o(this, e);
        for (var r = arguments.length, a = Array(r), s = 0; s < r; s++)
            a[s] = arguments[s];
        return n = i = u(this, t.call.apply(t, [this].concat(a))),
        i.type = Ry,
        u(i, n)
    }
    return s(e, t),
    e.prototype.update = function () {
        var t,
        e = this.globalModel,
        n = this._option,
        i = n.$gridIndex,
        r = n.targetPath,
        o = n.value,
        a = n.paddingInner,
        s = n.paddingTop,
        l = n.paddingBottom,
        u = n.paddingLeft,
        h = n.paddingRight,
        c = n.tile,
        f = n.round,
        d = n.color,
        p = this.getData(),
        g = e.getComponentByIndex("grid", i),
        v = g.position,
        y = (v.left, v.top, v.right, v.bottom, v.width),
        m = v.height,
        x = Dy().size([y, m]).round(f).tile(G(c) ? By[c] : c).paddingInner(a).paddingTop(s).paddingBottom(l).paddingLeft(u).paddingRight(h);
        !function (t, e) {
            Gy(t, function (t, e, n) {
                t._path = n ? n._path + "/" + t.name : t.name,
                t._parent = n
            })
        }
        (p),
        r = r || p._path,
        B(d) && (t = au(d), d = function (e, n, i) {
            var r = e._path;
            return n < 2 ? t(r) : de(i.color, .1 *  - (n - 1))
        }),
        Gy(p, function (t, e, n) {
            t.color = t.color || d(t, e, n)
        });
        var _ = jv(function t(e, n) {
            if (!n || e._path === n)
                return e;
            if (e.children)
                for (var i = 0; i < e.children.length; i++)
                    if (n.indexOf(e.name) > -1) {
                        var r = t(e.children[i], n);
                        if (r)
                            return r
                    }
        }
                (p, r)).sum(o).sort(function (t, e) {
            return e.height - t.height || e.value - t.value
        });
        x(_),
        this.targetPath = r,
        this.targetRoot = _,
        this.position = g.position
    },
    e
}
(_s);
function Gy(t, e) {
    var n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 0,
    i = arguments[3];
    e(t, n, i),
    n++,
    D(t.children, function (i) {
        Gy(i, e, n, t)
    })
}
Wy.type = Ry,
Wy.emphasisList = ["itemStyle", "label", "upperLabel"],
Wy.defaultOption = {
    $dataIndex: void 0,
    dataKey: void 0,
    $gridIndex: 0,
    name: void 0,
    targetPath: void 0,
    value: function (t) {
        return t.value
    },
    leafDepth: 1,
    tile: "treemapSquarify",
    round: !1,
    paddingTop: 0,
    paddingBottom: 0,
    paddingLeft: 0,
    paddingRight: 0,
    paddingInner: 1,
    nodeClick: "zoomToNode",
    drillDownIcon: "▶",
    color: ["#525552", "#c23531", "#2f4554", "#61a0a8", "#d48265", "#91c7ae", "#749f83", "#ca8622", "#bda29a", "#6e7074", "#546570", "#c4ccd3"],
    itemStyle: {
        normal: {},
        emphasis: {}
    },
    label: {
        normal: {
            show: !0,
            style: {},
            formatter: void 0
        },
        emphasis: {
            show: !1,
            style: {}
        }
    },
    upperLabel: {
        normal: {
            show: !1,
            style: {},
            formatter: void 0
        },
        emphasis: {
            show: !1,
            style: {}
        }
    },
    breadcrumb: {
        show: !0,
        align: "center",
        top: void 0,
        left: void 0,
        height: 22,
        minWidth: 30,
        maxWidth: 60,
        style: {
            normal: {
                stroke: "rgba(255,255,255,0.7)",
                fill: "rgba(0,0,0,0.7)",
                lineWidth: 1,
                shadowBlur: 3,
                shadowColor: " rgba(150,150,150,1)"
            },
            emphasis: {}
        },
        textStyle: {
            normal: {
                fill: "#fff"
            },
            emphasis: {}
        }
    },
    zlevel: 0,
    z: 1
};
var Hy = function (t) {
    function e(n, i, r) {
        o(this, e);
        var a = u(this, t.apply(this, arguments));
        a.type = Ry;
        var s = a.roam,
        l = void 0;
        if (s.inGrid) {
            var h = n.get("$gridIndex");
            l = i.getComponentByIndex("grid", h)
        }
        return r.on("mousewheel", function (t) {
            var e = t.offsetX,
            i = t.offsetY;
            t.wheelDelta;
            l && !l.isPointInGrid(e, i) || !s.enable || n.dirty()
        }),
        a
    }
    return s(e, t),
    e.prototype.render = function (t, e, n) {
        var i = t.targetRoot,
        r = t.position,
        o = r.left,
        s = r.top,
        l = t.get("leafDepth"),
        u = t.get("drillDownIcon"),
        h = (t.get("value"), t.get("label")),
        c = t.get("upperLabel"),
        f = t.get("itemStyle"),
        d = (t.get("nodeClick"), []),
        p = i.depth + l,
        g = this.group.scale || [1, 1],
        v = h.normal,
        y = c.normal,
        m = f.normal,
        x = v.formatter || function (t, e) {
            return (e.children && u ? u + " " : "") + t.name
        },
        _ = v.formatter || function (t, e) {
            return t.name
        },
        w = [],
        b = this.getShape("treemap");
        function S(t) {
            var n = t.x0,
            i = t.x1,
            r = t.y0,
            u = t.y1,
            h = t.parent,
            c = t.data,
            f = t.depth,
            p = c._path;
            if (b) {
                var S = function (t) {
                    var e = void 0;
                    for ((t = t.split("/")).pop(); t.length && !(e = b.childOfName(t.join("/"))); )
                        t.pop();
                    return e
                }
                (p);
                if (S) {
                    var k = S.shape,
                    M = k.x,
                    I = k.y;
                    w.push({
                        shape: {
                            x: M,
                            y: I,
                            width: 0,
                            height: 0
                        }
                    })
                } else
                    w.push({})
            } else
                w.push({});
            var A = {
                text: ""
            };
            if (v.show && (!c.children || l && t.depth === l)) {
                var T = v.style;
                W(T) && (T = T(c, t)),
                A = e.getFormattedText(a({
                            text: x(c, t),
                            truncate: {
                                outerWidth: (i - n) * g[0],
                                outerHeight: (u - r) * g[1]
                            },
                            position: "inside"
                        }, T))
            } else
                y.show && c.children && (!l || l && t.depth < l) && (A = e.getFormattedText(a({
                                text: _(c, t),
                                truncate: {
                                    outerWidth: (i - n) * g[0],
                                    outerHeight: (u - r) * g[1]
                                },
                                position: "insideTopLeft"
                            }, y.style)));
            var C = m;
            W(C) && (C = C(c, t)),
            d.push(aa({
                    shape: {
                        x: n,
                        y: r,
                        width: i - n,
                        height: u - r
                    },
                    position: [o, s],
                    style: a({
                        fill: c.color
                    }, A, C),
                    data: a({
                        value: t.value
                    }, c, {
                        parent: h
                    }),
                    key: p,
                    z2: f
                }))
        }
        !function t(e) {
            l ? e.depth < p ? (S(e), e.children && D(e.children, function (e) {
                    t(e)
                })) : e.depth === p && S(e) : (S(e), e.children && D(e.children, t))
        }
        (i),
        this.setShapeGroup("treemap", Co, d, {
            animation: t.get("animation"),
            duration: t.get("animationDuration"),
            easing: t.get("animationEasing"),
            animateFrom: w,
            animateList: {
                shape: {
                    x: 0,
                    y: 0,
                    width: 0,
                    height: 0
                }
            },
            animateLeave: {
                style: {
                    opacity: 0
                }
            }
        }, function (e) {
            e.on("click", function (e) {
                switch (t.get("nodeClick")) {
                case "link":
                    var i = e.target.data.link;
                    i && window.open(i, "_blank");
                    break;
                case "zoomToNode":
                    e.target.data.children && t.set("targetPath", e.target.data._path)
                }
                n.dispatchAction(t, $a.itemClick, e)
            })
        }),
        function (t, e) {
            var n = t.get("breadcrumb");
            if (!n.show)
                return;
            var i = t.targetPath,
            r = t.position,
            o = n.textStyle,
            s = n.style,
            l = n.minWidth,
            u = n.maxWidth,
            h = n.height,
            c = n.align,
            f = n.left,
            d = n.top,
            p = [];
            void 0 === f && (f = r.left + r.width / 2);
            void 0 === d && (d = r.bottom + 20);
            i = i.split("/");
            var g = "",
            v = f;
            D(i, function (t) {
                var n = new vo(e.getFormattedText({
                            style: a({
                                text: t
                            }, o.normal)
                        })),
                i = n.getBoundingRect().width;
                i = Math.max(Math.min(u, i), l),
                g = g ? g + "/" + t : t,
                p.push({
                    shape: {
                        x: v,
                        y: d,
                        width: i,
                        height: h
                    },
                    style: a({}, e.getFormattedText(a({
                                text: t,
                                truncate: {
                                    outerWidth: i,
                                    outerHeight: h
                                }
                            }, o.normal)), s.normal),
                    data: {
                        path: g
                    }
                }),
                v += i
            });
            var y = this.setShapeGroup("breadcrumb", Co, p, void 0, function (e) {
                e.on("click", function (e) {
                    var n = e.target;
                    t.set("targetPath", n.data.path)
                })
            });
            if ("center" === c) {
                var m = y.getBoundingRect().width;
                y.attr("position", [-m / 2, 0])
            }
        }
        .call(this, t, e)
    },
    e
}
(cs);
Hy.type = Ry,
dl(Wy, Hy);
var jy = Ny,
Uy = "tree",
qy = function (t) {
    function e() {
        var n,
        i;
        o(this, e);
        for (var r = arguments.length, a = Array(r), s = 0; s < r; s++)
            a[s] = arguments[s];
        return n = i = u(this, t.call.apply(t, [this].concat(a))),
        i.type = Uy,
        i.initialized = !1,
        u(i, n)
    }
    return s(e, t),
    e.prototype.update = function () {
        var t = this.globalModel,
        e = this.getData(),
        n = this.get("$gridIndex"),
        i = this.get("orient"),
        r = this.get("treeType"),
        o = this.get("layout"),
        a = this.get("gap"),
        s = this.get("startAngle"),
        l = this.get("endAngle"),
        u = this.get("separation"),
        h = this.get("initialTreeDepth"),
        c = t.getComponentByIndex("grid", n),
        f = c.position,
        d = f.left,
        p = f.top,
        g = (f.right, f.bottom, f.width),
        v = f.height,
        y = jy[r](),
        m = this.root || jy.hierarchy(e),
        x = void 0;
        u && y.separation(u),
        "orthogonal" === o ? y.size("horizontal" === i ? [v, g] : [g, v]) : (x = Ea(this.get("radial"), Math.min(g, v)), y.size([l - s, x])),
        !this.initialized && "number" == typeof h && h > -1 && (m.eachAfter(function (t) {
                t._id = Math.random(),
                t.depth >= h && (t._children = t.children, t.children = null)
            }), this.initialized = !0),
        y(m),
        "orthogonal" === o ? m.each(function (t) {
            "horizontal" === i ? (t._x = t.y + d, t._y = t.x + p, t._gapX = t._x - a, t._gapY = t._y) : (t._x = t.x + d, t._y = t.y + p, t._gapX = t._x, t._gapY = t._y - a)
        }) : (d += x + (g - 2 * x) / 2, p += x + (v - 2 * x) / 2, m.each(function (t) {
                t.x += s,
                t._x = Math.sin(t.x / 180 * Math.PI) * t.y + d,
                t._y = Math.cos(t.x / 180 * Math.PI) * t.y + p,
                t._gapX = Math.sin(t.x / 180 * Math.PI) * (t.y + a) + d,
                t._gapY = Math.cos(t.x / 180 * Math.PI) * (t.y + a) + p
            })),
        this.root = m,
        this.position = c.position
    },
    e
}
(_s);
qy.type = Uy,
qy.emphasisList = ["label", "node", "link"],
qy.defaultOption = {
    $dataIndex: void 0,
    dataKey: void 0,
    $gridIndex: 0,
    name: void 0,
    orient: "horizontal",
    treeType: "tree",
    layout: "orthogonal",
    radial: "50%",
    startAngle: 0,
    endAngle: 360,
    gap: 10,
    initialTreeDepth: 2,
    expandAndCollapse: !0,
    separation: void 0,
    label: {
        normal: {
            show: !0,
            silent: !0,
            formatter: void 0,
            style: {
                fill: "#5097f8",
                opacity: .8
            }
        },
        emphasis: {}
    },
    node: {
        normal: {
            show: !0,
            type: "circle",
            size: 10,
            style: {
                stroke: "#5097f8",
                fill: "white"
            }
        }
    },
    link: {
        normal: {
            show: !0,
            style: {
                stroke: "#67cacb"
            }
        }
    },
    zlevel: 0,
    z: 1
};
var Yy = function (t) {
    function e() {
        var n,
        i;
        o(this, e);
        for (var r = arguments.length, a = Array(r), s = 0; s < r; s++)
            a[s] = arguments[s];
        return n = i = u(this, t.call.apply(t, [this].concat(a))),
        i.type = Uy,
        u(i, n)
    }
    return s(e, t),
    e.prototype.render = function (t, e, n) {
        var i = t.root,
        r = t.position,
        o = t.get("orient"),
        s = t.get("layout"),
        l = t.get("label").normal,
        u = l.style,
        h = l.silent,
        c = l.formatter,
        f = t.get("node").normal,
        d = f.style,
        p = f.size,
        g = f.type,
        v = t.get("link").normal,
        y = t.get("animation"),
        m = (r.left, r.top, i.descendants()),
        x = i.links(),
        _ = [],
        w = [],
        b = [],
        S = [],
        k = [],
        M = [];
        D(m, function (t) {
            var n = t._x,
            i = t._y,
            r = t._id,
            v = (t.children, t._children, t.parent),
            y = t._gapX,
            m = t._gapY,
            x = Oa(W(p) ? p(t) : p),
            w = x.width,
            k = x.height,
            I = W(g) ? g(t) : g,
            A = W(d) ? d(t) : d;
            if (f.show && (_.push({
                        shape: {
                            symbolType: I,
                            x: -w / 2,
                            y: -k / 2,
                            width: w,
                            height: k
                        },
                        position: [n, i],
                        style: A,
                        z2: 1,
                        key: r,
                        node: t,
                        data: t.data
                    }), S.push(v ? {
                        position: [(v._x + n) / 2, (v._y + i) / 2]
                    }
                         : {
                        position: [n, i]
                    })), l.show) {
                var T = void 0,
                C = void 0,
                z = W(u) ? u(t) : u;
                if ("radial" === s) {
                    var E = (t.x + 360) % 360;
                    T = {
                        textAlign: E < 180 && E > 0 ? "left" : "right",
                        textVerticalAlign: "center"
                    },
                    C = (t.x / 180 + (E < 180 && E > 0 ?  - .5 : .5)) * Math.PI
                } else
                    "horizontal" === o ? (T = {
                            textAlign: "right",
                            textVerticalAlign: "center"
                        }, C = 0) : (T = {
                            textAlign: "left",
                            textVerticalAlign: "center"
                        }, C = -Math.PI / 2 * 3);
                void 0 !== l.rotate && (C = l.rotate),
                b.push(e.getFormattedText({
                        style: a({
                            text: c ? c(t.data.name, t.data) : t.data.name
                        }, T, z),
                        silent: h,
                        position: [y, m],
                        rotation: C,
                        z2: 2,
                        key: r,
                        data: t.data
                    })),
                M.push(v ? {
                    position: [(v._gapX + y) / 2, (v._gapY + m) / 2]
                }
                     : {
                    position: [y, m]
                })
            }
        }),
        this.setShapeGroup("nodes", zs, _, {
            animation: y,
            animateFrom: S
        }, function (e) {
            e.on("click", function (e) {
                var i = t.get("expandAndCollapse"),
                r = e.target.node;
                n.dispatchAction(t, "NODE_CLICK", e),
                i && (r.children ? (r._children = r.children, r.children = null, t.dirty()) : r._children && (r.children = r._children, t.dirty()))
            })
        }),
        this.setShapeGroup("texts", vo, b, {
            animation: y,
            animateFrom: M
        }, function (e) {
            e.on("click", function (e) {
                n.dispatchAction(t, "LABEL_CLICK", e)
            })
        }),
        v.show && D(x, function (t) {
            var e = t.source,
            n = t.target;
            w.push({
                shape: {
                    source: [e._x, e._y],
                    target: [n._x, n._y],
                    orient: o
                },
                style: v.style,
                z2: 0,
                key: e._id + "-" + n._id
            }),
            k.push({
                shape: {
                    source: [e._x, e._y],
                    target: [e._x, e._y]
                }
            })
        }),
        this.setShapeGroup("links", Gp, w, {
            animation: y,
            animateFrom: k
        })
    },
    e
}
(cs);
Yy.type = Uy,
dl(qy, Yy);
var Vy = "custom",
$y = function (t) {
    function e() {
        o(this, e);
        var n = u(this, t.apply(this, arguments));
        return n.type = Vy,
        D(n.get("model"), function (t, e) {
            n[e] = t
        }),
        n
    }
    return s(e, t),
    e
}
(_s);
$y.type = Vy,
$y.defaultOption = {
    zlevel: 0,
    z: 1,
    view: {},
    model: {}
};
var Xy = function (t) {
    function e(n) {
        o(this, e);
        var i = u(this, t.apply(this, arguments));
        return i.type = Vy,
        D(n.get("view"), function (t, e) {
            i[e] = t
        }),
        i
    }
    return s(e, t),
    e
}
(cs);
Xy.type = Vy,
dl($y, Xy);
var Zy = "radial",
Ky = function (t) {
    function e() {
        var n,
        i;
        o(this, e);
        for (var r = arguments.length, a = Array(r), s = 0; s < r; s++)
            a[s] = arguments[s];
        return n = i = u(this, t.call.apply(t, [this].concat(a))),
        i.type = Zy,
        i.initialized = !1,
        u(i, n)
    }
    return s(e, t),
    e.prototype.update = function () {},
    e
}
(_s);
Ky.type = Zy,
Ky.emphasisList = ["label", "node", "link"],
Ky.defaultOption = {
    zlevel: 0,
    z: 1,
    startAngle: 0,
    endAngle: 360,
    gap: 10,
    initialTreeDepth: 2,
    expandAndCollapse: !0,
    separation: void 0,
    label: {
        normal: {
            show: !0,
            silent: !0,
            formatter: void 0,
            style: {
                fill: "#5097f8",
                opacity: .8
            }
        },
        emphasis: {}
    },
    node: {
        normal: {
            show: !0,
            type: "circle",
            size: 10,
            style: {
                stroke: "#5097f8",
                fill: "white"
            }
        }
    },
    link: {
        normal: {
            show: !0,
            style: {
                stroke: "#67cacb"
            }
        }
    }
};
var Qy = function (t) {
    function e() {
        var n,
        i;
        o(this, e);
        for (var r = arguments.length, a = Array(r), s = 0; s < r; s++)
            a[s] = arguments[s];
        return n = i = u(this, t.call.apply(t, [this].concat(a))),
        i.type = Zy,
        u(i, n)
    }
    return s(e, t),
    e.prototype.render = function (t, e, n) {
        var i = n.getWidth(),
        r = n.getHeight(),
        o = t.get("node").normal,
        a = o.style,
        s = (o.size, o.type),
        l = t.getData(),
        u = [],
        h = [],
        c = [];
        function f(t, e) {
            return [(e = +e) * Math.cos(t -= Math.PI / 2), e * Math.sin(t)]
        }
        var d,
        p = Ty().size([2 * Math.PI, Math.min(i, r) / 2.1]).separation(function (t, e) {
            return (t.parent == e.parent ? 1 : 2) / t.depth
        }),
        g = jv(l),
        v = [];
        if (e.root)
            d = e.root;
        else {
            for (var y = (d = p(g)).descendants(), m = (d.links(), d.descendants().filter(function (t) {
                        return "circle" == t.data.type
                    })), x = 0, _ = 0; _ < y.length; _++) {
                var w = y[_];
                if (1 == w.depth) {
                    x = w.y;
                    break
                }
            }
            m.forEach(function (t) {
                t.children.forEach(function (t) {
                    t.y -= x / 2,
                    t.depth -= .5
                })
            });
            for (var b = 0; b < 50; b++) {
                var S = y.length * Math.random() >> 0,
                k = y.length * Math.random() >> 0;
                v.push({
                    type: "extra",
                    source: y[S],
                    target: y[k]
                })
            }
            d.extraLinks = v
        }
        e.root = d;
        var M = d.descendants(),
        I = d.links(),
        A = d.extraLinks.filter(function (t) {
            return M.indexOf(t.source) >= 0 && M.indexOf(t.target) >= 0
        });
        M.forEach(function (t, e) {
            var n = W(s) ? s(t, e) : s,
            o = W(a) ? a(t, e) : a,
            l = f(t.x, t.y),
            h = l[0],
            d = l[1],
            p = (t.x / Math.PI * 180 + 360) % 360,
            g = (t.x + (p < 180 && p > 0 ?  - .5 : .5)) * Math.PI;
            u.push({
                position: l,
                shape: {
                    symbolType: n,
                    width: 6,
                    height: 6,
                    x: i / 2 - 3,
                    y: r / 2 - 3
                },
                style: o,
                node: t,
                data: t.data
            }),
            c.push({
                style: {
                    text: 11111111
                },
                position: [h + i / 2, d + r / 2],
                rotation: g || p < 180 ? Math.PI / 2 - t.x : -Math.PI / 2 - t.x
            })
        }),
        I.concat(A).forEach(function (t) {
            var e,
            n = f(t.source.x, t.source.y),
            o = f(t.target.x, t.target.y);
            e = "extra" == t.type ? "rgba(200, 200, 200, .15)" : t.highlight ? "red" : "rgba(0, 0, 0, .1)",
            h.push({
                style: {
                    stroke: e,
                    lineWidth: 1
                },
                shape: {
                    x1: n[0] + i / 2,
                    y1: n[1] + r / 2,
                    x2: o[0] + i / 2,
                    y2: o[1] + r / 2
                }
            })
        }),
        this.setShapeGroup("edges", Eo, h),
        this.setShapeGroup("nodes", zs, u, {}, function (e) {
            e.on("click", function (e) {
                var n = t.get("expandAndCollapse"),
                i = e.target.node;
                n && (i.children ? (i._children = i.children, i.children = null, t.dirty()) : i._children && (i.children = i._children, t.dirty()))
            }),
            e.on("mouseover", function (e) {
                e.target.node.links().forEach(function (t) {
                    t.highlight = !0
                }),
                t.dirty()
            })
        })
    },
    e
}
(cs);
Qy.type = Zy,
dl(Ky, Qy);
var Jy = "elbow",
tm = function (t) {
    function e() {
        var n,
        i;
        o(this, e);
        for (var r = arguments.length, a = Array(r), s = 0; s < r; s++)
            a[s] = arguments[s];
        return n = i = u(this, t.call.apply(t, [this].concat(a))),
        i.type = Jy,
        i.initialized = !1,
        u(i, n)
    }
    return s(e, t),
    e.prototype.update = function () {},
    e
}
(_s);
tm.type = Jy,
tm.emphasisList = ["label", "node", "link"],
tm.defaultOption = {
    zlevel: 0,
    z: 1,
    label: {
        normal: {
            show: !0,
            silent: !0,
            formatter: void 0,
            style: {
                fill: "#5097f8",
                opacity: .8
            }
        },
        emphasis: {}
    },
    node: {
        normal: {
            show: !0,
            type: "circle",
            size: 10,
            style: {
                stroke: "#5097f8",
                fill: "white"
            }
        }
    },
    link: {
        normal: {
            show: !0,
            style: {
                stroke: "#67cacb"
            }
        }
    }
};
var em = "「」『』“”‘’（）【】〖〗〔〕［］｛｝⸺—…●•–～~～～·﹏《》〈〉＿/／。，、．：；！‼？⁇ ",
nm = "。，、．：；！‼？⁇」』”’）】〗〕］｝》〉 ",
im = "「『“‘（【〖〔［｛《〈 ",
rm = "‼⁇⸺—",
om = ["\\u1100-\\u11FF", "\\u2E80-\\u2EFF", "\\u2F00-\\u2FDF", "\\u2FF0-\\u2FFF", "\\u3000-\\u303F", "\\u3040-\\u309F", "\\u30A0-\\u30FF", "\\u3100-\\u312F", "\\u3130-\\u318F", "\\u3190-\\u319F", "\\u31A0-\\u31BF", "\\u31F0-\\u31FF", "\\u3200-\\u32FF", "\\u3300-\\u33FF", "\\u3400-\\u4DBF", "\\u4DC0-\\u4DFF", "\\u4E00-\\u9FFF", "\\uAC00-\\uD7AF", "\\uF900-\\uFAFF", "\\uFE30-\\uFE4F", "\\uFF00-\\uFFEF", "\\u{1D300}-\\u{1D35F}", "\\u{20000}-\\u{2A6DF}", "\\u{2A700}-\\u{2B73F}", "\\u{2B740}-\\u{2B81F}", "\\u{2B820}-\\u{2CEAF}", "\\u{2CEB0}-\\u{2EBEF}", "\\u{2F800}-\\u{2FA1F}"],
am = void 0;
try {
    am = new RegExp("[" + om.join("") + "]", "u")
} catch (t) {
    am = new RegExp("[" + om.slice(0, 21).join("") + "]")
}
var sm = function () {
    return function (t, e) {
        if (Array.isArray(t))
            return t;
        if (Symbol.iterator in Object(t))
            return function (t, e) {
                var n = [],
                i = !0,
                r = !1,
                o = void 0;
                try {
                    for (var a, s = t[Symbol.iterator](); !(i = (a = s.next()).done) && (n.push(a.value), !e || n.length !== e); i = !0);
                } catch (t) {
                    r = !0,
                    o = t
                }
                finally {
                    try {
                        !i && s.return && s.return()
                    }
                    finally {
                        if (r)
                            throw o
                    }
                }
                return n
            }
        (t, e);
        throw new TypeError("Invalid attempt to destructure non-iterable instance")
    }
}
();
function lm(t) {
    if (Array.isArray(t)) {
        for (var e = 0, n = Array(t.length); e < t.length; e++)
            n[e] = t[e];
        return n
    }
    return Array.from(t)
}
var um = document.createElement("canvas").getContext("2d");
um.font = "18px sans-serif";
var hm = 18 === um.measureText("中").width,
cm = {
    fontFamily: "sans-serif",
    gridSize: 26,
    column: 25,
    row: 1 / 0,
    xInterval: 0,
    yInterval: 12,
    letterSpacing: 0,
    inlineCompression: !0,
    forceGridAlignment: !0,
    westernCharacterFirst: !1,
    forceSpaceBetweenCJKAndWestern: !1,
    fixLeftQuote: !0
};
function fm(t, e, n, i, r, o, a) {
    var s = e.fontFamily,
    l = e.gridSize,
    u = e.yInterval,
    h = e.letterSpacing,
    c = [],
    f = l,
    d = "",
    p = [],
    g = !1;
    " " !== t[t.length - 1].character && t.push({
        fontSize: 0,
        character: " "
    });
    var v = !0,
    y = !1,
    m = void 0;
    try {
        for (var x, _ = t[Symbol.iterator](); !(v = (x = _.next()).done); v = !0) {
            var w = x.value,
            b = w.fontSize,
            S = w.character;
            if (f = Math.max(f, b), " " === S) {
                if (o - n < um.measureText(d).width && (n = 0, i += f + u, g = !0, (r += 1) >= a))
                    break;
                var k = !0,
                M = !1,
                I = void 0;
                try {
                    for (var A, T = p[Symbol.iterator](); !(k = (A = T.next()).done); k = !0) {
                        var C = A.value,
                        z = C.fontSize,
                        E = (C.character, (z - l) / 2);
                        c.push(Object.assign({}, C, {
                                x: n,
                                y: i - E
                            })),
                        n += C.width + h
                    }
                } catch (t) {
                    M = !0,
                    I = t
                }
                finally {
                    try {
                        !k && T.return && T.return()
                    }
                    finally {
                        if (M)
                            throw I
                    }
                }
                n += .35 * l,
                d = "",
                p = []
            } else {
                um.font = b + "px " + s;
                var L = um.measureText(S).width;
                d += S,
                p.push(Object.assign({}, w, {
                        width: L,
                        height: b
                    }))
            }
        }
    } catch (t) {
        y = !0,
        m = t
    }
    finally {
        try {
            !v && _.return && _.return()
        }
        finally {
            if (y)
                throw m
        }
    }
    return [c, n - .35 * l, i, r, g]
}
var dm = function (t) {
    function e() {
        var n,
        i;
        o(this, e);
        for (var r = arguments.length, a = Array(r), s = 0; s < r; s++)
            a[s] = arguments[s];
        return n = i = u(this, t.call.apply(t, [this].concat(a))),
        i.type = Jy,
        u(i, n)
    }
    return s(e, t),
    e.prototype.render = function (t, e, n) {
        n.getHeight();
        var i = t.get("node").normal,
        r = i.style,
        o = (i.size, i.type),
        a = t.getData(),
        s = [],
        l = [],
        u = [],
        h = [],
        c = [],
        f = function t(e) {
            return B(e) ? e.map(function (e) {
                return t(e)
            }) : .5 + (e >> 0)
        },
        d = a.stockholder || [],
        p = a.subsidiary || [],
        g = {
            label: a.name
        },
        v = e.getComponentByIndex("grid", 0).position,
        y = v.width,
        m = v.left,
        x = v.top,
        _ = [],
        w = [];
        0 == d.length ? g.tx = y / 4 : 0 == p.length ? g.tx = 3 * y / 4 : g.tx = y / 2,
        g.ty = 20,
        g.sign = "center",
        g.tx += m,
        g.ty += x,
        _.push(g),
        p.forEach(function (t, e) {
            t.tx = y - 94,
            t.ty = 20 + 60 * e,
            t.sign = "to"
        }),
        d.forEach(function (t, e) {
            t.tx = 94,
            t.ty = 20 + 60 * e,
            t.sign = "from"
        }),
        p.concat(d).forEach(function (t, e) {
            W(o) && o(t, e);
            var n = W(r) ? r(t, e) : r;
            t.style = n,
            t.tx += m,
            t.ty += x,
            _.push(t);
            var i = {
                x: t.ty,
                y: t.tx
            },
            a = {
                x: g.ty,
                y: g.tx
            };
            w.push({
                source: a,
                target: i,
                label: t.label,
                textFill: n.stroke,
                sign: t.sign,
                value: t.value
            })
        }),
        _.forEach(function (t, e) {
            W(o) && o(t, e);
            var n = W(r) ? r(t, e) : r,
            i = void 0;
            i = "center" == t.sign ? t.tx - 47 : t.tx < y / 2 ? t.tx - 94 : t.tx;
            var a = t.ty - 20;
            s.push({
                shape: {
                    width: 93,
                    height: 40,
                    r: 2
                },
                position: f([i, a]),
                style: n,
                node: t,
                data: t.data
            });
            var l = function (t, e, n) {
                for (var i, r = e = Object.assign({}, cm, e), o = r.fontFamily, a = r.gridSize, s = r.column, l = r.row, u = r.xInterval, h = r.yInterval, c = r.inlineCompression, f = r.forceGridAlignment, d = r.westernCharacterFirst, p = r.forceSpaceBetweenCJKAndWestern, g = r.fixLeftQuote, v = 0, y = 0, m = 0, x = 0, _ = !1, w = 0, b = !1, S = a, k = [], M = d, I = [], A = function () {
                    v = 0,
                    m = 0,
                    x += 1,
                    y += S + h,
                    S = a,
                    _ = !1,
                    w = 0,
                    b = !1
                }, T = [].concat(lm(t), [{
                                fontSize: 12,
                                character: "　"
                            }
                        ]), C = 0; C < T.length; C++) {
                    var z = T[C],
                    E = z.fontSize,
                    L = z.character;
                    if (c && _ && !em.includes(L) && (v += w / 2 + u, m += .5, _ = !1), /[ “”‘’]/.test(L) && M)
                        k.push(z);
                    else if (i = L, am.test(i) || /[\n “”‘’]/.test(L)) {
                        if (k.length) {
                            var D = p ? .25 * a : 0;
                            v && (v += D);
                            var O,
                            P,
                            F = void 0,
                            N = fm(k, e, v, y, x, s * a, l),
                            R = sm(N, 5);
                            F = R[0],
                            P = R[1],
                            y = R[2],
                            x = R[3],
                            O = R[4],
                            m = Math.ceil(P / (a + u)),
                            v = m * (a + u),
                            O || function () {
                                v - P < D && (v = (m += 1) * a);
                                var t = (D + v - P) / 2 - D;
                                F = F.map(function (e) {
                                    return e.x += t,
                                    n && n(e) || e
                                })
                            }
                            (),
                            I.push.apply(I, lm(F)),
                            M = !1,
                            k = []
                        }
                        var B = !1;
                        if (m >= s && (B = !0, (!nm.includes(L) || im.includes(L) || b) && A()), "\n" !== L) {
                            um.font = E + "px " + o;
                            var W = um.measureText(L).width,
                            G = 0,
                            H = (E - a) / 2,
                            j = !1;
                            f && E !== a && (m += (G = +f * (E - a) / 2) > 0 ? Math.ceil(2 * G / (a + u)) : 0, G = ((1 + Math.ceil(2 * G / (a + u))) * (a + u) - E) / 2, v += G, m >= s && !nm.includes(L) && (A(), j = !0));
                            var U = 0;
                            U += _ || "“" !== L ? 0 : E / 2,
                            g && ("“" !== L || hm ? "“" === L && W === E && (U += -E / 2) : U += -E / 2);
                            var q = Object.assign({}, z, {
                                x: v + U,
                                y: y - H,
                                width: W,
                                height: E
                            });
                            I.push(n && n(q) || q);
                            var Y = G * (j ? 2 : 1);
                            if (Y > a && (Y -= a, m -= 1), v += Y, B && nm.includes(L) && !rm.includes(L) ? (v += E / 2, (m += .5) % 1 != .5 && (b = !0)) : c && em.includes(L) && !rm.includes(L) ? (v += E / 2 + u * +_, m += .5, _ = !_) : (v += E + u, m += 1), S = Math.max(S, E), w = E, x >= l)
                                break
                        } else !B && A()
                    } else
                        M = !0, k.push(z)
                }
                return I.pop(),
                I
            }
            (t.label.replace(/\r\n/g, "\n").split("").map(function (t) {
                    return {
                        fontSize: 12,
                        character: t
                    }
                }), {
                fontSize: 12,
                gridSize: 12,
                yInterval: 6,
                column: 7,
                row: 2
            }),
            h = Array.isArray(l),
            c = 0;
            for (l = h ? l : l[Symbol.iterator](); ; ) {
                var d;
                if (h) {
                    if (c >= l.length)
                        break;
                    d = l[c++]
                } else {
                    if ((c = l.next()).done)
                        break;
                    d = c.value
                }
                var p = d;
                u.push({
                    style: {
                        fontSize: 12,
                        text: p.character,
                        textPadding: [4, 5],
                        textFill: n.textFill
                    },
                    position: [i + p.x, a + p.y]
                })
            }
        }),
        w.forEach(function (t, e) {
            var n = t.source.y,
            i = t.source.x,
            r = t.target.y,
            o = t.target.x,
            a = (n + r) / 2,
            s = i,
            u = a,
            d = o,
            p = "from" == t.sign ? "#ff5753" : "#159cbf",
            g = [];
            g = w[e + 1] && w[e + 1].sign == w[e].sign ? [[u, o], [r, o]] : [[n, i], [a, s], [u, d], [r, o]],
            l.push({
                style: {
                    stroke: p
                },
                shape: {
                    data: f(g)
                }
            }),
            "to" != t.sign && "from" === w[e - 1].sign || c.push({
                shape: {
                    symbolType: "triangle",
                    width: 8,
                    height: 8,
                    x: -4
                },
                style: {
                    fill: t.textFill
                },
                position: "from" == t.sign ? f([n - 47, i]) : f([r, o]),
                rotation: -Math.PI / 2
            }),
            h.push({
                style: {
                    text: t.value,
                    textAlign: "center",
                    textVerticalAlign: "bottom",
                    y: -5,
                    textFill: t.textFill
                },
                position: [(r + u) / 2, o]
            })
        }),
        this.setShapeGroup("edges", Qo, l),
        this.setShapeGroup("nodes", Co, s),
        this.setShapeGroup("texts", vo, u),
        this.setShapeGroup("arrow", zs, c),
        this.setShapeGroup("tips", vo, h)
    },
    e
}
(cs);
dm.type = Jy,
dl(tm, dm);
var pm = "arcshape",
gm = function (t) {
    function e() {
        var n,
        i;
        o(this, e);
        for (var r = arguments.length, a = Array(r), s = 0; s < r; s++)
            a[s] = arguments[s];
        return n = i = u(this, t.call.apply(t, [this].concat(a))),
        i.type = pm,
        u(i, n)
    }
    return s(e, t),
    e.prototype.render = function (t, e, n) {
        this.remove(),
        this.group.position = [25, 25];
        var i = n.getWidth() - 50,
        r = n.getHeight(),
        o = t.getData(),
        a = o.nodes,
        s = o.edges;
        function l(t) {
            return "ggfr" == t.type || "rzgd" == t.type
        }
        var u = Xl().key(function (t) {
            return t.id
        }).map(a),
        h = (Xl().key(function (t) {
                return t.to
            }).map(s), Xl().key(function (t) {
                return t.from
            }).map(s)),
        c = (function (t, e) {
            var n,
            i = t.length,
            r = -1,
            o = 0;
            if (null == e)
                for (; ++r < i; )
                    (n = +t[r]) && (o += n);
            else
                for (; ++r < i; )
                    (n = +e(t[r], r, t)) && (o += n)
        }
            (a, l), {
        btzgs: -1,
        center: 0,
        tzgs: 1
    }),
        f = a.filter(l),
        d = a.filter(function (t) {
            return !("ggfr" == t.type || "rzgd" == t.type)
        }).sort(function (t, e) {
            return c[e.type] - c[t.type]
        });
        f.forEach(function (t) {
            var e = t.id,
            n = h.get(e)[0].to,
            i = u.get(n)[0];
            i.children = i.children || [],
            -1 == i.children.indexOf(t) && i.children.push(t),
            t.parentNode = i
        });
        var p = [];
        d.forEach(function (t) {
            var e = t.children;
            e && e.forEach(function (t) {
                p.push(t)
            })
        }),
        f = p;
        d.filter(function (t) {
            return t.children && t.children.length > 0
        }).length;
        !function () {
            for (var t = 0; t < d.length; t++) {
                var e = d[t],
                n = i / d.length;
                e.x = n * t,
                e.y = .6 * r
            }
            for (var o = 0; o < f.length; o++) {
                var a = f[o],
                s = i / f.length;
                a.x = s * o,
                a.y = .9 * r
            }
        }
        (),
        a.forEach(function (t) {
            var e = t.type,
            n = "#4b667b";
            "tzgs" == e || "jccg" == e ? n = "#414DF5" : "btzgs" == e ? n = "#B5DD8F" : "rzgd" == e ? n = "#F3BA45" : "ggfr" == e && (n = "#EB7B4F"),
            t.color = n
        }),
        s.forEach(function (t) {
            t.source = u.get(t.from)[0],
            t.target = u.get(t.to)[0]
        });
        var g = [],
        v = [],
        y = [],
        m = {
            stroke: "#505050",
            opacity: .05,
            lineWidth: 2
        };
        a.forEach(function (t) {
            g.push({
                shape: {
                    cx: t.x,
                    cy: t.y,
                    r: 5
                },
                style: {
                    fill: t.color
                },
                data: t
            })
        }),
        s.forEach(function (t) {
            l(t.source) || l(t.target) ? y.push({
                shape: {
                    x1: t.source.x,
                    y1: t.source.y,
                    x2: t.target.x,
                    y2: t.target.y
                },
                style: m,
                data: t
            }) : v.push({
                shape: {
                    cx: (t.source.x + t.target.x) / 2,
                    cy: (t.source.y + t.target.y) / 2,
                    r: Math.abs(t.source.x - t.target.x) / 2,
                    startAngle: Math.PI,
                    endAngle: 0,
                    clockwise: !0
                },
                style: m,
                data: t
            })
        });
        var x = this.setShapeGroup("arclinks", Po, v),
        _ = this.setShapeGroup("links", Eo, y),
        w = this.setShapeGroup("nodes", yo, g, {}, function (t) {
            t.on("mouseover", function (t) {
                var e = t.target.data;
                _.children().forEach(function (t) {
                    t.data.source != e && t.data.target != e || t.setStyle({
                        stroke: t.data.source.color,
                        opacity: .5
                    })
                }),
                x.children().forEach(function (t) {
                    t.data.source != e && t.data.target != e || t.setStyle({
                        stroke: t.data.source.color,
                        opacity: .5
                    })
                })
            }),
            t.on("mouseout", function (t) {
                _.children().forEach(function (t) {
                    t.setStyle(m)
                }),
                x.children().forEach(function (t) {
                    t.setStyle(m)
                })
            })
        });
        this.group.add(x),
        this.group.add(_),
        this.group.add(w)
    },
    e
}
(cs);
gm.type = pm;
var vm = "arcshape",
ym = function (t) {
    function e() {
        var n,
        i;
        o(this, e);
        for (var r = arguments.length, a = Array(r), s = 0; s < r; s++)
            a[s] = arguments[s];
        return n = i = u(this, t.call.apply(t, [this].concat(a))),
        i.type = vm,
        u(i, n)
    }
    return s(e, t),
    e.prototype.update = function () {},
    e
}
(_s);
ym.type = vm,
ym.defaultOption = {},
dl(ym, gm);
var mm = "dagre",
xm = function (t) {
    function e() {
        var n,
        i;
        o(this, e);
        for (var r = arguments.length, a = Array(r), s = 0; s < r; s++)
            a[s] = arguments[s];
        return n = i = u(this, t.call.apply(t, [this].concat(a))),
        i.type = mm,
        u(i, n)
    }
    return s(e, t),
    e
}
(_s);
xm.type = mm,
xm.defaultOption = {
    zlevel: 0,
    z: 1,
    isTop: !1,
    limited: !0,
    node: {
        rankStep: 80,
        entireLabel: !1,
        shape: {
            width: 80,
            height: 30,
            r: 15
        },
        style: {
            normal: {
                colors: {
                    origin: "rgb(47, 151, 255)",
                    process: "rgba(169, 210, 251)",
                    end: "rgba(43, 87, 194, 1)"
                },
                fontSize: 14,
                textFill: "rgb(255, 255 ,255)",
                stroke: "rgb(47, 151, 255)",
                lineWidth: 1
            },
            emphasis: {}
        }
    },
    link: {
        arrowSize: [3, 6],
        lineWidth: [1, 3],
        label: {
            type: "percent",
            fontSize: 10,
            textFill: "rgb(47, 151, 255)"
        },
        style: {
            normal: {
                stroke: "rgb(47, 151, 255)",
                opacity: .4,
                dashFill: "rgb(47, 151, 255)",
                lineDash: [5, 5]
            },
            emphasis: {}
        }
    }
};
var _m = "undefined" != typeof window ? window : "undefined" != typeof global ? global : "undefined" != typeof self ? self : {};
var wm,
bm = function (t, e) {
    return t(e = {
            exports: {}
        }, e.exports),
    e.exports
}
(function (t, e) {
    (function () {
        var n,
        i = 200,
        o = "Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",
        a = "Expected a function",
        s = "__lodash_hash_undefined__",
        l = 500,
        u = "__lodash_placeholder__",
        h = 1,
        c = 2,
        f = 4,
        d = 1,
        p = 2,
        g = 1,
        v = 2,
        y = 4,
        m = 8,
        x = 16,
        _ = 32,
        w = 64,
        b = 128,
        S = 256,
        k = 512,
        M = 30,
        I = "...",
        A = 800,
        T = 16,
        C = 1,
        z = 2,
        E = 1 / 0,
        L = 9007199254740991,
        D = 1.7976931348623157e308,
        O = NaN,
        P = 4294967295,
        F = P - 1,
        N = P >>> 1,
        R = [["ary", b], ["bind", g], ["bindKey", v], ["curry", m], ["curryRight", x], ["flip", k], ["partial", _], ["partialRight", w], ["rearg", S]],
        B = "[object Arguments]",
        W = "[object Array]",
        G = "[object AsyncFunction]",
        H = "[object Boolean]",
        j = "[object Date]",
        U = "[object DOMException]",
        q = "[object Error]",
        Y = "[object Function]",
        V = "[object GeneratorFunction]",
        $ = "[object Map]",
        X = "[object Number]",
        Z = "[object Null]",
        K = "[object Object]",
        Q = "[object Proxy]",
        J = "[object RegExp]",
        tt = "[object Set]",
        et = "[object String]",
        nt = "[object Symbol]",
        it = "[object Undefined]",
        rt = "[object WeakMap]",
        ot = "[object WeakSet]",
        at = "[object ArrayBuffer]",
        st = "[object DataView]",
        lt = "[object Float32Array]",
        ut = "[object Float64Array]",
        ht = "[object Int8Array]",
        ct = "[object Int16Array]",
        ft = "[object Int32Array]",
        dt = "[object Uint8Array]",
        pt = "[object Uint8ClampedArray]",
        gt = "[object Uint16Array]",
        vt = "[object Uint32Array]",
        yt = /\b__p \+= '';/g,
        mt = /\b(__p \+=) '' \+/g,
        xt = /(__e\(.*?\)|\b__t\)) \+\n'';/g,
        _t = /&(?:amp|lt|gt|quot|#39);/g,
        wt = /[&<>"']/g,
        bt = RegExp(_t.source),
        St = RegExp(wt.source),
        kt = /<%-([\s\S]+?)%>/g,
        Mt = /<%([\s\S]+?)%>/g,
        It = /<%=([\s\S]+?)%>/g,
        At = /\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,
        Tt = /^\w*$/,
        Ct = /^\./,
        zt = /[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,
        Et = /[\\^$.*+?()[\]{}|]/g,
        Lt = RegExp(Et.source),
        Dt = /^\s+|\s+$/g,
        Ot = /^\s+/,
        Pt = /\s+$/,
        Ft = /\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,
        Nt = /\{\n\/\* \[wrapped with (.+)\] \*/,
        Rt = /,? & /,
        Bt = /[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,
        Wt = /\\(\\)?/g,
        Gt = /\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,
        Ht = /\w*$/,
        jt = /^[-+]0x[0-9a-f]+$/i,
        Ut = /^0b[01]+$/i,
        qt = /^\[object .+?Constructor\]$/,
        Yt = /^0o[0-7]+$/i,
        Vt = /^(?:0|[1-9]\d*)$/,
        $t = /[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,
        Xt = /($^)/,
        Zt = /['\n\r\u2028\u2029\\]/g,
        Kt = "\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",
        Qt = "\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",
        Jt = "[\\ud800-\\udfff]",
        te = "[" + Qt + "]",
        ee = "[" + Kt + "]",
        ne = "\\d+",
        ie = "[\\u2700-\\u27bf]",
        re = "[a-z\\xdf-\\xf6\\xf8-\\xff]",
        oe = "[^\\ud800-\\udfff" + Qt + ne + "\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",
        ae = "\\ud83c[\\udffb-\\udfff]",
        se = "[^\\ud800-\\udfff]",
        le = "(?:\\ud83c[\\udde6-\\uddff]){2}",
        ue = "[\\ud800-\\udbff][\\udc00-\\udfff]",
        he = "[A-Z\\xc0-\\xd6\\xd8-\\xde]",
        ce = "(?:" + re + "|" + oe + ")",
        fe = "(?:" + he + "|" + oe + ")",
        de = "(?:" + ee + "|" + ae + ")" + "?",
        pe = "[\\ufe0e\\ufe0f]?" + de + ("(?:\\u200d(?:" + [se, le, ue].join("|") + ")[\\ufe0e\\ufe0f]?" + de + ")*"),
        ge = "(?:" + [ie, le, ue].join("|") + ")" + pe,
        ve = "(?:" + [se + ee + "?", ee, le, ue, Jt].join("|") + ")",
        ye = RegExp("['’]", "g"),
        me = RegExp(ee, "g"),
        xe = RegExp(ae + "(?=" + ae + ")|" + ve + pe, "g"),
        _e = RegExp([he + "?" + re + "+(?:['’](?:d|ll|m|re|s|t|ve))?(?=" + [te, he, "$"].join("|") + ")", fe + "+(?:['’](?:D|LL|M|RE|S|T|VE))?(?=" + [te, he + ce, "$"].join("|") + ")", he + "?" + ce + "+(?:['’](?:d|ll|m|re|s|t|ve))?", he + "+(?:['’](?:D|LL|M|RE|S|T|VE))?", "\\d*(?:(?:1ST|2ND|3RD|(?![123])\\dTH)\\b)", "\\d*(?:(?:1st|2nd|3rd|(?![123])\\dth)\\b)", ne, ge].join("|"), "g"),
        we = RegExp("[\\u200d\\ud800-\\udfff" + Kt + "\\ufe0e\\ufe0f]"),
        be = /[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,
        Se = ["Array", "Buffer", "DataView", "Date", "Error", "Float32Array", "Float64Array", "Function", "Int8Array", "Int16Array", "Int32Array", "Map", "Math", "Object", "Promise", "RegExp", "Set", "String", "Symbol", "TypeError", "Uint8Array", "Uint8ClampedArray", "Uint16Array", "Uint32Array", "WeakMap", "_", "clearTimeout", "isFinite", "parseInt", "setTimeout"],
        ke = -1,
        Me = {};
        Me[lt] = Me[ut] = Me[ht] = Me[ct] = Me[ft] = Me[dt] = Me[pt] = Me[gt] = Me[vt] = !0,
        Me[B] = Me[W] = Me[at] = Me[H] = Me[st] = Me[j] = Me[q] = Me[Y] = Me[$] = Me[X] = Me[K] = Me[J] = Me[tt] = Me[et] = Me[rt] = !1;
        var Ie = {};
        Ie[B] = Ie[W] = Ie[at] = Ie[st] = Ie[H] = Ie[j] = Ie[lt] = Ie[ut] = Ie[ht] = Ie[ct] = Ie[ft] = Ie[$] = Ie[X] = Ie[K] = Ie[J] = Ie[tt] = Ie[et] = Ie[nt] = Ie[dt] = Ie[pt] = Ie[gt] = Ie[vt] = !0,
        Ie[q] = Ie[Y] = Ie[rt] = !1;
        var Ae = {
            "\\": "\\",
            "'": "'",
            "\n": "n",
            "\r": "r",
            "\u2028": "u2028",
            "\u2029": "u2029"
        },
        Te = parseFloat,
        Ce = parseInt,
        ze = "object" == (void 0 === _m ? "undefined" : r(_m)) && _m && _m.Object === Object && _m,
        Ee = "object" == ("undefined" == typeof self ? "undefined" : r(self)) && self && self.Object === Object && self,
        Le = ze || Ee || Function("return this")(),
        De = e && !e.nodeType && e,
        Oe = De && t && !t.nodeType && t,
        Pe = Oe && Oe.exports === De,
        Fe = Pe && ze.process,
        Ne = function () {
            try {
                return Fe && Fe.binding && Fe.binding("util")
            } catch (t) {}
        }
        (),
        Re = Ne && Ne.isArrayBuffer,
        Be = Ne && Ne.isDate,
        We = Ne && Ne.isMap,
        Ge = Ne && Ne.isRegExp,
        He = Ne && Ne.isSet,
        je = Ne && Ne.isTypedArray;
        function Ue(t, e) {
            return t.set(e[0], e[1]),
            t
        }
        function qe(t, e) {
            return t.add(e),
            t
        }
        function Ye(t, e, n) {
            switch (n.length) {
            case 0:
                return t.call(e);
            case 1:
                return t.call(e, n[0]);
            case 2:
                return t.call(e, n[0], n[1]);
            case 3:
                return t.call(e, n[0], n[1], n[2])
            }
            return t.apply(e, n)
        }
        function Ve(t, e, n, i) {
            for (var r = -1, o = null == t ? 0 : t.length; ++r < o; ) {
                var a = t[r];
                e(i, a, n(a), t)
            }
            return i
        }
        function $e(t, e) {
            for (var n = -1, i = null == t ? 0 : t.length; ++n < i && !1 !== e(t[n], n, t); );
            return t
        }
        function Xe(t, e) {
            for (var n = null == t ? 0 : t.length; n-- && !1 !== e(t[n], n, t); );
            return t
        }
        function Ze(t, e) {
            for (var n = -1, i = null == t ? 0 : t.length; ++n < i; )
                if (!e(t[n], n, t))
                    return !1;
            return !0
        }
        function Ke(t, e) {
            for (var n = -1, i = null == t ? 0 : t.length, r = 0, o = []; ++n < i; ) {
                var a = t[n];
                e(a, n, t) && (o[r++] = a)
            }
            return o
        }
        function Qe(t, e) {
            return !!(null == t ? 0 : t.length) && un(t, e, 0) > -1
        }
        function Je(t, e, n) {
            for (var i = -1, r = null == t ? 0 : t.length; ++i < r; )
                if (n(e, t[i]))
                    return !0;
            return !1
        }
        function tn(t, e) {
            for (var n = -1, i = null == t ? 0 : t.length, r = Array(i); ++n < i; )
                r[n] = e(t[n], n, t);
            return r
        }
        function en(t, e) {
            for (var n = -1, i = e.length, r = t.length; ++n < i; )
                t[r + n] = e[n];
            return t
        }
        function nn(t, e, n, i) {
            var r = -1,
            o = null == t ? 0 : t.length;
            for (i && o && (n = t[++r]); ++r < o; )
                n = e(n, t[r], r, t);
            return n
        }
        function rn(t, e, n, i) {
            var r = null == t ? 0 : t.length;
            for (i && r && (n = t[--r]); r--; )
                n = e(n, t[r], r, t);
            return n
        }
        function on(t, e) {
            for (var n = -1, i = null == t ? 0 : t.length; ++n < i; )
                if (e(t[n], n, t))
                    return !0;
            return !1
        }
        var an = dn("length");
        function sn(t, e, n) {
            var i;
            return n(t, function (t, n, r) {
                if (e(t, n, r))
                    return i = n, !1
            }),
            i
        }
        function ln(t, e, n, i) {
            for (var r = t.length, o = n + (i ? 1 : -1); i ? o-- : ++o < r; )
                if (e(t[o], o, t))
                    return o;
            return -1
        }
        function un(t, e, n) {
            return e == e ? function (t, e, n) {
                var i = n - 1,
                r = t.length;
                for (; ++i < r; )
                    if (t[i] === e)
                        return i;
                return -1
            }
            (t, e, n) : ln(t, cn, n)
        }
        function hn(t, e, n, i) {
            for (var r = n - 1, o = t.length; ++r < o; )
                if (i(t[r], e))
                    return r;
            return -1
        }
        function cn(t) {
            return t != t
        }
        function fn(t, e) {
            var n = null == t ? 0 : t.length;
            return n ? vn(t, e) / n : O
        }
        function dn(t) {
            return function (e) {
                return null == e ? n : e[t]
            }
        }
        function pn(t) {
            return function (e) {
                return null == t ? n : t[e]
            }
        }
        function gn(t, e, n, i, r) {
            return r(t, function (t, r, o) {
                n = i ? (i = !1, t) : e(n, t, r, o)
            }),
            n
        }
        function vn(t, e) {
            for (var i, r = -1, o = t.length; ++r < o; ) {
                var a = e(t[r]);
                a !== n && (i = i === n ? a : i + a)
            }
            return i
        }
        function yn(t, e) {
            for (var n = -1, i = Array(t); ++n < t; )
                i[n] = e(n);
            return i
        }
        function mn(t) {
            return function (e) {
                return t(e)
            }
        }
        function xn(t, e) {
            return tn(e, function (e) {
                return t[e]
            })
        }
        function _n(t, e) {
            return t.has(e)
        }
        function wn(t, e) {
            for (var n = -1, i = t.length; ++n < i && un(e, t[n], 0) > -1; );
            return n
        }
        function bn(t, e) {
            for (var n = t.length; n-- && un(e, t[n], 0) > -1; );
            return n
        }
        var Sn = pn({
            "À": "A",
            "Á": "A",
            "Â": "A",
            "Ã": "A",
            "Ä": "A",
            "Å": "A",
            "à": "a",
            "á": "a",
            "â": "a",
            "ã": "a",
            "ä": "a",
            "å": "a",
            "Ç": "C",
            "ç": "c",
            "Ð": "D",
            "ð": "d",
            "È": "E",
            "É": "E",
            "Ê": "E",
            "Ë": "E",
            "è": "e",
            "é": "e",
            "ê": "e",
            "ë": "e",
            "Ì": "I",
            "Í": "I",
            "Î": "I",
            "Ï": "I",
            "ì": "i",
            "í": "i",
            "î": "i",
            "ï": "i",
            "Ñ": "N",
            "ñ": "n",
            "Ò": "O",
            "Ó": "O",
            "Ô": "O",
            "Õ": "O",
            "Ö": "O",
            "Ø": "O",
            "ò": "o",
            "ó": "o",
            "ô": "o",
            "õ": "o",
            "ö": "o",
            "ø": "o",
            "Ù": "U",
            "Ú": "U",
            "Û": "U",
            "Ü": "U",
            "ù": "u",
            "ú": "u",
            "û": "u",
            "ü": "u",
            "Ý": "Y",
            "ý": "y",
            "ÿ": "y",
            "Æ": "Ae",
            "æ": "ae",
            "Þ": "Th",
            "þ": "th",
            "ß": "ss",
            "Ā": "A",
            "Ă": "A",
            "Ą": "A",
            "ā": "a",
            "ă": "a",
            "ą": "a",
            "Ć": "C",
            "Ĉ": "C",
            "Ċ": "C",
            "Č": "C",
            "ć": "c",
            "ĉ": "c",
            "ċ": "c",
            "č": "c",
            "Ď": "D",
            "Đ": "D",
            "ď": "d",
            "đ": "d",
            "Ē": "E",
            "Ĕ": "E",
            "Ė": "E",
            "Ę": "E",
            "Ě": "E",
            "ē": "e",
            "ĕ": "e",
            "ė": "e",
            "ę": "e",
            "ě": "e",
            "Ĝ": "G",
            "Ğ": "G",
            "Ġ": "G",
            "Ģ": "G",
            "ĝ": "g",
            "ğ": "g",
            "ġ": "g",
            "ģ": "g",
            "Ĥ": "H",
            "Ħ": "H",
            "ĥ": "h",
            "ħ": "h",
            "Ĩ": "I",
            "Ī": "I",
            "Ĭ": "I",
            "Į": "I",
            "İ": "I",
            "ĩ": "i",
            "ī": "i",
            "ĭ": "i",
            "į": "i",
            "ı": "i",
            "Ĵ": "J",
            "ĵ": "j",
            "Ķ": "K",
            "ķ": "k",
            "ĸ": "k",
            "Ĺ": "L",
            "Ļ": "L",
            "Ľ": "L",
            "Ŀ": "L",
            "Ł": "L",
            "ĺ": "l",
            "ļ": "l",
            "ľ": "l",
            "ŀ": "l",
            "ł": "l",
            "Ń": "N",
            "Ņ": "N",
            "Ň": "N",
            "Ŋ": "N",
            "ń": "n",
            "ņ": "n",
            "ň": "n",
            "ŋ": "n",
            "Ō": "O",
            "Ŏ": "O",
            "Ő": "O",
            "ō": "o",
            "ŏ": "o",
            "ő": "o",
            "Ŕ": "R",
            "Ŗ": "R",
            "Ř": "R",
            "ŕ": "r",
            "ŗ": "r",
            "ř": "r",
            "Ś": "S",
            "Ŝ": "S",
            "Ş": "S",
            "Š": "S",
            "ś": "s",
            "ŝ": "s",
            "ş": "s",
            "š": "s",
            "Ţ": "T",
            "Ť": "T",
            "Ŧ": "T",
            "ţ": "t",
            "ť": "t",
            "ŧ": "t",
            "Ũ": "U",
            "Ū": "U",
            "Ŭ": "U",
            "Ů": "U",
            "Ű": "U",
            "Ų": "U",
            "ũ": "u",
            "ū": "u",
            "ŭ": "u",
            "ů": "u",
            "ű": "u",
            "ų": "u",
            "Ŵ": "W",
            "ŵ": "w",
            "Ŷ": "Y",
            "ŷ": "y",
            "Ÿ": "Y",
            "Ź": "Z",
            "Ż": "Z",
            "Ž": "Z",
            "ź": "z",
            "ż": "z",
            "ž": "z",
            "Ĳ": "IJ",
            "ĳ": "ij",
            "Œ": "Oe",
            "œ": "oe",
            "ŉ": "'n",
            "ſ": "s"
        }),
        kn = pn({
            "&": "&amp;",
            "<": "&lt;",
            ">": "&gt;",
            '"': "&quot;",
            "'": "&#39;"
        });
        function Mn(t) {
            return "\\" + Ae[t]
        }
        function In(t) {
            return we.test(t)
        }
        function An(t) {
            var e = -1,
            n = Array(t.size);
            return t.forEach(function (t, i) {
                n[++e] = [i, t]
            }),
            n
        }
        function Tn(t, e) {
            return function (n) {
                return t(e(n))
            }
        }
        function Cn(t, e) {
            for (var n = -1, i = t.length, r = 0, o = []; ++n < i; ) {
                var a = t[n];
                a !== e && a !== u || (t[n] = u, o[r++] = n)
            }
            return o
        }
        function zn(t) {
            var e = -1,
            n = Array(t.size);
            return t.forEach(function (t) {
                n[++e] = t
            }),
            n
        }
        function En(t) {
            var e = -1,
            n = Array(t.size);
            return t.forEach(function (t) {
                n[++e] = [t, t]
            }),
            n
        }
        function Ln(t) {
            return In(t) ? function (t) {
                var e = xe.lastIndex = 0;
                for (; xe.test(t); )
                    ++e;
                return e
            }
            (t) : an(t)
        }
        function Dn(t) {
            return In(t) ? function (t) {
                return t.match(xe) || []
            }
            (t) : function (t) {
                return t.split("")
            }
            (t)
        }
        var On = pn({
            "&amp;": "&",
            "&lt;": "<",
            "&gt;": ">",
            "&quot;": '"',
            "&#39;": "'"
        });
        var Pn = function t(e) {
            var Kt,
            Qt = (e = null == e ? Le : Pn.defaults(Le.Object(), e, Pn.pick(Le, Se))).Array,
            Jt = e.Date,
            te = e.Error,
            ee = e.Function,
            ne = e.Math,
            ie = e.Object,
            re = e.RegExp,
            oe = e.String,
            ae = e.TypeError,
            se = Qt.prototype,
            le = ee.prototype,
            ue = ie.prototype,
            he = e["__core-js_shared__"],
            ce = le.toString,
            fe = ue.hasOwnProperty,
            de = 0,
            pe = (Kt = /[^.]+$/.exec(he && he.keys && he.keys.IE_PROTO || "")) ? "Symbol(src)_1." + Kt : "",
            ge = ue.toString,
            ve = ce.call(ie),
            xe = Le._,
            we = re("^" + ce.call(fe).replace(Et, "\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g, "$1.*?") + "$"),
            Ae = Pe ? e.Buffer : n,
            ze = e.Symbol,
            Ee = e.Uint8Array,
            De = Ae ? Ae.allocUnsafe : n,
            Oe = Tn(ie.getPrototypeOf, ie),
            Fe = ie.create,
            Ne = ue.propertyIsEnumerable,
            an = se.splice,
            pn = ze ? ze.isConcatSpreadable : n,
            Fn = ze ? ze.iterator : n,
            Nn = ze ? ze.toStringTag : n,
            Rn = function () {
                try {
                    var t = jo(ie, "defineProperty");
                    return t({}, "", {}),
                    t
                } catch (t) {}
            }
            (),
            Bn = e.clearTimeout !== Le.clearTimeout && e.clearTimeout,
            Wn = Jt && Jt.now !== Le.Date.now && Jt.now,
            Gn = e.setTimeout !== Le.setTimeout && e.setTimeout,
            Hn = ne.ceil,
            jn = ne.floor,
            Un = ie.getOwnPropertySymbols,
            qn = Ae ? Ae.isBuffer : n,
            Yn = e.isFinite,
            Vn = se.join,
            $n = Tn(ie.keys, ie),
            Xn = ne.max,
            Zn = ne.min,
            Kn = Jt.now,
            Qn = e.parseInt,
            Jn = ne.random,
            ti = se.reverse,
            ei = jo(e, "DataView"),
            ni = jo(e, "Map"),
            ii = jo(e, "Promise"),
            ri = jo(e, "Set"),
            oi = jo(e, "WeakMap"),
            ai = jo(ie, "create"),
            si = oi && new oi,
            li = {},
            ui = pa(ei),
            hi = pa(ni),
            ci = pa(ii),
            fi = pa(ri),
            di = pa(oi),
            pi = ze ? ze.prototype : n,
            gi = pi ? pi.valueOf : n,
            vi = pi ? pi.toString : n;
            function yi(t) {
                if (Es(t) && !_s(t) && !(t instanceof wi)) {
                    if (t instanceof _i)
                        return t;
                    if (fe.call(t, "__wrapped__"))
                        return ga(t)
                }
                return new _i(t)
            }
            var mi = function () {
                function t() {}
                return function (e) {
                    if (!zs(e))
                        return {};
                    if (Fe)
                        return Fe(e);
                    t.prototype = e;
                    var i = new t;
                    return t.prototype = n,
                    i
                }
            }
            ();
            function xi() {}
            function _i(t, e) {
                this.__wrapped__ = t,
                this.__actions__ = [],
                this.__chain__ = !!e,
                this.__index__ = 0,
                this.__values__ = n
            }
            function wi(t) {
                this.__wrapped__ = t,
                this.__actions__ = [],
                this.__dir__ = 1,
                this.__filtered__ = !1,
                this.__iteratees__ = [],
                this.__takeCount__ = P,
                this.__views__ = []
            }
            function bi(t) {
                var e = -1,
                n = null == t ? 0 : t.length;
                for (this.clear(); ++e < n; ) {
                    var i = t[e];
                    this.set(i[0], i[1])
                }
            }
            function Si(t) {
                var e = -1,
                n = null == t ? 0 : t.length;
                for (this.clear(); ++e < n; ) {
                    var i = t[e];
                    this.set(i[0], i[1])
                }
            }
            function ki(t) {
                var e = -1,
                n = null == t ? 0 : t.length;
                for (this.clear(); ++e < n; ) {
                    var i = t[e];
                    this.set(i[0], i[1])
                }
            }
            function Mi(t) {
                var e = -1,
                n = null == t ? 0 : t.length;
                for (this.__data__ = new ki; ++e < n; )
                    this.add(t[e])
            }
            function Ii(t) {
                var e = this.__data__ = new Si(t);
                this.size = e.size
            }
            function Ai(t, e) {
                var n = _s(t),
                i = !n && xs(t),
                r = !n && !i && ks(t),
                o = !n && !i && !r && Bs(t),
                a = n || i || r || o,
                s = a ? yn(t.length, oe) : [],
                l = s.length;
                for (var u in t)
                    !e && !fe.call(t, u) || a && ("length" == u || r && ("offset" == u || "parent" == u) || o && ("buffer" == u || "byteLength" == u || "byteOffset" == u) || Zo(u, l)) || s.push(u);
                return s
            }
            function Ti(t) {
                var e = t.length;
                return e ? t[Mr(0, e - 1)] : n
            }
            function Ci(t, e) {
                return ca(ao(t), Ri(e, 0, t.length))
            }
            function zi(t) {
                return ca(ao(t))
            }
            function Ei(t, e, i) {
                (i === n || vs(t[e], i)) && (i !== n || e in t) || Fi(t, e, i)
            }
            function Li(t, e, i) {
                var r = t[e];
                fe.call(t, e) && vs(r, i) && (i !== n || e in t) || Fi(t, e, i)
            }
            function Di(t, e) {
                for (var n = t.length; n--; )
                    if (vs(t[n][0], e))
                        return n;
                return -1
            }
            function Oi(t, e, n, i) {
                return ji(t, function (t, r, o) {
                    e(i, t, n(t), o)
                }),
                i
            }
            function Pi(t, e) {
                return t && so(e, sl(e), t)
            }
            function Fi(t, e, n) {
                "__proto__" == e && Rn ? Rn(t, e, {
                    configurable: !0,
                    enumerable: !0,
                    value: n,
                    writable: !0
                }) : t[e] = n
            }
            function Ni(t, e) {
                for (var i = -1, r = e.length, o = Qt(r), a = null == t; ++i < r; )
                    o[i] = a ? n : nl(t, e[i]);
                return o
            }
            function Ri(t, e, i) {
                return t == t && (i !== n && (t = t <= i ? t : i), e !== n && (t = t >= e ? t : e)),
                t
            }
            function Bi(t, e, i, r, o, a) {
                var s,
                l = e & h,
                u = e & c,
                d = e & f;
                if (i && (s = o ? i(t, r, o, a) : i(t)), s !== n)
                    return s;
                if (!zs(t))
                    return t;
                var p = _s(t);
                if (p) {
                    if (s = function (t) {
                        var e = t.length,
                        n = t.constructor(e);
                        return e && "string" == typeof t[0] && fe.call(t, "index") && (n.index = t.index, n.input = t.input),
                        n
                    }
                        (t), !l)
                        return ao(t, s)
                } else {
                    var g = Yo(t),
                    v = g == Y || g == V;
                    if (ks(t))
                        return to(t, l);
                    if (g == K || g == B || v && !o) {
                        if (s = u || v ? {}
                             : $o(t), !l)
                            return u ? function (t, e) {
                                return so(t, qo(t), e)
                            }
                        (t, function (t, e) {
                            return t && so(e, ll(e), t)
                        }
                            (s, t)) : function (t, e) {
                            return so(t, Uo(t), e)
                        }
                        (t, Pi(s, t))
                    } else {
                        if (!Ie[g])
                            return o ? t : {};
                        s = function (t, e, n, i) {
                            var r,
                            o,
                            a,
                            s = t.constructor;
                            switch (e) {
                            case at:
                                return eo(t);
                            case H:
                            case j:
                                return new s(+t);
                            case st:
                                return function (t, e) {
                                    var n = e ? eo(t.buffer) : t.buffer;
                                    return new t.constructor(n, t.byteOffset, t.byteLength)
                                }
                                (t, i);
                            case lt:
                            case ut:
                            case ht:
                            case ct:
                            case ft:
                            case dt:
                            case pt:
                            case gt:
                            case vt:
                                return no(t, i);
                            case $:
                                return function (t, e, n) {
                                    return nn(e ? n(An(t), h) : An(t), Ue, new t.constructor)
                                }
                                (t, i, n);
                            case X:
                            case et:
                                return new s(t);
                            case J:
                                return (a = new(o = t).constructor(o.source, Ht.exec(o))).lastIndex = o.lastIndex,
                                a;
                            case tt:
                                return function (t, e, n) {
                                    return nn(e ? n(zn(t), h) : zn(t), qe, new t.constructor)
                                }
                                (t, i, n);
                            case nt:
                                return r = t,
                                gi ? ie(gi.call(r)) : {}
                            }
                        }
                        (t, g, Bi, l)
                    }
                }
                a || (a = new Ii);
                var y = a.get(t);
                if (y)
                    return y;
                a.set(t, s);
                var m = p ? n : (d ? u ? Fo : Po : u ? ll : sl)(t);
                return $e(m || t, function (n, r) {
                    m && (n = t[r = n]),
                    Li(s, r, Bi(n, e, i, r, t, a))
                }),
                s
            }
            function Wi(t, e, i) {
                var r = i.length;
                if (null == t)
                    return !r;
                for (t = ie(t); r--; ) {
                    var o = i[r],
                    a = e[o],
                    s = t[o];
                    if (s === n && !(o in t) || !a(s))
                        return !1
                }
                return !0
            }
            function Gi(t, e, i) {
                if ("function" != typeof t)
                    throw new ae(a);
                return sa(function () {
                    t.apply(n, i)
                }, e)
            }
            function Hi(t, e, n, r) {
                var o = -1,
                a = Qe,
                s = !0,
                l = t.length,
                u = [],
                h = e.length;
                if (!l)
                    return u;
                n && (e = tn(e, mn(n))),
                r ? (a = Je, s = !1) : e.length >= i && (a = _n, s = !1, e = new Mi(e));
                t: for (; ++o < l; ) {
                    var c = t[o],
                    f = null == n ? c : n(c);
                    if (c = r || 0 !== c ? c : 0, s && f == f) {
                        for (var d = h; d--; )
                            if (e[d] === f)
                                continue t;
                        u.push(c)
                    } else
                        a(e, f, r) || u.push(c)
                }
                return u
            }
            yi.templateSettings = {
                escape: kt,
                evaluate: Mt,
                interpolate: It,
                variable: "",
                imports: {
                    _: yi
                }
            },
            yi.prototype = xi.prototype,
            yi.prototype.constructor = yi,
            _i.prototype = mi(xi.prototype),
            _i.prototype.constructor = _i,
            wi.prototype = mi(xi.prototype),
            wi.prototype.constructor = wi,
            bi.prototype.clear = function () {
                this.__data__ = ai ? ai(null) : {},
                this.size = 0
            },
            bi.prototype.delete = function (t) {
                var e = this.has(t) && delete this.__data__[t];
                return this.size -= e ? 1 : 0,
                e
            },
            bi.prototype.get = function (t) {
                var e = this.__data__;
                if (ai) {
                    var i = e[t];
                    return i === s ? n : i
                }
                return fe.call(e, t) ? e[t] : n
            },
            bi.prototype.has = function (t) {
                var e = this.__data__;
                return ai ? e[t] !== n : fe.call(e, t)
            },
            bi.prototype.set = function (t, e) {
                var i = this.__data__;
                return this.size += this.has(t) ? 0 : 1,
                i[t] = ai && e === n ? s : e,
                this
            },
            Si.prototype.clear = function () {
                this.__data__ = [],
                this.size = 0
            },
            Si.prototype.delete = function (t) {
                var e = this.__data__,
                n = Di(e, t);
                return !(n < 0 || (n == e.length - 1 ? e.pop() : an.call(e, n, 1), --this.size, 0))
            },
            Si.prototype.get = function (t) {
                var e = this.__data__,
                i = Di(e, t);
                return i < 0 ? n : e[i][1]
            },
            Si.prototype.has = function (t) {
                return Di(this.__data__, t) > -1
            },
            Si.prototype.set = function (t, e) {
                var n = this.__data__,
                i = Di(n, t);
                return i < 0 ? (++this.size, n.push([t, e])) : n[i][1] = e,
                this
            },
            ki.prototype.clear = function () {
                this.size = 0,
                this.__data__ = {
                    hash: new bi,
                    map: new(ni || Si),
                    string: new bi
                }
            },
            ki.prototype.delete = function (t) {
                var e = Go(this, t).delete(t);
                return this.size -= e ? 1 : 0,
                e
            },
            ki.prototype.get = function (t) {
                return Go(this, t).get(t)
            },
            ki.prototype.has = function (t) {
                return Go(this, t).has(t)
            },
            ki.prototype.set = function (t, e) {
                var n = Go(this, t),
                i = n.size;
                return n.set(t, e),
                this.size += n.size == i ? 0 : 1,
                this
            },
            Mi.prototype.add = Mi.prototype.push = function (t) {
                return this.__data__.set(t, s),
                this
            },
            Mi.prototype.has = function (t) {
                return this.__data__.has(t)
            },
            Ii.prototype.clear = function () {
                this.__data__ = new Si,
                this.size = 0
            },
            Ii.prototype.delete = function (t) {
                var e = this.__data__,
                n = e.delete(t);
                return this.size = e.size,
                n
            },
            Ii.prototype.get = function (t) {
                return this.__data__.get(t)
            },
            Ii.prototype.has = function (t) {
                return this.__data__.has(t)
            },
            Ii.prototype.set = function (t, e) {
                var n = this.__data__;
                if (n instanceof Si) {
                    var r = n.__data__;
                    if (!ni || r.length < i - 1)
                        return r.push([t, e]), this.size = ++n.size, this;
                    n = this.__data__ = new ki(r)
                }
                return n.set(t, e),
                this.size = n.size,
                this
            };
            var ji = ho(Ki),
            Ui = ho(Qi, !0);
            function qi(t, e) {
                var n = !0;
                return ji(t, function (t, i, r) {
                    return n = !!e(t, i, r)
                }),
                n
            }
            function Yi(t, e, i) {
                for (var r = -1, o = t.length; ++r < o; ) {
                    var a = t[r],
                    s = e(a);
                    if (null != s && (l === n ? s == s && !Rs(s) : i(s, l)))
                        var l = s, u = a
                }
                return u
            }
            function Vi(t, e) {
                var n = [];
                return ji(t, function (t, i, r) {
                    e(t, i, r) && n.push(t)
                }),
                n
            }
            function $i(t, e, n, i, r) {
                var o = -1,
                a = t.length;
                for (n || (n = Xo), r || (r = []); ++o < a; ) {
                    var s = t[o];
                    e > 0 && n(s) ? e > 1 ? $i(s, e - 1, n, i, r) : en(r, s) : i || (r[r.length] = s)
                }
                return r
            }
            var Xi = co(),
            Zi = co(!0);
            function Ki(t, e) {
                return t && Xi(t, e, sl)
            }
            function Qi(t, e) {
                return t && Zi(t, e, sl)
            }
            function Ji(t, e) {
                return Ke(e, function (e) {
                    return As(t[e])
                })
            }
            function tr(t, e) {
                for (var i = 0, r = (e = Zr(e, t)).length; null != t && i < r; )
                    t = t[da(e[i++])];
                return i && i == r ? t : n
            }
            function er(t, e, n) {
                var i = e(t);
                return _s(t) ? i : en(i, n(t))
            }
            function nr(t) {
                return null == t ? t === n ? it : Z : Nn && Nn in ie(t) ? function (t) {
                    var e = fe.call(t, Nn),
                    i = t[Nn];
                    try {
                        t[Nn] = n;
                        var r = !0
                    } catch (t) {}
                    var o = ge.call(t);
                    return r && (e ? t[Nn] = i : delete t[Nn]),
                    o
                }
                (t) : function (t) {
                    return ge.call(t)
                }
                (t)
            }
            function ir(t, e) {
                return t > e
            }
            function rr(t, e) {
                return null != t && fe.call(t, e)
            }
            function or(t, e) {
                return null != t && e in ie(t)
            }
            function ar(t, e, i) {
                for (var r = i ? Je : Qe, o = t[0].length, a = t.length, s = a, l = Qt(a), u = 1 / 0, h = []; s--; ) {
                    var c = t[s];
                    s && e && (c = tn(c, mn(e))),
                    u = Zn(c.length, u),
                    l[s] = !i && (e || o >= 120 && c.length >= 120) ? new Mi(s && c) : n
                }
                c = t[0];
                var f = -1,
                d = l[0];
                t: for (; ++f < o && h.length < u; ) {
                    var p = c[f],
                    g = e ? e(p) : p;
                    if (p = i || 0 !== p ? p : 0, !(d ? _n(d, g) : r(h, g, i))) {
                        for (s = a; --s; ) {
                            var v = l[s];
                            if (!(v ? _n(v, g) : r(t[s], g, i)))
                                continue t
                        }
                        d && d.push(g),
                        h.push(p)
                    }
                }
                return h
            }
            function sr(t, e, i) {
                var r = null == (t = oa(t, e = Zr(e, t))) ? t : t[da(Ia(e))];
                return null == r ? n : Ye(r, t, i)
            }
            function lr(t) {
                return Es(t) && nr(t) == B
            }
            function ur(t, e, i, r, o) {
                return t === e || (null == t || null == e || !Es(t) && !Es(e) ? t != t && e != e : function (t, e, i, r, o, a) {
                    var s = _s(t),
                    l = _s(e),
                    u = s ? W : Yo(t),
                    h = l ? W : Yo(e),
                    c = (u = u == B ? K : u) == K,
                    f = (h = h == B ? K : h) == K,
                    g = u == h;
                    if (g && ks(t)) {
                        if (!ks(e))
                            return !1;
                        s = !0,
                        c = !1
                    }
                    if (g && !c)
                        return a || (a = new Ii), s || Bs(t) ? Do(t, e, i, r, o, a) : function (t, e, n, i, r, o, a) {
                            switch (n) {
                            case st:
                                if (t.byteLength != e.byteLength || t.byteOffset != e.byteOffset)
                                    return !1;
                                t = t.buffer,
                                e = e.buffer;
                            case at:
                                return !(t.byteLength != e.byteLength || !o(new Ee(t), new Ee(e)));
                            case H:
                            case j:
                            case X:
                                return vs(+t, +e);
                            case q:
                                return t.name == e.name && t.message == e.message;
                            case J:
                            case et:
                                return t == e + "";
                            case $:
                                var s = An;
                            case tt:
                                var l = i & d;
                                if (s || (s = zn), t.size != e.size && !l)
                                    return !1;
                                var u = a.get(t);
                                if (u)
                                    return u == e;
                                i |= p,
                                a.set(t, e);
                                var h = Do(s(t), s(e), i, r, o, a);
                                return a.delete(t),
                                h;
                            case nt:
                                if (gi)
                                    return gi.call(t) == gi.call(e)
                            }
                            return !1
                        }
                    (t, e, u, i, r, o, a);
                    if (!(i & d)) {
                        var v = c && fe.call(t, "__wrapped__"),
                        y = f && fe.call(e, "__wrapped__");
                        if (v || y) {
                            var m = v ? t.value() : t,
                            x = y ? e.value() : e;
                            return a || (a = new Ii),
                            o(m, x, i, r, a)
                        }
                    }
                    return !!g && (a || (a = new Ii), function (t, e, i, r, o, a) {
                        var s = i & d,
                        l = Po(t),
                        u = l.length,
                        h = Po(e).length;
                        if (u != h && !s)
                            return !1;
                        for (var c = u; c--; ) {
                            var f = l[c];
                            if (!(s ? f in e : fe.call(e, f)))
                                return !1
                        }
                        var p = a.get(t);
                        if (p && a.get(e))
                            return p == e;
                        var g = !0;
                        a.set(t, e),
                        a.set(e, t);
                        for (var v = s; ++c < u; ) {
                            f = l[c];
                            var y = t[f],
                            m = e[f];
                            if (r)
                                var x = s ? r(m, y, f, e, t, a) : r(y, m, f, t, e, a);
                            if (!(x === n ? y === m || o(y, m, i, r, a) : x)) {
                                g = !1;
                                break
                            }
                            v || (v = "constructor" == f)
                        }
                        if (g && !v) {
                            var _ = t.constructor,
                            w = e.constructor;
                            _ != w && "constructor" in t && "constructor" in e && !("function" == typeof _ && _ instanceof _ && "function" == typeof w && w instanceof w) && (g = !1)
                        }
                        return a.delete(t),
                        a.delete(e),
                        g
                    }
                        (t, e, i, r, o, a))
                }
                    (t, e, i, r, ur, o))
            }
            function hr(t, e, i, r) {
                var o = i.length,
                a = o,
                s = !r;
                if (null == t)
                    return !a;
                for (t = ie(t); o--; ) {
                    var l = i[o];
                    if (s && l[2] ? l[1] !== t[l[0]] : !(l[0]in t))
                        return !1
                }
                for (; ++o < a; ) {
                    var u = (l = i[o])[0],
                    h = t[u],
                    c = l[1];
                    if (s && l[2]) {
                        if (h === n && !(u in t))
                            return !1
                    } else {
                        var f = new Ii;
                        if (r)
                            var g = r(h, c, u, t, e, f);
                        if (!(g === n ? ur(c, h, d | p, r, f) : g))
                            return !1
                    }
                }
                return !0
            }
            function cr(t) {
                return !(!zs(t) || pe && pe in t) && (As(t) ? we : qt).test(pa(t))
            }
            function fr(t) {
                return "function" == typeof t ? t : null == t ? Dl : "object" == (void 0 === t ? "undefined" : r(t)) ? _s(t) ? mr(t[0], t[1]) : yr(t) : Hl(t)
            }
            function dr(t) {
                if (!ea(t))
                    return $n(t);
                var e = [];
                for (var n in ie(t))
                    fe.call(t, n) && "constructor" != n && e.push(n);
                return e
            }
            function pr(t) {
                if (!zs(t))
                    return function (t) {
                        var e = [];
                        if (null != t)
                            for (var n in ie(t))
                                e.push(n);
                        return e
                    }
                (t);
                var e = ea(t),
                n = [];
                for (var i in t)
                    ("constructor" != i || !e && fe.call(t, i)) && n.push(i);
                return n
            }
            function gr(t, e) {
                return t < e
            }
            function vr(t, e) {
                var n = -1,
                i = bs(t) ? Qt(t.length) : [];
                return ji(t, function (t, r, o) {
                    i[++n] = e(t, r, o)
                }),
                i
            }
            function yr(t) {
                var e = Ho(t);
                return 1 == e.length && e[0][2] ? ia(e[0][0], e[0][1]) : function (n) {
                    return n === t || hr(n, t, e)
                }
            }
            function mr(t, e) {
                return Qo(t) && na(e) ? ia(da(t), e) : function (i) {
                    var r = nl(i, t);
                    return r === n && r === e ? il(i, t) : ur(e, r, d | p)
                }
            }
            function xr(t, e, i, r, o) {
                t !== e && Xi(e, function (a, s) {
                    if (zs(a))
                        o || (o = new Ii), function (t, e, i, r, o, a, s) {
                            var l = t[i],
                            u = e[i],
                            h = s.get(u);
                            if (h)
                                Ei(t, i, h);
                            else {
                                var c = a ? a(l, u, i + "", t, e, s) : n,
                                f = c === n;
                                if (f) {
                                    var d = _s(u),
                                    p = !d && ks(u),
                                    g = !d && !p && Bs(u);
                                    c = u,
                                    d || p || g ? _s(l) ? c = l : Ss(l) ? c = ao(l) : p ? (f = !1, c = to(u, !0)) : g ? (f = !1, c = no(u, !0)) : c = [] : Os(u) || xs(u) ? (c = l, xs(l) ? c = Vs(l) : (!zs(l) || r && As(l)) && (c = $o(u))) : f = !1
                                }
                                f && (s.set(u, c), o(c, u, r, a, s), s.delete(u)),
                                Ei(t, i, c)
                            }
                        }
                    (t, e, s, i, xr, r, o);
                    else {
                        var l = r ? r(t[s], a, s + "", t, e, o) : n;
                        l === n && (l = a),
                        Ei(t, s, l)
                    }
                }, ll)
            }
            function _r(t, e) {
                var i = t.length;
                if (i)
                    return Zo(e += e < 0 ? i : 0, i) ? t[e] : n
            }
            function wr(t, e, n) {
                var i = -1;
                return e = tn(e.length ? e : [Dl], mn(Wo())),
                function (t, e) {
                    var n = t.length;
                    for (t.sort(e); n--; )
                        t[n] = t[n].value;
                    return t
                }
                (vr(t, function (t, n, r) {
                        return {
                            criteria: tn(e, function (e) {
                                return e(t)
                            }),
                            index: ++i,
                            value: t
                        }
                    }), function (t, e) {
                    return function (t, e, n) {
                        for (var i = -1, r = t.criteria, o = e.criteria, a = r.length, s = n.length; ++i < a; ) {
                            var l = io(r[i], o[i]);
                            if (l) {
                                if (i >= s)
                                    return l;
                                var u = n[i];
                                return l * ("desc" == u ? -1 : 1)
                            }
                        }
                        return t.index - e.index
                    }
                    (t, e, n)
                })
            }
            function br(t, e, n) {
                for (var i = -1, r = e.length, o = {}; ++i < r; ) {
                    var a = e[i],
                    s = tr(t, a);
                    n(s, a) && zr(o, Zr(a, t), s)
                }
                return o
            }
            function Sr(t, e, n, i) {
                var r = i ? hn : un,
                o = -1,
                a = e.length,
                s = t;
                for (t === e && (e = ao(e)), n && (s = tn(t, mn(n))); ++o < a; )
                    for (var l = 0, u = e[o], h = n ? n(u) : u; (l = r(s, h, l, i)) > -1; )
                        s !== t && an.call(s, l, 1), an.call(t, l, 1);
                return t
            }
            function kr(t, e) {
                for (var n = t ? e.length : 0, i = n - 1; n--; ) {
                    var r = e[n];
                    if (n == i || r !== o) {
                        var o = r;
                        Zo(r) ? an.call(t, r, 1) : Hr(t, r)
                    }
                }
                return t
            }
            function Mr(t, e) {
                return t + jn(Jn() * (e - t + 1))
            }
            function Ir(t, e) {
                var n = "";
                if (!t || e < 1 || e > L)
                    return n;
                do {
                    e % 2 && (n += t),
                    (e = jn(e / 2)) && (t += t)
                } while (e);
                return n
            }
            function Ar(t, e) {
                return la(ra(t, e, Dl), t + "")
            }
            function Tr(t) {
                return Ti(vl(t))
            }
            function Cr(t, e) {
                var n = vl(t);
                return ca(n, Ri(e, 0, n.length))
            }
            function zr(t, e, i, r) {
                if (!zs(t))
                    return t;
                for (var o = -1, a = (e = Zr(e, t)).length, s = a - 1, l = t; null != l && ++o < a; ) {
                    var u = da(e[o]),
                    h = i;
                    if (o != s) {
                        var c = l[u];
                        (h = r ? r(c, u, l) : n) === n && (h = zs(c) ? c : Zo(e[o + 1]) ? [] : {})
                    }
                    Li(l, u, h),
                    l = l[u]
                }
                return t
            }
            var Er = si ? function (t, e) {
                return si.set(t, e),
                t
            }
             : Dl,
            Lr = Rn ? function (t, e) {
                return Rn(t, "toString", {
                    configurable: !0,
                    enumerable: !1,
                    value: zl(e),
                    writable: !0
                })
            }
             : Dl;
            function Dr(t) {
                return ca(vl(t))
            }
            function Or(t, e, n) {
                var i = -1,
                r = t.length;
                e < 0 && (e = -e > r ? 0 : r + e),
                (n = n > r ? r : n) < 0 && (n += r),
                r = e > n ? 0 : n - e >>> 0,
                e >>>= 0;
                for (var o = Qt(r); ++i < r; )
                    o[i] = t[i + e];
                return o
            }
            function Pr(t, e) {
                var n;
                return ji(t, function (t, i, r) {
                    return !(n = e(t, i, r))
                }),
                !!n
            }
            function Fr(t, e, n) {
                var i = 0,
                r = null == t ? i : t.length;
                if ("number" == typeof e && e == e && r <= N) {
                    for (; i < r; ) {
                        var o = i + r >>> 1,
                        a = t[o];
                        null !== a && !Rs(a) && (n ? a <= e : a < e) ? i = o + 1 : r = o
                    }
                    return r
                }
                return Nr(t, e, Dl, n)
            }
            function Nr(t, e, i, r) {
                e = i(e);
                for (var o = 0, a = null == t ? 0 : t.length, s = e != e, l = null === e, u = Rs(e), h = e === n; o < a; ) {
                    var c = jn((o + a) / 2),
                    f = i(t[c]),
                    d = f !== n,
                    p = null === f,
                    g = f == f,
                    v = Rs(f);
                    if (s)
                        var y = r || g;
                    else
                        y = h ? g && (r || d) : l ? g && d && (r || !p) : u ? g && d && !p && (r || !v) : !p && !v && (r ? f <= e : f < e);
                    y ? o = c + 1 : a = c
                }
                return Zn(a, F)
            }
            function Rr(t, e) {
                for (var n = -1, i = t.length, r = 0, o = []; ++n < i; ) {
                    var a = t[n],
                    s = e ? e(a) : a;
                    if (!n || !vs(s, l)) {
                        var l = s;
                        o[r++] = 0 === a ? 0 : a
                    }
                }
                return o
            }
            function Br(t) {
                return "number" == typeof t ? t : Rs(t) ? O : +t
            }
            function Wr(t) {
                if ("string" == typeof t)
                    return t;
                if (_s(t))
                    return tn(t, Wr) + "";
                if (Rs(t))
                    return vi ? vi.call(t) : "";
                var e = t + "";
                return "0" == e && 1 / t == -E ? "-0" : e
            }
            function Gr(t, e, n) {
                var r = -1,
                o = Qe,
                a = t.length,
                s = !0,
                l = [],
                u = l;
                if (n)
                    s = !1, o = Je;
                else if (a >= i) {
                    var h = e ? null : Ao(t);
                    if (h)
                        return zn(h);
                    s = !1,
                    o = _n,
                    u = new Mi
                } else
                    u = e ? [] : l;
                t: for (; ++r < a; ) {
                    var c = t[r],
                    f = e ? e(c) : c;
                    if (c = n || 0 !== c ? c : 0, s && f == f) {
                        for (var d = u.length; d--; )
                            if (u[d] === f)
                                continue t;
                        e && u.push(f),
                        l.push(c)
                    } else
                        o(u, f, n) || (u !== l && u.push(f), l.push(c))
                }
                return l
            }
            function Hr(t, e) {
                return null == (t = oa(t, e = Zr(e, t))) || delete t[da(Ia(e))]
            }
            function jr(t, e, n, i) {
                return zr(t, e, n(tr(t, e)), i)
            }
            function Ur(t, e, n, i) {
                for (var r = t.length, o = i ? r : -1; (i ? o-- : ++o < r) && e(t[o], o, t); );
                return n ? Or(t, i ? 0 : o, i ? o + 1 : r) : Or(t, i ? o + 1 : 0, i ? r : o)
            }
            function qr(t, e) {
                var n = t;
                return n instanceof wi && (n = n.value()),
                nn(e, function (t, e) {
                    return e.func.apply(e.thisArg, en([t], e.args))
                }, n)
            }
            function Yr(t, e, n) {
                var i = t.length;
                if (i < 2)
                    return i ? Gr(t[0]) : [];
                for (var r = -1, o = Qt(i); ++r < i; )
                    for (var a = t[r], s = -1; ++s < i; )
                        s != r && (o[r] = Hi(o[r] || a, t[s], e, n));
                return Gr($i(o, 1), e, n)
            }
            function Vr(t, e, i) {
                for (var r = -1, o = t.length, a = e.length, s = {}; ++r < o; ) {
                    var l = r < a ? e[r] : n;
                    i(s, t[r], l)
                }
                return s
            }
            function $r(t) {
                return Ss(t) ? t : []
            }
            function Xr(t) {
                return "function" == typeof t ? t : Dl
            }
            function Zr(t, e) {
                return _s(t) ? t : Qo(t, e) ? [t] : fa($s(t))
            }
            var Kr = Ar;
            function Qr(t, e, i) {
                var r = t.length;
                return i = i === n ? r : i,
                !e && i >= r ? t : Or(t, e, i)
            }
            var Jr = Bn || function (t) {
                return Le.clearTimeout(t)
            };
            function to(t, e) {
                if (e)
                    return t.slice();
                var n = t.length,
                i = De ? De(n) : new t.constructor(n);
                return t.copy(i),
                i
            }
            function eo(t) {
                var e = new t.constructor(t.byteLength);
                return new Ee(e).set(new Ee(t)),
                e
            }
            function no(t, e) {
                var n = e ? eo(t.buffer) : t.buffer;
                return new t.constructor(n, t.byteOffset, t.length)
            }
            function io(t, e) {
                if (t !== e) {
                    var i = t !== n,
                    r = null === t,
                    o = t == t,
                    a = Rs(t),
                    s = e !== n,
                    l = null === e,
                    u = e == e,
                    h = Rs(e);
                    if (!l && !h && !a && t > e || a && s && u && !l && !h || r && s && u || !i && u || !o)
                        return 1;
                    if (!r && !a && !h && t < e || h && i && o && !r && !a || l && i && o || !s && o || !u)
                        return -1
                }
                return 0
            }
            function ro(t, e, n, i) {
                for (var r = -1, o = t.length, a = n.length, s = -1, l = e.length, u = Xn(o - a, 0), h = Qt(l + u), c = !i; ++s < l; )
                    h[s] = e[s];
                for (; ++r < a; )
                    (c || r < o) && (h[n[r]] = t[r]);
                for (; u--; )
                    h[s++] = t[r++];
                return h
            }
            function oo(t, e, n, i) {
                for (var r = -1, o = t.length, a = -1, s = n.length, l = -1, u = e.length, h = Xn(o - s, 0), c = Qt(h + u), f = !i; ++r < h; )
                    c[r] = t[r];
                for (var d = r; ++l < u; )
                    c[d + l] = e[l];
                for (; ++a < s; )
                    (f || r < o) && (c[d + n[a]] = t[r++]);
                return c
            }
            function ao(t, e) {
                var n = -1,
                i = t.length;
                for (e || (e = Qt(i)); ++n < i; )
                    e[n] = t[n];
                return e
            }
            function so(t, e, i, r) {
                var o = !i;
                i || (i = {});
                for (var a = -1, s = e.length; ++a < s; ) {
                    var l = e[a],
                    u = r ? r(i[l], t[l], l, i, t) : n;
                    u === n && (u = t[l]),
                    o ? Fi(i, l, u) : Li(i, l, u)
                }
                return i
            }
            function lo(t, e) {
                return function (n, i) {
                    var r = _s(n) ? Ve : Oi,
                    o = e ? e() : {};
                    return r(n, t, Wo(i, 2), o)
                }
            }
            function uo(t) {
                return Ar(function (e, i) {
                    var r = -1,
                    o = i.length,
                    a = o > 1 ? i[o - 1] : n,
                    s = o > 2 ? i[2] : n;
                    for (a = t.length > 3 && "function" == typeof a ? (o--, a) : n, s && Ko(i[0], i[1], s) && (a = o < 3 ? n : a, o = 1), e = ie(e); ++r < o; ) {
                        var l = i[r];
                        l && t(e, l, r, a)
                    }
                    return e
                })
            }
            function ho(t, e) {
                return function (n, i) {
                    if (null == n)
                        return n;
                    if (!bs(n))
                        return t(n, i);
                    for (var r = n.length, o = e ? r : -1, a = ie(n); (e ? o-- : ++o < r) && !1 !== i(a[o], o, a); );
                    return n
                }
            }
            function co(t) {
                return function (e, n, i) {
                    for (var r = -1, o = ie(e), a = i(e), s = a.length; s--; ) {
                        var l = a[t ? s : ++r];
                        if (!1 === n(o[l], l, o))
                            break
                    }
                    return e
                }
            }
            function fo(t) {
                return function (e) {
                    var i = In(e = $s(e)) ? Dn(e) : n,
                    r = i ? i[0] : e.charAt(0),
                    o = i ? Qr(i, 1).join("") : e.slice(1);
                    return r[t]() + o
                }
            }
            function po(t) {
                return function (e) {
                    return nn(Al(xl(e).replace(ye, "")), t, "")
                }
            }
            function go(t) {
                return function () {
                    var e = arguments;
                    switch (e.length) {
                    case 0:
                        return new t;
                    case 1:
                        return new t(e[0]);
                    case 2:
                        return new t(e[0], e[1]);
                    case 3:
                        return new t(e[0], e[1], e[2]);
                    case 4:
                        return new t(e[0], e[1], e[2], e[3]);
                    case 5:
                        return new t(e[0], e[1], e[2], e[3], e[4]);
                    case 6:
                        return new t(e[0], e[1], e[2], e[3], e[4], e[5]);
                    case 7:
                        return new t(e[0], e[1], e[2], e[3], e[4], e[5], e[6])
                    }
                    var n = mi(t.prototype),
                    i = t.apply(n, e);
                    return zs(i) ? i : n
                }
            }
            function vo(t) {
                return function (e, i, r) {
                    var o = ie(e);
                    if (!bs(e)) {
                        var a = Wo(i, 3);
                        e = sl(e),
                        i = function (t) {
                            return a(o[t], t, o)
                        }
                    }
                    var s = t(e, i, r);
                    return s > -1 ? o[a ? e[s] : s] : n
                }
            }
            function yo(t) {
                return Oo(function (e) {
                    var i = e.length,
                    r = i,
                    o = _i.prototype.thru;
                    for (t && e.reverse(); r--; ) {
                        var s = e[r];
                        if ("function" != typeof s)
                            throw new ae(a);
                        if (o && !l && "wrapper" == Ro(s))
                            var l = new _i([], !0)
                    }
                    for (r = l ? r : i; ++r < i; ) {
                        var u = Ro(s = e[r]),
                        h = "wrapper" == u ? No(s) : n;
                        l = h && Jo(h[0]) && h[1] == (b | m | _ | S) && !h[4].length && 1 == h[9] ? l[Ro(h[0])].apply(l, h[3]) : 1 == s.length && Jo(s) ? l[u]() : l.thru(s)
                    }
                    return function () {
                        var t = arguments,
                        n = t[0];
                        if (l && 1 == t.length && _s(n))
                            return l.plant(n).value();
                        for (var r = 0, o = i ? e[r].apply(this, t) : n; ++r < i; )
                            o = e[r].call(this, o);
                        return o
                    }
                })
            }
            function mo(t, e, i, r, o, a, s, l, u, h) {
                var c = e & b,
                f = e & g,
                d = e & v,
                p = e & (m | x),
                y = e & k,
                _ = d ? n : go(t);
                return function g() {
                    for (var v = arguments.length, m = Qt(v), x = v; x--; )
                        m[x] = arguments[x];
                    if (p)
                        var w = Bo(g), b = function (t, e) {
                            for (var n = t.length, i = 0; n--; )
                                t[n] === e && ++i;
                            return i
                        }
                    (m, w);
                    if (r && (m = ro(m, r, o, p)), a && (m = oo(m, a, s, p)), v -= b, p && v < h) {
                        var S = Cn(m, w);
                        return Mo(t, e, mo, g.placeholder, i, m, S, l, u, h - v)
                    }
                    var k = f ? i : this,
                    M = d ? k[t] : t;
                    return v = m.length,
                    l ? m = function (t, e) {
                        for (var i = t.length, r = Zn(e.length, i), o = ao(t); r--; ) {
                            var a = e[r];
                            t[r] = Zo(a, i) ? o[a] : n
                        }
                        return t
                    }
                    (m, l) : y && v > 1 && m.reverse(),
                    c && u < v && (m.length = u),
                    this && this !== Le && this instanceof g && (M = _ || go(M)),
                    M.apply(k, m)
                }
            }
            function xo(t, e) {
                return function (n, i) {
                    return function (t, e, n, i) {
                        return Ki(t, function (t, r, o) {
                            e(i, n(t), r, o)
                        }),
                        i
                    }
                    (n, t, e(i), {})
                }
            }
            function _o(t, e) {
                return function (i, r) {
                    var o;
                    if (i === n && r === n)
                        return e;
                    if (i !== n && (o = i), r !== n) {
                        if (o === n)
                            return r;
                        "string" == typeof i || "string" == typeof r ? (i = Wr(i), r = Wr(r)) : (i = Br(i), r = Br(r)),
                        o = t(i, r)
                    }
                    return o
                }
            }
            function wo(t) {
                return Oo(function (e) {
                    return e = tn(e, mn(Wo())),
                    Ar(function (n) {
                        var i = this;
                        return t(e, function (t) {
                            return Ye(t, i, n)
                        })
                    })
                })
            }
            function bo(t, e) {
                var i = (e = e === n ? " " : Wr(e)).length;
                if (i < 2)
                    return i ? Ir(e, t) : e;
                var r = Ir(e, Hn(t / Ln(e)));
                return In(e) ? Qr(Dn(r), 0, t).join("") : r.slice(0, t)
            }
            function So(t) {
                return function (e, i, r) {
                    return r && "number" != typeof r && Ko(e, i, r) && (i = r = n),
                    e = js(e),
                    i === n ? (i = e, e = 0) : i = js(i),
                    function (t, e, n, i) {
                        for (var r = -1, o = Xn(Hn((e - t) / (n || 1)), 0), a = Qt(o); o--; )
                            a[i ? o : ++r] = t, t += n;
                        return a
                    }
                    (e, i, r = r === n ? e < i ? 1 : -1 : js(r), t)
                }
            }
            function ko(t) {
                return function (e, n) {
                    return "string" == typeof e && "string" == typeof n || (e = Ys(e), n = Ys(n)),
                    t(e, n)
                }
            }
            function Mo(t, e, i, r, o, a, s, l, u, h) {
                var c = e & m;
                e |= c ? _ : w,
                (e &= ~(c ? w : _)) & y || (e &= ~(g | v));
                var f = [t, e, o, c ? a : n, c ? s : n, c ? n : a, c ? n : s, l, u, h],
                d = i.apply(n, f);
                return Jo(t) && aa(d, f),
                d.placeholder = r,
                ua(d, t, e)
            }
            function Io(t) {
                var e = ne[t];
                return function (t, n) {
                    if (t = Ys(t), n = null == n ? 0 : Zn(Us(n), 292)) {
                        var i = ($s(t) + "e").split("e");
                        return  + ((i = ($s(e(i[0] + "e" + (+i[1] + n))) + "e").split("e"))[0] + "e" + (+i[1] - n))
                    }
                    return e(t)
                }
            }
            var Ao = ri && 1 / zn(new ri([, -0]))[1] == E ? function (t) {
                return new ri(t)
            }
             : Rl;
            function To(t) {
                return function (e) {
                    var n = Yo(e);
                    return n == $ ? An(e) : n == tt ? En(e) : function (t, e) {
                        return tn(e, function (e) {
                            return [e, t[e]]
                        })
                    }
                    (e, t(e))
                }
            }
            function Co(t, e, i, r, o, s, l, h) {
                var c = e & v;
                if (!c && "function" != typeof t)
                    throw new ae(a);
                var f = r ? r.length : 0;
                if (f || (e &= ~(_ | w), r = o = n), l = l === n ? l : Xn(Us(l), 0), h = h === n ? h : Us(h), f -= o ? o.length : 0, e & w) {
                    var d = r,
                    p = o;
                    r = o = n
                }
                var k = c ? n : No(t),
                M = [t, e, i, r, o, d, p, s, l, h];
                if (k && function (t, e) {
                    var n = t[1],
                    i = e[1],
                    r = n | i,
                    o = r < (g | v | b),
                    a = i == b && n == m || i == b && n == S && t[7].length <= e[8] || i == (b | S) && e[7].length <= e[8] && n == m;
                    if (!o && !a)
                        return t;
                    i & g && (t[2] = e[2], r |= n & g ? 0 : y);
                    var s = e[3];
                    if (s) {
                        var l = t[3];
                        t[3] = l ? ro(l, s, e[4]) : s,
                        t[4] = l ? Cn(t[3], u) : e[4]
                    }
                    (s = e[5]) && (l = t[5], t[5] = l ? oo(l, s, e[6]) : s, t[6] = l ? Cn(t[5], u) : e[6]),
                    (s = e[7]) && (t[7] = s),
                    i & b && (t[8] = null == t[8] ? e[8] : Zn(t[8], e[8])),
                    null == t[9] && (t[9] = e[9]),
                    t[0] = e[0],
                    t[1] = r
                }
                    (M, k), t = M[0], e = M[1], i = M[2], r = M[3], o = M[4], !(h = M[9] = M[9] === n ? c ? 0 : t.length : Xn(M[9] - f, 0)) && e & (m | x) && (e &= ~(m | x)), e && e != g)
                    I = e == m || e == x ? function (t, e, i) {
                        var r = go(t);
                        return function o() {
                            for (var a = arguments.length, s = Qt(a), l = a, u = Bo(o); l--; )
                                s[l] = arguments[l];
                            var h = a < 3 && s[0] !== u && s[a - 1] !== u ? [] : Cn(s, u);
                            return (a -= h.length) < i ? Mo(t, e, mo, o.placeholder, n, s, h, n, n, i - a) : Ye(this && this !== Le && this instanceof o ? r : t, this, s)
                        }
                    }
                (t, e, h) : e != _ && e != (g | _) || o.length ? mo.apply(n, M) : function (t, e, n, i) {
                    var r = e & g,
                    o = go(t);
                    return function e() {
                        for (var a = -1, s = arguments.length, l = -1, u = i.length, h = Qt(u + s), c = this && this !== Le && this instanceof e ? o : t; ++l < u; )
                            h[l] = i[l];
                        for (; s--; )
                            h[l++] = arguments[++a];
                        return Ye(c, r ? n : this, h)
                    }
                }
                (t, e, i, r);
                else
                    var I = function (t, e, n) {
                        var i = e & g,
                        r = go(t);
                        return function e() {
                            return (this && this !== Le && this instanceof e ? r : t).apply(i ? n : this, arguments)
                        }
                    }
                (t, e, i);
                return ua((k ? Er : aa)(I, M), t, e)
            }
            function zo(t, e, i, r) {
                return t === n || vs(t, ue[i]) && !fe.call(r, i) ? e : t
            }
            function Eo(t, e, i, r, o, a) {
                return zs(t) && zs(e) && (a.set(e, t), xr(t, e, n, Eo, a), a.delete(e)),
                t
            }
            function Lo(t) {
                return Os(t) ? n : t
            }
            function Do(t, e, i, r, o, a) {
                var s = i & d,
                l = t.length,
                u = e.length;
                if (l != u && !(s && u > l))
                    return !1;
                var h = a.get(t);
                if (h && a.get(e))
                    return h == e;
                var c = -1,
                f = !0,
                g = i & p ? new Mi : n;
                for (a.set(t, e), a.set(e, t); ++c < l; ) {
                    var v = t[c],
                    y = e[c];
                    if (r)
                        var m = s ? r(y, v, c, e, t, a) : r(v, y, c, t, e, a);
                    if (m !== n) {
                        if (m)
                            continue;
                        f = !1;
                        break
                    }
                    if (g) {
                        if (!on(e, function (t, e) {
                                if (!_n(g, e) && (v === t || o(v, t, i, r, a)))
                                    return g.push(e)
                                })) {
                                f = !1;
                                break
                            }
                    } else if (v !== y && !o(v, y, i, r, a)) {
                        f = !1;
                        break
                    }
                }
                return a.delete(t),
                a.delete(e),
                f
            }
            function Oo(t) {
                return la(ra(t, n, wa), t + "")
            }
            function Po(t) {
                return er(t, sl, Uo)
            }
            function Fo(t) {
                return er(t, ll, qo)
            }
            var No = si ? function (t) {
                return si.get(t)
            }
             : Rl;
            function Ro(t) {
                for (var e = t.name + "", n = li[e], i = fe.call(li, e) ? n.length : 0; i--; ) {
                    var r = n[i],
                    o = r.func;
                    if (null == o || o == t)
                        return r.name
                }
                return e
            }
            function Bo(t) {
                return (fe.call(yi, "placeholder") ? yi : t).placeholder
            }
            function Wo() {
                var t = yi.iteratee || Ol;
                return t = t === Ol ? fr : t,
                arguments.length ? t(arguments[0], arguments[1]) : t
            }
            function Go(t, e) {
                var n,
                i,
                o = t.__data__;
                return ("string" == (i = void 0 === (n = e) ? "undefined" : r(n)) || "number" == i || "symbol" == i || "boolean" == i ? "__proto__" !== n : null === n) ? o["string" == typeof e ? "string" : "hash"] : o.map
            }
            function Ho(t) {
                for (var e = sl(t), n = e.length; n--; ) {
                    var i = e[n],
                    r = t[i];
                    e[n] = [i, r, na(r)]
                }
                return e
            }
            function jo(t, e) {
                var i = function (t, e) {
                    return null == t ? n : t[e]
                }
                (t, e);
                return cr(i) ? i : n
            }
            var Uo = Un ? function (t) {
                return null == t ? [] : (t = ie(t), Ke(Un(t), function (e) {
                        return Ne.call(t, e)
                    }))
            }
             : ql,
            qo = Un ? function (t) {
                for (var e = []; t; )
                    en(e, Uo(t)), t = Oe(t);
                return e
            }
             : ql,
            Yo = nr;
            function Vo(t, e, n) {
                for (var i = -1, r = (e = Zr(e, t)).length, o = !1; ++i < r; ) {
                    var a = da(e[i]);
                    if (!(o = null != t && n(t, a)))
                        break;
                    t = t[a]
                }
                return o || ++i != r ? o : !!(r = null == t ? 0 : t.length) && Cs(r) && Zo(a, r) && (_s(t) || xs(t))
            }
            function $o(t) {
                return "function" != typeof t.constructor || ea(t) ? {}
                 : mi(Oe(t))
            }
            function Xo(t) {
                return _s(t) || xs(t) || !!(pn && t && t[pn])
            }
            function Zo(t, e) {
                return !!(e = null == e ? L : e) && ("number" == typeof t || Vt.test(t)) && t > -1 && t % 1 == 0 && t < e
            }
            function Ko(t, e, n) {
                if (!zs(n))
                    return !1;
                var i = void 0 === e ? "undefined" : r(e);
                return !!("number" == i ? bs(n) && Zo(e, n.length) : "string" == i && e in n) && vs(n[e], t)
            }
            function Qo(t, e) {
                if (_s(t))
                    return !1;
                var n = void 0 === t ? "undefined" : r(t);
                return !("number" != n && "symbol" != n && "boolean" != n && null != t && !Rs(t)) || Tt.test(t) || !At.test(t) || null != e && t in ie(e)
            }
            function Jo(t) {
                var e = Ro(t),
                n = yi[e];
                if ("function" != typeof n || !(e in wi.prototype))
                    return !1;
                if (t === n)
                    return !0;
                var i = No(n);
                return !!i && t === i[0]
            }
            (ei && Yo(new ei(new ArrayBuffer(1))) != st || ni && Yo(new ni) != $ || ii && "[object Promise]" != Yo(ii.resolve()) || ri && Yo(new ri) != tt || oi && Yo(new oi) != rt) && (Yo = function (t) {
                var e = nr(t),
                i = e == K ? t.constructor : n,
                r = i ? pa(i) : "";
                if (r)
                    switch (r) {
                    case ui:
                        return st;
                    case hi:
                        return $;
                    case ci:
                        return "[object Promise]";
                    case fi:
                        return tt;
                    case di:
                        return rt
                    }
                return e
            });
            var ta = he ? As : Yl;
            function ea(t) {
                var e = t && t.constructor;
                return t === ("function" == typeof e && e.prototype || ue)
            }
            function na(t) {
                return t == t && !zs(t)
            }
            function ia(t, e) {
                return function (i) {
                    return null != i && i[t] === e && (e !== n || t in ie(i))
                }
            }
            function ra(t, e, i) {
                return e = Xn(e === n ? t.length - 1 : e, 0),
                function () {
                    for (var n = arguments, r = -1, o = Xn(n.length - e, 0), a = Qt(o); ++r < o; )
                        a[r] = n[e + r];
                    r = -1;
                    for (var s = Qt(e + 1); ++r < e; )
                        s[r] = n[r];
                    return s[e] = i(a),
                    Ye(t, this, s)
                }
            }
            function oa(t, e) {
                return e.length < 2 ? t : tr(t, Or(e, 0, -1))
            }
            var aa = ha(Er),
            sa = Gn || function (t, e) {
                return Le.setTimeout(t, e)
            },
            la = ha(Lr);
            function ua(t, e, n) {
                var i = e + "";
                return la(t, function (t, e) {
                    var n = e.length;
                    if (!n)
                        return t;
                    var i = n - 1;
                    return e[i] = (n > 1 ? "& " : "") + e[i],
                    e = e.join(n > 2 ? ", " : " "),
                    t.replace(Ft, "{\n/* [wrapped with " + e + "] */\n")
                }
                    (i, function (t, e) {
                        return $e(R, function (n) {
                            var i = "_." + n[0];
                            e & n[1] && !Qe(t, i) && t.push(i)
                        }),
                        t.sort()
                    }
                        (function (t) {
                            var e = t.match(Nt);
                            return e ? e[1].split(Rt) : []
                        }
                            (i), n)))
            }
            function ha(t) {
                var e = 0,
                i = 0;
                return function () {
                    var r = Kn(),
                    o = T - (r - i);
                    if (i = r, o > 0) {
                        if (++e >= A)
                            return arguments[0]
                    } else
                        e = 0;
                    return t.apply(n, arguments)
                }
            }
            function ca(t, e) {
                var i = -1,
                r = t.length,
                o = r - 1;
                for (e = e === n ? r : e; ++i < e; ) {
                    var a = Mr(i, o),
                    s = t[a];
                    t[a] = t[i],
                    t[i] = s
                }
                return t.length = e,
                t
            }
            var fa = function (t) {
                var e = hs(t, function (t) {
                    return n.size === l && n.clear(),
                    t
                }),
                n = e.cache;
                return e
            }
            (function (t) {
                var e = [];
                return Ct.test(t) && e.push(""),
                t.replace(zt, function (t, n, i, r) {
                    e.push(i ? r.replace(Wt, "$1") : n || t)
                }),
                e
            });
            function da(t) {
                if ("string" == typeof t || Rs(t))
                    return t;
                var e = t + "";
                return "0" == e && 1 / t == -E ? "-0" : e
            }
            function pa(t) {
                if (null != t) {
                    try {
                        return ce.call(t)
                    } catch (t) {}
                    try {
                        return t + ""
                    } catch (t) {}
                }
                return ""
            }
            function ga(t) {
                if (t instanceof wi)
                    return t.clone();
                var e = new _i(t.__wrapped__, t.__chain__);
                return e.__actions__ = ao(t.__actions__),
                e.__index__ = t.__index__,
                e.__values__ = t.__values__,
                e
            }
            var va = Ar(function (t, e) {
                return Ss(t) ? Hi(t, $i(e, 1, Ss, !0)) : []
            }),
            ya = Ar(function (t, e) {
                var i = Ia(e);
                return Ss(i) && (i = n),
                Ss(t) ? Hi(t, $i(e, 1, Ss, !0), Wo(i, 2)) : []
            }),
            ma = Ar(function (t, e) {
                var i = Ia(e);
                return Ss(i) && (i = n),
                Ss(t) ? Hi(t, $i(e, 1, Ss, !0), n, i) : []
            });
            function xa(t, e, n) {
                var i = null == t ? 0 : t.length;
                if (!i)
                    return -1;
                var r = null == n ? 0 : Us(n);
                return r < 0 && (r = Xn(i + r, 0)),
                ln(t, Wo(e, 3), r)
            }
            function _a(t, e, i) {
                var r = null == t ? 0 : t.length;
                if (!r)
                    return -1;
                var o = r - 1;
                return i !== n && (o = Us(i), o = i < 0 ? Xn(r + o, 0) : Zn(o, r - 1)),
                ln(t, Wo(e, 3), o, !0)
            }
            function wa(t) {
                return null != t && t.length ? $i(t, 1) : []
            }
            function ba(t) {
                return t && t.length ? t[0] : n
            }
            var Sa = Ar(function (t) {
                var e = tn(t, $r);
                return e.length && e[0] === t[0] ? ar(e) : []
            }),
            ka = Ar(function (t) {
                var e = Ia(t),
                i = tn(t, $r);
                return e === Ia(i) ? e = n : i.pop(),
                i.length && i[0] === t[0] ? ar(i, Wo(e, 2)) : []
            }),
            Ma = Ar(function (t) {
                var e = Ia(t),
                i = tn(t, $r);
                return (e = "function" == typeof e ? e : n) && i.pop(),
                i.length && i[0] === t[0] ? ar(i, n, e) : []
            });
            function Ia(t) {
                var e = null == t ? 0 : t.length;
                return e ? t[e - 1] : n
            }
            var Aa = Ar(Ta);
            function Ta(t, e) {
                return t && t.length && e && e.length ? Sr(t, e) : t
            }
            var Ca = Oo(function (t, e) {
                var n = null == t ? 0 : t.length,
                i = Ni(t, e);
                return kr(t, tn(e, function (t) {
                        return Zo(t, n) ? +t : t
                    }).sort(io)),
                i
            });
            function za(t) {
                return null == t ? t : ti.call(t)
            }
            var Ea = Ar(function (t) {
                return Gr($i(t, 1, Ss, !0))
            }),
            La = Ar(function (t) {
                var e = Ia(t);
                return Ss(e) && (e = n),
                Gr($i(t, 1, Ss, !0), Wo(e, 2))
            }),
            Da = Ar(function (t) {
                var e = Ia(t);
                return e = "function" == typeof e ? e : n,
                Gr($i(t, 1, Ss, !0), n, e)
            });
            function Oa(t) {
                if (!t || !t.length)
                    return [];
                var e = 0;
                return t = Ke(t, function (t) {
                    if (Ss(t))
                        return e = Xn(t.length, e), !0
                }),
                yn(e, function (e) {
                    return tn(t, dn(e))
                })
            }
            function Pa(t, e) {
                if (!t || !t.length)
                    return [];
                var i = Oa(t);
                return null == e ? i : tn(i, function (t) {
                    return Ye(e, n, t)
                })
            }
            var Fa = Ar(function (t, e) {
                return Ss(t) ? Hi(t, e) : []
            }),
            Na = Ar(function (t) {
                return Yr(Ke(t, Ss))
            }),
            Ra = Ar(function (t) {
                var e = Ia(t);
                return Ss(e) && (e = n),
                Yr(Ke(t, Ss), Wo(e, 2))
            }),
            Ba = Ar(function (t) {
                var e = Ia(t);
                return e = "function" == typeof e ? e : n,
                Yr(Ke(t, Ss), n, e)
            }),
            Wa = Ar(Oa);
            var Ga = Ar(function (t) {
                var e = t.length,
                i = e > 1 ? t[e - 1] : n;
                return Pa(t, i = "function" == typeof i ? (t.pop(), i) : n)
            });
            function Ha(t) {
                var e = yi(t);
                return e.__chain__ = !0,
                e
            }
            function ja(t, e) {
                return e(t)
            }
            var Ua = Oo(function (t) {
                var e = t.length,
                i = e ? t[0] : 0,
                r = this.__wrapped__,
                o = function (e) {
                    return Ni(e, t)
                };
                return !(e > 1 || this.__actions__.length) && r instanceof wi && Zo(i) ? ((r = r.slice(i, +i + (e ? 1 : 0))).__actions__.push({
                        func: ja,
                        args: [o],
                        thisArg: n
                    }), new _i(r, this.__chain__).thru(function (t) {
                        return e && !t.length && t.push(n),
                        t
                    })) : this.thru(o)
            });
            var qa = lo(function (t, e, n) {
                fe.call(t, n) ? ++t[n] : Fi(t, n, 1)
            });
            var Ya = vo(xa),
            Va = vo(_a);
            function $a(t, e) {
                return (_s(t) ? $e : ji)(t, Wo(e, 3))
            }
            function Xa(t, e) {
                return (_s(t) ? Xe : Ui)(t, Wo(e, 3))
            }
            var Za = lo(function (t, e, n) {
                fe.call(t, n) ? t[n].push(e) : Fi(t, n, [e])
            });
            var Ka = Ar(function (t, e, n) {
                var i = -1,
                r = "function" == typeof e,
                o = bs(t) ? Qt(t.length) : [];
                return ji(t, function (t) {
                    o[++i] = r ? Ye(e, t, n) : sr(t, e, n)
                }),
                o
            }),
            Qa = lo(function (t, e, n) {
                Fi(t, n, e)
            });
            function Ja(t, e) {
                return (_s(t) ? tn : vr)(t, Wo(e, 3))
            }
            var ts = lo(function (t, e, n) {
                t[n ? 0 : 1].push(e)
            }, function () {
                return [[], []]
            });
            var es = Ar(function (t, e) {
                if (null == t)
                    return [];
                var n = e.length;
                return n > 1 && Ko(t, e[0], e[1]) ? e = [] : n > 2 && Ko(e[0], e[1], e[2]) && (e = [e[0]]),
                wr(t, $i(e, 1), [])
            }),
            ns = Wn || function () {
                return Le.Date.now()
            };
            function is(t, e, i) {
                return e = i ? n : e,
                e = t && null == e ? t.length : e,
                Co(t, b, n, n, n, n, e)
            }
            function rs(t, e) {
                var i;
                if ("function" != typeof e)
                    throw new ae(a);
                return t = Us(t),
                function () {
                    return --t > 0 && (i = e.apply(this, arguments)),
                    t <= 1 && (e = n),
                    i
                }
            }
            var os = Ar(function (t, e, n) {
                var i = g;
                if (n.length) {
                    var r = Cn(n, Bo(os));
                    i |= _
                }
                return Co(t, i, e, n, r)
            }),
            as = Ar(function (t, e, n) {
                var i = g | v;
                if (n.length) {
                    var r = Cn(n, Bo(as));
                    i |= _
                }
                return Co(e, i, t, n, r)
            });
            function ss(t, e, i) {
                var r,
                o,
                s,
                l,
                u,
                h,
                c = 0,
                f = !1,
                d = !1,
                p = !0;
                if ("function" != typeof t)
                    throw new ae(a);
                function g(e) {
                    var i = r,
                    a = o;
                    return r = o = n,
                    c = e,
                    l = t.apply(a, i)
                }
                function v(t) {
                    var i = t - h;
                    return h === n || i >= e || i < 0 || d && t - c >= s
                }
                function y() {
                    var t = ns();
                    if (v(t))
                        return m(t);
                    u = sa(y, function (t) {
                        var n = e - (t - h);
                        return d ? Zn(n, s - (t - c)) : n
                    }
                            (t))
                }
                function m(t) {
                    return u = n,
                    p && r ? g(t) : (r = o = n, l)
                }
                function x() {
                    var t = ns(),
                    i = v(t);
                    if (r = arguments, o = this, h = t, i) {
                        if (u === n)
                            return function (t) {
                                return c = t,
                                u = sa(y, e),
                                f ? g(t) : l
                            }
                        (h);
                        if (d)
                            return u = sa(y, e), g(h)
                    }
                    return u === n && (u = sa(y, e)),
                    l
                }
                return e = Ys(e) || 0,
                zs(i) && (f = !!i.leading, s = (d = "maxWait" in i) ? Xn(Ys(i.maxWait) || 0, e) : s, p = "trailing" in i ? !!i.trailing : p),
                x.cancel = function () {
                    u !== n && Jr(u),
                    c = 0,
                    r = h = o = u = n
                },
                x.flush = function () {
                    return u === n ? l : m(ns())
                },
                x
            }
            var ls = Ar(function (t, e) {
                return Gi(t, 1, e)
            }),
            us = Ar(function (t, e, n) {
                return Gi(t, Ys(e) || 0, n)
            });
            function hs(t, e) {
                if ("function" != typeof t || null != e && "function" != typeof e)
                    throw new ae(a);
                var n = function n() {
                    var i = arguments,
                    r = e ? e.apply(this, i) : i[0],
                    o = n.cache;
                    if (o.has(r))
                        return o.get(r);
                    var a = t.apply(this, i);
                    return n.cache = o.set(r, a) || o,
                    a
                };
                return n.cache = new(hs.Cache || ki),
                n
            }
            function cs(t) {
                if ("function" != typeof t)
                    throw new ae(a);
                return function () {
                    var e = arguments;
                    switch (e.length) {
                    case 0:
                        return !t.call(this);
                    case 1:
                        return !t.call(this, e[0]);
                    case 2:
                        return !t.call(this, e[0], e[1]);
                    case 3:
                        return !t.call(this, e[0], e[1], e[2])
                    }
                    return !t.apply(this, e)
                }
            }
            hs.Cache = ki;
            var fs = Kr(function (t, e) {
                var n = (e = 1 == e.length && _s(e[0]) ? tn(e[0], mn(Wo())) : tn($i(e, 1), mn(Wo()))).length;
                return Ar(function (i) {
                    for (var r = -1, o = Zn(i.length, n); ++r < o; )
                        i[r] = e[r].call(this, i[r]);
                    return Ye(t, this, i)
                })
            }),
            ds = Ar(function (t, e) {
                var i = Cn(e, Bo(ds));
                return Co(t, _, n, e, i)
            }),
            ps = Ar(function (t, e) {
                var i = Cn(e, Bo(ps));
                return Co(t, w, n, e, i)
            }),
            gs = Oo(function (t, e) {
                return Co(t, S, n, n, n, e)
            });
            function vs(t, e) {
                return t === e || t != t && e != e
            }
            var ys = ko(ir),
            ms = ko(function (t, e) {
                return t >= e
            }),
            xs = lr(function () {
                return arguments
            }
                    ()) ? lr : function (t) {
                return Es(t) && fe.call(t, "callee") && !Ne.call(t, "callee")
            },
            _s = Qt.isArray,
            ws = Re ? mn(Re) : function (t) {
                return Es(t) && nr(t) == at
            };
            function bs(t) {
                return null != t && Cs(t.length) && !As(t)
            }
            function Ss(t) {
                return Es(t) && bs(t)
            }
            var ks = qn || Yl,
            Ms = Be ? mn(Be) : function (t) {
                return Es(t) && nr(t) == j
            };
            function Is(t) {
                if (!Es(t))
                    return !1;
                var e = nr(t);
                return e == q || e == U || "string" == typeof t.message && "string" == typeof t.name && !Os(t)
            }
            function As(t) {
                if (!zs(t))
                    return !1;
                var e = nr(t);
                return e == Y || e == V || e == G || e == Q
            }
            function Ts(t) {
                return "number" == typeof t && t == Us(t)
            }
            function Cs(t) {
                return "number" == typeof t && t > -1 && t % 1 == 0 && t <= L
            }
            function zs(t) {
                var e = void 0 === t ? "undefined" : r(t);
                return null != t && ("object" == e || "function" == e)
            }
            function Es(t) {
                return null != t && "object" == (void 0 === t ? "undefined" : r(t))
            }
            var Ls = We ? mn(We) : function (t) {
                return Es(t) && Yo(t) == $
            };
            function Ds(t) {
                return "number" == typeof t || Es(t) && nr(t) == X
            }
            function Os(t) {
                if (!Es(t) || nr(t) != K)
                    return !1;
                var e = Oe(t);
                if (null === e)
                    return !0;
                var n = fe.call(e, "constructor") && e.constructor;
                return "function" == typeof n && n instanceof n && ce.call(n) == ve
            }
            var Ps = Ge ? mn(Ge) : function (t) {
                return Es(t) && nr(t) == J
            };
            var Fs = He ? mn(He) : function (t) {
                return Es(t) && Yo(t) == tt
            };
            function Ns(t) {
                return "string" == typeof t || !_s(t) && Es(t) && nr(t) == et
            }
            function Rs(t) {
                return "symbol" == (void 0 === t ? "undefined" : r(t)) || Es(t) && nr(t) == nt
            }
            var Bs = je ? mn(je) : function (t) {
                return Es(t) && Cs(t.length) && !!Me[nr(t)]
            };
            var Ws = ko(gr),
            Gs = ko(function (t, e) {
                return t <= e
            });
            function Hs(t) {
                if (!t)
                    return [];
                if (bs(t))
                    return Ns(t) ? Dn(t) : ao(t);
                if (Fn && t[Fn])
                    return function (t) {
                        for (var e, n = []; !(e = t.next()).done; )
                            n.push(e.value);
                        return n
                    }
                (t[Fn]());
                var e = Yo(t);
                return (e == $ ? An : e == tt ? zn : vl)(t)
            }
            function js(t) {
                return t ? (t = Ys(t)) === E || t === -E ? (t < 0 ? -1 : 1) * D : t == t ? t : 0 : 0 === t ? t : 0
            }
            function Us(t) {
                var e = js(t),
                n = e % 1;
                return e == e ? n ? e - n : e : 0
            }
            function qs(t) {
                return t ? Ri(Us(t), 0, P) : 0
            }
            function Ys(t) {
                if ("number" == typeof t)
                    return t;
                if (Rs(t))
                    return O;
                if (zs(t)) {
                    var e = "function" == typeof t.valueOf ? t.valueOf() : t;
                    t = zs(e) ? e + "" : e
                }
                if ("string" != typeof t)
                    return 0 === t ? t : +t;
                t = t.replace(Dt, "");
                var n = Ut.test(t);
                return n || Yt.test(t) ? Ce(t.slice(2), n ? 2 : 8) : jt.test(t) ? O : +t
            }
            function Vs(t) {
                return so(t, ll(t))
            }
            function $s(t) {
                return null == t ? "" : Wr(t)
            }
            var Xs = uo(function (t, e) {
                if (ea(e) || bs(e))
                    so(e, sl(e), t);
                else
                    for (var n in e)
                        fe.call(e, n) && Li(t, n, e[n])
            }),
            Zs = uo(function (t, e) {
                so(e, ll(e), t)
            }),
            Ks = uo(function (t, e, n, i) {
                so(e, ll(e), t, i)
            }),
            Qs = uo(function (t, e, n, i) {
                so(e, sl(e), t, i)
            }),
            Js = Oo(Ni);
            var tl = Ar(function (t) {
                return t.push(n, zo),
                Ye(Ks, n, t)
            }),
            el = Ar(function (t) {
                return t.push(n, Eo),
                Ye(hl, n, t)
            });
            function nl(t, e, i) {
                var r = null == t ? n : tr(t, e);
                return r === n ? i : r
            }
            function il(t, e) {
                return null != t && Vo(t, e, or)
            }
            var rl = xo(function (t, e, n) {
                t[e] = n
            }, zl(Dl)),
            ol = xo(function (t, e, n) {
                fe.call(t, e) ? t[e].push(n) : t[e] = [n]
            }, Wo),
            al = Ar(sr);
            function sl(t) {
                return bs(t) ? Ai(t) : dr(t)
            }
            function ll(t) {
                return bs(t) ? Ai(t, !0) : pr(t)
            }
            var ul = uo(function (t, e, n) {
                xr(t, e, n)
            }),
            hl = uo(function (t, e, n, i) {
                xr(t, e, n, i)
            }),
            cl = Oo(function (t, e) {
                var n = {};
                if (null == t)
                    return n;
                var i = !1;
                e = tn(e, function (e) {
                    return e = Zr(e, t),
                    i || (i = e.length > 1),
                    e
                }),
                so(t, Fo(t), n),
                i && (n = Bi(n, h | c | f, Lo));
                for (var r = e.length; r--; )
                    Hr(n, e[r]);
                return n
            });
            var fl = Oo(function (t, e) {
                return null == t ? {}
                 : function (t, e) {
                    return br(t, e, function (e, n) {
                        return il(t, n)
                    })
                }
                (t, e)
            });
            function dl(t, e) {
                if (null == t)
                    return {};
                var n = tn(Fo(t), function (t) {
                    return [t]
                });
                return e = Wo(e),
                br(t, n, function (t, n) {
                    return e(t, n[0])
                })
            }
            var pl = To(sl),
            gl = To(ll);
            function vl(t) {
                return null == t ? [] : xn(t, sl(t))
            }
            var yl = po(function (t, e, n) {
                return e = e.toLowerCase(),
                t + (n ? ml(e) : e)
            });
            function ml(t) {
                return Il($s(t).toLowerCase())
            }
            function xl(t) {
                return (t = $s(t)) && t.replace($t, Sn).replace(me, "")
            }
            var _l = po(function (t, e, n) {
                return t + (n ? "-" : "") + e.toLowerCase()
            }),
            wl = po(function (t, e, n) {
                return t + (n ? " " : "") + e.toLowerCase()
            }),
            bl = fo("toLowerCase");
            var Sl = po(function (t, e, n) {
                return t + (n ? "_" : "") + e.toLowerCase()
            });
            var kl = po(function (t, e, n) {
                return t + (n ? " " : "") + Il(e)
            });
            var Ml = po(function (t, e, n) {
                return t + (n ? " " : "") + e.toUpperCase()
            }),
            Il = fo("toUpperCase");
            function Al(t, e, i) {
                return t = $s(t),
                (e = i ? n : e) === n ? function (t) {
                    return be.test(t)
                }
                (t) ? function (t) {
                    return t.match(_e) || []
                }
                (t) : function (t) {
                    return t.match(Bt) || []
                }
                (t) : t.match(e) || []
            }
            var Tl = Ar(function (t, e) {
                try {
                    return Ye(t, n, e)
                } catch (t) {
                    return Is(t) ? t : new te(t)
                }
            }),
            Cl = Oo(function (t, e) {
                return $e(e, function (e) {
                    e = da(e),
                    Fi(t, e, os(t[e], t))
                }),
                t
            });
            function zl(t) {
                return function () {
                    return t
                }
            }
            var El = yo(),
            Ll = yo(!0);
            function Dl(t) {
                return t
            }
            function Ol(t) {
                return fr("function" == typeof t ? t : Bi(t, h))
            }
            var Pl = Ar(function (t, e) {
                return function (n) {
                    return sr(n, t, e)
                }
            }),
            Fl = Ar(function (t, e) {
                return function (n) {
                    return sr(t, n, e)
                }
            });
            function Nl(t, e, n) {
                var i = sl(e),
                r = Ji(e, i);
                null != n || zs(e) && (r.length || !i.length) || (n = e, e = t, t = this, r = Ji(e, sl(e)));
                var o = !(zs(n) && "chain" in n && !n.chain),
                a = As(t);
                return $e(r, function (n) {
                    var i = e[n];
                    t[n] = i,
                    a && (t.prototype[n] = function () {
                        var e = this.__chain__;
                        if (o || e) {
                            var n = t(this.__wrapped__);
                            return (n.__actions__ = ao(this.__actions__)).push({
                                func: i,
                                args: arguments,
                                thisArg: t
                            }),
                            n.__chain__ = e,
                            n
                        }
                        return i.apply(t, en([this.value()], arguments))
                    })
                }),
                t
            }
            function Rl() {}
            var Bl = wo(tn),
            Wl = wo(Ze),
            Gl = wo(on);
            function Hl(t) {
                return Qo(t) ? dn(da(t)) : function (t) {
                    return function (e) {
                        return tr(e, t)
                    }
                }
                (t)
            }
            var jl = So(),
            Ul = So(!0);
            function ql() {
                return []
            }
            function Yl() {
                return !1
            }
            var Vl = _o(function (t, e) {
                return t + e
            }, 0),
            $l = Io("ceil"),
            Xl = _o(function (t, e) {
                return t / e
            }, 1),
            Zl = Io("floor");
            var Kl,
            Ql = _o(function (t, e) {
                return t * e
            }, 1),
            Jl = Io("round"),
            tu = _o(function (t, e) {
                return t - e
            }, 0);
            return yi.after = function (t, e) {
                if ("function" != typeof e)
                    throw new ae(a);
                return t = Us(t),
                function () {
                    if (--t < 1)
                        return e.apply(this, arguments)
                }
            },
            yi.ary = is,
            yi.assign = Xs,
            yi.assignIn = Zs,
            yi.assignInWith = Ks,
            yi.assignWith = Qs,
            yi.at = Js,
            yi.before = rs,
            yi.bind = os,
            yi.bindAll = Cl,
            yi.bindKey = as,
            yi.castArray = function () {
                if (!arguments.length)
                    return [];
                var t = arguments[0];
                return _s(t) ? t : [t]
            },
            yi.chain = Ha,
            yi.chunk = function (t, e, i) {
                e = (i ? Ko(t, e, i) : e === n) ? 1 : Xn(Us(e), 0);
                var r = null == t ? 0 : t.length;
                if (!r || e < 1)
                    return [];
                for (var o = 0, a = 0, s = Qt(Hn(r / e)); o < r; )
                    s[a++] = Or(t, o, o += e);
                return s
            },
            yi.compact = function (t) {
                for (var e = -1, n = null == t ? 0 : t.length, i = 0, r = []; ++e < n; ) {
                    var o = t[e];
                    o && (r[i++] = o)
                }
                return r
            },
            yi.concat = function () {
                var t = arguments.length;
                if (!t)
                    return [];
                for (var e = Qt(t - 1), n = arguments[0], i = t; i--; )
                    e[i - 1] = arguments[i];
                return en(_s(n) ? ao(n) : [n], $i(e, 1))
            },
            yi.cond = function (t) {
                var e = null == t ? 0 : t.length,
                n = Wo();
                return t = e ? tn(t, function (t) {
                    if ("function" != typeof t[1])
                        throw new ae(a);
                    return [n(t[0]), t[1]]
                }) : [],
                Ar(function (n) {
                    for (var i = -1; ++i < e; ) {
                        var r = t[i];
                        if (Ye(r[0], this, n))
                            return Ye(r[1], this, n)
                    }
                })
            },
            yi.conforms = function (t) {
                return function (t) {
                    var e = sl(t);
                    return function (n) {
                        return Wi(n, t, e)
                    }
                }
                (Bi(t, h))
            },
            yi.constant = zl,
            yi.countBy = qa,
            yi.create = function (t, e) {
                var n = mi(t);
                return null == e ? n : Pi(n, e)
            },
            yi.curry = function t(e, i, r) {
                var o = Co(e, m, n, n, n, n, n, i = r ? n : i);
                return o.placeholder = t.placeholder,
                o
            },
            yi.curryRight = function t(e, i, r) {
                var o = Co(e, x, n, n, n, n, n, i = r ? n : i);
                return o.placeholder = t.placeholder,
                o
            },
            yi.debounce = ss,
            yi.defaults = tl,
            yi.defaultsDeep = el,
            yi.defer = ls,
            yi.delay = us,
            yi.difference = va,
            yi.differenceBy = ya,
            yi.differenceWith = ma,
            yi.drop = function (t, e, i) {
                var r = null == t ? 0 : t.length;
                return r ? Or(t, (e = i || e === n ? 1 : Us(e)) < 0 ? 0 : e, r) : []
            },
            yi.dropRight = function (t, e, i) {
                var r = null == t ? 0 : t.length;
                return r ? Or(t, 0, (e = r - (e = i || e === n ? 1 : Us(e))) < 0 ? 0 : e) : []
            },
            yi.dropRightWhile = function (t, e) {
                return t && t.length ? Ur(t, Wo(e, 3), !0, !0) : []
            },
            yi.dropWhile = function (t, e) {
                return t && t.length ? Ur(t, Wo(e, 3), !0) : []
            },
            yi.fill = function (t, e, i, r) {
                var o = null == t ? 0 : t.length;
                return o ? (i && "number" != typeof i && Ko(t, e, i) && (i = 0, r = o), function (t, e, i, r) {
                    var o = t.length;
                    for ((i = Us(i)) < 0 && (i = -i > o ? 0 : o + i), (r = r === n || r > o ? o : Us(r)) < 0 && (r += o), r = i > r ? 0 : qs(r); i < r; )
                        t[i++] = e;
                    return t
                }
                    (t, e, i, r)) : []
            },
            yi.filter = function (t, e) {
                return (_s(t) ? Ke : Vi)(t, Wo(e, 3))
            },
            yi.flatMap = function (t, e) {
                return $i(Ja(t, e), 1)
            },
            yi.flatMapDeep = function (t, e) {
                return $i(Ja(t, e), E)
            },
            yi.flatMapDepth = function (t, e, i) {
                return i = i === n ? 1 : Us(i),
                $i(Ja(t, e), i)
            },
            yi.flatten = wa,
            yi.flattenDeep = function (t) {
                return null != t && t.length ? $i(t, E) : []
            },
            yi.flattenDepth = function (t, e) {
                return null != t && t.length ? $i(t, e = e === n ? 1 : Us(e)) : []
            },
            yi.flip = function (t) {
                return Co(t, k)
            },
            yi.flow = El,
            yi.flowRight = Ll,
            yi.fromPairs = function (t) {
                for (var e = -1, n = null == t ? 0 : t.length, i = {}; ++e < n; ) {
                    var r = t[e];
                    i[r[0]] = r[1]
                }
                return i
            },
            yi.functions = function (t) {
                return null == t ? [] : Ji(t, sl(t))
            },
            yi.functionsIn = function (t) {
                return null == t ? [] : Ji(t, ll(t))
            },
            yi.groupBy = Za,
            yi.initial = function (t) {
                return null != t && t.length ? Or(t, 0, -1) : []
            },
            yi.intersection = Sa,
            yi.intersectionBy = ka,
            yi.intersectionWith = Ma,
            yi.invert = rl,
            yi.invertBy = ol,
            yi.invokeMap = Ka,
            yi.iteratee = Ol,
            yi.keyBy = Qa,
            yi.keys = sl,
            yi.keysIn = ll,
            yi.map = Ja,
            yi.mapKeys = function (t, e) {
                var n = {};
                return e = Wo(e, 3),
                Ki(t, function (t, i, r) {
                    Fi(n, e(t, i, r), t)
                }),
                n
            },
            yi.mapValues = function (t, e) {
                var n = {};
                return e = Wo(e, 3),
                Ki(t, function (t, i, r) {
                    Fi(n, i, e(t, i, r))
                }),
                n
            },
            yi.matches = function (t) {
                return yr(Bi(t, h))
            },
            yi.matchesProperty = function (t, e) {
                return mr(t, Bi(e, h))
            },
            yi.memoize = hs,
            yi.merge = ul,
            yi.mergeWith = hl,
            yi.method = Pl,
            yi.methodOf = Fl,
            yi.mixin = Nl,
            yi.negate = cs,
            yi.nthArg = function (t) {
                return t = Us(t),
                Ar(function (e) {
                    return _r(e, t)
                })
            },
            yi.omit = cl,
            yi.omitBy = function (t, e) {
                return dl(t, cs(Wo(e)))
            },
            yi.once = function (t) {
                return rs(2, t)
            },
            yi.orderBy = function (t, e, i, r) {
                return null == t ? [] : (_s(e) || (e = null == e ? [] : [e]), _s(i = r ? n : i) || (i = null == i ? [] : [i]), wr(t, e, i))
            },
            yi.over = Bl,
            yi.overArgs = fs,
            yi.overEvery = Wl,
            yi.overSome = Gl,
            yi.partial = ds,
            yi.partialRight = ps,
            yi.partition = ts,
            yi.pick = fl,
            yi.pickBy = dl,
            yi.property = Hl,
            yi.propertyOf = function (t) {
                return function (e) {
                    return null == t ? n : tr(t, e)
                }
            },
            yi.pull = Aa,
            yi.pullAll = Ta,
            yi.pullAllBy = function (t, e, n) {
                return t && t.length && e && e.length ? Sr(t, e, Wo(n, 2)) : t
            },
            yi.pullAllWith = function (t, e, i) {
                return t && t.length && e && e.length ? Sr(t, e, n, i) : t
            },
            yi.pullAt = Ca,
            yi.range = jl,
            yi.rangeRight = Ul,
            yi.rearg = gs,
            yi.reject = function (t, e) {
                return (_s(t) ? Ke : Vi)(t, cs(Wo(e, 3)))
            },
            yi.remove = function (t, e) {
                var n = [];
                if (!t || !t.length)
                    return n;
                var i = -1,
                r = [],
                o = t.length;
                for (e = Wo(e, 3); ++i < o; ) {
                    var a = t[i];
                    e(a, i, t) && (n.push(a), r.push(i))
                }
                return kr(t, r),
                n
            },
            yi.rest = function (t, e) {
                if ("function" != typeof t)
                    throw new ae(a);
                return Ar(t, e = e === n ? e : Us(e))
            },
            yi.reverse = za,
            yi.sampleSize = function (t, e, i) {
                return e = (i ? Ko(t, e, i) : e === n) ? 1 : Us(e),
                (_s(t) ? Ci : Cr)(t, e)
            },
            yi.set = function (t, e, n) {
                return null == t ? t : zr(t, e, n)
            },
            yi.setWith = function (t, e, i, r) {
                return r = "function" == typeof r ? r : n,
                null == t ? t : zr(t, e, i, r)
            },
            yi.shuffle = function (t) {
                return (_s(t) ? zi : Dr)(t)
            },
            yi.slice = function (t, e, i) {
                var r = null == t ? 0 : t.length;
                return r ? (i && "number" != typeof i && Ko(t, e, i) ? (e = 0, i = r) : (e = null == e ? 0 : Us(e), i = i === n ? r : Us(i)), Or(t, e, i)) : []
            },
            yi.sortBy = es,
            yi.sortedUniq = function (t) {
                return t && t.length ? Rr(t) : []
            },
            yi.sortedUniqBy = function (t, e) {
                return t && t.length ? Rr(t, Wo(e, 2)) : []
            },
            yi.split = function (t, e, i) {
                return i && "number" != typeof i && Ko(t, e, i) && (e = i = n),
                (i = i === n ? P : i >>> 0) ? (t = $s(t)) && ("string" == typeof e || null != e && !Ps(e)) && !(e = Wr(e)) && In(t) ? Qr(Dn(t), 0, i) : t.split(e, i) : []
            },
            yi.spread = function (t, e) {
                if ("function" != typeof t)
                    throw new ae(a);
                return e = null == e ? 0 : Xn(Us(e), 0),
                Ar(function (n) {
                    var i = n[e],
                    r = Qr(n, 0, e);
                    return i && en(r, i),
                    Ye(t, this, r)
                })
            },
            yi.tail = function (t) {
                var e = null == t ? 0 : t.length;
                return e ? Or(t, 1, e) : []
            },
            yi.take = function (t, e, i) {
                return t && t.length ? Or(t, 0, (e = i || e === n ? 1 : Us(e)) < 0 ? 0 : e) : []
            },
            yi.takeRight = function (t, e, i) {
                var r = null == t ? 0 : t.length;
                return r ? Or(t, (e = r - (e = i || e === n ? 1 : Us(e))) < 0 ? 0 : e, r) : []
            },
            yi.takeRightWhile = function (t, e) {
                return t && t.length ? Ur(t, Wo(e, 3), !1, !0) : []
            },
            yi.takeWhile = function (t, e) {
                return t && t.length ? Ur(t, Wo(e, 3)) : []
            },
            yi.tap = function (t, e) {
                return e(t),
                t
            },
            yi.throttle = function (t, e, n) {
                var i = !0,
                r = !0;
                if ("function" != typeof t)
                    throw new ae(a);
                return zs(n) && (i = "leading" in n ? !!n.leading : i, r = "trailing" in n ? !!n.trailing : r),
                ss(t, e, {
                    leading: i,
                    maxWait: e,
                    trailing: r
                })
            },
            yi.thru = ja,
            yi.toArray = Hs,
            yi.toPairs = pl,
            yi.toPairsIn = gl,
            yi.toPath = function (t) {
                return _s(t) ? tn(t, da) : Rs(t) ? [t] : ao(fa($s(t)))
            },
            yi.toPlainObject = Vs,
            yi.transform = function (t, e, n) {
                var i = _s(t),
                r = i || ks(t) || Bs(t);
                if (e = Wo(e, 4), null == n) {
                    var o = t && t.constructor;
                    n = r ? i ? new o : [] : zs(t) && As(o) ? mi(Oe(t)) : {}
                }
                return (r ? $e : Ki)(t, function (t, i, r) {
                    return e(n, t, i, r)
                }),
                n
            },
            yi.unary = function (t) {
                return is(t, 1)
            },
            yi.union = Ea,
            yi.unionBy = La,
            yi.unionWith = Da,
            yi.uniq = function (t) {
                return t && t.length ? Gr(t) : []
            },
            yi.uniqBy = function (t, e) {
                return t && t.length ? Gr(t, Wo(e, 2)) : []
            },
            yi.uniqWith = function (t, e) {
                return e = "function" == typeof e ? e : n,
                t && t.length ? Gr(t, n, e) : []
            },
            yi.unset = function (t, e) {
                return null == t || Hr(t, e)
            },
            yi.unzip = Oa,
            yi.unzipWith = Pa,
            yi.update = function (t, e, n) {
                return null == t ? t : jr(t, e, Xr(n))
            },
            yi.updateWith = function (t, e, i, r) {
                return r = "function" == typeof r ? r : n,
                null == t ? t : jr(t, e, Xr(i), r)
            },
            yi.values = vl,
            yi.valuesIn = function (t) {
                return null == t ? [] : xn(t, ll(t))
            },
            yi.without = Fa,
            yi.words = Al,
            yi.wrap = function (t, e) {
                return ds(Xr(e), t)
            },
            yi.xor = Na,
            yi.xorBy = Ra,
            yi.xorWith = Ba,
            yi.zip = Wa,
            yi.zipObject = function (t, e) {
                return Vr(t || [], e || [], Li)
            },
            yi.zipObjectDeep = function (t, e) {
                return Vr(t || [], e || [], zr)
            },
            yi.zipWith = Ga,
            yi.entries = pl,
            yi.entriesIn = gl,
            yi.extend = Zs,
            yi.extendWith = Ks,
            Nl(yi, yi),
            yi.add = Vl,
            yi.attempt = Tl,
            yi.camelCase = yl,
            yi.capitalize = ml,
            yi.ceil = $l,
            yi.clamp = function (t, e, i) {
                return i === n && (i = e, e = n),
                i !== n && (i = (i = Ys(i)) == i ? i : 0),
                e !== n && (e = (e = Ys(e)) == e ? e : 0),
                Ri(Ys(t), e, i)
            },
            yi.clone = function (t) {
                return Bi(t, f)
            },
            yi.cloneDeep = function (t) {
                return Bi(t, h | f)
            },
            yi.cloneDeepWith = function (t, e) {
                return Bi(t, h | f, e = "function" == typeof e ? e : n)
            },
            yi.cloneWith = function (t, e) {
                return Bi(t, f, e = "function" == typeof e ? e : n)
            },
            yi.conformsTo = function (t, e) {
                return null == e || Wi(t, e, sl(e))
            },
            yi.deburr = xl,
            yi.defaultTo = function (t, e) {
                return null == t || t != t ? e : t
            },
            yi.divide = Xl,
            yi.endsWith = function (t, e, i) {
                t = $s(t),
                e = Wr(e);
                var r = t.length,
                o = i = i === n ? r : Ri(Us(i), 0, r);
                return (i -= e.length) >= 0 && t.slice(i, o) == e
            },
            yi.eq = vs,
            yi.escape = function (t) {
                return (t = $s(t)) && St.test(t) ? t.replace(wt, kn) : t
            },
            yi.escapeRegExp = function (t) {
                return (t = $s(t)) && Lt.test(t) ? t.replace(Et, "\\$&") : t
            },
            yi.every = function (t, e, i) {
                var r = _s(t) ? Ze : qi;
                return i && Ko(t, e, i) && (e = n),
                r(t, Wo(e, 3))
            },
            yi.find = Ya,
            yi.findIndex = xa,
            yi.findKey = function (t, e) {
                return sn(t, Wo(e, 3), Ki)
            },
            yi.findLast = Va,
            yi.findLastIndex = _a,
            yi.findLastKey = function (t, e) {
                return sn(t, Wo(e, 3), Qi)
            },
            yi.floor = Zl,
            yi.forEach = $a,
            yi.forEachRight = Xa,
            yi.forIn = function (t, e) {
                return null == t ? t : Xi(t, Wo(e, 3), ll)
            },
            yi.forInRight = function (t, e) {
                return null == t ? t : Zi(t, Wo(e, 3), ll)
            },
            yi.forOwn = function (t, e) {
                return t && Ki(t, Wo(e, 3))
            },
            yi.forOwnRight = function (t, e) {
                return t && Qi(t, Wo(e, 3))
            },
            yi.get = nl,
            yi.gt = ys,
            yi.gte = ms,
            yi.has = function (t, e) {
                return null != t && Vo(t, e, rr)
            },
            yi.hasIn = il,
            yi.head = ba,
            yi.identity = Dl,
            yi.includes = function (t, e, n, i) {
                t = bs(t) ? t : vl(t),
                n = n && !i ? Us(n) : 0;
                var r = t.length;
                return n < 0 && (n = Xn(r + n, 0)),
                Ns(t) ? n <= r && t.indexOf(e, n) > -1 : !!r && un(t, e, n) > -1
            },
            yi.indexOf = function (t, e, n) {
                var i = null == t ? 0 : t.length;
                if (!i)
                    return -1;
                var r = null == n ? 0 : Us(n);
                return r < 0 && (r = Xn(i + r, 0)),
                un(t, e, r)
            },
            yi.inRange = function (t, e, i) {
                return e = js(e),
                i === n ? (i = e, e = 0) : i = js(i),
                function (t, e, n) {
                    return t >= Zn(e, n) && t < Xn(e, n)
                }
                (t = Ys(t), e, i)
            },
            yi.invoke = al,
            yi.isArguments = xs,
            yi.isArray = _s,
            yi.isArrayBuffer = ws,
            yi.isArrayLike = bs,
            yi.isArrayLikeObject = Ss,
            yi.isBoolean = function (t) {
                return !0 === t || !1 === t || Es(t) && nr(t) == H
            },
            yi.isBuffer = ks,
            yi.isDate = Ms,
            yi.isElement = function (t) {
                return Es(t) && 1 === t.nodeType && !Os(t)
            },
            yi.isEmpty = function (t) {
                if (null == t)
                    return !0;
                if (bs(t) && (_s(t) || "string" == typeof t || "function" == typeof t.splice || ks(t) || Bs(t) || xs(t)))
                    return !t.length;
                var e = Yo(t);
                if (e == $ || e == tt)
                    return !t.size;
                if (ea(t))
                    return !dr(t).length;
                for (var n in t)
                    if (fe.call(t, n))
                        return !1;
                return !0
            },
            yi.isEqual = function (t, e) {
                return ur(t, e)
            },
            yi.isEqualWith = function (t, e, i) {
                var r = (i = "function" == typeof i ? i : n) ? i(t, e) : n;
                return r === n ? ur(t, e, n, i) : !!r
            },
            yi.isError = Is,
            yi.isFinite = function (t) {
                return "number" == typeof t && Yn(t)
            },
            yi.isFunction = As,
            yi.isInteger = Ts,
            yi.isLength = Cs,
            yi.isMap = Ls,
            yi.isMatch = function (t, e) {
                return t === e || hr(t, e, Ho(e))
            },
            yi.isMatchWith = function (t, e, i) {
                return i = "function" == typeof i ? i : n,
                hr(t, e, Ho(e), i)
            },
            yi.isNaN = function (t) {
                return Ds(t) && t != +t
            },
            yi.isNative = function (t) {
                if (ta(t))
                    throw new te(o);
                return cr(t)
            },
            yi.isNil = function (t) {
                return null == t
            },
            yi.isNull = function (t) {
                return null === t
            },
            yi.isNumber = Ds,
            yi.isObject = zs,
            yi.isObjectLike = Es,
            yi.isPlainObject = Os,
            yi.isRegExp = Ps,
            yi.isSafeInteger = function (t) {
                return Ts(t) && t >= -L && t <= L
            },
            yi.isSet = Fs,
            yi.isString = Ns,
            yi.isSymbol = Rs,
            yi.isTypedArray = Bs,
            yi.isUndefined = function (t) {
                return t === n
            },
            yi.isWeakMap = function (t) {
                return Es(t) && Yo(t) == rt
            },
            yi.isWeakSet = function (t) {
                return Es(t) && nr(t) == ot
            },
            yi.join = function (t, e) {
                return null == t ? "" : Vn.call(t, e)
            },
            yi.kebabCase = _l,
            yi.last = Ia,
            yi.lastIndexOf = function (t, e, i) {
                var r = null == t ? 0 : t.length;
                if (!r)
                    return -1;
                var o = r;
                return i !== n && (o = (o = Us(i)) < 0 ? Xn(r + o, 0) : Zn(o, r - 1)),
                e == e ? function (t, e, n) {
                    for (var i = n + 1; i--; )
                        if (t[i] === e)
                            return i;
                    return i
                }
                (t, e, o) : ln(t, cn, o, !0)
            },
            yi.lowerCase = wl,
            yi.lowerFirst = bl,
            yi.lt = Ws,
            yi.lte = Gs,
            yi.max = function (t) {
                return t && t.length ? Yi(t, Dl, ir) : n
            },
            yi.maxBy = function (t, e) {
                return t && t.length ? Yi(t, Wo(e, 2), ir) : n
            },
            yi.mean = function (t) {
                return fn(t, Dl)
            },
            yi.meanBy = function (t, e) {
                return fn(t, Wo(e, 2))
            },
            yi.min = function (t) {
                return t && t.length ? Yi(t, Dl, gr) : n
            },
            yi.minBy = function (t, e) {
                return t && t.length ? Yi(t, Wo(e, 2), gr) : n
            },
            yi.stubArray = ql,
            yi.stubFalse = Yl,
            yi.stubObject = function () {
                return {}
            },
            yi.stubString = function () {
                return ""
            },
            yi.stubTrue = function () {
                return !0
            },
            yi.multiply = Ql,
            yi.nth = function (t, e) {
                return t && t.length ? _r(t, Us(e)) : n
            },
            yi.noConflict = function () {
                return Le._ === this && (Le._ = xe),
                this
            },
            yi.noop = Rl,
            yi.now = ns,
            yi.pad = function (t, e, n) {
                t = $s(t);
                var i = (e = Us(e)) ? Ln(t) : 0;
                if (!e || i >= e)
                    return t;
                var r = (e - i) / 2;
                return bo(jn(r), n) + t + bo(Hn(r), n)
            },
            yi.padEnd = function (t, e, n) {
                t = $s(t);
                var i = (e = Us(e)) ? Ln(t) : 0;
                return e && i < e ? t + bo(e - i, n) : t
            },
            yi.padStart = function (t, e, n) {
                t = $s(t);
                var i = (e = Us(e)) ? Ln(t) : 0;
                return e && i < e ? bo(e - i, n) + t : t
            },
            yi.parseInt = function (t, e, n) {
                return n || null == e ? e = 0 : e && (e = +e),
                Qn($s(t).replace(Ot, ""), e || 0)
            },
            yi.random = function (t, e, i) {
                if (i && "boolean" != typeof i && Ko(t, e, i) && (e = i = n), i === n && ("boolean" == typeof e ? (i = e, e = n) : "boolean" == typeof t && (i = t, t = n)), t === n && e === n ? (t = 0, e = 1) : (t = js(t), e === n ? (e = t, t = 0) : e = js(e)), t > e) {
                    var r = t;
                    t = e,
                    e = r
                }
                if (i || t % 1 || e % 1) {
                    var o = Jn();
                    return Zn(t + o * (e - t + Te("1e-" + ((o + "").length - 1))), e)
                }
                return Mr(t, e)
            },
            yi.reduce = function (t, e, n) {
                var i = _s(t) ? nn : gn,
                r = arguments.length < 3;
                return i(t, Wo(e, 4), n, r, ji)
            },
            yi.reduceRight = function (t, e, n) {
                var i = _s(t) ? rn : gn,
                r = arguments.length < 3;
                return i(t, Wo(e, 4), n, r, Ui)
            },
            yi.repeat = function (t, e, i) {
                return e = (i ? Ko(t, e, i) : e === n) ? 1 : Us(e),
                Ir($s(t), e)
            },
            yi.replace = function () {
                var t = arguments,
                e = $s(t[0]);
                return t.length < 3 ? e : e.replace(t[1], t[2])
            },
            yi.result = function (t, e, i) {
                var r = -1,
                o = (e = Zr(e, t)).length;
                for (o || (o = 1, t = n); ++r < o; ) {
                    var a = null == t ? n : t[da(e[r])];
                    a === n && (r = o, a = i),
                    t = As(a) ? a.call(t) : a
                }
                return t
            },
            yi.round = Jl,
            yi.runInContext = t,
            yi.sample = function (t) {
                return (_s(t) ? Ti : Tr)(t)
            },
            yi.size = function (t) {
                if (null == t)
                    return 0;
                if (bs(t))
                    return Ns(t) ? Ln(t) : t.length;
                var e = Yo(t);
                return e == $ || e == tt ? t.size : dr(t).length
            },
            yi.snakeCase = Sl,
            yi.some = function (t, e, i) {
                var r = _s(t) ? on : Pr;
                return i && Ko(t, e, i) && (e = n),
                r(t, Wo(e, 3))
            },
            yi.sortedIndex = function (t, e) {
                return Fr(t, e)
            },
            yi.sortedIndexBy = function (t, e, n) {
                return Nr(t, e, Wo(n, 2))
            },
            yi.sortedIndexOf = function (t, e) {
                var n = null == t ? 0 : t.length;
                if (n) {
                    var i = Fr(t, e);
                    if (i < n && vs(t[i], e))
                        return i
                }
                return -1
            },
            yi.sortedLastIndex = function (t, e) {
                return Fr(t, e, !0)
            },
            yi.sortedLastIndexBy = function (t, e, n) {
                return Nr(t, e, Wo(n, 2), !0)
            },
            yi.sortedLastIndexOf = function (t, e) {
                if (null != t && t.length) {
                    var n = Fr(t, e, !0) - 1;
                    if (vs(t[n], e))
                        return n
                }
                return -1
            },
            yi.startCase = kl,
            yi.startsWith = function (t, e, n) {
                return t = $s(t),
                n = null == n ? 0 : Ri(Us(n), 0, t.length),
                e = Wr(e),
                t.slice(n, n + e.length) == e
            },
            yi.subtract = tu,
            yi.sum = function (t) {
                return t && t.length ? vn(t, Dl) : 0
            },
            yi.sumBy = function (t, e) {
                return t && t.length ? vn(t, Wo(e, 2)) : 0
            },
            yi.template = function (t, e, i) {
                var r = yi.templateSettings;
                i && Ko(t, e, i) && (e = n),
                t = $s(t),
                e = Ks({}, e, r, zo);
                var o,
                a,
                s = Ks({}, e.imports, r.imports, zo),
                l = sl(s),
                u = xn(s, l),
                h = 0,
                c = e.interpolate || Xt,
                f = "__p += '",
                d = re((e.escape || Xt).source + "|" + c.source + "|" + (c === It ? Gt : Xt).source + "|" + (e.evaluate || Xt).source + "|$", "g"),
                p = "//# sourceURL=" + ("sourceURL" in e ? e.sourceURL : "lodash.templateSources[" + ++ke + "]") + "\n";
                t.replace(d, function (e, n, i, r, s, l) {
                    return i || (i = r),
                    f += t.slice(h, l).replace(Zt, Mn),
                    n && (o = !0, f += "' +\n__e(" + n + ") +\n'"),
                    s && (a = !0, f += "';\n" + s + ";\n__p += '"),
                    i && (f += "' +\n((__t = (" + i + ")) == null ? '' : __t) +\n'"),
                    h = l + e.length,
                    e
                }),
                f += "';\n";
                var g = e.variable;
                g || (f = "with (obj) {\n" + f + "\n}\n"),
                f = (a ? f.replace(yt, "") : f).replace(mt, "$1").replace(xt, "$1;"),
                f = "function(" + (g || "obj") + ") {\n" + (g ? "" : "obj || (obj = {});\n") + "var __t, __p = ''" + (o ? ", __e = _.escape" : "") + (a ? ", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n" : ";\n") + f + "return __p\n}";
                var v = Tl(function () {
                    return ee(l, p + "return " + f).apply(n, u)
                });
                if (v.source = f, Is(v))
                    throw v;
                return v
            },
            yi.times = function (t, e) {
                if ((t = Us(t)) < 1 || t > L)
                    return [];
                var n = P,
                i = Zn(t, P);
                e = Wo(e),
                t -= P;
                for (var r = yn(i, e); ++n < t; )
                    e(n);
                return r
            },
            yi.toFinite = js,
            yi.toInteger = Us,
            yi.toLength = qs,
            yi.toLower = function (t) {
                return $s(t).toLowerCase()
            },
            yi.toNumber = Ys,
            yi.toSafeInteger = function (t) {
                return t ? Ri(Us(t), -L, L) : 0 === t ? t : 0
            },
            yi.toString = $s,
            yi.toUpper = function (t) {
                return $s(t).toUpperCase()
            },
            yi.trim = function (t, e, i) {
                if ((t = $s(t)) && (i || e === n))
                    return t.replace(Dt, "");
                if (!t || !(e = Wr(e)))
                    return t;
                var r = Dn(t),
                o = Dn(e);
                return Qr(r, wn(r, o), bn(r, o) + 1).join("")
            },
            yi.trimEnd = function (t, e, i) {
                if ((t = $s(t)) && (i || e === n))
                    return t.replace(Pt, "");
                if (!t || !(e = Wr(e)))
                    return t;
                var r = Dn(t);
                return Qr(r, 0, bn(r, Dn(e)) + 1).join("")
            },
            yi.trimStart = function (t, e, i) {
                if ((t = $s(t)) && (i || e === n))
                    return t.replace(Ot, "");
                if (!t || !(e = Wr(e)))
                    return t;
                var r = Dn(t);
                return Qr(r, wn(r, Dn(e))).join("")
            },
            yi.truncate = function (t, e) {
                var i = M,
                r = I;
                if (zs(e)) {
                    var o = "separator" in e ? e.separator : o;
                    i = "length" in e ? Us(e.length) : i,
                    r = "omission" in e ? Wr(e.omission) : r
                }
                var a = (t = $s(t)).length;
                if (In(t)) {
                    var s = Dn(t);
                    a = s.length
                }
                if (i >= a)
                    return t;
                var l = i - Ln(r);
                if (l < 1)
                    return r;
                var u = s ? Qr(s, 0, l).join("") : t.slice(0, l);
                if (o === n)
                    return u + r;
                if (s && (l += u.length - l), Ps(o)) {
                    if (t.slice(l).search(o)) {
                        var h,
                        c = u;
                        for (o.global || (o = re(o.source, $s(Ht.exec(o)) + "g")), o.lastIndex = 0; h = o.exec(c); )
                            var f = h.index;
                        u = u.slice(0, f === n ? l : f)
                    }
                } else if (t.indexOf(Wr(o), l) != l) {
                    var d = u.lastIndexOf(o);
                    d > -1 && (u = u.slice(0, d))
                }
                return u + r
            },
            yi.unescape = function (t) {
                return (t = $s(t)) && bt.test(t) ? t.replace(_t, On) : t
            },
            yi.uniqueId = function (t) {
                var e = ++de;
                return $s(t) + e
            },
            yi.upperCase = Ml,
            yi.upperFirst = Il,
            yi.each = $a,
            yi.eachRight = Xa,
            yi.first = ba,
            Nl(yi, (Kl = {}, Ki(yi, function (t, e) {
                        fe.call(yi.prototype, e) || (Kl[e] = t)
                    }), Kl), {
                chain: !1
            }),
            yi.VERSION = "4.17.4",
            $e(["bind", "bindKey", "curry", "curryRight", "partial", "partialRight"], function (t) {
                yi[t].placeholder = yi
            }),
            $e(["drop", "take"], function (t, e) {
                wi.prototype[t] = function (i) {
                    i = i === n ? 1 : Xn(Us(i), 0);
                    var r = this.__filtered__ && !e ? new wi(this) : this.clone();
                    return r.__filtered__ ? r.__takeCount__ = Zn(i, r.__takeCount__) : r.__views__.push({
                        size: Zn(i, P),
                        type: t + (r.__dir__ < 0 ? "Right" : "")
                    }),
                    r
                },
                wi.prototype[t + "Right"] = function (e) {
                    return this.reverse()[t](e).reverse()
                }
            }),
            $e(["filter", "map", "takeWhile"], function (t, e) {
                var n = e + 1,
                i = n == C || 3 == n;
                wi.prototype[t] = function (t) {
                    var e = this.clone();
                    return e.__iteratees__.push({
                        iteratee: Wo(t, 3),
                        type: n
                    }),
                    e.__filtered__ = e.__filtered__ || i,
                    e
                }
            }),
            $e(["head", "last"], function (t, e) {
                var n = "take" + (e ? "Right" : "");
                wi.prototype[t] = function () {
                    return this[n](1).value()[0]
                }
            }),
            $e(["initial", "tail"], function (t, e) {
                var n = "drop" + (e ? "" : "Right");
                wi.prototype[t] = function () {
                    return this.__filtered__ ? new wi(this) : this[n](1)
                }
            }),
            wi.prototype.compact = function () {
                return this.filter(Dl)
            },
            wi.prototype.find = function (t) {
                return this.filter(t).head()
            },
            wi.prototype.findLast = function (t) {
                return this.reverse().find(t)
            },
            wi.prototype.invokeMap = Ar(function (t, e) {
                return "function" == typeof t ? new wi(this) : this.map(function (n) {
                    return sr(n, t, e)
                })
            }),
            wi.prototype.reject = function (t) {
                return this.filter(cs(Wo(t)))
            },
            wi.prototype.slice = function (t, e) {
                t = Us(t);
                var i = this;
                return i.__filtered__ && (t > 0 || e < 0) ? new wi(i) : (t < 0 ? i = i.takeRight(-t) : t && (i = i.drop(t)), e !== n && (i = (e = Us(e)) < 0 ? i.dropRight(-e) : i.take(e - t)), i)
            },
            wi.prototype.takeRightWhile = function (t) {
                return this.reverse().takeWhile(t).reverse()
            },
            wi.prototype.toArray = function () {
                return this.take(P)
            },
            Ki(wi.prototype, function (t, e) {
                var i = /^(?:filter|find|map|reject)|While$/.test(e),
                r = /^(?:head|last)$/.test(e),
                o = yi[r ? "take" + ("last" == e ? "Right" : "") : e],
                a = r || /^find/.test(e);
                o && (yi.prototype[e] = function () {
                    var e = this.__wrapped__,
                    s = r ? [1] : arguments,
                    l = e instanceof wi,
                    u = s[0],
                    h = l || _s(e),
                    c = function (t) {
                        var e = o.apply(yi, en([t], s));
                        return r && f ? e[0] : e
                    };
                    h && i && "function" == typeof u && 1 != u.length && (l = h = !1);
                    var f = this.__chain__,
                    d = !!this.__actions__.length,
                    p = a && !f,
                    g = l && !d;
                    if (!a && h) {
                        e = g ? e : new wi(this);
                        var v = t.apply(e, s);
                        return v.__actions__.push({
                            func: ja,
                            args: [c],
                            thisArg: n
                        }),
                        new _i(v, f)
                    }
                    return p && g ? t.apply(this, s) : (v = this.thru(c), p ? r ? v.value()[0] : v.value() : v)
                })
            }),
            $e(["pop", "push", "shift", "sort", "splice", "unshift"], function (t) {
                var e = se[t],
                n = /^(?:push|sort|unshift)$/.test(t) ? "tap" : "thru",
                i = /^(?:pop|shift)$/.test(t);
                yi.prototype[t] = function () {
                    var t = arguments;
                    if (i && !this.__chain__) {
                        var r = this.value();
                        return e.apply(_s(r) ? r : [], t)
                    }
                    return this[n](function (n) {
                        return e.apply(_s(n) ? n : [], t)
                    })
                }
            }),
            Ki(wi.prototype, function (t, e) {
                var n = yi[e];
                if (n) {
                    var i = n.name + "";
                    (li[i] || (li[i] = [])).push({
                        name: e,
                        func: n
                    })
                }
            }),
            li[mo(n, v).name] = [{
                    name: "wrapper",
                    func: n
                }
            ],
            wi.prototype.clone = function () {
                var t = new wi(this.__wrapped__);
                return t.__actions__ = ao(this.__actions__),
                t.__dir__ = this.__dir__,
                t.__filtered__ = this.__filtered__,
                t.__iteratees__ = ao(this.__iteratees__),
                t.__takeCount__ = this.__takeCount__,
                t.__views__ = ao(this.__views__),
                t
            },
            wi.prototype.reverse = function () {
                if (this.__filtered__) {
                    var t = new wi(this);
                    t.__dir__ = -1,
                    t.__filtered__ = !0
                } else (t = this.clone()).__dir__ *= -1;
                return t
            },
            wi.prototype.value = function () {
                var t = this.__wrapped__.value(),
                e = this.__dir__,
                n = _s(t),
                i = e < 0,
                r = n ? t.length : 0,
                o = function (t, e, n) {
                    for (var i = -1, r = n.length; ++i < r; ) {
                        var o = n[i],
                        a = o.size;
                        switch (o.type) {
                        case "drop":
                            t += a;
                            break;
                        case "dropRight":
                            e -= a;
                            break;
                        case "take":
                            e = Zn(e, t + a);
                            break;
                        case "takeRight":
                            t = Xn(t, e - a)
                        }
                    }
                    return {
                        start: t,
                        end: e
                    }
                }
                (0, r, this.__views__),
                a = o.start,
                s = o.end,
                l = s - a,
                u = i ? s : a - 1,
                h = this.__iteratees__,
                c = h.length,
                f = 0,
                d = Zn(l, this.__takeCount__);
                if (!n || !i && r == l && d == l)
                    return qr(t, this.__actions__);
                var p = [];
                t: for (; l-- && f < d; ) {
                    for (var g = -1, v = t[u += e]; ++g < c; ) {
                        var y = h[g],
                        m = y.iteratee,
                        x = y.type,
                        _ = m(v);
                        if (x == z)
                            v = _;
                        else if (!_) {
                            if (x == C)
                                continue t;
                            break t
                        }
                    }
                    p[f++] = v
                }
                return p
            },
            yi.prototype.at = Ua,
            yi.prototype.chain = function () {
                return Ha(this)
            },
            yi.prototype.commit = function () {
                return new _i(this.value(), this.__chain__)
            },
            yi.prototype.next = function () {
                this.__values__ === n && (this.__values__ = Hs(this.value()));
                var t = this.__index__ >= this.__values__.length;
                return {
                    done: t,
                    value: t ? n : this.__values__[this.__index__++]
                }
            },
            yi.prototype.plant = function (t) {
                for (var e, i = this; i instanceof xi; ) {
                    var r = ga(i);
                    r.__index__ = 0,
                    r.__values__ = n,
                    e ? o.__wrapped__ = r : e = r;
                    var o = r;
                    i = i.__wrapped__
                }
                return o.__wrapped__ = t,
                e
            },
            yi.prototype.reverse = function () {
                var t = this.__wrapped__;
                if (t instanceof wi) {
                    var e = t;
                    return this.__actions__.length && (e = new wi(this)),
                    (e = e.reverse()).__actions__.push({
                        func: ja,
                        args: [za],
                        thisArg: n
                    }),
                    new _i(e, this.__chain__)
                }
                return this.thru(za)
            },
            yi.prototype.toJSON = yi.prototype.valueOf = yi.prototype.value = function () {
                return qr(this.__wrapped__, this.__actions__)
            },
            yi.prototype.first = yi.prototype.head,
            Fn && (yi.prototype[Fn] = function () {
                return this
            }),
            yi
        }
        ();
        "function" == typeof n && "object" == r(n.amd) && n.amd ? (Le._ = Pn, n(function () {
                return Pn
            })) : Oe ? ((Oe.exports = Pn)._ = Pn, De._ = Pn) : Le._ = Pn
    }).call(_m)
});
try {
    wm = bm
} catch (t) {}
wm || (wm = window._);
var Sm = wm,
km = Tm,
Mm = "\0",
Im = "\0",
Am = "";
function Tm(t) {
    this._isDirected = !Sm.has(t, "directed") || t.directed,
    this._isMultigraph = !!Sm.has(t, "multigraph") && t.multigraph,
    this._isCompound = !!Sm.has(t, "compound") && t.compound,
    this._label = void 0,
    this._defaultNodeLabelFn = Sm.constant(void 0),
    this._defaultEdgeLabelFn = Sm.constant(void 0),
    this._nodes = {},
    this._isCompound && (this._parent = {}, this._children = {}, this._children[Im] = {}),
    this._in = {},
    this._preds = {},
    this._out = {},
    this._sucs = {},
    this._edgeObjs = {},
    this._edgeLabels = {}
}
function Cm(t, e) {
    t[e] ? t[e]++ : t[e] = 1
}
function zm(t, e) {
    --t[e] || delete t[e]
}
function Em(t, e, n, i) {
    var r = "" + e,
    o = "" + n;
    if (!t && r > o) {
        var a = r;
        r = o,
        o = a
    }
    return r + Am + o + Am + (Sm.isUndefined(i) ? Mm : i)
}
function Lm(t, e) {
    return Em(t, e.v, e.w, e.name)
}
Tm.prototype._nodeCount = 0,
Tm.prototype._edgeCount = 0,
Tm.prototype.isDirected = function () {
    return this._isDirected
},
Tm.prototype.isMultigraph = function () {
    return this._isMultigraph
},
Tm.prototype.isCompound = function () {
    return this._isCompound
},
Tm.prototype.setGraph = function (t) {
    return this._label = t,
    this
},
Tm.prototype.graph = function () {
    return this._label
},
Tm.prototype.setDefaultNodeLabel = function (t) {
    return Sm.isFunction(t) || (t = Sm.constant(t)),
    this._defaultNodeLabelFn = t,
    this
},
Tm.prototype.nodeCount = function () {
    return this._nodeCount
},
Tm.prototype.nodes = function () {
    return Sm.keys(this._nodes)
},
Tm.prototype.sources = function () {
    var t = this;
    return Sm.filter(this.nodes(), function (e) {
        return Sm.isEmpty(t._in[e])
    })
},
Tm.prototype.sinks = function () {
    var t = this;
    return Sm.filter(this.nodes(), function (e) {
        return Sm.isEmpty(t._out[e])
    })
},
Tm.prototype.setNodes = function (t, e) {
    var n = arguments,
    i = this;
    return Sm.each(t, function (t) {
        n.length > 1 ? i.setNode(t, e) : i.setNode(t)
    }),
    this
},
Tm.prototype.setNode = function (t, e) {
    return Sm.has(this._nodes, t) ? (arguments.length > 1 && (this._nodes[t] = e), this) : (this._nodes[t] = arguments.length > 1 ? e : this._defaultNodeLabelFn(t), this._isCompound && (this._parent[t] = Im, this._children[t] = {}, this._children[Im][t] = !0), this._in[t] = {}, this._preds[t] = {}, this._out[t] = {}, this._sucs[t] = {}, ++this._nodeCount, this)
},
Tm.prototype.node = function (t) {
    return this._nodes[t]
},
Tm.prototype.hasNode = function (t) {
    return Sm.has(this._nodes, t)
},
Tm.prototype.removeNode = function (t) {
    var e = this;
    if (Sm.has(this._nodes, t)) {
        var n = function (t) {
            e.removeEdge(e._edgeObjs[t])
        };
        delete this._nodes[t],
        this._isCompound && (this._removeFromParentsChildList(t), delete this._parent[t], Sm.each(this.children(t), function (t) {
                e.setParent(t)
            }), delete this._children[t]),
        Sm.each(Sm.keys(this._in[t]), n),
        delete this._in[t],
        delete this._preds[t],
        Sm.each(Sm.keys(this._out[t]), n),
        delete this._out[t],
        delete this._sucs[t],
        --this._nodeCount
    }
    return this
},
Tm.prototype.setParent = function (t, e) {
    if (!this._isCompound)
        throw new Error("Cannot set parent in a non-compound graph");
    if (Sm.isUndefined(e))
        e = Im;
    else {
        for (var n = e += ""; !Sm.isUndefined(n); n = this.parent(n))
            if (n === t)
                throw new Error("Setting " + e + " as parent of " + t + " would create a cycle");
        this.setNode(e)
    }
    return this.setNode(t),
    this._removeFromParentsChildList(t),
    this._parent[t] = e,
    this._children[e][t] = !0,
    this
},
Tm.prototype._removeFromParentsChildList = function (t) {
    delete this._children[this._parent[t]][t]
},
Tm.prototype.parent = function (t) {
    if (this._isCompound) {
        var e = this._parent[t];
        if (e !== Im)
            return e
    }
},
Tm.prototype.children = function (t) {
    if (Sm.isUndefined(t) && (t = Im), this._isCompound) {
        var e = this._children[t];
        if (e)
            return Sm.keys(e)
    } else {
        if (t === Im)
            return this.nodes();
        if (this.hasNode(t))
            return []
    }
},
Tm.prototype.predecessors = function (t) {
    var e = this._preds[t];
    if (e)
        return Sm.keys(e)
},
Tm.prototype.successors = function (t) {
    var e = this._sucs[t];
    if (e)
        return Sm.keys(e)
},
Tm.prototype.neighbors = function (t) {
    var e = this.predecessors(t);
    if (e)
        return Sm.union(e, this.successors(t))
},
Tm.prototype.isLeaf = function (t) {
    return 0 === (this.isDirected() ? this.successors(t) : this.neighbors(t)).length
},
Tm.prototype.filterNodes = function (t) {
    var e = new this.constructor({
        directed: this._isDirected,
        multigraph: this._isMultigraph,
        compound: this._isCompound
    });
    e.setGraph(this.graph());
    var n = this;
    Sm.each(this._nodes, function (n, i) {
        t(i) && e.setNode(i, n)
    }),
    Sm.each(this._edgeObjs, function (t) {
        e.hasNode(t.v) && e.hasNode(t.w) && e.setEdge(t, n.edge(t))
    });
    var i = {};
    return this._isCompound && Sm.each(e.nodes(), function (t) {
        e.setParent(t, function t(r) {
            var o = n.parent(r);
            return void 0 === o || e.hasNode(o) ? (i[r] = o, o) : o in i ? i[o] : t(o)
        }
            (t))
    }),
    e
},
Tm.prototype.setDefaultEdgeLabel = function (t) {
    return Sm.isFunction(t) || (t = Sm.constant(t)),
    this._defaultEdgeLabelFn = t,
    this
},
Tm.prototype.edgeCount = function () {
    return this._edgeCount
},
Tm.prototype.edges = function () {
    return Sm.values(this._edgeObjs)
},
Tm.prototype.setPath = function (t, e) {
    var n = this,
    i = arguments;
    return Sm.reduce(t, function (t, r) {
        return i.length > 1 ? n.setEdge(t, r, e) : n.setEdge(t, r),
        r
    }),
    this
},
Tm.prototype.setEdge = function () {
    var t,
    e,
    n,
    i,
    o = !1,
    a = arguments[0];
    "object" === (void 0 === a ? "undefined" : r(a)) && null !== a && "v" in a ? (t = a.v, e = a.w, n = a.name, 2 === arguments.length && (i = arguments[1], o = !0)) : (t = a, e = arguments[1], n = arguments[3], arguments.length > 2 && (i = arguments[2], o = !0)),
    t = "" + t,
    e = "" + e,
    Sm.isUndefined(n) || (n = "" + n);
    var s = Em(this._isDirected, t, e, n);
    if (Sm.has(this._edgeLabels, s))
        return o && (this._edgeLabels[s] = i), this;
    if (!Sm.isUndefined(n) && !this._isMultigraph)
        throw new Error("Cannot set a named edge when isMultigraph = false");
    this.setNode(t),
    this.setNode(e),
    this._edgeLabels[s] = o ? i : this._defaultEdgeLabelFn(t, e, n);
    var l = function (t, e, n, i) {
        var r = "" + e,
        o = "" + n;
        if (!t && r > o) {
            var a = r;
            r = o,
            o = a
        }
        var s = {
            v: r,
            w: o
        };
        i && (s.name = i);
        return s
    }
    (this._isDirected, t, e, n);
    return t = l.v,
    e = l.w,
    Object.freeze(l),
    this._edgeObjs[s] = l,
    Cm(this._preds[e], t),
    Cm(this._sucs[t], e),
    this._in[e][s] = l,
    this._out[t][s] = l,
    this._edgeCount++,
    this
},
Tm.prototype.edge = function (t, e, n) {
    var i = 1 === arguments.length ? Lm(this._isDirected, arguments[0]) : Em(this._isDirected, t, e, n);
    return this._edgeLabels[i]
},
Tm.prototype.hasEdge = function (t, e, n) {
    var i = 1 === arguments.length ? Lm(this._isDirected, arguments[0]) : Em(this._isDirected, t, e, n);
    return Sm.has(this._edgeLabels, i)
},
Tm.prototype.removeEdge = function (t, e, n) {
    var i = 1 === arguments.length ? Lm(this._isDirected, arguments[0]) : Em(this._isDirected, t, e, n),
    r = this._edgeObjs[i];
    return r && (t = r.v, e = r.w, delete this._edgeLabels[i], delete this._edgeObjs[i], zm(this._preds[e], t), zm(this._sucs[t], e), delete this._in[e][i], delete this._out[t][i], this._edgeCount--),
    this
},
Tm.prototype.inEdges = function (t, e) {
    var n = this._in[t];
    if (n) {
        var i = Sm.values(n);
        return e ? Sm.filter(i, function (t) {
            return t.v === e
        }) : i
    }
},
Tm.prototype.outEdges = function (t, e) {
    var n = this._out[t];
    if (n) {
        var i = Sm.values(n);
        return e ? Sm.filter(i, function (t) {
            return t.w === e
        }) : i
    }
},
Tm.prototype.nodeEdges = function (t, e) {
    var n = this.inEdges(t, e);
    if (n)
        return n.concat(this.outEdges(t, e))
};
var Dm = {
    Graph: km,
    version: "2.1.5"
},
Om = {
    write: function (t) {
        var e = {
            options: {
                directed: t.isDirected(),
                multigraph: t.isMultigraph(),
                compound: t.isCompound()
            },
            nodes: function (t) {
                return Sm.map(t.nodes(), function (e) {
                    var n = t.node(e),
                    i = t.parent(e),
                    r = {
                        v: e
                    };
                    return Sm.isUndefined(n) || (r.value = n),
                    Sm.isUndefined(i) || (r.parent = i),
                    r
                })
            }
            (t),
            edges: function (t) {
                return Sm.map(t.edges(), function (e) {
                    var n = t.edge(e),
                    i = {
                        v: e.v,
                        w: e.w
                    };
                    return Sm.isUndefined(e.name) || (i.name = e.name),
                    Sm.isUndefined(n) || (i.value = n),
                    i
                })
            }
            (t)
        };
        Sm.isUndefined(t.graph()) || (e.value = Sm.clone(t.graph()));
        return e
    },
    read: function (t) {
        var e = new km(t.options).setGraph(t.value);
        return Sm.each(t.nodes, function (t) {
            e.setNode(t.v, t.value),
            t.parent && e.setParent(t.v, t.parent)
        }),
        Sm.each(t.edges, function (t) {
            e.setEdge({
                v: t.v,
                w: t.w,
                name: t.name
            }, t.value)
        }),
        e
    }
};
var Pm = function (t) {
    var e,
    n = {},
    i = [];
    function r(i) {
        Sm.has(n, i) || (n[i] = !0, e.push(i), Sm.each(t.successors(i), r), Sm.each(t.predecessors(i), r))
    }
    return Sm.each(t.nodes(), function (t) {
        e = [],
        r(t),
        e.length && i.push(e)
    }),
    i
};
var Fm = Nm;
function Nm() {
    this._arr = [],
    this._keyIndices = {}
}
Nm.prototype.size = function () {
    return this._arr.length
},
Nm.prototype.keys = function () {
    return this._arr.map(function (t) {
        return t.key
    })
},
Nm.prototype.has = function (t) {
    return Sm.has(this._keyIndices, t)
},
Nm.prototype.priority = function (t) {
    var e = this._keyIndices[t];
    if (void 0 !== e)
        return this._arr[e].priority
},
Nm.prototype.min = function () {
    if (0 === this.size())
        throw new Error("Queue underflow");
    return this._arr[0].key
},
Nm.prototype.add = function (t, e) {
    var n = this._keyIndices;
    if (t = String(t), !Sm.has(n, t)) {
        var i = this._arr,
        r = i.length;
        return n[t] = r,
        i.push({
            key: t,
            priority: e
        }),
        this._decrease(r),
        !0
    }
    return !1
},
Nm.prototype.removeMin = function () {
    this._swap(0, this._arr.length - 1);
    var t = this._arr.pop();
    return delete this._keyIndices[t.key],
    this._heapify(0),
    t.key
},
Nm.prototype.decrease = function (t, e) {
    var n = this._keyIndices[t];
    if (e > this._arr[n].priority)
        throw new Error("New priority is greater than current priority. Key: " + t + " Old: " + this._arr[n].priority + " New: " + e);
    this._arr[n].priority = e,
    this._decrease(n)
},
Nm.prototype._heapify = function (t) {
    var e = this._arr,
    n = 2 * t,
    i = n + 1,
    r = t;
    n < e.length && (r = e[n].priority < e[r].priority ? n : r, i < e.length && (r = e[i].priority < e[r].priority ? i : r), r !== t && (this._swap(t, r), this._heapify(r)))
},
Nm.prototype._decrease = function (t) {
    for (var e, n = this._arr, i = n[t].priority; 0 !== t && !(n[e = t >> 1].priority < i); )
        this._swap(t, e), t = e
},
Nm.prototype._swap = function (t, e) {
    var n = this._arr,
    i = this._keyIndices,
    r = n[t],
    o = n[e];
    n[t] = o,
    n[e] = r,
    i[o.key] = t,
    i[r.key] = e
};
var Rm = function (t, e, n, i) {
    return function (t, e, n, i) {
        var r,
        o,
        a = {},
        s = new Fm,
        l = function (t) {
            var e = t.v !== r ? t.v : t.w,
            i = a[e],
            l = n(t),
            u = o.distance + l;
            if (l < 0)
                throw new Error("dijkstra does not allow negative edge weights. Bad edge: " + t + " Weight: " + l);
            u < i.distance && (i.distance = u, i.predecessor = r, s.decrease(e, u))
        };
        t.nodes().forEach(function (t) {
            var n = t === e ? 0 : Number.POSITIVE_INFINITY;
            a[t] = {
                distance: n
            },
            s.add(t, n)
        });
        for (; s.size() > 0 && (r = s.removeMin(), (o = a[r]).distance !== Number.POSITIVE_INFINITY); )
            i(r).forEach(l);
        return a
    }
    (t, String(e), n || Bm, i || function (e) {
        return t.outEdges(e)
    })
},
Bm = Sm.constant(1);
var Wm = function (t, e, n) {
    return Sm.transform(t.nodes(), function (i, r) {
        i[r] = Rm(t, r, e, n)
    }, {})
};
var Gm = function (t) {
    var e = 0,
    n = [],
    i = {},
    r = [];
    return t.nodes().forEach(function (o) {
        Sm.has(i, o) || function o(a) {
            var s = i[a] = {
                onStack: !0,
                lowlink: e,
                index: e++
            };
            if (n.push(a), t.successors(a).forEach(function (t) {
                    Sm.has(i, t) ? i[t].onStack && (s.lowlink = Math.min(s.lowlink, i[t].index)) : (o(t), s.lowlink = Math.min(s.lowlink, i[t].lowlink))
                }), s.lowlink === s.index) {
                var l,
                u = [];
                do {
                    l = n.pop(),
                    i[l].onStack = !1,
                    u.push(l)
                } while (a !== l);
                r.push(u)
            }
        }
        (o)
    }),
    r
};
var Hm = function (t) {
    return Sm.filter(Gm(t), function (e) {
        return e.length > 1 || 1 === e.length && t.hasEdge(e[0], e[0])
    })
};
var jm = function (t, e, n) {
    return function (t, e, n) {
        var i = {},
        r = t.nodes();
        return r.forEach(function (t) {
            i[t] = {},
            i[t][t] = {
                distance: 0
            },
            r.forEach(function (e) {
                t !== e && (i[t][e] = {
                        distance: Number.POSITIVE_INFINITY
                    })
            }),
            n(t).forEach(function (n) {
                var r = n.v === t ? n.w : n.v,
                o = e(n);
                i[t][r] = {
                    distance: o,
                    predecessor: t
                }
            })
        }),
        r.forEach(function (t) {
            var e = i[t];
            r.forEach(function (n) {
                var o = i[n];
                r.forEach(function (n) {
                    var i = o[t],
                    r = e[n],
                    a = o[n],
                    s = i.distance + r.distance;
                    s < a.distance && (a.distance = s, a.predecessor = r.predecessor)
                })
            })
        }),
        i
    }
    (t, e || Um, n || function (e) {
        return t.outEdges(e)
    })
},
Um = Sm.constant(1);
var qm = Ym;
function Ym(t) {
    var e = {},
    n = {},
    i = [];
    if (Sm.each(t.sinks(), function r(o) {
            if (Sm.has(n, o))
                throw new Vm;
            Sm.has(e, o) || (n[o] = !0, e[o] = !0, Sm.each(t.predecessors(o), r), delete n[o], i.push(o))
        }), Sm.size(e) !== t.nodeCount())
        throw new Vm;
    return i
}
function Vm() {}
Ym.CycleException = Vm;
var $m = function (t, e, n) {
    Sm.isArray(e) || (e = [e]);
    var i = (t.isDirected() ? t.successors : t.neighbors).bind(t),
    r = [],
    o = {};
    return Sm.each(e, function (e) {
        if (!t.hasNode(e))
            throw new Error("Graph does not have node: " + e);
        !function t(e, n, i, r, o, a) {
            Sm.has(r, n) || (r[n] = !0, i || a.push(n), Sm.each(o(n), function (n) {
                    t(e, n, i, r, o, a)
                }), i && a.push(n))
        }
        (t, e, "post" === n, o, i, r)
    }),
    r
};
var Xm,
Zm = {
    Graph: Dm.Graph,
    json: Om,
    alg: {
        components: Pm,
        dijkstra: Rm,
        dijkstraAll: Wm,
        findCycles: Hm,
        floydWarshall: jm,
        isAcyclic: function (t) {
            try {
                qm(t)
            } catch (t) {
                if (t instanceof qm.CycleException)
                    return !1;
                throw t
            }
            return !0
        },
        postorder: function (t, e) {
            return $m(t, e, "post")
        },
        preorder: function (t, e) {
            return $m(t, e, "pre")
        },
        prim: function (t, e) {
            var n,
            i = new km,
            r = {},
            o = new Fm;
            function a(t) {
                var i = t.v === n ? t.w : t.v,
                a = o.priority(i);
                if (void 0 !== a) {
                    var s = e(t);
                    s < a && (r[i] = n, o.decrease(i, s))
                }
            }
            if (0 === t.nodeCount())
                return i;
            Sm.each(t.nodes(), function (t) {
                o.add(t, Number.POSITIVE_INFINITY),
                i.setNode(t)
            }),
            o.decrease(t.nodes()[0], 0);
            var s = !1;
            for (; o.size() > 0; ) {
                if (n = o.removeMin(), Sm.has(r, n))
                    i.setEdge(n, r[n]);
                else {
                    if (s)
                        throw new Error("Input graph is not connected: " + t);
                    s = !0
                }
                t.nodeEdges(n).forEach(a)
            }
            return i
        },
        tarjan: Gm,
        topsort: qm
    },
    version: Dm.version
};
try {
    Xm = Zm
} catch (t) {}
Xm || (Xm = window.graphlib);
var Km,
Qm = Xm;
try {
    Km = bm
} catch (t) {}
Km || (Km = window._);
var Jm = Km,
tx = ex;
function ex() {
    var t = {};
    t._next = t._prev = t,
    this._sentinel = t
}
function nx(t) {
    t._prev._next = t._next,
    t._next._prev = t._prev,
    delete t._next,
    delete t._prev
}
function ix(t, e) {
    if ("_next" !== t && "_prev" !== t)
        return e
}
ex.prototype.dequeue = function () {
    var t = this._sentinel,
    e = t._prev;
    if (e !== t)
        return nx(e), e
},
ex.prototype.enqueue = function (t) {
    var e = this._sentinel;
    t._prev && t._next && nx(t),
    t._next = e._next,
    e._next._prev = t,
    e._next = t,
    t._prev = e
},
ex.prototype.toString = function () {
    for (var t = [], e = this._sentinel, n = e._prev; n !== e; )
        t.push(JSON.stringify(n, ix)), n = n._prev;
    return "[" + t.join(", ") + "]"
};
var rx = Qm.Graph,
ox = function (t, e) {
    if (t.nodeCount() <= 1)
        return [];
    var n = function (t, e) {
        var n = new rx,
        i = 0,
        r = 0;
        Jm.forEach(t.nodes(), function (t) {
            n.setNode(t, {
                v: t,
                in: 0,
                out: 0
            })
        }),
        Jm.forEach(t.edges(), function (t) {
            var o = n.edge(t.v, t.w) || 0,
            a = e(t),
            s = o + a;
            n.setEdge(t.v, t.w, s),
            r = Math.max(r, n.node(t.v).out += a),
            i = Math.max(i, n.node(t.w).in += a)
        });
        var o = Jm.range(r + i + 3).map(function () {
            return new tx
        }),
        a = i + 1;
        return Jm.forEach(n.nodes(), function (t) {
            lx(o, a, n.node(t))
        }), {
            graph: n,
            buckets: o,
            zeroIdx: a
        }
    }
    (t, e || ax),
    i = function (t, e, n) {
        var i,
        r = [],
        o = e[e.length - 1],
        a = e[0];
        for (; t.nodeCount(); ) {
            for (; i = a.dequeue(); )
                sx(t, e, n, i);
            for (; i = o.dequeue(); )
                sx(t, e, n, i);
            if (t.nodeCount())
                for (var s = e.length - 2; s > 0; --s)
                    if (i = e[s].dequeue()) {
                        r = r.concat(sx(t, e, n, i, !0));
                        break
                    }
        }
        return r
    }
    (n.graph, n.buckets, n.zeroIdx);
    return Jm.flatten(Jm.map(i, function (e) {
            return t.outEdges(e.v, e.w)
        }), !0)
},
ax = Jm.constant(1);
function sx(t, e, n, i, r) {
    var o = r ? [] : void 0;
    return Jm.forEach(t.inEdges(i.v), function (i) {
        var a = t.edge(i),
        s = t.node(i.v);
        r && o.push({
            v: i.v,
            w: i.w
        }),
        s.out -= a,
        lx(e, n, s)
    }),
    Jm.forEach(t.outEdges(i.v), function (i) {
        var r = t.edge(i),
        o = i.w,
        a = t.node(o);
        a.in -= r,
        lx(e, n, a)
    }),
    t.removeNode(i.v),
    o
}
function lx(t, e, n) {
    n.out ? n.in ? t[n.out - n.in + e].enqueue(n) : t[t.length - 1].enqueue(n) : t[0].enqueue(n)
}
var ux = {
    run: function (t) {
        var e = "greedy" === t.graph().acyclicer ? ox(t, function (t) {
            return function (e) {
                return t.edge(e).weight
            }
        }
                (t)) : function (t) {
            var e = [],
            n = {},
            i = {};
            return Jm.forEach(t.nodes(), function r(o) {
                Jm.has(i, o) || (i[o] = !0, n[o] = !0, Jm.forEach(t.outEdges(o), function (t) {
                        Jm.has(n, t.w) ? e.push(t) : r(t.w)
                    }), delete n[o])
            }),
            e
        }
        (t);
        Jm.forEach(e, function (e) {
            var n = t.edge(e);
            t.removeEdge(e),
            n.forwardName = e.name,
            n.reversed = !0,
            t.setEdge(e.w, e.v, n, Jm.uniqueId("rev"))
        })
    },
    undo: function (t) {
        Jm.forEach(t.edges(), function (e) {
            var n = t.edge(e);
            if (n.reversed) {
                t.removeEdge(e);
                var i = n.forwardName;
                delete n.reversed,
                delete n.forwardName,
                t.setEdge(e.w, e.v, n, i)
            }
        })
    }
};
var hx = Qm.Graph,
cx = {
    addDummyNode: fx,
    simplify: function (t) {
        var e = (new hx).setGraph(t.graph());
        return Jm.forEach(t.nodes(), function (n) {
            e.setNode(n, t.node(n))
        }),
        Jm.forEach(t.edges(), function (n) {
            var i = e.edge(n.v, n.w) || {
                weight: 0,
                minlen: 1
            },
            r = t.edge(n);
            e.setEdge(n.v, n.w, {
                weight: i.weight + r.weight,
                minlen: Math.max(i.minlen, r.minlen)
            })
        }),
        e
    },
    asNonCompoundGraph: function (t) {
        var e = new hx({
            multigraph: t.isMultigraph()
        }).setGraph(t.graph());
        return Jm.forEach(t.nodes(), function (n) {
            t.children(n).length || e.setNode(n, t.node(n))
        }),
        Jm.forEach(t.edges(), function (n) {
            e.setEdge(n, t.edge(n))
        }),
        e
    },
    successorWeights: function (t) {
        var e = Jm.map(t.nodes(), function (e) {
            var n = {};
            return Jm.forEach(t.outEdges(e), function (e) {
                n[e.w] = (n[e.w] || 0) + t.edge(e).weight
            }),
            n
        });
        return Jm.zipObject(t.nodes(), e)
    },
    predecessorWeights: function (t) {
        var e = Jm.map(t.nodes(), function (e) {
            var n = {};
            return Jm.forEach(t.inEdges(e), function (e) {
                n[e.v] = (n[e.v] || 0) + t.edge(e).weight
            }),
            n
        });
        return Jm.zipObject(t.nodes(), e)
    },
    intersectRect: function (t, e) {
        var n,
        i,
        r = t.x,
        o = t.y,
        a = e.x - r,
        s = e.y - o,
        l = t.width / 2,
        u = t.height / 2;
        if (!a && !s)
            throw new Error("Not possible to find intersection inside of the rectangle");
        Math.abs(s) * l > Math.abs(a) * u ? (s < 0 && (u = -u), n = u * a / s, i = u) : (a < 0 && (l = -l), n = l, i = l * s / a);
        return {
            x: r + n,
            y: o + i
        }
    },
    buildLayerMatrix: function (t) {
        var e = Jm.map(Jm.range(dx(t) + 1), function () {
            return []
        });
        return Jm.forEach(t.nodes(), function (n) {
            var i = t.node(n),
            r = i.rank;
            Jm.isUndefined(r) || (e[r][i.order] = n)
        }),
        e
    },
    normalizeRanks: function (t) {
        var e = Jm.min(Jm.map(t.nodes(), function (e) {
                    return t.node(e).rank
                }));
        Jm.forEach(t.nodes(), function (n) {
            var i = t.node(n);
            Jm.has(i, "rank") && (i.rank -= e)
        })
    },
    removeEmptyRanks: function (t) {
        var e = Jm.min(Jm.map(t.nodes(), function (e) {
                    return t.node(e).rank
                })),
        n = [];
        Jm.forEach(t.nodes(), function (i) {
            var r = t.node(i).rank - e;
            n[r] || (n[r] = []),
            n[r].push(i)
        });
        var i = 0,
        r = t.graph().nodeRankFactor;
        Jm.forEach(n, function (e, n) {
            Jm.isUndefined(e) && n % r != 0 ? --i : i && Jm.forEach(e, function (e) {
                t.node(e).rank += i
            })
        })
    },
    addBorderNode: function (t, e, n, i) {
        var r = {
            width: 0,
            height: 0
        };
        arguments.length >= 4 && (r.rank = n, r.order = i);
        return fx(t, "border", r, e)
    },
    maxRank: dx,
    partition: function (t, e) {
        var n = {
            lhs: [],
            rhs: []
        };
        return Jm.forEach(t, function (t) {
            e(t) ? n.lhs.push(t) : n.rhs.push(t)
        }),
        n
    },
    time: function (t, e) {
        Jm.now();
        try {
            return e()
        }
        finally {}
    },
    notime: function (t, e) {
        return e()
    }
};
function fx(t, e, n, i) {
    var r;
    do {
        r = Jm.uniqueId(i)
    } while (t.hasNode(r));
    return n.dummy = e,
    t.setNode(r, n),
    r
}
function dx(t) {
    return Jm.max(Jm.map(t.nodes(), function (e) {
            var n = t.node(e).rank;
            if (!Jm.isUndefined(n))
                return n
        }))
}
var px = {
    run: function (t) {
        t.graph().dummyChains = [],
        Jm.forEach(t.edges(), function (e) {
            !function (t, e) {
                var n,
                i,
                r,
                o = e.v,
                a = t.node(o).rank,
                s = e.w,
                l = t.node(s).rank,
                u = e.name,
                h = t.edge(e),
                c = h.labelRank;
                if (l === a + 1)
                    return;
                for (t.removeEdge(e), r = 0, ++a; a < l; ++r, ++a)
                    h.points = [], i = {
                        width: 0,
                        height: 0,
                        edgeLabel: h,
                        edgeObj: e,
                        rank: a
                    },
                n = cx.addDummyNode(t, "edge", i, "_d"),
                a === c && (i.width = h.width, i.height = h.height, i.dummy = "edge-label", i.labelpos = h.labelpos),
                t.setEdge(o, n, {
                    weight: h.weight
                }, u),
                0 === r && t.graph().dummyChains.push(n),
                o = n;
                t.setEdge(o, s, {
                    weight: h.weight
                }, u)
            }
            (t, e)
        })
    },
    undo: function (t) {
        Jm.forEach(t.graph().dummyChains, function (e) {
            var n,
            i = t.node(e),
            r = i.edgeLabel;
            for (t.setEdge(i.edgeObj, r); i.dummy; )
                n = t.successors(e)[0], t.removeNode(e), r.points.push({
                    x: i.x,
                    y: i.y
                }), "edge-label" === i.dummy && (r.x = i.x, r.y = i.y, r.width = i.width, r.height = i.height), e = n, i = t.node(e)
        })
    }
};
var gx = function (t) {
    var e = {};
    Jm.forEach(t.sources(), function n(i) {
        var r = t.node(i);
        if (Jm.has(e, i))
            return r.rank;
        e[i] = !0;
        var o = Jm.min(Jm.map(t.outEdges(i), function (e) {
                    return n(e.w) - t.edge(e).minlen
                }));
        o !== Number.POSITIVE_INFINITY && void 0 !== o && null !== o || (o = 0);
        return r.rank = o
    })
},
vx = function (t, e) {
    return t.node(e.w).rank - t.node(e.v).rank - t.edge(e).minlen
};
var yx = Qm.Graph,
mx = vx,
xx = function (t) {
    var e,
    n,
    i = new yx({
        directed: !1
    }),
    r = t.nodes()[0],
    o = t.nodeCount();
    i.setNode(r, {});
    for (; _x(i, t) < o; )
        e = bx(i, t), n = i.hasNode(e.v) ? mx(t, e) : -mx(t, e), Sx(i, t, n);
    return i
};
function _x(t, e) {
    return Jm.forEach(t.nodes(), function n(i) {
        Jm.forEach(e.nodeEdges(i), function (r) {
            var o = r.v,
            a = i === o ? r.w : o;
            t.hasNode(a) || mx(e, r) || (t.setNode(a, {}), t.setEdge(i, a, {}), n(a))
        })
    }),
    t.nodeCount()
}
function bx(t, e) {
    return Jm.minBy(e.edges(), function (n) {
        if (t.hasNode(n.v) !== t.hasNode(n.w))
            return mx(e, n)
    })
}
function Sx(t, e, n) {
    Jm.forEach(t.nodes(), function (t) {
        e.node(t).rank += n
    })
}
var kx = vx,
Mx = gx,
Ix = Qm.alg.preorder,
Ax = Qm.alg.postorder,
Tx = cx.simplify,
Cx = zx;
function zx(t) {
    t = Tx(t),
    Mx(t);
    var e,
    n = xx(t);
    for (Dx(n), Ex(n, t); e = Ox(n); )
        Fx(n, t, e, Px(n, t, e))
}
function Ex(t, e) {
    var n = Ax(t, t.nodes());
    n = n.slice(0, n.length - 1),
    Jm.forEach(n, function (n) {
        !function (t, e, n) {
            var i = t.node(n).parent;
            t.edge(n, i).cutvalue = Lx(t, e, n)
        }
        (t, e, n)
    })
}
function Lx(t, e, n) {
    var i = t.node(n).parent,
    r = !0,
    o = e.edge(n, i),
    a = 0;
    return o || (r = !1, o = e.edge(i, n)),
    a = o.weight,
    Jm.forEach(e.nodeEdges(n), function (o) {
        var s,
        l,
        u = o.v === n,
        h = u ? o.w : o.v;
        if (h !== i) {
            var c = u === r,
            f = e.edge(o).weight;
            if (a += c ? f : -f, s = n, l = h, t.hasEdge(s, l)) {
                var d = t.edge(n, h).cutvalue;
                a += c ? -d : d
            }
        }
    }),
    a
}
function Dx(t, e) {
    arguments.length < 2 && (e = t.nodes()[0]),
    function t(e, n, i, r, o) {
        var a = i,
        s = e.node(r);
        n[r] = !0;
        Jm.forEach(e.neighbors(r), function (o) {
            Jm.has(n, o) || (i = t(e, n, i, o, r))
        });
        s.low = a;
        s.lim = i++;
        o ? s.parent = o : delete s.parent;
        return i
    }
    (t, {}, 1, e)
}
function Ox(t) {
    return Jm.find(t.edges(), function (e) {
        return t.edge(e).cutvalue < 0
    })
}
function Px(t, e, n) {
    var i = n.v,
    r = n.w;
    e.hasEdge(i, r) || (i = n.w, r = n.v);
    var o = t.node(i),
    a = t.node(r),
    s = o,
    l = !1;
    o.lim > a.lim && (s = a, l = !0);
    var u = Jm.filter(e.edges(), function (e) {
        return l === Nx(t, t.node(e.v), s) && l !== Nx(t, t.node(e.w), s)
    });
    return Jm.minBy(u, function (t) {
        return kx(e, t)
    })
}
function Fx(t, e, n, i) {
    var r = n.v,
    o = n.w;
    t.removeEdge(r, o),
    t.setEdge(i.v, i.w, {}),
    Dx(t),
    Ex(t, e),
    function (t, e) {
        var n = Jm.find(t.nodes(), function (t) {
            return !e.node(t).parent
        }),
        i = Ix(t, n);
        i = i.slice(1),
        Jm.forEach(i, function (n) {
            var i = t.node(n).parent,
            r = e.edge(n, i),
            o = !1;
            r || (r = e.edge(i, n), o = !0),
            e.node(n).rank = e.node(i).rank + (o ? r.minlen : -r.minlen)
        })
    }
    (t, e)
}
function Nx(t, e, n) {
    return n.low <= e.lim && e.lim <= n.lim
}
zx.initLowLimValues = Dx,
zx.initCutValues = Ex,
zx.calcCutValue = Lx,
zx.leaveEdge = Ox,
zx.enterEdge = Px,
zx.exchangeEdges = Fx;
var Rx = gx,
Bx = function (t) {
    switch (t.graph().ranker) {
    case "network-simplex":
        Gx(t);
        break;
    case "tight-tree":
        !function (t) {
            Rx(t),
            xx(t)
        }
        (t);
        break;
    case "longest-path":
        Wx(t);
        break;
    default:
        Gx(t)
    }
};
var Wx = Rx;
function Gx(t) {
    Cx(t)
}
var Hx = function (t) {
    var e = function (t) {
        var e = {},
        n = 0;
        return Jm.forEach(t.children(), function i(r) {
            var o = n;
            Jm.forEach(t.children(r), i),
            e[r] = {
                low: o,
                lim: n++
            }
        }),
        e
    }
    (t);
    Jm.forEach(t.graph().dummyChains, function (n) {
        for (var i = t.node(n), r = i.edgeObj, o = function (t, e, n, i) {
            var r,
            o,
            a = [],
            s = [],
            l = Math.min(e[n].low, e[i].low),
            u = Math.max(e[n].lim, e[i].lim);
            r = n;
            do {
                r = t.parent(r),
                a.push(r)
            } while (r && (e[r].low > l || u > e[r].lim));
            o = r,
            r = i;
            for (; (r = t.parent(r)) !== o; )
                s.push(r);
                return {
                    path: a.concat(s.reverse()),
                    lca: o
                }
            }
                (t, e, r.v, r.w), a = o.path, s = o.lca, l = 0, u = a[l], h = !0; n !== r.w; ) {
                if (i = t.node(n), h) {
                    for (; (u = a[l]) !== s && t.node(u).maxRank < i.rank; )
                        l++;
                    u === s && (h = !1)
                }
                if (!h) {
                    for (; l < a.length - 1 && t.node(u = a[l + 1]).minRank <= i.rank; )
                        l++;
                    u = a[l]
                }
                t.setParent(n, u),
                n = t.successors(n)[0]
            }
    })
};
var jx = {
    run: function (t) {
        var e = cx.addDummyNode(t, "root", {}, "_root"),
        n = function (t) {
            var e = {};
            return Jm.forEach(t.children(), function (n) {
                !function n(i, r) {
                    var o = t.children(i);
                    o && o.length && Jm.forEach(o, function (t) {
                        n(t, r + 1)
                    }),
                    e[i] = r
                }
                (n, 1)
            }),
            e
        }
        (t),
        i = Jm.max(Jm.values(n)) - 1,
        r = 2 * i + 1;
        t.graph().nestingRoot = e,
        Jm.forEach(t.edges(), function (e) {
            t.edge(e).minlen *= r
        });
        var o = function (t) {
            return Jm.reduce(t.edges(), function (e, n) {
                return e + t.edge(n).weight
            }, 0)
        }
        (t) + 1;
        Jm.forEach(t.children(), function (a) {
            !function t(e, n, i, r, o, a, s) {
                var l = e.children(s);
                if (!l.length)
                    return void(s !== n && e.setEdge(n, s, {
                            weight: 0,
                            minlen: i
                        }));
                var u = cx.addBorderNode(e, "_bt"),
                h = cx.addBorderNode(e, "_bb"),
                c = e.node(s);
                e.setParent(u, s);
                c.borderTop = u;
                e.setParent(h, s);
                c.borderBottom = h;
                Jm.forEach(l, function (l) {
                    t(e, n, i, r, o, a, l);
                    var c = e.node(l),
                    f = c.borderTop ? c.borderTop : l,
                    d = c.borderBottom ? c.borderBottom : l,
                    p = c.borderTop ? r : 2 * r,
                    g = f !== d ? 1 : o - a[s] + 1;
                    e.setEdge(u, f, {
                        weight: p,
                        minlen: g,
                        nestingEdge: !0
                    }),
                    e.setEdge(d, h, {
                        weight: p,
                        minlen: g,
                        nestingEdge: !0
                    })
                });
                e.parent(s) || e.setEdge(n, u, {
                    weight: 0,
                    minlen: o + a[s]
                })
            }
            (t, e, r, o, i, n, a)
        }),
        t.graph().nodeRankFactor = r
    },
    cleanup: function (t) {
        var e = t.graph();
        t.removeNode(e.nestingRoot),
        delete e.nestingRoot,
        Jm.forEach(t.edges(), function (e) {
            var n = t.edge(e);
            n.nestingEdge && t.removeEdge(e)
        })
    }
};
var Ux = function (t) {
    Jm.forEach(t.children(), function e(n) {
        var i = t.children(n),
        r = t.node(n);
        i.length && Jm.forEach(i, e);
        if (Jm.has(r, "minRank")) {
            r.borderLeft = [],
            r.borderRight = [];
            for (var o = r.minRank, a = r.maxRank + 1; o < a; ++o)
                qx(t, "borderLeft", "_bl", n, r, o), qx(t, "borderRight", "_br", n, r, o)
        }
    })
};
function qx(t, e, n, i, r, o) {
    var a = {
        width: 0,
        height: 0,
        rank: o,
        borderType: e
    },
    s = r[e][o - 1],
    l = cx.addDummyNode(t, "border", a, n);
    r[e][o] = l,
    t.setParent(l, i),
    s && t.setEdge(s, l, {
        weight: 1
    })
}
var Yx = {
    adjust: function (t) {
        var e = t.graph().rankdir.toLowerCase();
        "lr" !== e && "rl" !== e || Vx(t)
    },
    undo: function (t) {
        var e = t.graph().rankdir.toLowerCase();
        "bt" !== e && "rl" !== e || function (t) {
            Jm.forEach(t.nodes(), function (e) {
                Xx(t.node(e))
            }),
            Jm.forEach(t.edges(), function (e) {
                var n = t.edge(e);
                Jm.forEach(n.points, Xx),
                Jm.has(n, "y") && Xx(n)
            })
        }
        (t);
        "lr" !== e && "rl" !== e || (!function (t) {
            Jm.forEach(t.nodes(), function (e) {
                Zx(t.node(e))
            }),
            Jm.forEach(t.edges(), function (e) {
                var n = t.edge(e);
                Jm.forEach(n.points, Zx),
                Jm.has(n, "x") && Zx(n)
            })
        }
            (t), Vx(t))
    }
};
function Vx(t) {
    Jm.forEach(t.nodes(), function (e) {
        $x(t.node(e))
    }),
    Jm.forEach(t.edges(), function (e) {
        $x(t.edge(e))
    })
}
function $x(t) {
    var e = t.width;
    t.width = t.height,
    t.height = e
}
function Xx(t) {
    t.y = -t.y
}
function Zx(t) {
    var e = t.x;
    t.x = t.y,
    t.y = e
}
var Kx = function (t) {
    var e = {},
    n = Jm.filter(t.nodes(), function (e) {
        return !t.children(e).length
    }),
    i = Jm.max(Jm.map(n, function (e) {
                return t.node(e).rank
            })),
    r = Jm.map(Jm.range(i + 1), function () {
        return []
    });
    var o = Jm.sortBy(n, function (e) {
        return t.node(e).rank
    });
    return Jm.forEach(o, function n(i) {
        if (!Jm.has(e, i)) {
            e[i] = !0;
            var o = t.node(i);
            r[o.rank].push(i),
            Jm.forEach(t.successors(i), n)
        }
    }),
    r
};
var Qx = function (t, e) {
    for (var n = 0, i = 1; i < e.length; ++i)
        n += Jx(t, e[i - 1], e[i]);
    return n
};
function Jx(t, e, n) {
    for (var i = Jm.zipObject(n, Jm.map(n, function (t, e) {
                    return e
                })), r = Jm.flatten(Jm.map(e, function (e) {
                    return Jm.chain(t.outEdges(e)).map(function (e) {
                        return {
                            pos: i[e.w],
                            weight: t.edge(e).weight
                        }
                    }).sortBy("pos").value()
                }), !0), o = 1; o < n.length; )
        o <<= 1;
    var a = 2 * o - 1;
    o -= 1;
    var s = Jm.map(new Array(a), function () {
        return 0
    }),
    l = 0;
    return Jm.forEach(r.forEach(function (t) {
            var e = t.pos + o;
            s[e] += t.weight;
            for (var n = 0; e > 0; )
                e % 2 && (n += s[e + 1]), s[e = e - 1 >> 1] += t.weight;
            l += t.weight * n
        })),
    l
}
var t_ = function (t, e) {
    return Jm.map(e, function (e) {
        var n = t.inEdges(e);
        if (n.length) {
            var i = Jm.reduce(n, function (e, n) {
                var i = t.edge(n),
                r = t.node(n.v);
                return {
                    sum: e.sum + i.weight * r.order,
                    weight: e.weight + i.weight
                }
            }, {
                sum: 0,
                weight: 0
            });
            return {
                v: e,
                barycenter: i.sum / i.weight,
                weight: i.weight
            }
        }
        return {
            v: e
        }
    })
};
var e_ = function (t, e) {
    var n = {};
    return Jm.forEach(t, function (t, e) {
        var i = n[t.v] = {
            indegree: 0,
            in: [],
            out: [],
            vs: [t.v],
            i: e
        };
        Jm.isUndefined(t.barycenter) || (i.barycenter = t.barycenter, i.weight = t.weight)
    }),
    Jm.forEach(e.edges(), function (t) {
        var e = n[t.v],
        i = n[t.w];
        Jm.isUndefined(e) || Jm.isUndefined(i) || (i.indegree++, e.out.push(n[t.w]))
    }),
    function (t) {
        var e = [];
        function n(t) {
            return function (e) {
                var n,
                i,
                r,
                o;
                e.merged || (Jm.isUndefined(e.barycenter) || Jm.isUndefined(t.barycenter) || e.barycenter >= t.barycenter) && (i = e, r = 0, o = 0, (n = t).weight && (r += n.barycenter * n.weight, o += n.weight), i.weight && (r += i.barycenter * i.weight, o += i.weight), n.vs = i.vs.concat(n.vs), n.barycenter = r / o, n.weight = o, n.i = Math.min(i.i, n.i), i.merged = !0)
            }
        }
        function i(e) {
            return function (n) {
                n.in.push(e),
                0 == --n.indegree && t.push(n)
            }
        }
        for (; t.length; ) {
            var r = t.pop();
            e.push(r),
            Jm.forEach(r.in.reverse(), n(r)),
            Jm.forEach(r.out, i(r))
        }
        return Jm.chain(e).filter(function (t) {
            return !t.merged
        }).map(function (t) {
            return Jm.pick(t, ["vs", "i", "barycenter", "weight"])
        }).value()
    }
    (Jm.filter(n, function (t) {
            return !t.indegree
        }))
};
var n_ = function (t, e) {
    var n = cx.partition(t, function (t) {
        return Jm.has(t, "barycenter")
    }),
    i = n.lhs,
    r = Jm.sortBy(n.rhs, function (t) {
        return -t.i
    }),
    o = [],
    a = 0,
    s = 0,
    l = 0;
    i.sort((u = !!e, function (t, e) {
            return t.barycenter < e.barycenter ? -1 : t.barycenter > e.barycenter ? 1 : u ? e.i - t.i : t.i - e.i
        })),
    l = i_(o, r, l),
    Jm.forEach(i, function (t) {
        l += t.vs.length,
        o.push(t.vs),
        a += t.barycenter * t.weight,
        s += t.weight,
        l = i_(o, r, l)
    });
    var u;
    var h = {
        vs: Jm.flatten(o, !0)
    };
    s && (h.barycenter = a / s, h.weight = s);
    return h
};
function i_(t, e, n) {
    for (var i; e.length && (i = Jm.last(e)).i <= n; )
        e.pop(), t.push(i.vs), n++;
    return n
}
var r_ = function t(e, n, i, r) {
    var o = e.children(n),
    a = e.node(n),
    s = a ? a.borderLeft : void 0,
    l = a ? a.borderRight : void 0,
    u = {};
    s && (o = Jm.filter(o, function (t) {
            return t !== s && t !== l
        }));
    var h = t_(e, o);
    Jm.forEach(h, function (n) {
        if (e.children(n.v).length) {
            var o = t(e, n.v, i, r);
            u[n.v] = o,
            Jm.has(o, "barycenter") && (a = n, s = o, Jm.isUndefined(a.barycenter) ? (a.barycenter = s.barycenter, a.weight = s.weight) : (a.barycenter = (a.barycenter * a.weight + s.barycenter * s.weight) / (a.weight + s.weight), a.weight += s.weight))
        }
        var a,
        s
    });
    var c = e_(h, i);
    !function (t, e) {
        Jm.forEach(t, function (t) {
            t.vs = Jm.flatten(t.vs.map(function (t) {
                        return e[t] ? e[t].vs : t
                    }), !0)
        })
    }
    (c, u);
    var f = n_(c, r);
    if (s && (f.vs = Jm.flatten([s, f.vs, l], !0), e.predecessors(s).length)) {
        var d = e.node(e.predecessors(s)[0]),
        p = e.node(e.predecessors(l)[0]);
        Jm.has(f, "barycenter") || (f.barycenter = 0, f.weight = 0),
        f.barycenter = (f.barycenter * f.weight + d.order + p.order) / (f.weight + 2),
        f.weight += 2
    }
    return f
};
var o_ = Qm.Graph,
a_ = function (t, e, n) {
    var i = function (t) {
        var e;
        for (; t.hasNode(e = Jm.uniqueId("_root")); );
        return e
    }
    (t),
    r = new o_({
        compound: !0
    }).setGraph({
        root: i
    }).setDefaultNodeLabel(function (e) {
        return t.node(e)
    });
    return Jm.forEach(t.nodes(), function (o) {
        var a = t.node(o),
        s = t.parent(o);
        (a.rank === e || a.minRank <= e && e <= a.maxRank) && (r.setNode(o), r.setParent(o, s || i), Jm.forEach(t[n](o), function (e) {
                var n = e.v === o ? e.w : e.v,
                i = r.edge(n, o),
                a = Jm.isUndefined(i) ? 0 : i.weight;
                r.setEdge(n, o, {
                    weight: t.edge(e).weight + a
                })
            }), Jm.has(a, "minRank") && r.setNode(o, {
                borderLeft: a.borderLeft[e],
                borderRight: a.borderRight[e]
            }))
    }),
    r
};
var s_ = function (t, e, n) {
    var i,
    r = {};
    Jm.forEach(n, function (n) {
        for (var o, a, s = t.parent(n); s; ) {
            if ((o = t.parent(s)) ? (a = r[o], r[o] = s) : (a = i, i = s), a && a !== s)
                return void e.setEdge(a, s);
            s = o
        }
    })
};
var l_ = Qm.Graph,
u_ = function (t) {
    var e = cx.maxRank(t),
    n = h_(t, Jm.range(1, e + 1), "inEdges"),
    i = h_(t, Jm.range(e - 1, -1, -1), "outEdges"),
    r = Kx(t);
    f_(t, r);
    for (var o, a = Number.POSITIVE_INFINITY, s = 0, l = 0; l < 4; ++s, ++l) {
        c_(s % 2 ? n : i, s % 4 >= 2),
        r = cx.buildLayerMatrix(t);
        var u = Qx(t, r);
        u < a && (l = 0, o = Jm.cloneDeep(r), a = u)
    }
    f_(t, o)
};
function h_(t, e, n) {
    return Jm.map(e, function (e) {
        return a_(t, e, n)
    })
}
function c_(t, e) {
    var n = new l_;
    Jm.forEach(t, function (t) {
        var i = t.graph().root,
        r = r_(t, i, n, e);
        Jm.forEach(r.vs, function (e, n) {
            t.node(e).order = n
        }),
        s_(t, n, r.vs)
    })
}
function f_(t, e) {
    Jm.forEach(e, function (e) {
        Jm.forEach(e, function (e, n) {
            t.node(e).order = n
        })
    })
}
var d_ = Qm.Graph;
function p_(t, e) {
    var n = {};
    return Jm.reduce(e, function (e, i) {
        var r = 0,
        o = 0,
        a = e.length,
        s = Jm.last(i);
        return Jm.forEach(i, function (e, l) {
            var u = function (t, e) {
                if (t.node(e).dummy)
                    return Jm.find(t.predecessors(e), function (e) {
                        return t.node(e).dummy
                    })
            }
            (t, e),
            h = u ? t.node(u).order : a;
            (u || e === s) && (Jm.forEach(i.slice(o, l + 1), function (e) {
                    Jm.forEach(t.predecessors(e), function (i) {
                        var o = t.node(i),
                        a = o.order;
                        !(a < r || h < a) || o.dummy && t.node(e).dummy || v_(n, i, e)
                    })
                }), o = l + 1, r = h)
        }),
        i
    }),
    n
}
function g_(t, e) {
    var n = {};
    function i(e, i, r, o, a) {
        var s;
        Jm.forEach(Jm.range(i, r), function (i) {
            s = e[i],
            t.node(s).dummy && Jm.forEach(t.predecessors(s), function (e) {
                var i = t.node(e);
                i.dummy && (i.order < o || i.order > a) && v_(n, e, s)
            })
        })
    }
    return Jm.reduce(e, function (e, n) {
        var r,
        o = -1,
        a = 0;
        return Jm.forEach(n, function (s, l) {
            if ("border" === t.node(s).dummy) {
                var u = t.predecessors(s);
                u.length && (r = t.node(u[0]).order, i(n, a, l, o, r), a = l, o = r)
            }
            i(n, a, n.length, r, e.length)
        }),
        n
    }),
    n
}
function v_(t, e, n) {
    if (e > n) {
        var i = e;
        e = n,
        n = i
    }
    var r = t[e];
    r || (t[e] = r = {}),
    r[n] = !0
}
function y_(t, e, n) {
    if (e > n) {
        var i = e;
        e = n,
        n = i
    }
    return Jm.has(t[e], n)
}
function m_(t, e, n, i) {
    var r = {},
    o = {},
    a = {};
    return Jm.forEach(e, function (t) {
        Jm.forEach(t, function (t, e) {
            r[t] = t,
            o[t] = t,
            a[t] = e
        })
    }),
    Jm.forEach(e, function (t) {
        var e = -1;
        Jm.forEach(t, function (t) {
            var s = i(t);
            if (s.length)
                for (var l = ((s = Jm.sortBy(s, function (t) {
                                return a[t]
                            })).length - 1) / 2, u = Math.floor(l), h = Math.ceil(l); u <= h; ++u) {
                    var c = s[u];
                    o[t] === t && e < a[c] && !y_(n, t, c) && (o[c] = t, o[t] = r[t] = r[c], e = a[c])
                }
        })
    }), {
        root: r,
        align: o
    }
}
function x_(t, e, n, i, r) {
    var o = {},
    a = function (t, e, n, i) {
        var r = new d_,
        o = t.graph(),
        a = function (t, e, n) {
            return function (i, r, o) {
                var a,
                s = i.node(r),
                l = i.node(o),
                u = 0;
                if (u += s.width / 2, Jm.has(s, "labelpos"))
                    switch (s.labelpos.toLowerCase()) {
                    case "l":
                        a = -s.width / 2;
                        break;
                    case "r":
                        a = s.width / 2
                    }
                if (a && (u += n ? a : -a), a = 0, u += (s.dummy ? e : t) / 2, u += (l.dummy ? e : t) / 2, u += l.width / 2, Jm.has(l, "labelpos"))
                    switch (l.labelpos.toLowerCase()) {
                    case "l":
                        a = l.width / 2;
                        break;
                    case "r":
                        a = -l.width / 2
                    }
                return a && (u += n ? a : -a),
                a = 0,
                u
            }
        }
        (o.nodesep, o.edgesep, i);
        return Jm.forEach(e, function (e) {
            var i;
            Jm.forEach(e, function (e) {
                var o = n[e];
                if (r.setNode(o), i) {
                    var s = n[i],
                    l = r.edge(s, o);
                    r.setEdge(s, o, Math.max(a(t, e, i), l || 0))
                }
                i = e
            })
        }),
        r
    }
    (t, e, n, r),
    s = r ? "borderLeft" : "borderRight";
    function l(t, e) {
        for (var n = a.nodes(), i = n.pop(), r = {}; i; )
            r[i] ? t(i) : (r[i] = !0, n.push(i), n = n.concat(e(i))), i = n.pop()
    }
    return l(function (t) {
        o[t] = a.inEdges(t).reduce(function (t, e) {
            return Math.max(t, o[e.v] + a.edge(e))
        }, 0)
    }, Jm.bind(a.predecessors, a)),
    l(function (e) {
        var n = a.outEdges(e).reduce(function (t, e) {
            return Math.min(t, o[e.w] - a.edge(e))
        }, Number.POSITIVE_INFINITY),
        i = t.node(e);
        n !== Number.POSITIVE_INFINITY && i.borderType !== s && (o[e] = Math.max(o[e], n))
    }, Jm.bind(a.successors, a)),
    Jm.forEach(i, function (t) {
        o[t] = o[n[t]]
    }),
    o
}
function __(t, e) {
    return Jm.minBy(Jm.values(e), function (e) {
        var n = Number.NEGATIVE_INFINITY,
        i = Number.POSITIVE_INFINITY;
        return Jm.forIn(e, function (e, r) {
            var o = function (t, e) {
                return t.node(e).width
            }
            (t, r) / 2;
            n = Math.max(e + o, n),
            i = Math.min(e - o, i)
        }),
        n - i
    })
}
function w_(t, e) {
    var n = Jm.values(e),
    i = Jm.min(n),
    r = Jm.max(n);
    Jm.forEach(["u", "d"], function (n) {
        Jm.forEach(["l", "r"], function (o) {
            var a,
            s = n + o,
            l = t[s];
            if (l !== e) {
                var u = Jm.values(l);
                (a = "l" === o ? i - Jm.min(u) : r - Jm.max(u)) && (t[s] = Jm.mapValues(l, function (t) {
                        return t + a
                    }))
            }
        })
    })
}
function b_(t, e) {
    return Jm.mapValues(t.ul, function (n, i) {
        if (e)
            return t[e.toLowerCase()][i];
        var r = Jm.sortBy(Jm.map(t, i));
        return (r[1] + r[2]) / 2
    })
}
var S_ = function (t) {
    var e,
    n = cx.buildLayerMatrix(t),
    i = Jm.merge(p_(t, n), g_(t, n)),
    r = {};
    Jm.forEach(["u", "d"], function (o) {
        e = "u" === o ? n : Jm.values(n).reverse(),
        Jm.forEach(["l", "r"], function (n) {
            "r" === n && (e = Jm.map(e, function (t) {
                    return Jm.values(t).reverse()
                }));
            var a = Jm.bind("u" === o ? t.predecessors : t.successors, t),
            s = m_(t, e, i, a),
            l = x_(t, e, s.root, s.align, "r" === n);
            "r" === n && (l = Jm.mapValues(l, function (t) {
                    return -t
                })),
            r[o + n] = l
        })
    });
    var o = __(t, r);
    return w_(r, o),
    b_(r, t.graph().align)
},
k_ = function (t) {
    (function (t) {
        var e = cx.buildLayerMatrix(t),
        n = t.graph().ranksep,
        i = 0;
        Jm.forEach(e, function (e) {
            var r = Jm.max(Jm.map(e, function (e) {
                        return t.node(e).height
                    }));
            Jm.forEach(e, function (e) {
                t.node(e).y = i + r / 2
            }),
            i += r + n
        })
    })(t = cx.asNonCompoundGraph(t)),
    Jm.forEach(S_(t), function (e, n) {
        t.node(n).x = e
    })
};
var M_ = cx.normalizeRanks,
I_ = cx.removeEmptyRanks,
A_ = cx,
T_ = Qm.Graph,
C_ = function (t, e) {
    var n = e && e.debugTiming ? A_.time : A_.notime;
    n("layout", function () {
        var e = n("  buildLayoutGraph", function () {
            return function (t) {
                var e = new T_({
                    multigraph: !0,
                    compound: !0
                }),
                n = B_(t.graph());
                return e.setGraph(Jm.merge({}, E_, R_(n, z_), Jm.pick(n, L_))),
                Jm.forEach(t.nodes(), function (n) {
                    var i = B_(t.node(n));
                    e.setNode(n, Jm.defaults(R_(i, D_), O_)),
                    e.setParent(n, t.parent(n))
                }),
                Jm.forEach(t.edges(), function (n) {
                    var i = B_(t.edge(n));
                    e.setEdge(n, Jm.merge({}, F_, R_(i, P_), Jm.pick(i, N_)))
                }),
                e
            }
            (t)
        });
        n("  runLayout", function () {
            !function (t, e) {
                e("    makeSpaceForEdgeLabels", function () {
                    !function (t) {
                        var e = t.graph();
                        e.ranksep /= 2,
                        Jm.forEach(t.edges(), function (n) {
                            var i = t.edge(n);
                            i.minlen *= 2,
                            "c" !== i.labelpos.toLowerCase() && ("TB" === e.rankdir || "BT" === e.rankdir ? i.width += i.labeloffset : i.height += i.labeloffset)
                        })
                    }
                    (t)
                }),
                e("    removeSelfEdges", function () {
                    !function (t) {
                        Jm.forEach(t.edges(), function (e) {
                            if (e.v === e.w) {
                                var n = t.node(e.v);
                                n.selfEdges || (n.selfEdges = []),
                                n.selfEdges.push({
                                    e: e,
                                    label: t.edge(e)
                                }),
                                t.removeEdge(e)
                            }
                        })
                    }
                    (t)
                }),
                e("    acyclic", function () {
                    ux.run(t)
                }),
                e("    nestingGraph.run", function () {
                    jx.run(t)
                }),
                e("    rank", function () {
                    Bx(A_.asNonCompoundGraph(t))
                }),
                e("    injectEdgeLabelProxies", function () {
                    !function (t) {
                        Jm.forEach(t.edges(), function (e) {
                            var n = t.edge(e);
                            if (n.width && n.height) {
                                var i = t.node(e.v),
                                r = t.node(e.w),
                                o = {
                                    rank: (r.rank - i.rank) / 2 + i.rank,
                                    e: e
                                };
                                A_.addDummyNode(t, "edge-proxy", o, "_ep")
                            }
                        })
                    }
                    (t)
                }),
                e("    removeEmptyRanks", function () {
                    I_(t)
                }),
                e("    nestingGraph.cleanup", function () {
                    jx.cleanup(t)
                }),
                e("    normalizeRanks", function () {
                    M_(t)
                }),
                e("    assignRankMinMax", function () {
                    !function (t) {
                        var e = 0;
                        Jm.forEach(t.nodes(), function (n) {
                            var i = t.node(n);
                            i.borderTop && (i.minRank = t.node(i.borderTop).rank, i.maxRank = t.node(i.borderBottom).rank, e = Jm.max(e, i.maxRank))
                        }),
                        t.graph().maxRank = e
                    }
                    (t)
                }),
                e("    removeEdgeLabelProxies", function () {
                    !function (t) {
                        Jm.forEach(t.nodes(), function (e) {
                            var n = t.node(e);
                            "edge-proxy" === n.dummy && (t.edge(n.e).labelRank = n.rank, t.removeNode(e))
                        })
                    }
                    (t)
                }),
                e("    normalize.run", function () {
                    px.run(t)
                }),
                e("    parentDummyChains", function () {
                    Hx(t)
                }),
                e("    addBorderSegments", function () {
                    Ux(t)
                }),
                e("    order", function () {
                    u_(t)
                }),
                e("    insertSelfEdges", function () {
                    !function (t) {
                        var e = A_.buildLayerMatrix(t);
                        Jm.forEach(e, function (e) {
                            var n = 0;
                            Jm.forEach(e, function (e, i) {
                                var r = t.node(e);
                                r.order = i + n,
                                Jm.forEach(r.selfEdges, function (e) {
                                    A_.addDummyNode(t, "selfedge", {
                                        width: e.label.width,
                                        height: e.label.height,
                                        rank: r.rank,
                                        order: i + ++n,
                                        e: e.e,
                                        label: e.label
                                    }, "_se")
                                }),
                                delete r.selfEdges
                            })
                        })
                    }
                    (t)
                }),
                e("    adjustCoordinateSystem", function () {
                    Yx.adjust(t)
                }),
                e("    position", function () {
                    k_(t)
                }),
                e("    positionSelfEdges", function () {
                    !function (t) {
                        Jm.forEach(t.nodes(), function (e) {
                            var n = t.node(e);
                            if ("selfedge" === n.dummy) {
                                var i = t.node(n.e.v),
                                r = i.x + i.width / 2,
                                o = i.y,
                                a = n.x - r,
                                s = i.height / 2;
                                t.setEdge(n.e, n.label),
                                t.removeNode(e),
                                n.label.points = [{
                                        x: r + 2 * a / 3,
                                        y: o - s
                                    }, {
                                        x: r + 5 * a / 6,
                                        y: o - s
                                    }, {
                                        x: r + a,
                                        y: o
                                    }, {
                                        x: r + 5 * a / 6,
                                        y: o + s
                                    }, {
                                        x: r + 2 * a / 3,
                                        y: o + s
                                    }
                                ],
                                n.label.x = n.x,
                                n.label.y = n.y
                            }
                        })
                    }
                    (t)
                }),
                e("    removeBorderNodes", function () {
                    !function (t) {
                        Jm.forEach(t.nodes(), function (e) {
                            if (t.children(e).length) {
                                var n = t.node(e),
                                i = t.node(n.borderTop),
                                r = t.node(n.borderBottom),
                                o = t.node(Jm.last(n.borderLeft)),
                                a = t.node(Jm.last(n.borderRight));
                                n.width = Math.abs(a.x - o.x),
                                n.height = Math.abs(r.y - i.y),
                                n.x = o.x + n.width / 2,
                                n.y = i.y + n.height / 2
                            }
                        }),
                        Jm.forEach(t.nodes(), function (e) {
                            "border" === t.node(e).dummy && t.removeNode(e)
                        })
                    }
                    (t)
                }),
                e("    normalize.undo", function () {
                    px.undo(t)
                }),
                e("    fixupEdgeLabelCoords", function () {
                    !function (t) {
                        Jm.forEach(t.edges(), function (e) {
                            var n = t.edge(e);
                            if (Jm.has(n, "x"))
                                switch ("l" !== n.labelpos && "r" !== n.labelpos || (n.width -= n.labeloffset), n.labelpos) {
                                case "l":
                                    n.x -= n.width / 2 + n.labeloffset;
                                    break;
                                case "r":
                                    n.x += n.width / 2 + n.labeloffset
                                }
                        })
                    }
                    (t)
                }),
                e("    undoCoordinateSystem", function () {
                    Yx.undo(t)
                }),
                e("    translateGraph", function () {
                    !function (t) {
                        var e = Number.POSITIVE_INFINITY,
                        n = 0,
                        i = Number.POSITIVE_INFINITY,
                        r = 0,
                        o = t.graph(),
                        a = o.marginx || 0,
                        s = o.marginy || 0;
                        function l(t) {
                            var o = t.x,
                            a = t.y,
                            s = t.width,
                            l = t.height;
                            e = Math.min(e, o - s / 2),
                            n = Math.max(n, o + s / 2),
                            i = Math.min(i, a - l / 2),
                            r = Math.max(r, a + l / 2)
                        }
                        Jm.forEach(t.nodes(), function (e) {
                            l(t.node(e))
                        }),
                        Jm.forEach(t.edges(), function (e) {
                            var n = t.edge(e);
                            Jm.has(n, "x") && l(n)
                        }),
                        e -= a,
                        i -= s,
                        Jm.forEach(t.nodes(), function (n) {
                            var r = t.node(n);
                            r.x -= e,
                            r.y -= i
                        }),
                        Jm.forEach(t.edges(), function (n) {
                            var r = t.edge(n);
                            Jm.forEach(r.points, function (t) {
                                t.x -= e,
                                t.y -= i
                            }),
                            Jm.has(r, "x") && (r.x -= e),
                            Jm.has(r, "y") && (r.y -= i)
                        }),
                        o.width = n - e + a,
                        o.height = r - i + s
                    }
                    (t)
                }),
                e("    assignNodeIntersects", function () {
                    !function (t) {
                        Jm.forEach(t.edges(), function (e) {
                            var n,
                            i,
                            r = t.edge(e),
                            o = t.node(e.v),
                            a = t.node(e.w);
                            r.points ? (n = r.points[0], i = r.points[r.points.length - 1]) : (r.points = [], n = a, i = o),
                            r.points.unshift(A_.intersectRect(o, n)),
                            r.points.push(A_.intersectRect(a, i))
                        })
                    }
                    (t)
                }),
                e("    reversePoints", function () {
                    !function (t) {
                        Jm.forEach(t.edges(), function (e) {
                            var n = t.edge(e);
                            n.reversed && n.points.reverse()
                        })
                    }
                    (t)
                }),
                e("    acyclic.undo", function () {
                    ux.undo(t)
                })
            }
            (e, n)
        }),
        n("  updateInputGraph", function () {
            !function (t, e) {
                Jm.forEach(t.nodes(), function (n) {
                    var i = t.node(n),
                    r = e.node(n);
                    i && (i.x = r.x, i.y = r.y, e.children(n).length && (i.width = r.width, i.height = r.height))
                }),
                Jm.forEach(t.edges(), function (n) {
                    var i = t.edge(n),
                    r = e.edge(n);
                    i.points = r.points,
                    Jm.has(r, "x") && (i.x = r.x, i.y = r.y)
                }),
                t.graph().width = e.graph().width,
                t.graph().height = e.graph().height
            }
            (t, e)
        })
    })
};
var z_ = ["nodesep", "edgesep", "ranksep", "marginx", "marginy"],
E_ = {
    ranksep: 50,
    edgesep: 20,
    nodesep: 50,
    rankdir: "tb"
},
L_ = ["acyclicer", "ranker", "rankdir", "align"],
D_ = ["width", "height"],
O_ = {
    width: 0,
    height: 0
},
P_ = ["minlen", "weight", "width", "height", "labeloffset"],
F_ = {
    minlen: 1,
    weight: 1,
    width: 0,
    height: 0,
    labeloffset: 10,
    labelpos: "r"
},
N_ = ["labelpos"];
function R_(t, e) {
    return Jm.mapValues(Jm.pick(t, e), Number)
}
function B_(t) {
    var e = {};
    return Jm.forEach(t, function (t, n) {
        e[n.toLowerCase()] = t
    }),
    e
}
var W_ = Qm.Graph;
var G_ = {
    graphlib: Qm,
    layout: C_,
    debug: {
        debugOrdering: function (t) {
            var e = cx.buildLayerMatrix(t),
            n = new W_({
                compound: !0,
                multigraph: !0
            }).setGraph({});
            return Jm.forEach(t.nodes(), function (e) {
                n.setNode(e, {
                    label: e
                }),
                n.setParent(e, "layer" + t.node(e).rank)
            }),
            Jm.forEach(t.edges(), function (t) {
                n.setEdge(t.v, t.w, {}, t.name)
            }),
            Jm.forEach(e, function (t, e) {
                var i = "layer" + e;
                n.setNode(i, {
                    rank: "same"
                }),
                Jm.reduce(t, function (t, e) {
                    return n.setEdge(t, e, {
                        style: "invis"
                    }),
                    e
                })
            }),
            n
        }
    },
    util: {
        time: cx.time,
        notime: cx.notime
    },
    version: "0.8.3-pre"
},
H_ = void 0,
j_ = void 0,
U_ = function (t) {
    function e() {
        var n,
        i;
        o(this, e);
        for (var r = arguments.length, a = Array(r), s = 0; s < r; s++)
            a[s] = arguments[s];
        return n = i = u(this, t.call.apply(t, [this].concat(a))),
        i.type = mm,
        u(i, n)
    }
    return s(e, t),
    e.prototype.render = function (t, e, n) {
        var i = this,
        r = t.getData(),
        o = t.get("node"),
        s = t.get("link"),
        l = new G_.graphlib.Graph({
            multigraph: !0,
            directed: !0,
            compound: !0
        }),
        u = t.get("draggable");
        l.setGraph({
            ranksep: o.rankStep
        }),
        l.setDefaultEdgeLabel(function () {
            return {}
        });
        var h = r.nodes;
        o.entireLabel ? D(h, function (t) {
            if (t.data && q_(t.data.name) / 2 > 7 && 1 === t.data.category) {
                var e = t.data.name.slice(0, 7) + "...";
                l.setNode(t.data.id, {
                    label: t.data.category,
                    width: o.shape.width,
                    height: o.shape.height,
                    newName: e,
                    isClick: !0
                })
            } else {
                var n = escape(t.data.name).indexOf("%u"),
                i = q_(t.data.name) / 2;
                if (i > 7)
                    if (-1 === n) {
                        var r = Math.ceil(i / 2) * o.style.normal.fontSize;
                        l.setNode(t.data.id, {
                            label: t.data.category,
                            width: r,
                            height: o.shape.height,
                            newName: t.data.name,
                            isClick: !1
                        })
                    } else {
                        var a = Math.ceil(i / 2),
                        s = new RegExp(".{" + 2 * a + "}?", "g"),
                        u = t.data.name.replace(/[^\x00-\xff]/g, "$&").replace(s, "$&\n").replace(/\x01/g, "");
                        l.setNode(t.data.id, {
                            label: t.data.category,
                            width: o.shape.width,
                            height: o.shape.height,
                            newName: u,
                            isClick: !1
                        })
                    }
                else {
                    var h = i * o.style.normal.fontSize + 50;
                    l.setNode(t.data.id, {
                        label: t.data.category,
                        width: h,
                        height: o.shape.height,
                        newName: t.data.name,
                        isClick: !1
                    })
                }
            }
        }) : D(h, function (t) {
            if (t.data && t.data.name.length > 4) {
                var e = t.data.name.slice(0, 4) + "...";
                l.setNode(t.data.id, {
                    label: t.data.category,
                    width: o.shape.width,
                    height: o.shape.height,
                    newName: e,
                    isClick: !0
                })
            } else
                l.setNode(t.data.id, {
                    label: t.data.category,
                    width: o.shape.width,
                    height: o.shape.height,
                    newName: t.data.name,
                    isClick: !0
                })
        }),
        this.maxCategory = Ul(h, function (t) {
            return t.data.category
        }),
        this.minCategory = Yl(h, function (t) {
            return t.data.category
        }),
        this.categoryArr = h.map(function (t) {
            return t.data.category
        });
        var c = r.edges,
        f = Ul(c, function (t) {
            return t.data.weight
        });
        D(c, function (t) {
            var e = void 0;
            e = t.data ? "text" === s.label.type ? s.lineWidth[0] : t.data.weight ? t.data.weight / f : s.lineWidth[0] : .5,
            l.setEdge(t.data.source, t.data.target, {
                lineWidth: e,
                label: t.data.weight
            })
        }),
        G_.layout(l),
        H_ = n.getWidth(),
        j_ = n.getHeight(),
        this.offsetWidth = H_ - l.graph().width,
        this.offsetHeight = j_ - l.graph().height;
        var d = [],
        p = function (t, e) {
            if (o.entireLabel) {
                if (1 === e.data.category)
                    return t;
                return e.data.name.length > 7 ? Math.ceil(e.data.name.length / 2) * o.style.normal.fontSize + 50 : e.data.name.length * o.style.normal.fontSize + 50
            }
            return t
        };
        D(l.nodes(), function (e, n) {
            var r = l.node(e),
            s = r.x + i.offsetWidth / 2,
            u = r.y + i.offsetHeight / 2;
            d.push({
                shape: {
                    x: s,
                    y: u,
                    width: p(o.shape.width, h[n]),
                    height: function (t, e) {
                        if (o.entireLabel) {
                            var n = escape(e.data.name).indexOf("%u");
                            return 1 === e.data.category ? t : -1 === n ? t : e.data.name.length > 7 ? t + o.style.normal.fontSize : t
                        }
                        return t
                    }
                    (o.shape.height, h[n]),
                    r: function (t, e) {
                        if (o.entireLabel) {
                            var n = escape(e.data.name).indexOf("%u");
                            return 1 === e.data.category ? t : -1 === n ? e.data.name.length > 14 ? t + o.style.normal.fontSize / 2 : t : e.data.name.length > 7 ? t + o.style.normal.fontSize / 2 : t
                        }
                        return t
                    }
                    (o.shape.r, h[n])
                },
                style: a({}, o.style.normal, {
                    fill: function (t) {
                        return t.label === i.maxCategory ? o.style.normal.colors.end : t.label === i.minCategory ? o.style.normal.colors.origin : o.style.normal.colors.process
                    }
                    (r)
                }),
                position: [-p(o.shape.width, h[n]) / 2, -o.shape.height / 2],
                z: t.get("z"),
                z2: 900,
                nodeKey: e,
                nodeName: h[n].data.name,
                nodeData: h[n],
                nodeLabel: r.newName,
                isClick: r.isClick
            }),
            i.setShape(e, vo, {
                style: {
                    text: r.newName,
                    fontSize: o.style.normal.fontSize,
                    textFill: o.style.normal.textFill,
                    textAlign: "center"
                },
                position: [s, u - o.style.normal.fontSize / 2],
                z: t.get("z"),
                z2: 901,
                silent: !0
            })
        });
        var g = t.get("limited");
        (function (t, e) {
            this.group.scale = [1, 1],
            this.group.position = [0, 0];
            var n = this.group.getBoundingRect(),
            i = n.width / H_,
            r = n.height / j_,
            o = (1 / (1.1 * Math.max(i, r)) - 1) / .1,
            a = void 0;
            a = e ? Math.min(o, -1) : o;
            var s = H_ / 2,
            l = j_ / 2;
            t.option.isTop && (l = 0, this.group.position[1] = 10 - n.y);
            this.scale(s, l, a)
        }).call(this, t, g),
        this.edgeOffsetX =  - (H_ - l.graph().width) / 2,
        this.edgeOffsetY =  - (j_ - l.graph().height) / 2,
        this.setShapeGroup("nodes", Co, d, void 0, void 0, function (e, a) {
            var s = !1,
            h = .8 * e.shape.height,
            c = void 0,
            f = !1;
            e.on("mousedown", function (r) {
                r.offsetX,
                r.offsetY;
                s = !0,
                f = !f,
                c = i.getShape(e.nodeKey),
                n.dispatchAction(t, es.nodeClick, e.nodeData);
                var a = Math.ceil(q_(e.nodeName) / 2) + .5;
                if (a > 7 && e.isClick)
                    if (f) {
                        c.setStyle("text", e.nodeName),
                        c.attr("z2", 1501);
                        var l = (a + 1.5) * o.style.normal.fontSize;
                        e.setShape("width", l);
                        o.style.normal.fontSize;
                        if (e.attr("position", [-l / 2, -o.shape.height / 2]), escape(e.nodeName).indexOf("%u")) {
                            var u = (a / 2 + 2) * o.style.normal.fontSize;
                            e.setShape("width", u);
                            var h = (a / 2 - 7) * o.style.normal.fontSize / 2;
                            e.attr("position", [-o.shape.width / 2 - h, -o.shape.height / 2])
                        }
                        e.attr("z2", 1500)
                    } else
                        c.setStyle("text", e.nodeLabel), c.attr("z2", 901), e.setShape("width", o.shape.width), e.attr("position", [-o.shape.width / 2, -o.shape.height / 2]), e.attr("z2", 900)
            }),
            n.on("mousemove", function (a) {
                var f = a.offsetX,
                d = a.offsetY;
                if (!0 === s && u) {
                    var p = i.group.transformCoordToLocal(f, d);
                    e.setShape("x", p[0]),
                    e.setShape("y", p[1]),
                    c.attr("position", [p[0], p[1] - o.style.normal.fontSize / 2]),
                    D(l.nodeEdges(e.nodeKey), function (t) {
                        var n = l.edge(t).points;
                        if (e.nodeKey === t.w) {
                            var r = [p[0] + i.edgeOffsetX, p[1] + i.edgeOffsetY],
                            o = n[n.length - 2],
                            a = Math.sqrt(Math.pow(r[0] - o.x, 2) + Math.pow(r[1] - o.y, 2)),
                            s = (a - h) / a,
                            u = o.x + (r[0] - o.x) * s,
                            c = o.y + (r[1] - o.y) * s;
                            l.setEdge(t.v, t.w, {
                                lineWidth: l.edge(t).lineWidth,
                                label: l.edge(t).label,
                                points: n.map(function (t, e) {
                                    return e > n.length - 2 ? {
                                        x: u,
                                        y: c
                                    }
                                     : t
                                })
                            })
                        } else
                            e.nodeKey === t.v && l.setEdge(t.v, t.w, {
                                lineWidth: l.edge(t).lineWidth,
                                label: l.edge(t).label,
                                points: n.map(function (t, e) {
                                    return e < 1 ? {
                                        x: p[0] + i.edgeOffsetX,
                                        y: p[1] + i.edgeOffsetY
                                    }
                                     : t
                                })
                            })
                    }),
                    Y_.call(i, t, n, l, i.offsetWidth, i.offsetHeight, r.edges)
                }
            }),
            n.on("mouseup", function () {
                s = !1
            })
        }),
        D(l.edges(), function (t, e) {
            var n,
            r,
            o,
            a = l.edge(t).points;
            if ((n = i.categoryArr, r = [], o = {}, D(n, function (t) {
                        o[t] || (r.push(t), o[t] = 1)
                    }), r).length < 3)
                3 === a.length && a.splice(1, 1);
            else {
                !function t() {
                    if (a.length > 2)
                        for (var e = 0; e < a.length - 1; e += 1)
                            e < a.length - 2 && a[e].x === a[e + 1].x && a[e + 1].x === a[e + 2].x && (a.splice(e + 1, 1), t())
                }
                ()
            }
        }),
        Y_.call(this, t, n, l, this.offsetWidth, this.offsetHeight, r.edges)
    },
    e
}
(cs);
function q_(t) {
    for (var e = 0, n = 0; n < t.length; n++) {
        var i = t.charCodeAt(n);
        i >= 1 && i <= 126 || 65376 <= i && i <= 65439 ? e++ : e += 2
    }
    return e
}
function Y_(t, e, n, i, r, o) {
    var s = this,
    l = t.get("link"),
    u = t.get("roam"),
    h = [],
    c = [],
    f = [];
    D(n.edges(), function (e, i) {
        var r,
        u = Math.max(l.lineWidth[0], n.edge(e).lineWidth * l.lineWidth[1]),
        d = n.edge(e).points,
        p = [d[d.length - 2].x + s.offsetWidth / 2, d[d.length - 2].y + s.offsetHeight / 2],
        g = [d[d.length - 1].x + s.offsetWidth / 2, d[d.length - 1].y + s.offsetHeight / 2],
        v = Math.max(l.arrowSize[0], n.edge(e).lineWidth * l.arrowSize[1]),
        y = Math.sqrt(Math.pow(g[0] - p[0], 2) + Math.pow(g[1] - p[1], 2)),
        m = (y - v) / y,
        x = d.map(function (t, e) {
            return e < d.length - 1 ? [t.x + s.offsetWidth / 2, t.y + s.offsetHeight / 2] : [p[0] + (g[0] - p[0]) * m, p[1] + (g[1] - p[1]) * m]
        });
        h.push({
            shape: {
                points: x
            },
            style: a({}, l.style.normal, {
                stroke: function (t) {
                    return t.label ? l.style.normal.dashFill : l.style.normal.stroke
                }
                (o[i].data),
                lineWidth: u,
                lineDash: (r = o[i].data.label, r ? [5, 5] : [0, 0])
            }),
            edgeData: o[i],
            z: t.get("z"),
            z2: 880
        });
        var _ = void 0;
        g[1] - p[1] >= 0 ? _ = Math.asin((g[0] - p[0]) / y) : g[1] - p[1] < 0 && g[0] - p[0] < 0 ? _ = -Math.PI / 2 + Math.asin((g[1] - p[1]) / y) : g[1] - p[1] < 0 && g[0] - p[0] >= 0 && (_ = Math.PI / 2 + Math.asin((p[1] - g[1]) / y)),
        c.push({
            shape: {
                points: [g, [g[0] + v, g[1] - v], [g[0] - v, g[1] - v]]
            },
            style: {
                fill: function (t) {
                    return t ? null : l.style.normal.stroke
                }
                (o[i].data.label)
            },
            z: t.get("z"),
            z2: 880,
            rotation: _,
            origin: g
        }),
        f.push({
            style: {
                text: function (t, e) {
                    return "text" === l.label.type ? e : t.weight ? t.weight + "%" : t.label ? t.label : ""
                }
                (o[i].data, n.edge(e).label),
                fontSize: l.label.fontSize,
                textFill: l.label.textFill,
                textAlign: "center"
            },
            position: function (t) {
                if (t.length > 2) {
                    for (var e = void 0, n = void 0, i = 0; i < t.length; i += 1)
                        e = (t[t.length - 3][0] + t[t.length - 2][0]) / 2, n = (t[t.length - 3][1] + t[t.length - 2][1]) / 2;
                    return [e, n]
                }
                return [(t[0][0] + t[1][0]) / 2, (t[0][1] + t[1][1]) / 2]
            }
            (x),
            z: t.get("z"),
            z2: 882,
            silent: !0
        })
    }),
    this.setShapeGroup("edges", Mo, h, void 0, void 0, function (n) {
        u.enable || (n.cursor = "default"),
        n.on("mousedown", function () {
            e.dispatchAction(t, es.linkClick, n.edgeData)
        })
    }),
    this.setShapeGroup("arrows", ko, c),
    this.setShapeGroup("edgeLabel", vo, f)
}
function V_(t, e, n) {
    t._context.bezierCurveTo((2 * t._x0 + t._x1) / 3, (2 * t._y0 + t._y1) / 3, (t._x0 + 2 * t._x1) / 3, (t._y0 + 2 * t._y1) / 3, (t._x0 + 4 * t._x1 + e) / 6, (t._y0 + 4 * t._y1 + n) / 6)
}
function $_(t) {
    this._context = t
}
function X_(t) {
    return new $_(t)
}
U_.type = mm,
dl(xm, U_),
$_.prototype = {
    areaStart: function () {
        this._line = 0
    },
    areaEnd: function () {
        this._line = NaN
    },
    lineStart: function () {
        this._x0 = this._x1 = this._y0 = this._y1 = NaN,
        this._point = 0
    },
    lineEnd: function () {
        switch (this._point) {
        case 3:
            V_(this, this._x1, this._y1);
        case 2:
            this._context.lineTo(this._x1, this._y1)
        }
        (this._line || 0 !== this._line && 1 === this._point) && this._context.closePath(),
        this._line = 1 - this._line
    },
    point: function (t, e) {
        switch (t = +t, e = +e, this._point) {
        case 0:
            this._point = 1,
            this._line ? this._context.lineTo(t, e) : this._context.moveTo(t, e);
            break;
        case 1:
            this._point = 2;
            break;
        case 2:
            this._point = 3,
            this._context.lineTo((5 * this._x0 + this._x1) / 6, (5 * this._y0 + this._y1) / 6);
        default:
            V_(this, t, e)
        }
        this._x0 = this._x1,
        this._x1 = t,
        this._y0 = this._y1,
        this._y1 = e
    }
};
var Z_ = "dagrex",
K_ = function (t) {
    function e() {
        var n,
        i;
        o(this, e);
        for (var r = arguments.length, a = Array(r), s = 0; s < r; s++)
            a[s] = arguments[s];
        return n = i = u(this, t.call.apply(t, [this].concat(a))),
        i.type = Z_,
        u(i, n)
    }
    return s(e, t),
    e
}
(_s);
K_.type = Z_,
K_.defaultOption = {
    zlevel: 0,
    z: 1,
    isTop: !1,
    limited: !0,
    node: {
        rankStep: 80,
        entireLabel: !1,
        shape: {
            width: 80,
            height: 30,
            r: 15
        },
        style: {
            normal: {
                colors: {
                    origin: "rgb(47, 151, 255)",
                    process: "rgba(169, 210, 251)",
                    end: "rgba(43, 87, 194, 1)"
                },
                fontSize: 14,
                textFill: "rgb(255, 255 ,255)",
                stroke: "rgb(47, 151, 255)",
                lineWidth: 1
            }
        }
    },
    link: {
        arrowSize: [3, 6],
        lineWidth: [1, 3],
        label: {
            type: "percent",
            fontSize: 10,
            textFill: "rgb(47, 151, 255)"
        },
        style: {
            normal: {
                stroke: "rgb(47, 151, 255)",
                opacity: .4
            }
        }
    }
};
var Q_ = function (t) {
    function e() {
        var n,
        i;
        o(this, e);
        for (var r = arguments.length, a = Array(r), s = 0; s < r; s++)
            a[s] = arguments[s];
        return n = i = u(this, t.call.apply(t, [this].concat(a))),
        i.type = Z_,
        u(i, n)
    }
    return s(e, t),
    e.prototype.render = function (t, e, n) {
        var i,
        r,
        o = this,
        s = t.getData(),
        l = s.edges,
        u = s.nodes,
        h = (Ul(l, function (t) {
                return t.data.weight
            }), t.get("node")),
        c = t.get("link"),
        f = this.g || new G_.graphlib.Graph({
            multigraph: !0,
            directed: !0,
            compound: !0
        }),
        d = ["click", "mouseover", "mousemove", "mouseout"],
        p = T();
        p.font = c.label.fontSize + "px sans-serif";
        var g = 0;
        u.forEach(function (t) {
            var e = function (t) {
                for (var e = 0, n = 0; n < t.length; n++)
                    t.charAt(n) > "~" ? e += 2 : e++;
                return e
            }
            (t.data.name);
            g < e && (g = e)
        }),
        this.g || (f.setGraph({
                nodesep: isNaN(h.nodesep) ? 4 * g : h.nodesep,
                ranksep: h.rankStep
            }), f.setDefaultEdgeLabel(function () {
                return {}
            }), D(u, function (t) {
                f.setNode(t.data.id, {
                    label: t.data.category,
                    width: h.shape.width + h.style.normal.lineWidth,
                    height: h.shape.height + h.style.normal.lineWidth,
                    newName: t.data.name,
                    group: t.data.group,
                    isRoot: t.data.isRoot,
                    isClick: !0
                })
            }), D(l, function (t) {
                f.setEdge(t.data.source, t.data.target, {
                    label: t.data.weight,
                    group: t.data.group
                })
            }), G_.layout(f), this.g = f),
        i = n.getWidth(),
        r = n.getHeight(),
        this.maxCategory = Ul(u, function (t) {
            return t.data.category
        }),
        this.minCategory = Yl(u, function (t) {
            return t.data.category
        }),
        this.categoryArr = u.map(function (t) {
            return t.data.category
        }),
        this.offsetWidth = i - f.graph().width,
        this.offsetHeight = r - f.graph().height,
        this.onlyShowNodes = this.onlyShowNodes || f.nodes(),
        this.onlyShowEdges = this.onlyShowEdges || f.edges();
        var v = [],
        y = [],
        m = function (t, e) {
            return t
        };
        D(f.nodes(), function (e, n) {
            var i = f.node(e),
            r = i.x + o.offsetWidth / 2,
            s = i.y + o.offsetHeight / 2,
            l = void 0,
            c = void 0,
            d = void 0;
            i.isRoot ? i.isFillHl ? (c = h.style.highlight.solidFill, l = h.style.highlight, d = h.style.highlight.stroke) : i.isFill ? (c = h.style.normal.solidFill, l = h.style.normal, d = h.style.normal.stroke) : (c = h.style.highlight.solidFill, l = h.style.highlight, d = h.style.highlight.stroke) : (i.isFillHl ? (c = h.style.highlight.solidFill, l = h.style.highlight) : i.isFill ? (c = h.style.normal.solidFill, l = h.style.normal) : (c = h.style.normal.fill, l = h.style.normal), d = i.isHl ? h.style.highlight.stroke : h.style.normal.stroke);
            var p,
            g,
            x = 1;
            -1 != o.onlyShowNodes.indexOf(e) || i.isRoot || (x = h.blurOpacity),
            v.push({
                shape: {
                    x: r,
                    y: s,
                    width: m(h.shape.width),
                    height: (g = h.shape.height, g),
                    r: i.isRoot ? 200 : (p = h.shape.r, p)
                },
                style: a({}, l, {
                    opacity: x,
                    fill: c,
                    stroke: d
                }),
                position: [-m(h.shape.width) / 2, -h.shape.height / 2],
                z: t.get("z"),
                z2: 900,
                data: u.filter(function (t) {
                    return t.data.id == e
                }),
                nodeKey: e,
                nodeLabel: i.newName,
                isClick: i.isClick
            }),
            y.push({
                style: {
                    opacity: x,
                    text: i.newName,
                    fontSize: h.style.normal.fontSize,
                    textFill: h.style.normal.textFill,
                    textAlign: "center"
                },
                position: [r, s - h.style.normal.fontSize / 2 + 30],
                z: t.get("z"),
                z2: 901,
                silent: !0
            })
        });
        t.get("limited");
        function x(t, e) {
            for (var n = 0; n < t.length; n++)
                if (e.indexOf(t[n]) > -1)
                    return !0;
            return !1
        }
        function _(t) {
            return f.nodes().filter(function (e) {
                return x(t, f.node(e).group)
            })
        }
        function w(t) {
            return f.edges().filter(function (e) {
                return x(t, f.edge(e).group)
            })
        }
        this.edgeOffsetX =  - (i - f.graph().width) / 2,
        this.edgeOffsetY =  - (r - f.graph().height) / 2,
        t.getNodes = this.setShapeGroup("nodes", Co, v, void 0, void 0, function (e) {
            d.forEach(function (i) {
                e.on(i, function (e) {
                    e.target.data;
                    n.dispatchAction(t, "node_" + i, e),
                    n.dispatchAction(t, Ja["node" + i.slice(0, 1).toUpperCase() + i.slice(1)], e)
                })
            })
        }),
        this.setShapeGroup("texts", vo, y),
        function (t, e, n, i, r, o) {
            var s = this,
            u = t.get("link"),
            h = (t.get("roam"), []),
            c = [],
            f = [];
            var g = [];
            D(n.edges(), function (e, i) {
                u.lineWidth;
                var r = n.edge(e),
                d = r.isHl,
                v = r.points,
                y = [v[v.length - 2].x + s.offsetWidth / 2, v[v.length - 2].y + s.offsetHeight / 2],
                m = [v[v.length - 1].x + s.offsetWidth / 2, v[v.length - 1].y + s.offsetHeight / 2],
                x = Math.max(u.arrowSize[0], u.arrowSize[1]),
                _ = Math.sqrt(Math.pow(m[0] - y[0], 2) + Math.pow(m[1] - y[1], 2)),
                w = (_ - x) / _,
                b = void 0;
                -1 == s.onlyShowEdges.indexOf(e) && (b = u.blurOpacity);
                var S = d ? u.style.highlight : u.style.normal,
                k = d ? u.style.highlight.arrowStroke : u.style.normal.arrowStroke,
                M = function (t, e) {
                    return "text" === u.label.type ? e : t.weight ? t.weight + "%" : t.label ? t.label : ""
                }
                (o[i].data, n.edge(e).label),
                I = a({}, v[1], {
                    width: p.measureText(M).width,
                    height: 12
                });
                g.forEach(function (t) {
                    var e = [I.x, I.y, I.width, I.height],
                    n = [t.x, t.y, t.width, t.height],
                    i = function (t, e, n, i, r, o, a, s) {
                        var l;
                        if (i += e, a += r, s += o, (n += t) <= r || a <= t || i <= o || s <= e)
                            l = [0, 0, 0, 0];
                        else {
                            var u,
                            h;
                            u = r > t ? a < n ? [r, a] : [r, n] : n < a ? [t, n] : [t, a],
                            h = o > e ? s < i ? [o, s] : [o, i] : i < s ? [e, i] : [e, s],
                            l = [u[0], h[0], u[1], h[1]]
                        }
                        return (l[2] - l[0]) * (l[3] - l[1]) > 0
                    }
                    .apply(void 0, e.concat(n));
                    i && (t.x <= I.x ? v[1].x += t.width : v[1].x -= t.width)
                }),
                g.push(I);
                var A,
                T = v.map(function (t, e) {
                    return e < v.length - 1 ? [t.x + s.offsetWidth / 2, t.y + s.offsetHeight / 2] : [y[0] + (m[0] - y[0]) * w, y[1] + (m[1] - y[1]) * w]
                });
                f.push({
                    width: p.measureText(M).width,
                    style: {
                        opacity: b,
                        text: M,
                        fontSize: u.label.fontSize,
                        textFill: d ? u.label.hlTextFill : u.label.textFill,
                        textAlign: "center"
                    },
                    position: (A = T, [A[1][0], A[1][1]]),
                    z: t.get("z"),
                    z2: 882,
                    silent: !0
                }),
                h.push({
                    shape: {
                        x: function (t) {
                            return t[0]
                        },
                        y: function (t) {
                            return t[1]
                        },
                        data: T,
                        percent: 1,
                        curve: u.smooth ? X_ : void 0,
                        defined: function (t) {
                            return t
                        }
                    },
                    style: a({}, S, {
                        opacity: b,
                        lineDash: [0, 0]
                    }),
                    data: l.filter(function (t) {
                        return t.data.source == e.v && t.data.target == e.w
                    }),
                    z: t.get("z"),
                    z2: 880
                });
                var C = void 0;
                m[1] - y[1] >= 0 ? C = Math.asin((m[0] - y[0]) / _) : m[1] - y[1] < 0 && m[0] - y[0] < 0 ? C = -Math.PI / 2 + Math.asin((m[1] - y[1]) / _) : m[1] - y[1] < 0 && m[0] - y[0] >= 0 && (C = Math.PI / 2 + Math.asin((y[1] - m[1]) / _)),
                c.push({
                    shape: {
                        points: [m, [m[0] + x, m[1] - x], [m[0] - x, m[1] - x]]
                    },
                    style: {
                        fill: k,
                        opacity: b
                    },
                    z: t.get("z"),
                    z2: 880,
                    rotation: C,
                    origin: m
                })
            }),
            this.setShapeGroup("edges", Qo, h, void 0, function (n) {
                d.forEach(function (i) {
                    n.on(i, function (n) {
                        n.target.data;
                        e.dispatchAction(t, "edge_" + i, n),
                        e.dispatchAction(t, Ja["edge" + i.slice(0, 1).toUpperCase() + i.slice(1)], n)
                    })
                })
            }),
            this.setShapeGroup("arrows", ko, c),
            this.setShapeGroup("edgeLabel", vo, f)
        }
        .call(this, t, n, f, this.offsetWidth, this.offsetHeight, s.edges),
        t.highlightNode = function (e) {
            f.node(e).isHl = !0,
            t.dirty()
        },
        t.unHighlightNode = function (e) {
            f.node(e).isHl = !1,
            t.dirty()
        },
        t.fillNode = function (e) {
            f.node(e).isFill = !0,
            t.dirty()
        },
        t.unFillNode = function (e) {
            f.node(e).isFill = !1,
            t.dirty()
        },
        t.highlightEdge = function (e) {
            var n = f.edge(e),
            i = f.node(e.v),
            r = f.node(e.w);
            n.isHl = !0,
            i.isHl = !0,
            r.isHl = !0,
            t.dirty()
        },
        t.unHighlightEdge = function (e) {
            var n = f.edge(e),
            i = f.node(e.v),
            r = f.node(e.w);
            n.isHl = !1,
            i.isHl = !1,
            r.isHl = !1,
            t.dirty()
        },
        t.highlightGroup = function (e, n) {
            var i = _(e),
            r = void 0;
            r = n ? w(e) : f.edges().filter(function (t) {
                return i.indexOf(t.v) >= 0 && i.indexOf(t.w) >= 0
            }),
            D(i, function (t) {
                return f.node(t).isHl = !0
            }),
            D(r, function (t) {
                return f.edge(t).isHl = !0
            }),
            t.dirty()
        },
        t.unHighlightGroup = function (e, n) {
            var i = _(e);
            D(i, function (t) {
                return f.node(t).isHl = !1
            });
            D(n ? w(e) : f.edges().filter(function (t) {
                    return i.indexOf(t.v) >= 0 && i.indexOf(t.w) >= 0
                }), function (t) {
                return f.edge(t).isHl = !1
            }),
            t.dirty()
        },
        t.showGroup = function (e, n) {
            var i = _(e),
            r = void 0;
            o.onlyShowNodes = i,
            r = n ? w(e) : f.edges().filter(function (t) {
                return i.indexOf(t.v) >= 0 && i.indexOf(t.w) >= 0
            }),
            o.onlyShowEdges = r,
            f.nodes().forEach(function (t) {
                var e = f.node(t);
                i.indexOf(t) >= 0 ? (e.isHl = !0, e.isFillHl = !0) : (e.isHl = !1, e.isFillHl = !1)
            }),
            f.edges().forEach(function (t) {
                var e = f.edge(t);
                r.indexOf(t) >= 0 ? e.isHl = !0 : e.isHl = !1
            }),
            t.dirty()
        },
        t.hideGroup = function (e) {
            var n = f.nodes().filter(function (t) {
                return -1 == e.indexOf(f.node(t).group[0])
            });
            o.onlyShowNodes = n;
            var i = f.edges().filter(function (t) {
                return n.indexOf(t.v) >= 0 && n.indexOf(t.w) >= 0
            });
            o.onlyShowEdges = i,
            t.dirty()
        },
        t.reset = function () {
            D(f.nodes(), function (t) {
                var e = f.node(t);
                e.isHl = !1,
                e.isFillHl = !1,
                e.isFill = !1
            }),
            D(f.edges(), function (t) {
                f.edge(t).isHl = !1
            }),
            o.onlyShowNodes = null,
            o.onlyShowEdges = null,
            t.dirty()
        }
    },
    e
}
(cs);
Q_.type = Z_,
dl(K_, Q_);
var J_ = "orgchart",
tw = function (t) {
    function e() {
        var n,
        i;
        o(this, e);
        for (var r = arguments.length, a = Array(r), s = 0; s < r; s++)
            a[s] = arguments[s];
        return n = i = u(this, t.call.apply(t, [this].concat(a))),
        i.type = J_,
        u(i, n)
    }
    return s(e, t),
    e.prototype.update = function () {
        var t = this,
        e = this.getData(),
        n = void 0;
        if (this.g)
            n = this.g;
        else {
            (n = new G_.graphlib.Graph({
                    multigraph: !0,
                    directed: !0,
                    compound: !0
                })).setGraph({
                rankdir: "LR",
                nodesep: this.get("nodeStep"),
                ranksep: this.get("rankStep")
            }),
            n.setDefaultEdgeLabel(function () {
                return {}
            });
            var i = function (n, i) {
                var r = !1;
                D(e.edges, function (t) {
                    n.data.name === t.data.source && (r = !0)
                });
                var o,
                a,
                s = n.data.color,
                l = n.data.stroke,
                u = n.data.textFill,
                h = n.data.clickable,
                c = n.data.nodeData;
                i.setNode(n.data.id, {
                    label: n.data.category + "-" + r,
                    width: t.get("node").shape.width,
                    height: (o = n.data.height, a = t.get("node").shape.height, o || a),
                    color: s,
                    stroke: l,
                    textFill: u,
                    clickable: h,
                    nodeData: c,
                    paddingY: function (t, e) {
                        if (t)
                            return (t - e) / 2
                    }
                    (n.data.height, t.get("node").shape.height)
                })
            };
            this.splitNameArr = [],
            this.nameMap = {},
            D(e.nodes, function (e) {
                e.data.category < t.get("node").hierarchy && (i(e, n), t.splitNameArr.push(e.data.name), t.nameMap[e.data.id] = e.data.name)
            }),
            D(e.edges, function (e) {
                if (e.data.category < t.get("node").hierarchy) {
                    var i = n.node(e.data.target);
                    n.setEdge(e.data.source, e.data.target, {
                        label: "edges",
                        paddingY: i.paddingY
                    })
                }
            }),
            G_.layout(n);
            this.finalScale = function (e) {
                var n = e.graph().width / t.global.getWidth(),
                i = e.graph().height / t.global.getWidth();
                return 1.2 * Math.max(n, i)
            }
            (n),
            this.g = n,
            this.bg = new G_.graphlib.Graph({
                multigraph: !0,
                directed: !0,
                compound: !0
            }),
            this.bg.setGraph({
                rankdir: "LR",
                nodesep: 5,
                ranksep: 200
            }),
            this.bg.setDefaultEdgeLabel(function () {
                return {}
            }),
            D(e.nodes, function (e) {
                i(e, t.bg)
            }),
            D(e.edges, function (e) {
                t.bg.setEdge(e.data.source, e.data.target, {
                    label: "edges"
                })
            }),
            G_.layout(this.bg)
        }
    },
    e
}
(_s);
tw.type = J_,
tw.defaultOption = {
    zlevel: 0,
    z: 1,
    offset: [0, 0],
    scale: 1.2,
    rankStep: 200,
    nodeStep: 15,
    eventId: "EVENT",
    node: {
        colors: ["#3F48FF", "rgb(150, 150, 150)", "#3F96FF", "#996699", "rgb(102, 51, 153)"],
        hierarchy: 3,
        isTextLength: !1,
        shape: {
            symbolType: "circle",
            r: 0,
            width: 20,
            height: 10
        },
        style: {
            normal: {
                shadowBlur: 0,
                shadowColor: "rgb(255, 0, 0)",
                fontSize: 10,
                shadowOffsetX: 3,
                stroke: "#000",
                lineWidth: 1
            },
            emphasis: {}
        }
    },
    link: {
        arrowSize: [1, 5],
        lineWidth: [1, 5],
        label: {
            fontSize: 12,
            textFill: "rgb(102, 102, 102)"
        },
        style: {
            normal: {
                stroke: "#cccccc",
                opacity: .7
            },
            emphasis: {}
        }
    },
    roam: {
        enable: !0
    }
};
var ew = void 0,
nw = void 0,
iw = function (t) {
    function e() {
        var n,
        i;
        o(this, e);
        for (var r = arguments.length, a = Array(r), s = 0; s < r; s++)
            a[s] = arguments[s];
        return n = i = u(this, t.call.apply(t, [this].concat(a))),
        i.type = J_,
        u(i, n)
    }
    return s(e, t),
    e.prototype.render = function (t, e, n) {
        var i = this,
        r = t.getData(),
        o = t.get("node");
        this.w = n.getWidth(),
        this.h = n.getHeight();
        var s = t.get("scale"),
        l = t.get("roam").enable;
        s ? (ew = this.w - t.g.graph().width, nw = this.h - t.g.graph().height) : (ew = 0, nw = 0);
        var u = [],
        h = [],
        c = t.get("node").isTextLength;
        D(t.g.nodes(), function (e, n) {
            var i,
            r,
            s,
            f = t.g.node(e),
            d = f.x + ew / 2,
            p = f.y + nw / 2 - (f.paddingY || 0),
            g = t.nameMap[e];
            u.push({
                shape: {
                    symbolType: o.shape.symbolType,
                    x: d,
                    y: p,
                    width: function (t, e, n, i) {
                        if (t)
                            return -1 === escape(i).indexOf("%u") ? i.length / 2 * n + 1.5 * n : i.length * n + n;
                        return e
                    }
                    (c, o.shape.width, o.style.normal.fontSize, g),
                    height: o.shape.height,
                    r: o.shape.r
                },
                style: a({}, o.style.normal, {
                    fill: (r = f.color, s = o.colors[f.label.split("-")[0]], r || s),
                    shadowOffsetX: (i = f.label.split("-")[1], "true" === i ? o.style.normal.shadowOffsetX : 0),
                    stroke: function (t, e) {
                        return t || e
                    }
                    (f.stroke, o.style.normal.stroke)
                }),
                position: [-o.shape.width / 2, -o.shape.height / 2],
                z: t.get("z"),
                z2: 998,
                silent: function (t, e) {
                    return !(t || l && "true" === e)
                }
                (f.clickable, f.label.split("-")[1]),
                nodeKey: e,
                group: t.g.node(e).label,
                key: e,
                nodeData: f.nodeData
            }),
            h.push({
                style: {
                    text: g,
                    fontSize: o.style.normal.fontSize,
                    textFill: function (t, e) {
                        return t || e
                    }
                    (f.textFill, o.colors[f.label.split("-")[0]]),
                    textAlign: "left"
                },
                position: [d - o.shape.width / 2 + o.style.normal.fontSize / 2, p - o.style.normal.fontSize / 2],
                z: t.get("z"),
                z2: 999,
                silent: !0,
                nodeName: e,
                key: e
            })
        }),
        this.setShapeGroup("nodes", zs, u, {
            animation: !0,
            animateList: {
                shape: {
                    x: 0,
                    y: 0
                }
            }
        }, void 0, function (e, i) {
            e.shape.width;
            var r = t.g.successors(e.nodeKey);
            e.open = r.length > 0,
            e.on("mousedown", function () {
                var i = t.get("eventId");
                n.dispatchAction(t, i, e.nodeData);
                t.get("expandAndCollaspe") && (e.open ? function () {
                    var n = new G_.graphlib.alg.dijkstra(t.g, e.nodeKey),
                    i = function (e) {
                        n[e].predecessor && (D(t.splitNameArr, function (n, i) {
                                n === e && t.splitNameArr.splice(i, 1)
                            }), t.g.removeNode(e))
                    };
                    for (var r in n)
                        i(r)
                }
                    () : D(t.bg.successors(e.nodeKey), function (n) {
                        t.splitNameArr.push(n),
                        t.g.setNode(n, t.bg.node(n)),
                        t.g.setEdge(e.nodeKey, n, {
                            label: "edges"
                        })
                    }), e.open = !e.open, G_.layout(t.g), t.dirty())
            })
        }),
        this.setShapeGroup("nodeLabels", vo, h, {
            animation: !0,
            animateList: {
                position: [0, 0]
            }
        }),
        function (t, e, n, i) {
            var r = this,
            o = t.get("link"),
            s = [],
            l = [];
            D(t.g.edges(), function (e, u) {
                var h = t.g.edge(e).points;
                if (t.g.edge(e).paddingY) {
                    var c = t.g.edge(e).points;
                    r[u] || (c[c.length - 1].y -= t.g.edge(e).paddingY, c[c.length - 2].y -= t.g.edge(e).paddingY),
                    r[u] = !0
                }
                var f = [h[h.length - 2].x + n / 2, h[h.length - 2].y + i / 2],
                d = [h[h.length - 1].x + n / 2, h[h.length - 1].y + i / 2],
                p = o.arrowSize,
                g = Math.sqrt(Math.pow(d[0] - f[0], 2) + Math.pow(d[1] - f[1], 2)),
                v = h.map(function (t) {
                    return [t.x + n / 2, t.y + i / 2]
                });
                s.push({
                    shape: {
                        points: v
                    },
                    style: a({}, o.style.normal),
                    z: t.get("z"),
                    z2: 997,
                    key: e.v + e.w,
                    silent: !0
                });
                var y = void 0;
                d[1] - f[1] >= 0 ? y = Math.asin((d[0] - f[0]) / g) : d[1] - f[1] < 0 && d[0] - f[0] < 0 ? y = -Math.PI / 2 + Math.asin((d[1] - f[1]) / g) : d[1] - f[1] < 0 && d[0] - f[0] >= 0 && (y = Math.PI / 2 + Math.asin((f[1] - d[1]) / g)),
                l.push({
                    shape: {
                        points: [d, [d[0] + p, d[1] - p], [d[0] - p, d[1] - p]]
                    },
                    style: {
                        fill: o.style.normal.stroke
                    },
                    z: t.get("z"),
                    z2: 997,
                    rotation: y,
                    origin: d,
                    key: e.w + e.v,
                    silent: !0
                })
            }),
            this.setShapeGroup("edges", Mo, s, {
                animation: !0,
                animateList: {
                    shape: {
                        points: [[0, 0], [0, 0], [0, 0]]
                    }
                }
            }),
            this.setShapeGroup("arrows", ko, l, {
                animation: !0,
                animateList: {
                    shape: {
                        points: [[0, 0], [0, 0], [0, 0]]
                    },
                    origin: [0, 0]
                }
            })
        }
        .call(this, t, n, ew, nw, r.edges);
        var f = t.get("offset");
        if (s)
            (function (t) {
                var e = t.get("scale");
                this.group.scale = [1, 1],
                this.group.position = [0, 0];
                var n = this.group.getBoundingRect(),
                i = n.width / this.w,
                r = n.height / this.h,
                o = (1 / (Math.max(i, r) * e) - 1) / .1,
                a = .5 * this.w,
                s = .5 * this.h;
                t.option.isTop && (s = 0, this.group.position[1] = 10 - n.y);
                this.scale(a, s, o)
            }).call(this, t);
        else {
            this.group.scale = [1, 1];
            var d = this.group.getBoundingRect(),
            p = f[0],
            g = f[1];
            this.group.position = [-d.x + p, -d.y + g];
            var v = (1 / (d.width / this.w * 1.1) - 1) / .1;
            this.scale(0, 0, v)
        }
        l || (n.on("mousedown", function (t) {
                var e = t.offsetX,
                n = t.offsetY,
                r = t.target,
                o = i.group;
                o && !r && (i._isMove = !0, i.startX = e, i.startY = n, i.startPosition = [o.position[0], o.position[1]], i.initY, i.initY || (i.initY = i.group.position[1]))
            }), n.on("mousemove", function (t) {
                t.offsetX;
                var e = t.offsetY;
                if (i._isMove) {
                    var n = i.group,
                    r = i.group.getBoundingRect();
                    n.attr({
                        position: [i.startPosition[0], i.startPosition[1] + e - i.startY]
                    }),
                    n.position[1] > i.initY && n.attr({
                        position: [i.startPosition[0], i.initY]
                    }),
                    n.position[1] < i.initY + i.h - r.height * i.group.scale[1] && n.attr({
                        position: [i.startPosition[0], i.initY + i.h - r.height * i.group.scale[1] - f[1] * i.group.scale[1]]
                    })
                }
            }), n.on("mouseup", function () {
                i._isMove = !1
            }))
    },
    e
}
(cs);
iw.type = J_,
dl(tw, iw);
var rw = "pieRelation",
ow = function (t) {
    function e() {
        var n,
        i;
        o(this, e);
        for (var r = arguments.length, a = Array(r), s = 0; s < r; s++)
            a[s] = arguments[s];
        return n = i = u(this, t.call.apply(t, [this].concat(a))),
        i.type = rw,
        u(i, n)
    }
    return s(e, t),
    e.prototype.update = function () {
        var t = this,
        e = this.getData(),
        n = (this.get("cluster"), void 0);
        if (this.g)
            n = this.g;
        else {
            (n = new G_.graphlib.Graph({
                    multigraph: !0,
                    directed: !0,
                    compound: !0
                })).setGraph({
                rankdir: "LR",
                nodesep: this.get("node").paddingX,
                ranksep: this.get("node").rankPadding
            }),
            n.setDefaultEdgeLabel(function () {
                return {}
            }),
            this.splitNameArr = [],
            D(e.nodes, function (e) {
                n.setNode(e.data.id, {
                    label: e.data.id,
                    group: e.data.category,
                    width: t.get("node").paddingY,
                    height: t.get("node").paddingX,
                    proportion: e.data.proportion
                }),
                t.splitNameArr.push(e.data.name)
            }),
            D(e.edges, function (t) {
                n.setEdge(t.data.source, t.data.target, {
                    label: "edges"
                })
            }),
            G_.layout(n);
            this.finalScale = function (e) {
                var n = e.graph().width / t.global.getWidth(),
                i = e.graph().height / t.global.getWidth();
                return 1.2 * Math.max(n, i)
            }
            (n),
            this.g = n
        }
    },
    e
}
(_s);
ow.type = rw,
ow.defaultOption = {
    zlevel: 0,
    z: 1,
    node: {
        colors: ["#3F48FF", "rgb(150, 150, 150)", "#3F96FF", "#996699", "rgb(102, 51, 153)"],
        paddingX: 5,
        paddingY: 30,
        rankPadding: 200,
        shape: {
            r: 30,
            piePadding: 5
        },
        style: {
            normal: {
                fontSize: 10
            },
            emphasis: {}
        }
    },
    link: {
        arrowSize: 5,
        lineWidth: 5,
        label: {
            fontSize: 12,
            textFill: "rgb(102, 102, 102)"
        },
        style: {
            normal: {
                stroke: "#000",
                opacity: .7
            },
            emphasis: {}
        }
    }
};
var aw = function (t) {
    function e() {
        var n,
        i;
        o(this, e);
        for (var r = arguments.length, a = Array(r), s = 0; s < r; s++)
            a[s] = arguments[s];
        return n = i = u(this, t.call.apply(t, [this].concat(a))),
        i.type = rw,
        u(i, n)
    }
    return s(e, t),
    e.prototype.render = function (t, e, n) {
        var i = this,
        r = t.getData(),
        o = t.get("node");
        t.get("cluster");
        if (this.w = n.getWidth(), this.h = n.getHeight(), !this.isRender) {
            var s = (1 / t.finalScale - 1) / .1,
            l = this.w / 2,
            u = this.h / 2;
            this.scale(l, u, s)
        }
        this.isRender = !0;
        var h = this.w - t.g.graph().width,
        c = this.h - t.g.graph().height;
        (function (t, e, n, i) {
            var r = this,
            o = t.get("link");
            t.get("roam");
            D(t.g.edges(), function (e, s) {
                o.lineWidth;
                var l = t.g.edge(e).points,
                u = [l[l.length - 2].x + n / 2, l[l.length - 2].y + i / 2],
                h = [l[l.length - 1].x + n / 2, l[l.length - 1].y + i / 2],
                c = o.arrowSize,
                f = Math.sqrt(Math.pow(h[0] - u[0], 2) + Math.pow(h[1] - u[1], 2)),
                d = (f - c) / f,
                p = l.map(function (t, e) {
                    return e < l.length - 1 ? [t.x + n / 2, t.y + i / 2] : [u[0] + (h[0] - u[0]) * d, u[1] + (h[1] - u[1]) * d]
                });
                r.setShape(e.v + e.w, Mo, {
                    shape: {
                        points: p
                    },
                    style: a({}, o.style.normal),
                    z: t.get("z"),
                    z2: 997,
                    key: e.v + e.w,
                    silent: !0
                });
                var g = void 0;
                h[1] - u[1] >= 0 ? g = Math.asin((h[0] - u[0]) / f) : h[1] - u[1] < 0 && h[0] - u[0] < 0 ? g = -Math.PI / 2 + Math.asin((h[1] - u[1]) / f) : h[1] - u[1] < 0 && h[0] - u[0] >= 0 && (g = Math.PI / 2 + Math.asin((u[1] - h[1]) / f)),
                r.setShape(e.w + e.v, ko, {
                    shape: {
                        points: [h, [h[0] + c, h[1] - c], [h[0] - c, h[1] - c]]
                    },
                    style: {
                        fill: o.style.normal.stroke
                    },
                    z: t.get("z"),
                    z2: 997,
                    rotation: g,
                    origin: h,
                    key: e.w + e.v,
                    silent: !0
                })
            })
        }).call(this, t, n, h, c, r.edges),
        D(t.g.nodes(), function (e, n) {
            var r = t.g.node(e),
            s = r.x + h / 2,
            l = r.y + c / 2;
            i.setShape(r.label, yo, {
                shape: {
                    cx: s,
                    cy: l,
                    r: o.shape.r
                },
                style: a({}, o.style.normal, {
                    fill: o.colors[r.group]
                }),
                z: t.get("z"),
                z2: 998,
                silent: !0,
                group: t.g.node(e).label,
                key: e
            }),
            i.setShape(r.label + "label", vo, {
                style: {
                    text: t.splitNameArr[n],
                    fontSize: o.style.normal.fontSize,
                    textFill: o.colors[r.group],
                    textAlign: "left"
                },
                position: [s + o.shape.r, l - o.style.normal.fontSize / 2],
                z: t.get("z"),
                z2: 999,
                silent: !0,
                nodeName: e,
                key: e
            });
            var u = r.proportion,
            f = [],
            d = 0;
            for (var p in u)
                d += u[p], f.push(d);
            for (var g = [0], v = 0; v < f.length; v += 1)
                v < f.length - 1 && g.push(f[v]);
            D(g, function (e, n) {
                i.setShape(r.label + "pie" + n, Dl, {
                    shape: {
                        outerRadius: o.shape.r - o.shape.piePadding,
                        innerRadius: 0,
                        startAngle: e * Math.PI * 2,
                        endAngle: f[n] * Math.PI * 2
                    },
                    position: [s, l],
                    style: {
                        fill: o.pieColors[n]
                    },
                    z: t.get("z"),
                    z2: 998,
                    silent: !0
                })
            })
        })
    },
    e
}
(cs);
aw.type = rw,
dl(ow, aw);
var sw = Pl(function (t) {
    return t && -t[1]
}).right,
lw = "axis",
uw = !1,
hw = void 0,
cw = function (t) {
    function e(n, i, r) {
        o(this, e);
        var a = u(this, t.apply(this, arguments));
        return a.type = lw,
        a._initEvent(n, i, r),
        a
    }
    return s(e, t),
    e.prototype._initEvent = function (t, e, n) {
        var i = t.getGridModels(),
        r = t.getAxisType(),
        o = t.get("xOrY"),
        a = t.get("position"),
        s = void 0,
        l = [],
        u = !0,
        h = e.getComponentByIndex("dataZoom", t.get("$dataZoomIndex"));
        function c() {
            if (!u) {
                if (clearTimeout(hw), uw = !1, "continuous" === r)
                    n.dispatchAction(t, ja.out, {});
                else {
                    var e = t.getLastData();
                    n.dispatchAction(t, ja.out, {
                        lastIndex: s,
                        lastDataIndex: t.endIndex,
                        lastData: e
                    }),
                    s = void 0
                }
                u = !0
            }
        }
        (n.on("mousemove", function (e) {
                if (!n.isEnableEdit && !n.isEnableSketch) {
                    var o = e.offsetX,
                    l = e.offsetY,
                    h = !1,
                    f = t.get("ifTriggerMove");
                    if (D(i, function (t) {
                            t.isPointInGrid(o, l) && (h = !0)
                        }), h) {
                        if ("continuous" === r) {
                            var d = t.scale.invert("bottom" === a || "top" === a ? o : l);
                            n.dispatchAction(t, ja.move, {
                                e: e,
                                axisData: d
                            }),
                            n.dispatchAction(t, "", {
                                e: e,
                                axisData: d
                            })
                        } else {
                            var p = t.getIndexByOffset(o, l);
                            if ("number" == typeof p) {
                                var g = t.getMoveDataByIndex(p, s);
                                g.e = e,
                                g.lastIndex = s,
                                isNaN(g.pos) || f && !f(g) || n.dispatchAction(t, ja.move, g),
                                0 == uw && (hw = setTimeout(function () {
                                        n.dispatchAction(t, "AXIS_LONG_CLICK", g)
                                    }, 300), uw = !0)
                            }
                        }
                        u = !1
                    } else
                        u || c()
                }
            }), n.on("globalout", c), n.on("mouseup", c), "x" === o) && (t.get("ifTriggerHighlight") && (n.registerAction(t, ja.move, function (i) {
                    var o = i.e,
                    a = i.index,
                    u = (i.axisData, e.getSeriesByAxis(t.index)),
                    h = t.get("position"),
                    c = "left" === h || "right" === h;
                    if ("continuous" === r) {
                        var f = o.offsetX,
                        d = o.offsetY;
                        D(u, function (t) {
                            if ("line" === t.get("type")) {
                                var i = n.getViewOfComponentModel(t),
                                r = t.points,
                                o = c ? sw(r, -d) : function (t, e) {
                                    var n = void 0;
                                    for (n = 0; n < t.length && !(null !== t[n] && e < t[n][0]); n++);
                                    return n
                                }
                                (r, f);
                                r[--o] && i.highlight(t, e, n, {
                                    index: o,
                                    startIndex: 0
                                })
                            }
                        })
                    } else
                        s !== a && D(u, function (i) {
                            var r = n.getViewOfComponentModel(i);
                            void 0 !== s && r.downplay(i, e, n, {
                                index: s + t.startIndex,
                                startIndex: t.startIndex
                            }),
                            void 0 !== a && r.highlight(i, e, n, {
                                index: t.startIndex + a,
                                startIndex: t.startIndex
                            })
                        }), s = a;
                    l = u
                }), n.registerAction(t, ja.out, function (i) {
                    var r = i.lastIndex;
                    D(l, function (i) {
                        n.getViewOfComponentModel(i).downplay(i, e, n, {
                            index: t.startIndex + r,
                            startIndex: t.startIndex
                        })
                    }),
                    l = []
                })), h && n.registerAction(h, Va.change, function () {
                n.dispatchAction(t, ja.out, {
                    lastIndex: s
                }),
                s = void 0
            }))
    },
    e.prototype.render = function (t, e, n) {
        var i = t.get("splitArea"),
        r = t.get("splitLine"),
        o = t.get("axisName"),
        s = t.axis,
        l = t.scale,
        u = t.get("position"),
        h = t.get("animation"),
        c = t.get("animationDuration"),
        f = t.get("animationEasing");
        t.get("cursor");
        if (t.axis(this, t, e, n), i && i.show) {
            var d = l.domain(),
            p = l.range(),
            g = void 0,
            v = i.style.color,
            y = i.onRect,
            m = (t.get("$gridIndex"), e.getComponent("grid", function (e) {
                    var n = t.get("$gridIndex");
                    return B(n) ? n.indexOf(e.index) > -1 : n === e.index
                })),
            x = "band" === t.get("type"),
            _ = void 0,
            w = void 0,
            b = void 0,
            S = [];
            if (x) {
                var k = l.step();
                g = d,
                _ = k * l.paddingInner(),
                w = k * l.paddingOuter(),
                b = l.bandwidth()
            } else
                g = s.values();
            for (var M = g.length, I = 0; I < m.length; I++)
                for (var A = m[I].position, T = A.left, C = A.top, z = A.width, E = A.height, L = 0, D = M; L < D; L++) {
                    var O = void 0,
                    P = void 0,
                    F = void 0;
                    x ? (F = l(g[L]) + b, y || (F += L === M - 1 ? Math.min(_ / 2, w) : _ / 2), "left" === u || "right" === u ? (O = T, P = l(g[L]), y || (P -= 0 === L ? Math.min(_ / 2, w) : _ / 2), E = F - P) : (O = l(g[L]), P = C, y || (O -= 0 === L ? Math.min(_ / 2, w) : _ / 2), z = F - O)) : (F = L === M - 1 ? p[1] : l(g[L + 1]), "left" === u || "right" === u ? (O = T, P = F, E = l(g[L]) - P) : (P = C, z = F - (O = l(g[L])))),
                    S.push({
                        shape: {
                            x: O,
                            y: P,
                            width: z,
                            height: E
                        },
                        style: {
                            fill: B(v) ? v[L % v.length] : v
                        },
                        silent: !0,
                        key: g[L] + "_" + I,
                        z2: -1
                    })
                }
            this.setShapeGroup("areaGroup", Co, S, {
                animation: h,
                duration: c,
                easing: f,
                animateList: {
                    shape: {
                        x: 0,
                        y: 0,
                        width: 0,
                        height: 0
                    }
                }
            })
        }
        if (r && r.show) {
            for (var N = s.values(), R = r.style, G = e.getComponent("grid", function (e) {
                    var n = t.get("$gridIndex");
                    return B(n) ? n.indexOf(e.index) > -1 : n === e.index
                }), H = [], j = l.bandwidth ? l.bandwidth() / 2 : 0, U = 0; U < G.length; U++)
                for (var q = G[U].position, Y = q.left, V = q.top, $ = q.right, X = q.bottom, Z = 0, K = N.length; Z < K; Z++) {
                    var Q = {},
                    J = l(N[Z]) + j,
                    tt = {};
                    R.color;
                    if (Q = "left" === u || "right" === u ? {
                            x1: Y,
                            y1: J,
                            x2: $,
                            y2: J
                        }
                         : {
                        x1: J,
                        y1: V,
                        x2: J,
                        y2: X
                    }, W(R))
                        tt = R(N[Z], Z);
                    else {
                        var et = R.color;
                        tt = a({}, R, {
                            stroke: B(et) ? et[Z % et.length] : et
                        })
                    }
                    H.push(oa({
                            shape: Q,
                            style: tt,
                            silent: !0,
                            key: N[Z] + "_" + U,
                            z2: -1
                        }))
                }
            this.setShapeGroup("splitLine", Eo, H, {
                animation: h,
                duration: c,
                easing: f,
                animateList: {
                    shape: {
                        x1: 0,
                        y1: 0,
                        x2: 0,
                        y2: 0
                    }
                }
            })
        }
        if (o.show) {
            var nt = o.offset,
            it = o.location,
            rt = o.vertical,
            ot = void 0,
            at = void 0,
            st = void 0,
            lt = o.text,
            ut = l.range(),
            ht = void 0,
            ct = s.linePos();
            switch (it) {
            case "start":
                ht = ut[0];
                break;
            case "middle":
            case "center":
                ht = (ut[0] + ut[1]) / 2;
                break;
            case "end":
                ht = ut[1]
            }
            "left" === u || "right" === u ? (ot = [ct + nt[0], ht + nt[1]], at = "center", st = "start" === it ? "top" : "end" === it ? "bottom" : "center") : (ot = [ht + nt[0], ct + nt[1]], at = "start" === it ? "right" : "end" === it ? "left" : "center", st = "center"),
            rt && (lt = lt.split("").join("\n")),
            this.setShape("name", vo, e.getFormattedText({
                    style: a({
                        text: lt,
                        textAlign: at,
                        textVerticalAlign: st
                    }, o.style),
                    scale: o.scale,
                    rotation: o.rotate / 180 * Math.PI,
                    position: ot,
                    silent: !0
                }))
        }
    },
    e
}
(fs);
cw.type = lw;
var fw = 1e3,
dw = 60 * fw,
pw = 60 * dw,
gw = 24 * pw,
vw = 7 * gw,
yw = 30 * gw,
mw = 365 * gw;
function xw(t) {
    return new Date(t)
}
function _w(t) {
    return t instanceof Date ? +t : +new Date(+t)
}
var ww = {
    linear: Hh,
    point: function () {
        return function t(e) {
            var n = e.copy;
            return e.padding = e.paddingOuter,
            delete e.paddingInner,
            delete e.paddingOuter,
            e.copy = function () {
                return t(n())
            },
            e
        }
        (su().paddingInner(1))
    },
    band: su,
    time: function () {
        return function t(e, n, i, r, o, a, s, l, u) {
            var h = Ih(bh, ph),
            c = h.invert,
            f = h.domain,
            d = u(".%L"),
            p = u(":%S"),
            g = u("%I:%M"),
            v = u("{I|%I} {p|%p}"),
            y = u("{m|%m}-{d|%d}"),
            m = u("{m|%m}-{d|%d}"),
            x = u("{m|%m}"),
            _ = u("{Y|%Y}"),
            w = [[s, 1, fw], [s, 5, 5 * fw], [s, 15, 15 * fw], [s, 30, 30 * fw], [a, 1, dw], [a, 5, 5 * dw], [a, 15, 15 * dw], [a, 30, 30 * dw], [o, 1, pw], [o, 3, 3 * pw], [o, 6, 6 * pw], [o, 12, 12 * pw], [r, 1, gw], [r, 2, 2 * gw], [i, 1, vw], [n, 1, yw], [n, 3, 3 * yw], [e, 1, mw]];
            function b(t) {
                return (s(t) < t ? d : a(t) < t ? p : o(t) < t ? g : r(t) < t ? v : n(t) < t ? i(t) < t ? y : m : e(t) < t ? x : _)(t)
            }
            function S(t, n, i, r) {
                if (null == t && (t = 10), "number" == typeof t) {
                    var o = Math.abs(i - n) / t,
                    a = Pl(function (t) {
                        return t[2]
                    }).right(w, o);
                    a === w.length ? (r = jl(n / mw, i / mw, t), t = e) : a ? (r = (a = w[o / w[a - 1][2] < w[a][2] / o ? a - 1 : a])[1], t = a[0]) : (r = jl(n, i, t), t = l)
                }
                return null == r ? t : t.every(r)
            }
            return h.invert = function (t) {
                return new Date(c(t))
            },
            h.domain = function (t) {
                return arguments.length ? f(iu.call(t, _w)) : f().map(xw)
            },
            h.ticks = function (t, e) {
                var n,
                i = f(),
                r = i[0],
                o = i[i.length - 1],
                a = o < r;
                return a && (n = r, r = o, o = n),
                n = (n = S(t, r, o, e)) ? n.range(r, o + 1) : [],
                a ? n.reverse() : n
            },
            h.tickFormat = function (t, e) {
                return null == e ? b : u(e)
            },
            h.nice = function (t, e) {
                var n = f();
                return (t = S(t, n[0], n[n.length - 1], e)) ? f(jh(n, t)) : h
            },
            h.copy = function () {
                return Mh(h, t(e, n, i, r, o, a, s, l, u))
            },
            h
        }
        (Tc, Ic, fc, uc, sc, oc, ic, Jh, sf).domain([new Date(2e3, 0, 1), new Date(2e3, 0, 2)])
    },
    log: function t() {
        var e = Ih(Uh, qh).domain([1, 10]),
        n = e.domain,
        i = 10,
        r = $h(10),
        o = Vh(10);
        function a() {
            return r = $h(i),
            o = Vh(i),
            n()[0] < 0 && (r = Xh(r), o = Xh(o)),
            e
        }
        return e.base = function (t) {
            return arguments.length ? (i = +t, a()) : i
        },
        e.domain = function (t) {
            return arguments.length ? (n(t), a()) : n()
        },
        e.ticks = function (t) {
            var e,
            a = n(),
            s = a[0],
            l = a[a.length - 1];
            (e = l < s) && (f = s, s = l, l = f);
            var u,
            h,
            c,
            f = r(s),
            d = r(l),
            p = null == t ? 10 : +t,
            g = [];
            if (!(i % 1) && d - f < p) {
                if (f = Math.round(f) - 1, d = Math.round(d) + 1, s > 0) {
                    for (; f < d; ++f)
                        for (h = 1, u = o(f); h < i; ++h)
                            if (!((c = u * h) < s)) {
                                if (c > l)
                                    break;
                                g.push(c)
                            }
                } else
                    for (; f < d; ++f)
                        for (h = i - 1, u = o(f); h >= 1; --h)
                            if (!((c = u * h) < s)) {
                                if (c > l)
                                    break;
                                g.push(c)
                            }
            } else
                g = Gl(f, d, Math.min(d - f, p)).map(o);
            return e ? g.reverse() : g
        },
        e.tickFormat = function (t, n) {
            if (null == n && (n = 10 === i ? ".0e" : ","), "function" != typeof n && (n = Nh(n)), t === 1 / 0)
                return n;
            null == t && (t = 10);
            var a = Math.max(1, i * t / e.ticks().length);
            return function (t) {
                var e = t / o(Math.round(r(t)));
                return e * i < i - .5 && (e *= i),
                e <= a ? n(t) : ""
            }
        },
        e.nice = function () {
            return n(jh(n(), {
                    floor: function (t) {
                        return o(Math.floor(r(t)))
                    },
                    ceil: function (t) {
                        return o(Math.ceil(r(t)))
                    }
                }))
        },
        e.copy = function () {
            return Mh(e, t().base(i))
        },
        e
    }
},
bw = Array.prototype.slice;
function Sw(t) {
    return t
}
var kw = 1,
Mw = 2,
Iw = 3,
Aw = 4;
function Tw(t, e) {
    return [t, e]
}
function Cw(t, e) {
    return [e, t]
}
function zw(t, e) {
    var n,
    i = [],
    r = null,
    o = null,
    s = !1,
    l = !1,
    u = t === kw || t === Aw ? -1 : 1,
    h = t === Aw || t === Mw ? "x" : "y",
    c = t === kw || t === Iw ? Tw : Cw,
    f = t === Mw ? "left" : t === Aw ? "right" : "center",
    d = t === kw ? "bottom" : t === Iw ? "top" : "middle",
    p = {
        show: !0
    },
    g = {
        show: !0,
        outerSize: 6,
        innerSize: 0
    },
    v = {
        show: !0,
        padding: 3,
        rotation: Math.PI / 6
    },
    y = 200;
    function m(i, r, o, s) {
        var l = m.values(),
        x = m.format(),
        _ = e.range(),
        w = Math.min(_[0], _[_.length - 1]),
        S = Math.max(_[0], _[_.length - 1]),
        k = (e.step ? function (t) {
            return function (e, n) {
                var i,
                r = t.range();
                return i = !1 === n ? Math.max(0, t.paddingInner ? t.step() * (1 - t.paddingInner() / 2) : t.step() / 2) : Math.max(0, t.bandwidth ? t.bandwidth() : t.step()) / 2,
                t.round() && (i = Math.round(i)),
                r[0] < r[1] ? Math.min(Math.max(t(e) + i, r[0]), r[1]) : Math.max(Math.min(t(e) + i, r[0]), r[1])
            }
        }
             : Sw)(e.copy()),
        M = g.outerSize,
        I = g.innerSize,
        A = (v.inside, v.padding),
        T = v.vertical,
        C = y,
        z = r.getAxisType(),
        E = e.domain(),
        L = r.get("animation"),
        D = r.get("animationDuration"),
        O = r.get("animationEasing"),
        P = r.get("cursor");
        n = y;
        var F = l.length;
        if (p.show) {
            var N;
            if (p.onZero) {
                var R = o.getComponentByIndex("axis", p.onZeroAxisIndex);
                if (R) {
                    var G = R.scale,
                    H = G.domain();
                    if (H[0] < 0 || H[1] < 0) {
                        var j = r.get("$gridIndex");
                        B(j) && (j = j[0]);
                        var U = r.get("position"),
                        q = R.scale.range();
                        switch (n = G(0), U) {
                        case "left":
                        case "right":
                            n = Math.max(Math.min(q[1], n), q[0]);
                            break;
                        case "top":
                        case "bottom":
                            n = Math.max(Math.min(q[0], n), q[1])
                        }
                    }
                }
            }
            N = t === Aw || t == Mw ? {
                x1: n,
                y1: w,
                x2: n,
                y2: S
            }
             : {
                x1: w,
                y1: n,
                x2: S,
                y2: n
            },
            i.setShape("line", Eo, oa({
                    shape: N,
                    style: p.style,
                    z2: 1,
                    silent: !0
                }), {
                animation: L,
                duration: D,
                easing: O,
                animateList: {
                    shape: {
                        x1: 0,
                        y1: 0,
                        x2: 0,
                        y2: 0
                    }
                }
            })
        }
        if (g.show) {
            var Y,
            V = [],
            $ = {
                shape: a({
                    x1: 0,
                    y1: 0,
                    x2: 0,
                    y2: 0
                }, (Y = {}, Y[h + "1"] = u * M, Y[h + "2"] = -u * I, Y)),
                style: g.style
            };
            g.onCenter || "ordinal" !== z || (V.push(oa(a({}, b($), {
                            position: c(w, n),
                            key: -1,
                            silent: !0
                        }))), V.push(oa(a({}, b($), {
                            position: c(S, n),
                            key: F,
                            silent: !0
                        }))));
            for (var X = 0; X < F && (g.onCenter || X !== F - 1 || "ordinal" !== z || E[E.length - 1] !== l[X]); X++)
                V.push(oa(a({}, b($), {
                            position: c(k(l[X], g.onCenter), n),
                            key: X,
                            silent: !0
                        })));
            i.setShapeGroup("tickGroup", Eo, V, {
                animation: L,
                duration: D,
                easing: O,
                animateList: {
                    position: [0, 0]
                }
            })
        }
        if (v.show) {
            var Z = [],
            K = null;
            v.followLine && (C = n);
            var Q = r.get("position"),
            J = r.interval;
            if (v.truncate && e.step && J) {
                var tt = e.step() * J;
                K = "top" === Q || "bottom" === Q ? {
                    outerWidth: tt
                }
                 : {
                    outerHeight: tt
                }
            }
            for (var et = 0; et < F; et++) {
                var nt = x(l[et], et, F),
                it = c(k(l[et]), C),
                rt = f,
                ot = d;
                T && (nt = nt.split("").join("\n")),
                v.inRange && (t === Aw || t === Mw ? 0 === et ? l[et] === E[0] && (ot = "bottom") && (it[1] = S) : et === F - 1 && l[et] === E[E.length - 1] && (ot = "top") && (it[1] = w) : 0 === et ? l[et] === E[0] && (rt = "left") && (it[0] = w) : et === F - 1 && l[et] === E[E.length - 1] && (rt = "right") && (it[0] = S)),
                v.inside && (t === Aw || t === Mw ? rt = "left" : ot = "bottom"),
                it["x" === h ? 0 : 1] += u * A * (v.inside ? -1 : 1);
                var at = v.style;
                at = W(at) ? at(l[et], et, it, l) : at,
                Z.push(o.getFormattedText({
                        style: a({
                            text: nt,
                            textVerticalAlign: ot,
                            textAlign: rt
                        }, at, {
                            textOrign: "center",
                            truncate: K
                        }),
                        scale: v.scale || [1, 1],
                        position: it,
                        rotation: v.rotate / 180 * Math.PI,
                        key: l[et],
                        cursor: P,
                        z2: 10,
                        silent: !0
                    }))
            }
            i.setShapeGroup("labelGroup", vo, Z, {
                animation: L,
                duration: D,
                easing: O,
                animateList: {
                    position: [0, 0]
                }
            })
        }
    }
    return n = y,
    m.values = function () {
        if (r)
            return r;
        if (e.ticks) {
            var t = e.ticks.apply(e, i),
            n = e.domain(),
            o = t.length,
            a = Math.abs(n[1] - n[0]) / o;
            return l && (Math.abs(t[t.length - 1] - n[1]) < a / 3 && t.pop(), -1 === t.indexOf(n[1]) && t.push(n[1])),
            s && (Math.abs(t[0] - n[0]) < a / 3 && t.shift(), -1 === t.indexOf(n[0]) && t.unshift(n[0])),
            t
        }
        return e.domain()
    },
    m.axisLine = function (t) {
        return arguments.length ? (p = t, m) : y
    },
    m.axisTick = function (t) {
        return arguments.length ? (g = t, m) : y
    },
    m.axisLabel = function (t) {
        return arguments.length ? (v = t, m) : y
    },
    m.pos = function (t) {
        return arguments.length ? (y = t, m) : y
    },
    m.scale = function (t) {
        return arguments.length ? (e = t, m) : e
    },
    m.ticks = function () {
        return i = bw.call(arguments),
        m
    },
    m.tickArguments = function (t) {
        return arguments.length ? (i = null == t ? [] : bw.call(t), m) : i.slice()
    },
    m.tickValues = function (t) {
        return arguments.length ? (r = null == t ? null : bw.call(t), m) : r && r.slice()
    },
    m.tickFormat = function (t) {
        return arguments.length ? (o = t, m) : o
    },
    m.alwaysShowFirst = function (t) {
        return arguments.length ? (s = t, m) : s
    },
    m.alwaysShowLast = function (t) {
        return arguments.length ? (l = t, m) : l
    },
    m.linePos = function () {
        return n
    },
    m.format = function (t, n, r) {
        var o = v.formatter ? v.formatter : e.tickFormat ? e.tickFormat.apply(e, i) : Sw;
        return arguments.length ? o(t, n, r) : o
    },
    m
}
function Ew(t) {
    return zw(kw, t)
}
function Lw(t) {
    return zw(Mw, t)
}
function Dw(t) {
    return zw(Iw, t)
}
function Ow(t) {
    return zw(Aw, t)
}
function Pw(t) {
    var e = t.toString().split(/[eE]/),
    n = (e[0].split(".")[1] || "").length -  + (e[1] || 0);
    return n > 0 ? n : 0
}
function Fw(t) {
    if (-1 === t.toString().indexOf("e"))
        return Number(t.toString().replace(".", ""));
    var e = Pw(t);
    return e > 0 ? t * Math.pow(10, e) : t
}
function Nw(t, e) {
    for (var n = [], i = 2; i < arguments.length; i++)
        n[i - 2] = arguments[i];
    if (n.length > 0)
        return Nw.apply(void 0, [Nw(t, e), n[0]].concat(n.slice(1)));
    var r = Fw(t),
    o = Fw(e),
    a = Pw(t) + Pw(e);
    return r * o / Math.pow(10, a)
}
function Rw(t, e) {
    for (var n = [], i = 2; i < arguments.length; i++)
        n[i - 2] = arguments[i];
    return n.length > 0 ? Rw.apply(void 0, [Rw(t, e), n[0]].concat(n.slice(1))) : Nw(Fw(t) / Fw(e), Math.pow(10, Pw(e) - Pw(t)))
}
var Bw = {
    strip: function (t, e) {
        return void 0 === e && (e = 12),
        +parseFloat(t.toPrecision(e))
    },
    plus: function t(e, n) {
        for (var i = [], r = 2; r < arguments.length; r++)
            i[r - 2] = arguments[r];
        if (i.length > 0)
            return t.apply(void 0, [t(e, n), i[0]].concat(i.slice(1)));
        var o = Math.pow(10, Math.max(Pw(e), Pw(n)));
        return (Nw(e, o) + Nw(n, o)) / o
    },
    minus: function t(e, n) {
        for (var i = [], r = 2; r < arguments.length; r++)
            i[r - 2] = arguments[r];
        if (i.length > 0)
            return t.apply(void 0, [t(e, n), i[0]].concat(i.slice(1)));
        var o = Math.pow(10, Math.max(Pw(e), Pw(n)));
        return (Nw(e, o) - Nw(n, o)) / o
    },
    times: Nw,
    divide: Rw,
    round: function (t, e) {
        var n = Math.pow(10, e);
        return Rw(Math.round(Nw(t, n)), n)
    },
    digitLength: Pw,
    float2Fixed: Fw
},
Ww = "axis",
Gw = function (t) {
    function e() {
        var n,
        i;
        o(this, e);
        for (var r = arguments.length, a = Array(r), s = 0; s < r; s++)
            a[s] = arguments[s];
        return n = i = u(this, t.call.apply(t, [this].concat(a))),
        i.type = Ww,
        u(i, n)
    }
    return s(e, t),
    e.prototype.formatOption = function (e) {
        var n;
        (n = t.prototype.formatOption).call.apply(n, [this].concat(Array.prototype.slice.call(arguments))),
        e.color && (Fa(e, "axisName.style.fill", e.color), Fa(e, "label.style.fill", e.color), Fa(e, "tick.style.stroke", e.color), Fa(e, "line.style.stroke", e.color))
    },
    e.prototype.getScale = function () {
        var t = this.get("type"),
        e = this.scale;
        return e || (this.scale = e = ww[t]()),
        e
    },
    e.prototype.updateBySelf = function () {
        var t = this._option,
        e = t.type,
        n = t.position,
        i = t.splitNumber,
        r = t.$dataZoomIndex,
        o = (t.xOrY, t.domainFormatter),
        a = t.start,
        s = t.end,
        l = t.nice,
        u = t.min,
        h = t.max,
        c = t.fitMin,
        f = t.fitMax,
        d = t.alwaysShowFirst,
        p = t.alwaysShowLast,
        g = t.intervalLength,
        v = t.interval,
        y = t.tickValues,
        m = t.filterHide,
        x = t.domainScale,
        _ = t.offset,
        w = t.domainEqualZero,
        b = t.space,
        S = this.globalModel,
        k = this.global,
        M = (S.getSeriesByAxis(this.index, m), this.axis),
        I = this.getScale(),
        A = void 0,
        T = [],
        C = void 0,
        z = S.getComponentByIndex("dataZoom", r),
        E = this.getGridModels()[0],
        L = E.position,
        D = L.left,
        O = L.top,
        F = L.bottom,
        N = L.right,
        R = L.width,
        G = L.height,
        H = this.get("label"),
        j = (H.style, H.scale, k.getWidth()),
        U = k.getHeight(),
        q = E.position[n];
        switch (n) {
        case "top":
            M = M || Ew(),
            A = [D, N],
            q -= _ = Ea(_, U);
            break;
        case "bottom":
            M = M || Dw(),
            A = [D, N],
            q += _ = Ea(_, U);
            break;
        case "left":
            M = M || Ow(),
            A = [F, O],
            q -= _ = Ea(_, j);
            break;
        case "right":
            M = M || Lw(),
            A = [F, O],
            q += _ = Ea(_, j)
        }
        if (z) {
            a = z.start,
            s = z.end;
            var Y = z.minSpan;
            if ("ordinal" === this.getAxisType() && Y > 1) {
                var V = z.get("minValueSpan"),
                $ = this.getData();
                if (V && $) {
                    $.length;
                    A = [A[0], (A[1] - A[0]) / Y + A[0]]
                }
            }
        } else
            a = Ea(a), s = Ea(s);
        switch (I.range(A), T = this.getOriginDomain(), this.getAxisType()) {
        case "continuous":
            if ("linear" === e) {
                if (w && 0 === T[0] && 0 === T[1] && (T = w, x = 0, b = 0), T = [isNaN(u) ? T[0] : u, isNaN(h) ? T[1] : h], this.get("symmetry")) {
                    var X = Math.abs(Math.min.apply(null, T)),
                    Z = Math.abs(Math.max.apply(null, T)),
                    K = Math.max(X, Z);
                    T = [-K, K]
                }
                if (b) {
                    var Q = void 0,
                    J = void 0;
                    B(b) ? b.length > 1 ? (Q = b[0], J = b[1]) : Q = J = b[0] : Q = J = b,
                    Q = Ea(Q, "top" === n || "bottom" === n ? R : G),
                    J = Ea(J, "top" === n || "bottom" === n ? R : G);
                    var tt = Math.abs(A[0] - A[1]),
                    et = tt / (tt - Q - J) * (T[1] - T[0]);
                    T[0] = T[0] - Q / tt * et,
                    T[1] = T[1] + J / tt * et
                } else if (x) {
                    var nt = (T[1] - T[0]) * (x - 1) / 2;
                    nt || (nt = T[0] * (x - 1)),
                    isNaN(u) && (T[0] >= 0 ? T[0] - nt > 0 ? T[0] -= nt : T[0] = 0 : T[0] -= nt),
                    isNaN(h) && (T[1] <= 0 ? T[1] + nt < 0 ? T[1] += nt : T[1] = 0 : T[1] += nt)
                }
                T[0] > T[1] && T.reverse()
            }
            o && (T = o(T));
            var it = (T = [isNaN(c) ? T[0] : T[0] < c ? c : T[0], isNaN(f) ? T[1] : T[1] > f ? f : T[1]])[1] - T[0];
            "time" !== e ? (s < 1 && (T[1] = T[0] + it * s), a > 0 && (T[0] = T[0] + it * a)) : (T[1] = new Date(+T[0] + it * s), T[0] = new Date(+T[0] + it * a));
            break;
        case "ordinal":
            "band" === e ? I.paddingInner(Ea(this.get("paddingInner"))).paddingOuter(Ea(this.get("paddingOuter"))) : "point" === e && I.padding(Ea(this.get("padding")));
            var rt = T.length,
            ot = Math.round((rt - 1) * a),
            at = Math.round((rt - 1) * s);
            this.startIndex = ot,
            this.endIndex = at,
            T = T.slice(ot, at + 1)
        }
        if (I.domain(T), M.axisLine(this.get("line")), M.axisTick(this.get("tick")), M.axisLabel(this.get("label")), M.scale(I).pos(q).alwaysShowFirst(d).alwaysShowLast(p), y) {
            var st = void 0;
            st = W(y) ? y(T) : y,
            st = "ordinal" === this.getAxisType() ? P(st, function (t) {
                return T.indexOf(t) > -1
            }) : P(st, function (t) {
                return t >= T[0] && t <= T[1]
            }),
            M.tickValues(st)
        }
        switch (e) {
        case "point":
        case "band":
            if (!y) {
                var lt = [];
                if (C = T.length, !v) {
                    if (!g || g <= 0) {
                        for (var ut = T[0], ht = 1; ht < T.length; ht++)
                            ut.length < T[ht].length && (ut = T[ht]);
                        g = this.getLabelLen(ut),
                        g *= 1.2
                    }
                    v = Math.ceil(C / (Math.abs(A[1] - A[0]) / g))
                }
                for (var ct = 0; ct < C; ct += v)
                    lt.push(T[ct]);
                if (p) {
                    var ft = T[C - 1],
                    dt = lt[lt.length - 1],
                    pt = (this.getLabelLen(ft) + this.getLabelLen(dt)) / 2;
                    pt *= 1.5,
                    I(ft) - I(dt) < pt && lt.pop(),
                    lt.push(ft)
                }
                M.tickValues(lt),
                this.interval = v
            }
            break;
        case "linear":
            if (!y && (i && M.ticks(i), l)) {
                var gt = I.ticks(i);
                if (gt.length < 2)
                    1 !== gt.length && (T = [], gt = []);
                else {
                    gt[0] > T[0] && (T[0] = Bw.minus(gt[0], Bw.minus(gt[1], gt[0])), gt.unshift(T[0]));
                    var vt = gt.length;
                    gt[vt - 1] < T[1] && (T[1] = Bw.plus(gt[vt - 1], Bw.minus(gt[vt - 1], gt[vt - 2])), gt.push(T[1]))
                }
                I.domain(T),
                M.tickValues(gt)
            }
            break;
        case "time":
        case "log":
            i && M.ticks(i),
            l && I.nice()
        }
        if ("log" === e && I.base(this.get("logBase")), this.lastDomain = this.domain, this.domain = T, this.range = A, this.pos = q, this.lastStart = this.start, this.lastEnd = this.end, this.start = a, this.end = s, this.axis = M, this.scale = I, this.dataZoomIndex = r, this.barGap = Ea(this.get("barGap")), void 0 === this.lastStart || void 0 === this.lastEnd || a === this.lastStart && s === this.lastEnd || k.dispatchAction(this, ja.zoomChange, {
                zoom: {
                    start: a,
                    end: s
                },
                model: this
            }), this.lastDomain && this.lastDomain.length === T.length) {
            for (var yt = 0; yt < this.lastDomain.length; yt++)
                if (T[yt] !== this.lastDomain[yt]) {
                    k.dispatchAction(this, ja.zoomChange, {
                        domain: T,
                        model: this
                    });
                    break
                }
        } else
            k.dispatchAction(this, ja.domainChange, {
                domain: T,
                model: this
            })
    },
    e.prototype.getOriginDomain = function () {
        var t = this,
        e = this.globalModel;
        if (this.get("relyOtherAxis")) {
            var n = this.get("$axisIndex");
            t = e.getComponentByIndex("axis", n) || t
        }
        var i = t._option,
        r = i.filterHide,
        o = i.addValues,
        a = e.getSeriesByAxis(t.index, r),
        s = [],
        l = [];
        switch (t.getAxisType()) {
        case "continuous":
            D(a, function (n) {
                var i = function (t, e, n) {
                    if (t.getData()) {
                        var i = Hw(t, e, Yl, n),
                        r = Hw(t, e, Ul, n),
                        o = t.get("onZero");
                        return !~["time", "log"].indexOf(e.get("type")) && o && (r < 0 ? r = 0 : i > 0 && (i = 0)),
                        [i, r]
                    }
                    return !1
                }
                (n, t, e);
                i && s.push(i)
            }),
            l[0] = Yl(s, function (t) {
                return t[0]
            }),
            l[1] = Ul(s, function (t) {
                return t[1]
            }),
            B(o) && (l[0] = Math.min.apply(Math, [l[0]].concat(o)), l[1] = Math.max.apply(Math, [l[1]].concat(o)));
            break;
        case "ordinal":
            l = t.getData() || []
        }
        return t.originDomain = l,
        l
    },
    e.prototype.updateByOther = function (t) {
        var e = this._option,
        n = e.position,
        i = e.splitNumber,
        r = e.$dataZoomIndex,
        o = e.start,
        a = e.end,
        s = e.nice,
        l = (e.min, e.max, e.fitMin, e.fitMax, e.alwaysShowFirst),
        u = e.alwaysShowLast,
        h = e.tickValues,
        c = e.offset,
        f = this.global,
        d = this.axis,
        p = this.getScale(),
        g = t.domain,
        v = this.getGridModels()[0],
        y = v.position,
        m = y.left,
        x = y.top,
        _ = y.bottom,
        w = y.right,
        b = (y.width, y.height, this.get("label"), f.getWidth()),
        S = f.getHeight(),
        k = t.get("type");
        this.startIndex = t.startIndex,
        this.endIndex = t.endIndex;
        var M = v.position[n];
        switch (p.domain(g), n) {
        case "top":
            d = d || Ew(),
            p.range([m, w]),
            M -= c = Ea(c, S);
            break;
        case "bottom":
            d = d || Dw(),
            p.range([m, w]),
            M += c = Ea(c, S);
            break;
        case "left":
            d = d || Ow(),
            p.range([_, x]),
            M -= c = Ea(c, b);
            break;
        case "right":
            d = d || Lw(),
            p.range([_, x]),
            M += c = Ea(c, b)
        }
        switch (d.axisLine(this.get("line")), d.axisTick(this.get("tick")), d.axisLabel(this.get("label")), d.scale(p).pos(M).alwaysShowFirst(l).alwaysShowLast(u), h = t.axis.tickValues(), k) {
        case "point":
        case "band":
            d.tickValues(h),
            this.interval = t.interval;
            break;
        case "linear":
            h ? d.tickValues(h) : i && d.ticks(i);
            break;
        case "time":
        case "log":
            i && d.ticks(i),
            s && p.nice()
        }
        "log" === k && p.base(this.get("logBase")),
        this.lastDomain = this.domain,
        this.domain = g,
        this.range = p.range(),
        this.pos = M,
        this.lastStart = this.start,
        this.lastEnd = this.end,
        this.start = o,
        this.end = a,
        this.axis = d,
        this.scale = p,
        this.dataZoomIndex = r,
        this.barGap = Ea(this.get("barGap"))
    },
    e.prototype.update = function () {
        if (this.get("relyOtherAxis")) {
            var t = this.get("$axisIndex"),
            e = this.globalModel.getComponentByIndex("axis", t);
            e && this.updateByOther(e)
        } else
            this.updateBySelf()
    },
    e.prototype.updateData = function () {
        var e;
        (e = t.prototype.updateData).call.apply(e, [this].concat(Array.prototype.slice.call(arguments))),
        this.originDomain = void 0
    },
    e.prototype.getDataByOffset = function (t, e) {
        var n = this.startIndex,
        i = this.getIndexByOffset(t, e) + n;
        return this.getDataByIndex(i)
    },
    e.prototype.getMoveDataByIndex = function (t, e) {
        var n = this.getData(t + this.startIndex),
        i = {
            axis: {
                dataIndex: t + this.startIndex,
                data: n,
                startIndex: this.startIndex,
                axisIndex: t
            },
            series: this.getDataByIndex(t + this.startIndex),
            allSeries: this.getDataByIndex(t + this.startIndex, !1)
        };
        return {
            e: {
                offsetX: this.scale(n),
                offsetY: 1
            },
            lastIndex: e,
            index: t,
            dataIndex: t + this.startIndex,
            axisData: n,
            data: i,
            pos: this.scale(n) + (this.scale.bandwidth ? this.scale.bandwidth() / 2 : 0)
        }
    },
    e.prototype.getDataByIndex = function (t) {
        var e = !(arguments.length > 1 && void 0 !== arguments[1]) || arguments[1],
        n = this.globalModel,
        i = this.index,
        r = (this.scale, this.startIndex),
        o = n.getSeriesByAxis(i, e),
        a = this.scale,
        s = a.domain(),
        l = [];
        return o && o.length && "x" === this.get("xOrY") && "ordinal" === this.getAxisType() && D(o, function (e) {
            var n = e.getAxisModel("y"),
            i = n && n.scale,
            o = i && i.domain();
            D(Da(e._stackByPercent ? e.stackData : e.getRealData(), function (i, r) {
                    return !!i && (n ? "ordinal" === n.getAxisType() ? i[0] === t && i[1] >= n.startIndex && i[1] <= n.endIndex : e._stackByPercent ? i[0] === t && jw(i[1][0], o) && jw(i[1][1], o) : i[0] === t && jw(i[1], o) : i[0] === t)
                }), function (t) {
                var n = e._stackByPercent ? e.stackData[t] : e.getRealData(t),
                o = e._stackByPercent ? [n[0], n[3]] : n,
                u = i && (e._stackByPercent ? i(n[1][1]) : i(n[1]));
                l.push({
                    name: e.get("name"),
                    value: o,
                    color: e.getSeriesColor(),
                    seriesIndex: e.index,
                    type: e.type,
                    dataIndex: t,
                    x: a(s[n[0] - r]),
                    y: u,
                    originValue: n
                })
            })
        }),
        l
    },
    e.prototype.getIndexByOffset = function (t, e) {
        var n = this.scale,
        i = this.get("position"),
        r = "top" === i || "bottom" === i ? t : e;
        r = "top" === i || "bottom" === i ? t - n.range()[0] : n.range()[0] - e;
        var o = Math.min(Math["band" === this.get("type") ? "floor" : "round"]((r - (n.paddingOuter ? (n.paddingOuter() - n.paddingInner() / 2) * n.step() : 0)) / n.step()), n.domain().length - 1);
        return o > -1 ? o : 0
    },
    e.prototype.getGridModels = function () {
        var t = this,
        e = this.get("$gridIndex"),
        n = [];
        return B(e) || (e = [e]),
        D(e, function (e) {
            n.push(t.globalModel.getComponentByIndex("grid", e))
        }),
        n
    },
    e.prototype.getAxisType = function () {
        switch (this.get("type")) {
        case "linear":
        case "time":
        case "log":
            return "continuous";
        case "band":
        case "point":
            return "ordinal"
        }
    },
    e.prototype.setZoom = function (t) {
        var e = this.globalModel.getComponentByIndex("dataZoom", this.get("$dataZoomIndex"));
        e ? (e.set(t), this.global.dispatchAction(e, Va.change, {
                zoom: t
            })) : this.set(t)
    },
    e.prototype.getLabelLen = function (t, e) {
        var n = this.get("position"),
        i = this.get("label"),
        r = i.style,
        o = i.scale,
        s = this.getScale(),
        l = i.formatter || s.tickFormat && s.tickFormat.apply(s),
        u = new vo({
            style: a({
                text: l ? l(t) : t
            }, r)
        }).getBoundingRect(),
        h = void 0;
        if (e || (e = "top" === n || "bottom" === n ? "width" : "height"), i.rotate) {
            var c = i.rotate / 180 * Math.PI;
            h = "width" === e ? Math.min(Math.abs(u.height / Math.sin(c)), u.width) : Math.min(Math.abs(u.height / Math.cos(c)), u.width)
        } else
            h = u[e] * (o ? o["width" === e ? 0 : 1] : 1);
        return h || 0
    },
    e.prototype.getLastData = function () {
        var t = this.endIndex,
        e = this.get("findLastIndex");
        e && (t = e(this.getData(), this.startIndex, this.endIndex));
        var n = this.getData(t);
        return {
            axis: {
                dataIndex: this.endIndex,
                data: n,
                startIndex: this.startIndex,
                axisIndex: this.endIndex - this.startIndex
            },
            series: this.getDataByIndex(t),
            allSeries: this.getDataByIndex(t, !1)
        }
    },
    e
}
(ms);
function Hw(t, e, n, i) {
    if ("x" === e.get("xOrY")) {
        var r = "time" === e.get("type"),
        o = t.getData();
        if (!o || !o.length)
            return;
        for (var a = void 0, s = void 0, l = 0; l < o.length; l++)
            if (o[l]) {
                s = o[l][0];
                break
            }
        return a = B(s) ? n : r ? function (t) {
            return new Date(t)
        }
         : function (t) {
            return t
        },
        n(o, function (t) {
            if (t)
                return a(t[0])
        })
    }
    var u = t.get("stack") ? t.stackData : t.getData();
    if ((u = e.get("sliceData") ? function (t, e) {
            var n = e.getAxisModel("x"),
            i = n.start,
            r = n.end,
            o = n.getAxisType();
            if (void 0 === i || void 0 === r)
                return t;
            if ("ordinal" === o) {
                var a = n.getData().length,
                s = Math.round((a - 1) * i),
                l = Math.round((a - 1) * r);
                return P(t, function (t) {
                    if (t)
                        return t[0] >= s && t[0] <= l
                })
            }
            var u = n.scale.domain(),
            h = "time" === n.get("type");
            return P(t, function (t) {
                if (t) {
                    var e = t[0];
                    return B(e) ? !(e[0] > u[1] || e[1] < u[0]) : (h && (e = new Date(e)), e >= u[0] && e <= u[1])
                }
            })
        }
            (u, t) : u) && u.length) {
        for (var h = void 0, c = void 0, f = 0; f < u.length; f++)
            if (u[f]) {
                c = u[f][1];
                break
            }
        h = B(c) ? n : H(c) ? function (t) {
            var e = void 0;
            return n === Yl ? (e = 1 / 0, D(t, function (t) {
                    return e > t && (e = t)
                })) : (e = -1 / 0, D(t, function (t) {
                    return e < t && (e = t)
                })),
            e
        }
         : function (t) {
            return t
        };
        var d = !t.get("stack") && e.get("compare");
        return n(u, function (t) {
            if (t) {
                var e = t[1];
                return "number" == typeof e || B(e) ? (d && ("percent" === d ? e = (e - c) / c : e -= c), h(e)) : null
            }
        })
    }
}
function jw(t, e) {
    if (B(t)) {
        for (var n = 0; n < t.length; n++)
            if (t[n] < e[0] || t[n] > e[1])
                return !1
    } else if (t < e[0] || t > e[1])
        return !1;
    return !0
}
function Uw(t) {
    var e = t._option,
    n = e.left,
    i = e.right,
    r = e.top,
    o = e.bottom,
    a = e.width,
    s = e.height,
    l = t.global,
    u = l.getWidth(),
    h = l.getHeight(),
    c = {};
    return void 0 !== a ? (c.width = Ea(a, u), void 0 !== n ? (c.left = Ea(n, u), c.right = c.left + c.width) : (c.right = u - Ea(i, u), c.left = c.right - c.width)) : (c.left = Ea(n, u), c.right = u - Ea(i, u), c.width = c.right - c.left),
    void 0 !== s ? (c.height = Ea(s, h), void 0 !== o ? (c.bottom = h - Ea(o, h), c.top = c.bottom - c.height) : (c.top = Ea(r, h), c.bottom = c.top + c.height)) : (c.top = Ea(r, h), t.get("topPlaceHolder").show && (c.top += t.get("topPlaceHolder").height), c.bottom = h - Ea(o, h), t.get("bottomPlaceHolder").show && (c.bottom -= t.get("bottomPlaceHolder").height), c.height = c.bottom - c.top),
    t.position = c
}
Gw.type = Ww,
Gw.defaultOption = {
    $dataIndex: void 0,
    dataKey: void 0,
    $gridIndex: 0,
    $dataZoomIndex: void 0,
    relyOtherAxis: !1,
    xOrY: "x",
    position: "bottom",
    type: "band",
    start: "0%",
    end: "100%",
    barGap: "20%",
    paddingInner: "60%",
    paddingOuter: "30%",
    padding: "0%",
    offset: 0,
    ifTriggerHighlight: !0,
    domainScale: 1.2,
    nice: !1,
    domainFormatter: void 0,
    max: void 0,
    min: void 0,
    fitMax: void 0,
    fitMin: void 0,
    splitNumber: void 0,
    intervalLength: void 0,
    interval: void 0,
    tickValues: void 0,
    domainEqualZero: [-1, 1],
    space: 0,
    addValues: void 0,
    compare: !1,
    alwaysShowLast: !1,
    alwaysShowFirst: !1,
    findLastIndex: void 0,
    symmetry: !1,
    sliceData: !0,
    filterHide: !0,
    ifTriggerMove: void 0,
    logBase: 10,
    line: {
        show: !0,
        style: {
            stroke: "rgba(51, 51, 51, 0.1)",
            lineWidth: 2
        },
        onZero: !1,
        onZeroAxisIndex: 1
    },
    tick: {
        show: !0,
        outerSize: 6,
        innerSize: 0,
        onCenter: !0,
        style: {
            lineWidth: 1,
            stroke: "rgba(51, 51, 51, 0.1)"
        }
    },
    label: {
        show: !0,
        inRange: !1,
        padding: 10,
        style: {
            fill: "rgba(51, 51, 51, 0.4)",
            rich: {
                Y: {},
                m: {},
                b: {},
                d: {},
                a: {},
                I: {},
                p: {}
            }
        },
        inside: !1,
        truncate: !1,
        followLine: !1,
        rotate: 0,
        formatter: void 0
    },
    splitLine: {
        show: !1,
        style: {
            color: "rgba(51, 51, 51, 0.1)",
            lineWidth: 1
        }
    },
    splitArea: {
        show: !1,
        onRect: !1,
        style: {
            color: ["rgba(51, 51, 51, 0.05)", "rgba(0, 0, 0, 0)"]
        }
    },
    axisName: {
        show: !1,
        text: "",
        offset: [0, 0],
        location: "end",
        style: {}
    },
    cursor: "default",
    zlevel: 0,
    z: 0
},
dl(Gw, cw);
var qw = "grid",
Yw = function (t) {
    function e() {
        var n,
        i;
        o(this, e);
        for (var r = arguments.length, a = Array(r), s = 0; s < r; s++)
            a[s] = arguments[s];
        return n = i = u(this, t.call.apply(t, [this].concat(a))),
        i.type = qw,
        i.position = {},
        u(i, n)
    }
    return s(e, t),
    e.prototype.update = function () {
        if (Uw(this), this.get("containLabel")) {
            var t = this.globalModel,
            e = this.supports.axis,
            n = this.position;
            D(e, function (e) {
                var i = t.getComponentByIndex("axis", e),
                r = i.get("label"),
                o = (r.padding, i.getScale()),
                a = i.getOriginDomain();
                if (a.length) {
                    o.domain(a);
                    for (var s = !1, l = i.get("position"), u = void 0, h = Math.ceil(a.length / 100), c = 0; c < a.length; c += h)
                        if (void 0 !== a[c]) {
                            var f = a[c].toFixed ? a[c].toFixed(10) : a[c];
                            0 == s ? s = f : s.length < f.length && (s = f)
                        }
                    switch (l) {
                    case "left":
                    case "right":
                        !1 !== s && (u = i.getLabelLen(s, "width"), u += r.padding, "left" === l ? n.left += u : n.right -= u, n.width -= u);
                        break;
                    case "top":
                    case "bottom":
                        !1 !== s && (u = i.getLabelLen(s, "height"), u += r.padding, "top" === l ? n.top += u : n.bottom -= u, n.height -= u)
                    }
                }
            })
        }
    },
    e.prototype.isPointInGrid = function (t, e) {
        var n = this.position,
        i = n.left,
        r = n.right,
        o = n.top,
        a = n.bottom;
        return t >= i && t <= r && e >= o && e <= a
    },
    e
}
(ms);
Yw.type = qw,
Yw.defaultOption = {
    left: "10%",
    right: "10%",
    top: "10%",
    bottom: "15%",
    width: void 0,
    height: void 0,
    background: {
        show: !1,
        borderEnable: 1,
        style: {
            fill: void 0,
            stroke: void 0,
            lineWidth: 1
        }
    },
    topPlaceHolder: {
        show: !1,
        borderEnable: 1,
        style: {
            stroke: "#ccc",
            fill: void 0,
            lineWidth: 1,
            lineDash: null
        },
        height: 20
    },
    bottomPlaceHolder: {
        show: !1,
        borderEnable: 1,
        style: {
            stroke: "#ccc",
            fill: void 0,
            lineWidth: 1,
            lineDash: null
        },
        height: 20
    },
    containLabel: !1,
    zlevel: 0,
    z: 0
};
var Vw = function (t) {
    function e() {
        var n,
        i;
        o(this, e);
        for (var r = arguments.length, a = Array(r), s = 0; s < r; s++)
            a[s] = arguments[s];
        return n = i = u(this, t.call.apply(t, [this].concat(a))),
        i.type = qw,
        u(i, n)
    }
    return s(e, t),
    e.prototype.render = function (t, e, n) {
        var i = t.position,
        r = i.left,
        o = i.top,
        a = i.width,
        s = i.height,
        l = t.get("background"),
        u = l.borderEnable,
        h = t.get("topPlaceHolder"),
        c = t.get("bottomPlaceHolder");
        l.show && this.setShape("background", Wo, aa({
                shape: {
                    x: r,
                    y: o,
                    width: a,
                    height: s,
                    borderEnable: u
                },
                style: l.style,
                silent: !0
            })),
        h.show && this.setShape("topPlaceHolder", Wo, aa({
                shape: {
                    x: r,
                    y: o - h.height,
                    width: a,
                    height: h.height,
                    borderEnable: h.borderEnable
                },
                style: h.style,
                silent: !0
            })),
        c.show && this.setShape("bottomPlaceHolder", Wo, aa({
                shape: {
                    x: r,
                    y: o + s,
                    width: a,
                    height: c.height,
                    borderEnable: c.borderEnable
                },
                style: c.style,
                silent: !0
            }))
    },
    e.prototype.renderEdit = function (t, e, n) {
        var i = t.position,
        r = i.left,
        o = i.top,
        a = i.right,
        s = i.bottom,
        l = n.getWidth(),
        u = n.getHeight();
        this.setShape("_edit_left", Eo, {
            shape: {
                x1: r,
                y1: o,
                x2: r,
                y2: s
            },
            style: {
                stroke: "rgba(0, 0, 0, 0.8)",
                lineWidth: 2
            },
            cursor: "e-resize",
            z2: 9999
        }, void 0, function (e) {
            function i(e) {
                var n = e.offsetX;
                e.offsetY;
                t.set({
                    left: n
                })
            }
            Ca(e, n, {
                onDragging: i,
                onDragEnd: i
            })
        }),
        this.setShape("_edit_top", Eo, {
            shape: {
                x1: r,
                y1: o,
                x2: a,
                y2: o
            },
            style: {
                stroke: "rgba(0, 0, 0, 0.8)",
                lineWidth: 2
            },
            cursor: "n-resize",
            z2: 9999
        }, void 0, function (e) {
            function i(e) {
                e.offsetX;
                var n = e.offsetY;
                t.set({
                    top: n
                })
            }
            Ca(e, n, {
                onDragging: i,
                onDragEnd: i
            })
        }),
        this.setShape("_edit_right", Eo, {
            shape: {
                x1: a,
                y1: o,
                x2: a,
                y2: s
            },
            style: {
                stroke: "rgba(0, 0, 0, 0.8)",
                lineWidth: 2
            },
            cursor: "e-resize",
            z2: 9999
        }, void 0, function (e) {
            function i(e) {
                var n = e.offsetX;
                e.offsetY;
                t.set({
                    right: l - n
                })
            }
            Ca(e, n, {
                onDragging: i,
                onDragEnd: i
            })
        }),
        this.setShape("_edit_bottom", Eo, {
            shape: {
                x1: r,
                y1: s,
                x2: a,
                y2: s
            },
            style: {
                stroke: "rgba(0, 0, 0, 0.8)",
                lineWidth: 2
            },
            cursor: "n-resize",
            z2: 9999
        }, void 0, function (e) {
            function i(e) {
                e.offsetX;
                var n = e.offsetY;
                t.set({
                    bottom: u - n
                })
            }
            Ca(e, n, {
                onDragging: i,
                onDragEnd: i
            })
        })
    },
    e.prototype.removeEdit = function () {
        var t = this;
        this.eachShape(function (e, n) {
            0 === n.indexOf("_edit_") && (e.disableDrag && e.disableDrag(), t.removeShape(n))
        })
    },
    e
}
(fs);
Vw.type = qw,
dl(Yw, Vw);
var $w = "tooltip",
Xw = function (t) {
    function e() {
        var n,
        i;
        o(this, e);
        for (var r = arguments.length, a = Array(r), s = 0; s < r; s++)
            a[s] = arguments[s];
        return n = i = u(this, t.call.apply(t, [this].concat(a))),
        i.type = $w,
        u(i, n)
    }
    return s(e, t),
    e
}
(ms);
Xw.type = $w,
Xw.defaultOption = {
    $axisIndex: void 0,
    trigger: "item",
    alwaysShowContent: !1,
    offset: [12, 15],
    position: void 0,
    confine: !0,
    formatter: void 0,
    toFixedNumber: 2,
    dataFormatter: void 0,
    axisFormatter: function (t) {
        return t
    },
    enterable: !1,
    showDelay: 0,
    hideDelay: 100,
    triggerOn: "mousemove",
    style: {
        position: "absolute",
        zIndex: 99999,
        backgroundColor: "rgba(0, 0, 0, 0.5)",
        borderColor: "#333",
        borderStyle: "solid",
        borderWidth: 0,
        borderRadius: "5px",
        padding: "5px",
        color: "white",
        display: "none"
    }
};
var Zw = D,
Kw = ["", "Webkit", "Moz", "O"];
function Qw(t, e, n) {
    var i = document.createElement("div"),
    r = this._zr = e.getZr();
    Zw(n, function (t, e) {
        "transition" === e ? Zw(Kw, function (e) {
            i.style[e + "Transition"] = t
        }) : i.style[e] = t
    }),
    this.el = i,
    i.className = "d3charts-tooltip",
    this._x = e.getWidth() / 2,
    this._y = e.getHeight() / 2,
    t.appendChild(i),
    this._container = t,
    this._show = !1,
    this._hideTimeout;
    var o = this;
    i.onmouseenter = function () {
        o._enterable && (clearTimeout(o._hideTimeout), o._show = !0),
        o._inContent = !0
    },
    i.onmousemove = function (e) {
        if (e = e || window.event, !o._enterable) {
            var n = r.handler;
            _t(t, e, !0),
            n.dispatch("mousemove", e)
        }
    },
    i.onmouseleave = function () {
        o._inContent = !1,
        o._enterable && o._show && o.hideLater(o._hideDelay)
    },
    i.onclick = function (e) {
        if (!o._enterable) {
            var n = r.handler;
            _t(t, e, !0),
            n.dispatch("click", e)
        }
    }
}
Qw.prototype = {
    constructor: Qw,
    _enterable: !0,
    update: function () {
        var t = this._container,
        e = t.currentStyle || document.defaultView.getComputedStyle(t),
        n = t.style;
        "absolute" !== n.position && "absolute" !== e.position && (n.position = "relative")
    },
    show: function (t) {
        clearTimeout(this._hideTimeout);
        var e = this.el;
        e.style.left = this._x + "px",
        e.style.top = this._y + "px",
        e.style.display = e.innerHTML ? "block" : "none",
        this._show = !0
    },
    setContent: function (t) {
        this.el.innerHTML = null == t ? "" : t
    },
    setEnterable: function (t) {
        this._enterable = t
    },
    getSize: function () {
        var t = this.el;
        return [t.clientWidth, t.clientHeight]
    },
    moveTo: function (t, e) {
        var n,
        i = this._zr;
        i && i.painter && (n = i.painter.getViewportRoot()) && (t += n.offsetLeft || 0, e += n.offsetTop || 0);
        var r = this.el.style;
        r.left = t + "px",
        r.top = e + "px",
        this._x = t,
        this._y = e
    },
    hide: function () {
        this.el.style.display = "none",
        this._show = !1
    },
    hideLater: function (t) {
        !this._show || this._inContent && this._enterable || (t ? (this._hideDelay = t, this._show = !1, this._hideTimeout = setTimeout(N(this.hide, this), t)) : this.hide())
    },
    isShow: function () {
        return this._show
    },
    remove: function () {
        this._container.removeChild(this.el)
    }
};
var Jw = function (t) {
    function e(n, i, r) {
        o(this, e);
        var a = u(this, t.apply(this, arguments));
        return a.type = $w,
        a._tooltipContent = new Qw(r.getDom(), r, n.get("style")),
        a._tooltipContent.setEnterable(n.get("enterable")),
        a._tooltipContent.update(),
        a._initEvent(n, i, r),
        a
    }
    return s(e, t),
    e.prototype.showTooltip = function (t, e, n, i, r) {
        t.global.dispatchAction(t, "BEFORE_SHOWTOOLTIP", e);
        var o = this._tooltipContent,
        a = t.get("toFixedNumber"),
        s = t.get("dataFormatter"),
        l = t.get("axisFormatter"),
        u = (t.get("formatter") || R(tb, a, s, l))(e);
        u ? (o.setContent(u), o.show(t), this._updatePosition(n, i, t, t.global, "axis", u, r)) : this.hideTooltip(t)
    },
    e.prototype.hideTooltip = function (t) {
        t.global.dispatchAction(t, "AFTER_SHOWTOOLTIP");
        var e = this._tooltipContent;
        e.isShow() && !t.get("alwaysShowContent") && e.hideLater(t.get("hideDelay"))
    },
    e.prototype._initEvent = function (t, e, n) {
        var i = this,
        r = t.get("trigger"),
        o = t.get("triggerOn"),
        s = t.get("$axisIndex"),
        l = t.get("showDelay"),
        u = this._tooltipContent,
        h = e.getComponentByIndex("axis", s),
        c = t.get("$radarAxisIndex"),
        f = e.getComponentByIndex("radarAxis", c);
        if ("axis" === r && f && "polar" === f.getAxisType())
            n.registerAction(f, Ua.move, function (e) {
                e && e.allSeries.length ? i.showTooltip(t, e, e.e.offsetX, e.e.offsetY, 0) : i.hideTooltip(t)
            }), n.registerAction(f, Ua.out, function (e) {
                i.hideTooltip(t)
            });
        else if ("axis" === r && h && "ordinal" === h.getAxisType())
            n.registerAction(h, ja.move, function (e) {
                var n = e.e,
                r = (e.index, e.lastIndex, e.axisData, e.data),
                o = e.dataIndex;
                r && r.allSeries.length ? i.showTooltip(t, r, n.offsetX, n.offsetY, o) : i.hideTooltip(t)
            }), n.registerAction(h, ja.out, function (e) {
                e.lastSeries,
                e.lastIndex;
                i.hideTooltip(t)
            });
        else if ("item" === r) {
            var d = n.getZr(),
            p = void 0;
            n.on(o, function (r) {
                var o = r.offsetX,
                s = r.offsetY,
                h = d.findHover(o, s).target;
                if (h) {
                    h.parent && h.parent.groupShape && (h = h.parent);
                    var c = h,
                    f = c.dataIndex,
                    g = c.name,
                    v = c.seriesIndex,
                    y = e.getComponentByIndex("series", v),
                    m = {},
                    x = h.data;
                    if (void 0 === v)
                        void 0 !== x ? m.series = [x] : m = !1;
                    else {
                        if (!y)
                            return;
                        x || (void 0 !== f ? x = y.get("stack") ? y.points[f][2] : y.getRealData(f) : void 0 !== g && (x = y.findDataNamed(g))),
                        void 0 !== x && (m.series = [a({}, x, {
                                    name: x.name || y.get("name"),
                                    value: x.value || x,
                                    color: x.color || y.getSeriesColor(),
                                    seriesIndex: y.index,
                                    type: y.type,
                                    dataIndex: f
                                })])
                    }
                    if (m) {
                        var _ = t.get("toFixedNumber"),
                        w = t.get("dataFormatter");
                        (m = (y && y.get("tooltip") && y.get("tooltip").formatter || t.get("formatter") || R(tb, _, w, void 0))(m)) && (u.setContent(m), l ? p = setTimeout(function () {
                                u.show(t),
                                i._updatePosition(o, s, t, n, "item", h)
                            }, l) : (u.show(t), i._updatePosition(o, s, t, n, "item", h)))
                    } else
                        i.hideTooltip(t)
                }
            }),
            n.on("mouseout", function (e) {
                p && clearTimeout(p),
                i.hideTooltip(t)
            }),
            n.on("mouseup", function (e) {
                p && clearTimeout(p),
                i.hideTooltip(t)
            })
        }
    },
    e.prototype._updatePosition = function (t, e, n, i, r, o, a) {
        var s = i.getWidth(),
        l = i.getHeight(),
        u = n.get("position"),
        h = n.get("offset"),
        c = n.get("confine"),
        f = this._tooltipContent,
        d = f.getSize();
        if ("function" == typeof u) {
            var p = u({
                x: t,
                y: e,
                model: n,
                dataIndex: a
            });
            t = p.x,
            e = p.y
        } else if (B(u))
            t = u[0], e = u[1];
        else if (H(u));
        else if ("string" == typeof u && o) {
            var g = {
                x: t,
                y: e,
                width: 0,
                height: 0
            };
            "axis" === r && o.series && o.series[0] ? (g.x = o.series[0].x, g.y = o.series[0].y) : "item" === r && o && (g = o.getBoundingRect().clone()).applyTransform(o.transform);
            var v = function (t, e, n) {
                var i = n[0],
                r = n[1],
                o = 0,
                a = 0,
                s = e.width,
                l = e.height;
                switch (t) {
                case "inside":
                    o = e.x + s / 2 - i / 2,
                    a = e.y + l / 2 - r / 2;
                    break;
                case "top":
                    o = e.x + s / 2 - i / 2,
                    a = e.y - r - 5;
                    break;
                case "bottom":
                    o = e.x + s / 2 - i / 2,
                    a = e.y + l + 5;
                    break;
                case "left":
                    o = e.x - i - 5,
                    a = e.y + l / 2 - r / 2;
                    break;
                case "right":
                    o = e.x + s + 5,
                    a = e.y + l / 2 - r / 2
                }
                return [o, a]
            }
            (u, g, d);
            t = v[0],
            e = v[1]
        } else {
            var y = function (t, e, n, i, r) {
                var o = arguments.length > 5 && void 0 !== arguments[5] ? arguments[5] : [0, 0],
                a = eb(n),
                s = a.width,
                l = a.height;
                t + s + o[0] > i ? t -= s + o[0] : t += o[0];
                e + l + o[1] > r ? e -= l + o[1] : e += o[1];
                return [t, e]
            }
            (t, e, f.el, s, l, h);
            t = y[0],
            e = y[1]
        }
        if (c) {
            var m = function (t, e, n, i, r) {
                var o = eb(n),
                a = o.width,
                s = o.height;
                return t = Math.min(t + a, i) - a,
                e = Math.min(e + s, r) - s,
                t = Math.max(t, 0),
                e = Math.max(e, 0),
                [t, e]
            }
            (t, e, f.el, s, l);
            t = m[0],
            e = m[1]
        }
        f.moveTo(t, e)
    },
    e.prototype.remove = function () {
        t.prototype.remove.call(this),
        this._tooltipContent.remove()
    },
    e
}
(fs);
function tb(t, e) {
    var n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : function (t) {
        return t
    },
    i = arguments[3];
    if (i) {
        var r = i.axis,
        o = i.series,
        a = r && r.data,
        s = void 0 !== a ? n(a, r) : "",
        l = !0,
        u = !1;
        return D(o, function (n) {
            var i = B(n.value) ? n.value[1] : n.value;
            if (void 0 !== i) {
                var r = e ? e(i, n) : "number" == typeof i ? i.toFixed(t) : i;
                (r || 0 === r) && (s += "\n                    " + (void 0 === a && l ? "" : "</br>") + "\n                    " + (n.color ? '<span style="display: inline-block; margin-right: 5px; border-radius: 10px; width: 9px; height: 9px; background-color: ' + n.color + '"></span>' : "") + "\n                    " + (n.name ? n.name + ": " : "") + r + "\n            ", l = !1, u = !0)
            }
        }),
        !!u && s
    }
}
function eb(t) {
    var e = t.clientWidth,
    n = t.clientHeight;
    if (document.defaultView && document.defaultView.getComputedStyle) {
        var i = document.defaultView.getComputedStyle(t);
        i && (e += parseInt(i.paddingLeft, 10) + parseInt(i.paddingRight, 10) + parseInt(i.borderLeftWidth, 10) + parseInt(i.borderRightWidth, 10), n += parseInt(i.paddingTop, 10) + parseInt(i.paddingBottom, 10) + parseInt(i.borderTopWidth, 10) + parseInt(i.borderBottomWidth, 10))
    }
    return {
        width: e,
        height: n
    }
}
Jw.type = $w,
dl(Xw, Jw);
var nb = "data",
ib = function (t) {
    function e() {
        var n,
        i;
        o(this, e);
        for (var r = arguments.length, a = Array(r), s = 0; s < r; s++)
            a[s] = arguments[s];
        return n = i = u(this, t.call.apply(t, [this].concat(a))),
        i.type = nb,
        i.isPending = !1,
        u(i, n)
    }
    return s(e, t),
    e.prototype.getData = function (t) {
        return void 0 === t ? this._data : B(t) ? t.length ? O(this._data, function (e) {
            return O(t, function (t) {
                return e[t]
            })
        }) : [] : O(this._data, function (e) {
            return e[t]
        })
    },
    e.prototype.update = function () {
        if (!this.isPending) {
            var t = this.get("$dataIndex"),
            e = this.get("originData"),
            n = this.get("formatter"),
            i = this.globalModel.getComponentByIndex("timeline", this.get("$timelineIndex"));
            if (i && (e = e[i.get("currentIndex")]), this.__dataDirty = !1, void 0 !== e)
                this._data = n(e);
            else if (void 0 !== t) {
                var r = this.globalModel.getComponentByIndex("data", t).getData();
                r && (this._data = n(r))
            }
        }
    },
    e.prototype.updateData = function () {},
    e.prototype.pushData = function (t) {
        var e = this.get("originData");
        e && B(this._data) && (e.push(t), this.dirty())
    },
    e.prototype.setData = function (t) {
        this.set("originData", t)
    },
    e.prototype.dirty = function (t) {
        this.dataDirty(),
        this.globalModel.dirty(this)
    },
    e.prototype.isDirty = function () {
        return this.__dataDirty
    },
    e
}
(ms);
ib.type = nb,
ib.defaultOption = {
    $dataIndex: void 0,
    formatter: function (t) {
        return t
    },
    originData: void 0
},
dl(ib);
var rb = "dataZoom",
ob = function (t) {
    function e() {
        var n,
        i;
        o(this, e);
        for (var r = arguments.length, a = Array(r), s = 0; s < r; s++)
            a[s] = arguments[s];
        return n = i = u(this, t.call.apply(t, [this].concat(a))),
        i.type = rb,
        u(i, n)
    }
    return s(e, t),
    e.prototype.update = function () {
        var t = this,
        e = this.globalModel,
        n = Ea(this.get("start")),
        i = Ea(this.get("end")),
        r = e.getComponent("axis", function (e) {
            return e.get("$dataZoomIndex") === t.index && "ordinal" === e.getAxisType()
        })[0],
        o = this._option,
        a = o.handler,
        s = o.orient,
        l = o.width,
        u = o.height,
        h = o.dataBackground,
        c = o.seriesIndex,
        f = o.label,
        d = o.valueIndex,
        p = this.get("minSpan"),
        g = this.get("maxSpan");
        if (r) {
            var v = this.get("startValue"),
            y = this.get("endValue"),
            m = r.getData();
            if (m) {
                var x = m.length,
                _ = this.get("minValueSpan"),
                w = this.get("maxValueSpan");
                void 0 !== v && void 0 === n && ("number" != typeof v && (v = m.indexOf(v)), v < 0 && (v += x), n = v / (x - 1)),
                void 0 !== y && void 0 === i && ("number" != typeof y && (y = m.indexOf(y)), y < 0 && (y += x), i = y / (x - 1)),
                this.axisData = m,
                void 0 !== _ && (p = _ / x),
                void 0 !== w && (g = w / x)
            }
            this.axisModel = r
        }
        if (n = n || 0, i = i || 1, this.handlerStart = Math.min(Math.max(n, 0), 1), this.handlerEnd = Math.min(Math.max(0, i), 1), this.start = Math.max(Math.min(n, i), 0), this.end = Math.min(Math.max(n, i), 1), this.minSpan = p, this.maxSpan = g, Uw(this), a.show && (this.handlerSize = Oa(a.size, "horizontal" === s ? u : l)), h.show || f.show) {
            var b = e.getComponentByIndex("series", c),
            S = b.getAxisModel("x"),
            k = S.getData();
            if (h.show) {
                var M = S.get("type"),
                I = b.getAxisModel("y").get("type"),
                A = b.getRealData(),
                T = this.xScale = this.xScale || ww[M](),
                C = this.yScale = this.yScale || ww[I](),
                z = this.position,
                E = z.left,
                L = z.right,
                O = z.top,
                P = z.bottom,
                F = this.points = [];
                T.domain(k).range([E, L]),
                C.domain([b.getDataExtent("min", void 0, d, !1)[1], b.getDataExtent("max", void 0, d, !1)[1]]).range([P, O]);
                var N = T.bandwidth ? T.bandwidth() / 2 : 0;
                D(k, function (t, e) {
                    B(A[e][1]) ? F.push([T(t) + N, C(A[e][1][d])]) : F.push([T(t) + N, C(A[e][1])])
                })
            }
            if (f.show) {
                var R = k.length;
                this.xstart = k[Math.round((R - 1) * n)],
                this.xend = k[Math.round((R - 1) * i)]
            }
        }
    },
    e
}
(ms);
ob.type = rb,
ob.defaultOption = {
    $gridIndex: 0,
    type: "inside",
    left: "10%",
    right: "10%",
    top: void 0,
    bottom: "3%",
    width: void 0,
    height: 25,
    background: {
        show: !0,
        style: {
            fill: "rgba(47,69,84,0)",
            stroke: "#ddd",
            lineWidth: 1
        }
    },
    seriesIndex: 0,
    valueIndex: 0,
    dataBackground: {
        show: !1,
        line: {
            show: !0,
            style: {
                stroke: "rgba(47,69,84,0.3)",
                lineWidth: .5
            }
        },
        area: {
            show: !0,
            style: {
                fill: "rgba(47,69,84,0.1)"
            }
        }
    },
    label: {
        show: !1,
        formatter: function (t) {
            return t
        },
        style: {}
    },
    filler: {
        show: !0,
        type: "rect",
        style: {
            fill: "rgba(167,183,204,0.4)",
            stroke: "#ddd"
        }
    },
    handler: {
        show: !0,
        type: "path://M8.2,13.6V3.9H6.3v9.7H3.1v14.9h3.3v9.7h1.8v-9.7h3.3V13.6H8.2z M9.7,24.4H4.8v-1.4h4.9V24.4z M9.7,19.1H4.8v-1.4h4.9V19.1z",
        size: [10, "100%"],
        style: {
            fill: "#a7b7cc",
            stroke: "#000",
            lineWidth: 0
        }
    },
    start: void 0,
    end: void 0,
    startValue: void 0,
    endValue: void 0,
    minSpan: void 0,
    maxSpan: void 0,
    minValueSpan: void 0,
    maxValueSpan: void 0,
    pressStop: !1,
    zoomOnMouseWheel: !0,
    moveOnMouseMove: !0,
    preventDefaultMouseMove: !1,
    preventDefaultMouseWheel: !0,
    orient: "horizontal",
    zlevel: 0,
    z: 8
};
var ab = function (t) {
    function e(n, i, r) {
        o(this, e);
        var a = u(this, t.apply(this, arguments));
        return a.type = rb,
        a._initEvent(n, i, r),
        a
    }
    return s(e, t),
    e.prototype._initEvent = function (t, e, n) {
        var i = this;
        if ("slider" !== t.get("type")) {
            var r = t.get("$gridIndex");
            B(r) ? D(r, function (r) {
                i._bindGridEvent(t, e, n, e.getComponentByIndex("grid", r))
            }) : this._bindGridEvent(t, e, n, e.getComponentByIndex("grid", r))
        }
    },
    e.prototype._bindGridEvent = function (t, e, n, i) {
        var r = !1,
        o = t.get("zoomOnMouseWheel"),
        a = t.get("moveOnMouseMove"),
        s = t.get("preventDefaultMouseMove"),
        l = t.get("preventDefaultMouseWheel");
        if (a) {
            var u = void 0,
            h = !1;
            n.on("mousedown", function (o) {
                if (!n.isEnableEdit && !n.isEnableSketch) {
                    var a = o.offsetX,
                    s = o.offsetY,
                    l = e.getComponent("zoomBrush");
                    if (l)
                        for (var c = l.length; c--; )
                            if (l[c].get("enable"))
                                return;
                    i.isPointInGrid(a, s) && (u = new Date, r = !0, h = !1, n.dispatchAction(t, Va.start, {
                            e: o
                        }))
                }
            }),
            n.on("mousemove", function (e) {
                var o = t.get("pressStop"),
                a = e.offsetX,
                l = e.offsetY,
                c = new Date;
                o && r && !h && c - u > 300 && (r = !1),
                r && i.isPointInGrid(a, l) && (n.dispatchAction(t, Va.moving, {
                        e: e
                    }), s && lb(e), h = !0)
            }),
            n.on("mouseup", function (e) {
                r && n.dispatchAction(t, Va.end),
                r = !1
            }),
            n.on("globalout", function (e) {
                r && n.dispatchAction(t, Va.end),
                r = !1
            })
        }
        o && (n.on("mousewheel", function (e) {
                if (!n.isEnableEdit && !n.isEnableSketch) {
                    var r = e.offsetX,
                    o = e.offsetY,
                    a = e.wheelDelta;
                    i.isPointInGrid(r, o) && (n.dispatchAction(t, Va.wheel, {
                            e: e,
                            scale: a > 0 ? .1 :  - .1,
                            zoomX: r,
                            zoomY: o
                        }), l && lb(e))
                }
            }), n.on("pinch", function (e) {
                if (!n.isEnableEdit && !n.isEnableSketch) {
                    e.offsetX,
                    e.offsetY;
                    var r = e.pinchX,
                    o = e.pinchY;
                    i.isPointInGrid(r, o) && (n.dispatchAction(t, Va.wheel, {
                            e: e,
                            scale: e.pinchScale - 1,
                            zoomX: r,
                            zoomY: o
                        }), lb(e.event))
                }
            }));
        var c = !1,
        f = void 0,
        d = void 0,
        p = void 0;
        n.registerAction(t, Va.start, function (e) {
            var n = e.e,
            i = n.offsetX,
            r = n.offsetY,
            o = t.get("orient");
            f = "horizontal" === o ? i : -r,
            c = !0
        }),
        n.registerAction(t, Va.moving, function (e) {
            var r = e.e,
            o = r.offsetX,
            a = r.offsetY;
            if (c) {
                var s = t.get("orient"),
                l = i.position,
                u = l.width,
                h = l.height,
                g = t.start,
                v = t.end,
                y = "horizontal" === s ? o : -a,
                m = "horizontal" === s ? u : h,
                x = t.axisModel && t.axisModel.scale.step && t.axisModel.scale.step();
                if (p = (d = y - f) / m * (v - g), x && Math.abs(d) < x)
                    return;
                if (g - p >= 0 && v - p <= 1) {
                    var _ = {
                        start: g - p,
                        end: v - p
                    };
                    sb(t, _) && (fb(_, t), t.set(_), n.dispatchAction(t, Va.change, {
                            zoom: db(_)
                        }))
                } else if (0 !== g && g - p < 0) {
                    var w = {
                        start: 0,
                        end: v - p + (p - g)
                    };
                    sb(t, w) && (fb(w, t), t.set(w), n.dispatchAction(t, Va.change, {
                            zoom: db(w)
                        }))
                } else if (1 !== v && v - p > 1) {
                    var b = {
                        start: g - p - (v - p - 1),
                        end: 1
                    };
                    sb(t, b) && (fb(b, t), t.set(b), n.dispatchAction(t, Va.change, {
                            zoom: db(b)
                        }))
                }
                f = y
            }
        }),
        n.registerAction(t, Va.end, function () {
            c = !1
        }),
        n.registerAction(t, Va.wheel, function (e) {
            var r = e.zoomX,
            o = e.zoomY,
            a = e.scale,
            s = t.get("orient"),
            l = t.minSpan,
            u = t.maxSpan,
            h = i.position,
            c = h.left,
            f = h.bottom,
            d = h.width,
            p = h.height,
            g = "horizontal" === s ? (r - c) / d : (f - o) / p,
            v = t.start,
            y = t.end,
            m = y - v;
            v += (m *= a) * g,
            y -= m * (1 - g),
            v = Math.max(0, v),
            y = Math.min(1, y);
            var x = {
                start: Math.max(0, v),
                end: Math.min(1, y)
            };
            l && (Math.abs(x.start - x.end) < l || l > 1) || u && Math.abs(x.start - x.end) > u || sb(t, x) && (fb(x, t), t.set(x), n.dispatchAction(t, Va.change, {
                    zoom: db(x)
                }))
        })
    },
    e.prototype.render = function (t, e, n) {
        var i = this;
        if ("inside" !== t.get("type")) {
            var r = t.position,
            o = t.handlerStart,
            s = t.handlerEnd,
            l = (t.handlerSize, t.points),
            u = r.left,
            h = (r.right, r.top),
            c = r.bottom,
            f = r.width,
            d = r.height,
            p = t.get("filler"),
            g = t.get("background"),
            v = t.get("dataBackground"),
            y = "horizontal" === t.get("orient");
            if (g.show && this.setShape("background", Co, aa({
                        shape: {
                            x: u,
                            y: h,
                            width: f,
                            height: d
                        },
                        style: g.style
                    })), v.show) {
                if (v.line.show) {
                    var m = {
                        x: function (t) {
                            return t[0]
                        },
                        y: function (t) {
                            return t[1]
                        },
                        data: l,
                        percent: 1,
                        defined: function (t) {
                            return t
                        }
                    },
                    x = v.line.style;
                    this.setShape("dataBackground.line", Qo, {
                        shape: m,
                        style: x
                    })
                }
                if (v.area.show) {
                    var _ = {
                        x: function (t) {
                            return t[0]
                        },
                        y1: function (t) {
                            return t[1]
                        },
                        y0: c,
                        data: l,
                        percent: 1,
                        defined: function (t) {
                            return t
                        }
                    },
                    w = v.area.style;
                    this.setShape("dataBackground.area", Ud, {
                        shape: _,
                        style: w
                    })
                }
            }
            if (p.show) {
                var b = void 0;
                b = y ? {
                    x: f * o,
                    y: 0,
                    width: f * (s - o),
                    height: d
                }
                 : {
                    x: 0,
                    y: d * o,
                    width: f,
                    height: d * (s - o)
                },
                this.setShape("filler", zs, {
                    shape: a({
                        symbolType: p.type
                    }, b),
                    position: [u, h],
                    style: p.style
                }, void 0, function (e) {
                    e.on("mousedown", function (e) {
                        i.draggingFiller = !0,
                        cb.call(i, e, y, t, n)
                    }),
                    n.on("mousemove", function (e) {
                        cb.call(i, e, y, t, n)
                    }),
                    n.on("mouseup", function (e) {
                        cb.call(i, e, y, t, n),
                        i.draggingFiller = !1,
                        i.lastFillerOffset = void 0
                    }),
                    n.on("globalout", function (e) {
                        cb.call(i, e.event, y, t, n),
                        i.draggingFiller = !1,
                        i.lastFillerOffset = void 0
                    })
                })
            }
            t.get("handler").show && (ub.call(this, "start", t, e, n), ub.call(this, "end", t, e, n))
        }
    },
    e
}
(fs);
function sb(t, e) {
    return t.start !== e.start || t.end !== e.end
}
function lb(t) {
    var e = t.event;
    e.preventDefault && e.preventDefault()
}
function ub(t, e, n, i) {
    var r,
    o = this,
    s = e.position,
    l = e.handlerStart,
    u = e.handlerEnd,
    h = e.handlerSize,
    c = (e.xstart, e.xend, e.get("label")),
    f = s.left,
    d = (s.right, s.top),
    p = (s.bottom, s.width),
    g = (s.height, "horizontal" === e.get("orient")),
    v = e.get("handler"),
    y = v.style;
    c.show && (y = a({
            text: c.formatter(e["x" + t]),
            textPosition: "start" === t && l < u || "end" === t && l > u ? "left" : "right"
        }, n.getFormattedText(c.style), v.style)),
    r = {
        shape: a({
            symbolType: v.type,
            x: -h.width / 2,
            y: 0
        }, h),
        position: [f + p * e["start" === t ? "handlerStart" : "handlerEnd"], d],
        style: y,
        rectHover: !0,
        cursor: "ew-resize"
    },
    this.setShape("handler" + t, zs, r, void 0, function (n) {
        n.handlerType = t,
        n.on("mousedown", function () {
            o["draggingHandler" + t] = !0
        }),
        i.on("mousemove", function (r) {
            hb(o["draggingHandler" + t], r, g, e, n.handlerType, i)
        }),
        i.on("mouseup", function (r) {
            hb(o["draggingHandler" + t], r, g, e, n.handlerType, i),
            o["draggingHandler" + t] = !1
        }),
        i.on("globalout", function (r) {
            hb(o["draggingHandler" + t], r.event, g, e, n.handlerType, i),
            o["draggingHandler" + t] = !1
        })
    })
}
function hb(t, e, n, i, r, o) {
    var a = e.offsetX;
    e.offsetY;
    if (t) {
        var s = i.position,
        l = s.left,
        u = s.right,
        h = (s.top, s.bottom, s.width),
        c = (s.height, i.minSpan),
        f = i.maxSpan,
        d = void 0;
        if (n) {
            var p;
            d = function (t, e, n) {
                return t < e && (t = e),
                t > n && (t = n),
                t
            }
            (d = a, l, u);
            var g = ((p = {
                        start: i.start,
                        end: i.end
                    })[r] = (d - l) / h, p);
            if (c && (Math.abs(g.start - g.end) < c || c > 1))
                return;
            if (f && Math.abs(g.start - g.end) > f)
                return;
            fb(g, i),
            i.set(g),
            o.dispatchAction(i, Va.change, {
                zoom: db(g)
            })
        }
    }
}
function cb(t, e, n, i) {
    var r = t.offsetX,
    o = t.offsetY;
    if (this.draggingFiller) {
        var a = n.position,
        s = (a.left, a.right, a.top, a.bottom, a.width),
        l = (a.height, e ? r : o),
        u = this.lastFillerOffset;
        if (this.lastFillerOffset = l, void 0 !== u) {
            var h = n.start,
            c = n.end,
            f = l - u,
            d = void 0,
            p = void 0;
            if (e) {
                p = f / s + c,
                (d = f / s + h) < 0 && (p += 0 - d, d = 0),
                p > 1 && (d -= p - 1, p = 1);
                var g = {
                    start: d,
                    end: p
                };
                fb(g, n),
                n.set(g),
                i.dispatchAction(n, Va.change, {
                    zoom: db(g)
                })
            }
        }
    }
}
function fb(t, e) {
    var n = e.axisData;
    n && (t.startValue = Math.round(t.start * (n.length - 1)), t.endValue = Math.round(t.end * (n.length - 1)))
}
function db(t) {
    return {
        start: Math.min(t.start, t.end),
        end: Math.max(t.start, t.end)
    }
}
ab.type = rb,
dl(ob, ab);
var pb = "legend",
gb = function (t) {
    function e() {
        var n,
        i;
        o(this, e);
        for (var r = arguments.length, a = Array(r), s = 0; s < r; s++)
            a[s] = arguments[s];
        return n = i = u(this, t.call.apply(t, [this].concat(a))),
        i.type = pb,
        u(i, n)
    }
    return s(e, t),
    e.prototype.update = function () {
        var t = this.global,
        e = this.globalModel,
        n = t.getWidth(),
        i = t.getHeight(),
        r = this.get("left"),
        o = this.get("right"),
        a = this.get("width"),
        s = this.get("top"),
        l = this.getData(),
        u = this.get("selected"),
        h = {};
        l || (l = [], e.eachComponent("series", function (t) {
                var e = t.get("name");
                e && l.push(e)
            }, !1)),
        u && D(u, function (t, e) {
            h[e] = t
        });
        var c = O(l, function (t) {
            return H(t) ? t : {
                name: t
            }
        });
        D(c, function (t) {
            var e = t.name;
            return h[e] = !(u && (!u || !1 === u[e]))
        }),
        this.selected = h,
        this.items = c,
        o = Ea(o, n),
        a = Ea(a, n),
        "center" === r || "right" === r ? (a || (a = n), o = n, r = n - a) : (r = Ea(r, n), void 0 !== o ? (o = n - o, void 0 !== a ? r = o - a : a = o - (r = r || 0)) : (r = r || 0, o = void 0 !== a ? r + a : r + (a = n - r))),
        s = "middle" === s ? 0 : Ea(s, i),
        this.position = {
            left: r,
            width: a,
            right: o,
            top: s
        }
    },
    e.prototype.isSelected = function (t) {
        return !!this.selected[t]
    },
    e.prototype.toggleMultiple = function (t, e) {
        var n = this,
        i = this.global,
        r = this.globalModel,
        o = this.selected,
        a = void 0 === e ? o[t] : !e,
        s = r.getSeriesByName(t, !1);
        s.length ? D(s, function (e) {
            if (!1 === a) {
                var r;
                e.set("selected", !0),
                n.set({
                    selected: (r = {}, r[t] = !0, r)
                })
            } else {
                var o,
                s = i.getViewOfComponentModel(e);
                e.set("selected", !1),
                i.dispatchAction(e, $a.unselected),
                s && s.remove(),
                n.set({
                    selected: (o = {}, o[t] = !1, o)
                })
            }
        }) : r.eachComponent("series", function (e) {
            var i,
            r,
            o,
            s;
            e.findDataNamed(t) && (!1 === a ? (e.set({
                        selected: (i = {}, i[t] = !0, i)
                    }), n.set({
                        selected: (r = {}, r[t] = !0, r)
                    })) : (e.set({
                        selected: (o = {}, o[t] = !1, o)
                    }), n.set({
                        selected: (s = {}, s[t] = !1, s)
                    })))
        }, !1)
    },
    e.prototype.toggleSingle = function (t) {
        var e = this,
        n = this.global,
        i = this.globalModel,
        r = this.selected,
        o = this.items;
        r[t];
        D(o, function (r) {
            var o = r.name,
            a = i.getSeriesByName(o, !1);
            a.length ? D(a, function (i) {
                if (o === t) {
                    var r;
                    i.set("selected", !0),
                    e.set({
                        selected: (r = {}, r[o] = !0, r)
                    })
                } else {
                    var a,
                    s = n.getViewOfComponentModel(i);
                    i.set("selected", !1),
                    n.dispatchAction(i, $a.unselected),
                    s && s.remove(),
                    e.set({
                        selected: (a = {}, a[o] = !1, a)
                    })
                }
            }) : i.eachComponent("series", function (n) {
                var i,
                r,
                a,
                s;
                n.findDataNamed(o) && (o === t ? (n.set({
                            selected: (i = {}, i[o] = !0, i)
                        }), e.set({
                            selected: (r = {}, r[o] = !0, r)
                        })) : (n.set({
                            selected: (a = {}, a[o] = !1, a)
                        }), e.set({
                            selected: (s = {}, s[o] = !1, s)
                        })))
            }, !1)
        })
    },
    e
}
(ms);
gb.type = pb,
gb.defaultOption = {
    data: void 0,
    show: !0,
    left: "10%",
    top: "2.5%",
    right: void 0,
    bottom: void 0,
    width: void 0,
    align: "left",
    type: "plain",
    page: {
        pageIndex: 1,
        buttonItemGap: 2,
        buttonGap: 0,
        iconColor: "#2f4554",
        iconInactiveColor: "#aaa",
        iconSize: [14, 16],
        iconOffset: [0, -3],
        textStyle: {
            fill: "#333",
            fontStyle: "normal",
            fontWeight: "normal",
            fontFamily: "sans-serif",
            fontSize: 16,
            textOffset: [0, -1.5]
        }
    },
    orient: "horizontal",
    inactiveColor: "#ccc",
    verticalGap: 5,
    horizontalGap: 10,
    innerGap: 5,
    addLine: !0,
    itemWidth: void 0,
    symbol: {
        type: void 0,
        size: [16, 10],
        color: void 0,
        style: {}
    },
    selectedMode: "multiple",
    selected: {},
    textStyle: {
        fontSize: 12,
        fontFamily: "sans-serif"
    },
    padding: [10, 15, 10, 15],
    background: {
        show: !1,
        radius: 5,
        style: {
            lineWidth: 1,
            fill: "rgba(128, 128, 128, 0.2)",
            stroke: "#ccc"
        }
    },
    formatter: void 0,
    onClick: void 0,
    zlevel: 0,
    z: 8
};
var vb = function (t) {
    function e(n, i, r) {
        o(this, e);
        var a = u(this, t.apply(this, arguments));
        return a.globalModel = i,
        a.attr(arguments),
        a
    }
    return s(e, t),
    e.prototype.attr = function (t) {
        var e = t[0],
        n = t[1],
        i = t[2],
        r = e.x,
        o = e.y,
        s = e.textStyle,
        l = e.symbolType,
        u = e.symbolWidth,
        h = e.symbolHeight,
        c = e.symbolColor,
        f = e.align,
        d = e.innerGap,
        p = e.symbolStyle,
        g = e.series,
        v = (e.item, e.isSelected),
        y = e.inactiveColor,
        m = e.position,
        x = e.left,
        _ = (e.width, e.right),
        w = e.lastHeight,
        b = e.verticalGap,
        k = e.fromRight,
        M = e.addLine,
        I = e.itemWidth,
        A = v ? c : y,
        T = g.get("symbol") && g.get("symbol").normal,
        C = g.get("line") && g.get("line").normal,
        z = new vo(n.getFormattedText({
                    style: a({
                        textVerticalAlign: "center",
                        truncate: I ? {
                            outerWidth: I - d - u
                        }
                         : null
                    }, s)
                })),
        E = void 0,
        L = void 0,
        D = l;
        if (D || (D = "line" === g.type && C.show ? T && T.show && T.type || "none" : "roundRect"), M && "line" === g.type && C.show) {
            var O = C.style;
            L = new Eo(oa({
                        shape: {
                            x1: 0,
                            y1: 0,
                            x2: u,
                            y2: 0
                        },
                        style: v ? O : S({
                            stroke: y
                        }, O, !1),
                        z2: 0
                    }))
        }
        if (E = M && "line" === g.type && C.show ? new zs({
                shape: {
                    symbolType: D,
                    x: (u - h) / 2,
                    y: 0,
                    width: h,
                    height: h
                },
                z2: 1
            }) : new zs({
                shape: {
                    symbolType: D,
                    x: 0,
                    y: 0,
                    width: u,
                    height: h
                },
                z2: 1
            }), !l && "line" === g.type && C.show && T && T.show && !W(T.style)) {
            var P = T.style,
            F = v ? p : {
                fill: P.fill && y,
                stroke: P.stroke && y
            };
            E.setStyle(v ? P : S(F, T.style, !1))
        } else
            E.setColor(A), v && E.setStyle(p);
        var N = void 0,
        R = void 0,
        B = z.getBoundingRect(),
        G = B.height,
        H = B.width,
        j = o + Math.max(h, G) / 2,
        U = (i.getWidth(), void 0),
        q = void 0;
        function Y() {
            for (var t = s.text, e = "", n = 0; n < t.length; n++)
                e += t[n], z.attr({
                    style: {
                        text: e
                    }
                }), H = z.getBoundingRect().width, U = u + H + d, q = I || U, k ? m[0] - q < x && (e = e.replace(/.$/, "\n" + e.match(/.$/)), m[1] += G / 2) : m[0] + q > _ && (e = e.replace(/.$/, "\n" + e.match(/.$/)), m[1] += G / 2)
        }
        U = u + H + d,
        q = I || U,
        k ? m[0] - q < x && (_ === m[0] ? I || Y() : (m = [_, m[1] + w + b], I || Y())) : m[0] + q > _ && (x === m[0] ? I || Y() : (m = [x, m[1] + w + b], I || Y())),
        "right" === f ? (N = r, R = r + H + d) : (R = r, N = r + u + d),
        z.attr({
            position: [N, j - 1]
        }),
        E.attr({
            position: [R, j - h / 2]
        }),
        this.set("text", z),
        this.set("symbol", E),
        L && (L.attr({
                position: [R, j]
            }), L && this.set("line", L)),
        k && (m = [m[0] - I, m[1]]),
        this.group.attr("position", m)
    },
    e.prototype.remove = function () {
        var e;
        (e = t.prototype.remove).call.apply(e, [this].concat(Array.prototype.slice.call(arguments))),
        this.globalModel = null
    },
    e
}
(Ip),
yb = function (t) {
    function e(n, i, r) {
        o(this, e);
        var a = u(this, t.apply(this, arguments));
        return a.type = pb,
        r.registerAction(n, Xa.click, function (t) {
            var e = t.name;
            "single" === n.get("selectedMode") ? n.toggleSingle(e) : n.toggleMultiple(e)
        }),
        r.registerAction(n, Xa.mouseover, function (t) {
            var e = t.name;
            n.isSelected(e) && D(i.getComponentByName("series", e, !0), function (t) {
                t.get("legendHoverLink") && r.getViewOfComponentModel(t).highlight(t, i, r)
            })
        }),
        r.registerAction(n, Xa.mouseout, function (t) {
            var e = t.name;
            n.isSelected(e) && D(i.getComponentByName("series", e, !0), function (t) {
                t.get("legendHoverLink") && r.getViewOfComponentModel(t).downplay(t, i, r)
            })
        }),
        a
    }
    return s(e, t),
    e.prototype.render = function (t, e, n) {
        var i = this;
        if (this.remove(), t.get("show")) {
            var r = t.position,
            o = r.left,
            s = r.right,
            l = r.top,
            u = r.width,
            h = t.items,
            c = t.selected,
            f = n.getWidth(),
            d = n.getHeight(),
            p = t.get("orient"),
            g = t.get("align"),
            v = t.get("inactiveColor"),
            y = Ea(t.get("verticalGap"), d),
            m = Ea(t.get("horizontalGap"), f),
            x = t.get("innerGap"),
            _ = t.get("addLine"),
            w = t.get("formatter"),
            b = t.get("selectedMode"),
            k = t.get("symbol"),
            M = k.size,
            I = k.type,
            A = k.color,
            C = k.style;
            M = Oa(M);
            var z = t.get("textStyle"),
            E = t.get("itemWidth"),
            L = t.get("onClick"),
            O = o,
            P = l,
            F = void 0,
            N = t.get("type"),
            R = t.get("page"),
            B = t.get("page").buttonItemGap,
            W = t.get("page").buttonGap,
            G = t.get("page").iconColor,
            H = t.get("page").iconInactiveColor,
            j = t.get("page").iconSize,
            U = t.get("page").iconOffset,
            q = t.get("page").textStyle,
            Y = T();
            Y.save();
            var V = function (r, h) {
                h && (O = o),
                D(r, function (r) {
                    var h = r.name,
                    f = r.icon,
                    d = r.style,
                    k = r.size,
                    T = r.showName,
                    D = void 0 !== k ? Oa(k) : M,
                    R = D.width,
                    B = D.height,
                    W = e.getSeriesByName(h, !1),
                    G = void 0;
                    if (W.length ? G = W[0] : e.eachComponent("series", function (t) {
                            t.findDataNamed(h) && (G = t)
                        }, !1), G) {
                        var H = !!c[h],
                        j = i.setShape(h, vb, [{
                                        x: 0,
                                        y: 0,
                                        textStyle: a({}, z, {
                                            fill: c[h] ? z.fill : v,
                                            text: T || (w ? w(h, r) : h)
                                        }),
                                        align: g,
                                        symbolType: f || I,
                                        symbolWidth: R,
                                        symbolHeight: B,
                                        symbolColor: A || G.getSeriesColor(h),
                                        innerGap: x,
                                        symbolStyle: S(d || {}, C, !1),
                                        series: G,
                                        item: r,
                                        isSelected: H,
                                        inactiveColor: v,
                                        position: [O, P],
                                        fromRight: !1,
                                        left: o,
                                        right: s,
                                        width: u,
                                        lastHeight: F,
                                        verticalGap: y,
                                        addLine: _,
                                        itemWidth: E,
                                        type: N
                                    }, e, n], {
                            animation: !0
                        }, function (e) {
                            b && (e.group && (e = e.group), e._name = h, e.on("click", function (e) {
                                    var i = this._name;
                                    n.dispatchAction(t, Xa.click, {
                                        e: e,
                                        name: i,
                                        item: r,
                                        model: t
                                    }),
                                    L && L(i, r, t)
                                }), e.on("mouseover", function (e) {
                                    var i = this._name;
                                    n.dispatchAction(t, Xa.mouseover, {
                                        e: e,
                                        name: i,
                                        item: r,
                                        model: t
                                    })
                                }), e.on("mouseout", function (e) {
                                    var i = this._name;
                                    n.dispatchAction(t, Xa.mouseout, {
                                        e: e,
                                        name: i,
                                        item: r,
                                        model: t
                                    })
                                }), e.on("mousemove", function (e) {
                                    var i = this._name;
                                    n.dispatchAction(t, Xa.mousemove, {
                                        e: e,
                                        name: i,
                                        item: r,
                                        model: t
                                    })
                                }))
                        }),
                        U = j.group.getBoundingRect();
                        "vertical" === p ? P = j.group.position[1] + U.height + y : "scroll" === N && "horizontal" === p ? (F = U.height, O = j.group.position[0] + ((E || U.width) + m), P = l) : (F = U.height, O = j.group.position[0] + ((E || U.width) + m), P = j.group.position[1])
                    }
                })
            };
            if ("scroll" === N && "horizontal" === p) {
                Y.font = q.fontSize + "px " + q.fontFamily;
                for (var $ = Y.measureText("99/99").width, X = t.position.width - $ - 3 * j[0] - W - 2 * B, Z = [0], K = 0, Q = 0; Q < h.length; Q++) {
                    var J = h[Q];
                    Y.font = z.fontSize + "px " + z.fontFamily;
                    var tt = Y.measureText(J.name).width,
                    et = M.width + tt + x + m;
                    (K += et) > X && (Z.push(Q), K = et)
                }
                Z.push(h.length);
                var nt = Z.length - 1,
                it = t.get("page").pageIndex;
                Y.font = q.fontSize + "px " + q.fontFamily,
                $ = Y.measureText(it + "/" + nt).width,
                V(h.slice(Z[it - 1], Z[it]), !0),
                this.setShape("pre", zs, {
                    shape: {
                        symbolType: "triangle",
                        width: j[1],
                        height: j[0],
                        x: -j[1],
                        y: -j[0]
                    },
                    style: {
                        fill: 1 === it ? H : G
                    },
                    position: [t.position.right - 2 * j[0] - $ - 2 * B + U[0], t.position.top + U[1]],
                    rotation: Math.PI / 2
                }, void 0, function (e) {
                    e.on("click", function (e) {
                        if (1 !== it) {
                            it--;
                            var n = R;
                            n.pageIndex = it,
                            t.set("page", n)
                        }
                    })
                }),
                this.setShape("next", zs, {
                    shape: {
                        symbolType: "triangle",
                        width: j[1],
                        height: j[0]
                    },
                    style: {
                        fill: it === nt ? H : G
                    },
                    position: [t.position.right - j[0] + U[0], t.position.top + U[1]],
                    rotation: -Math.PI / 2
                }, void 0, function (e) {
                    e.on("click", function (e) {
                        if (it !== nt) {
                            it++;
                            var n = R;
                            n.pageIndex = it,
                            t.set("page", n)
                        }
                    })
                }),
                this.setShape("pageText", vo, Sa({
                        style: a({
                            text: it + "/" + nt,
                            x: t.position.right - 2 * j[0] - $ - B + q.textOffset[0],
                            y: t.position.top + q.textOffset[1]
                        }, q)
                    }))
            } else
                V(h, !1);
            this.removeShape("background");
            var rt = this.group.getBoundingRect(),
            ot = Ea(t.get("bottom"), d),
            at = void 0,
            st = void 0;
            switch (t.get("left")) {
            case "center":
                at = f / 2 - rt.width / 2 - rt.x,
                t.position.left = at;
                break;
            case "right":
                at = f - 5 - rt.x - rt.width;
                break;
            case "left":
                at = 5;
                break;
            default:
                void 0 !== t.get("right") && (at = s - rt.x - rt.width)
            }
            "middle" === t.get("top") && (st = d / 2 - rt.height / 2 - rt.y),
            void 0 !== ot && (st = d - ot - rt.height - rt.y),
            at && D(this.group.children(), function (t) {
                t.position[0] += at
            }),
            st && D(this.group.children(), function (t) {
                t.position[1] += st
            });
            var lt = t.get("background");
            if (lt.show) {
                var ut = t.get("padding"),
                ht = this.group.getBoundingRect();
                this.setShape("background", Co, {
                    shape: {
                        x: ht.x - ut[3],
                        y: ht.y - ut[0],
                        width: ht.width + ut[1] + ut[3],
                        height: ht.height + ut[0] + ut[2],
                        r: lt.radius
                    },
                    style: lt.style,
                    z2: -1,
                    silent: !0
                })
            }
            Y.restore()
        }
    },
    e.prototype.renderEdit = function (t, e, n) {
        var i = t.position,
        r = i.left,
        o = i.top,
        a = t.get("left");
        "center" !== a && "right" !== a || (r = this.group.getBoundingRect().x);
        this.setShape("_edit_point", yo, {
            shape: {
                cx: r,
                cy: o,
                r: 7
            },
            style: {
                fill: "rgba(0, 0, 0, 0.8)"
            },
            cursor: "move",
            z2: 9999
        }, void 0, function (e) {
            function i(e) {
                var n = e.offsetX,
                i = e.offsetY;
                t.set({
                    left: n,
                    top: i
                })
            }
            Ca(e, n, {
                onDragging: i,
                onDragEnd: i
            })
        })
    },
    e.prototype.removeEdit = function () {
        var t = this;
        this.eachShape(function (e, n) {
            0 === n.indexOf("_edit_") && (e.disableDrag && e.disableDrag(), t.removeShape(n))
        })
    },
    e
}
(fs);
yb.type = pb,
dl(gb, yb);
var mb = "axisPointer",
xb = function (t) {
    function e() {
        var n,
        i;
        o(this, e);
        for (var r = arguments.length, a = Array(r), s = 0; s < r; s++)
            a[s] = arguments[s];
        return n = i = u(this, t.call.apply(t, [this].concat(a))),
        i.type = mb,
        u(i, n)
    }
    return s(e, t),
    e.prototype.update = function () {
        var t = this.get("seriesLabel"),
        e = this.globalModel,
        n = [];
        D(t.seriesIndex, function (t) {
            if ("string" == typeof t) {
                var i = e.getComponentById("series", t);
                i && -1 === n.indexOf(i.index) && n.push(i.index)
            } else  - 1 === n.indexOf(t) && n.push(t)
        }),
        this.seriesIndex = n
    },
    e.prototype.updateByXY = function (t, e) {
        var n = this.global,
        i = this.globalModel,
        r = n.getViewOfComponentModel(this),
        o = this.getAxisModel("x"),
        a = this.getAxisModel("y"),
        s = o.getIndexByOffset(t, e),
        l = o.getData()[s],
        u = a.scale.invert(e),
        h = o.scale(l) + (o.scale.bandwidth ? o.scale.bandwidth() / 2 : 0);
        r.movePointer(this, o, i, {
            offsetX: t,
            offsetY: e,
            axisData: l,
            pos: h
        }),
        r.movePointer(this, a, i, {
            offsetX: t,
            offsetY: e,
            axisData: u
        })
    },
    e.prototype.updateByIndex = function (t, e) {
        var n = this.global,
        i = this.globalModel,
        r = n.getViewOfComponentModel(this),
        o = this.getAxisModel("x"),
        a = this.getAxisModel("y");
        if (o) {
            var s = o.getData()[t],
            l = o.scale(s) + (o.scale.bandwidth ? o.scale.bandwidth() / 2 : 0);
            r.movePointer(this, o, i, {
                axisData: s,
                pos: l
            })
        }
        if (a) {
            var u = a.scale(e);
            r.movePointer(this, a, i, {
                offsetY: u,
                axisData: e
            })
        }
    },
    e
}
(ms);
xb.type = mb,
xb.defaultOption = {
    $axisIndex: [0, 1],
    enable: !0,
    line: {
        show: !0,
        topExtend: 0,
        style: {
            stroke: "rgba(51, 51, 51, 0.5)",
            lineWidth: 1
        }
    },
    shadow: {
        show: !1,
        style: {
            fill: "rgba(150,150,150,0.3)"
        }
    },
    label: {
        show: !0,
        formatter: void 0,
        gap: void 0,
        inRange: void 0,
        inside: !1,
        style: {
            fill: "white",
            textPadding: 5,
            textBorderRadius: 2,
            textBackgroundColor: "#6A7985"
        },
        rotate: void 0
    },
    valueIndex: void 0,
    seriesLabel: {
        show: !1,
        gap: 5,
        formatter: function (t) {
            return t
        },
        seriesIndex: [],
        style: {
            textVerticalAlign: "bottom",
            textAlign: "right"
        }
    },
    zlevel: 0,
    z: 9
};
var _b = Pl(function (t) {
    return t && -t[1]
}).right,
wb = function (t) {
    function e(n, i, r) {
        o(this, e);
        var a = u(this, t.apply(this, arguments));
        return a.type = mb,
        a._initEvent(n, i, r),
        a
    }
    return s(e, t),
    e.prototype._initEvent = function (t, e, n) {
        var i = this,
        r = t.get("$axisIndex"),
        o = t.get("$axisPointerIndex"),
        a = e.getComponentByIndex("axisPointer", o),
        s = [];
        B(r) || (r = [r]),
        D(r, function (t) {
            s.push(e.getComponentByIndex("axis", t))
        });
        var l = function () {
            i.eachShape(function (t) {
                t.hide()
            })
        };
        a ? (n.registerAction(a, Ya.move, function (n) {
                n.offsetX,
                n.offsetY;
                var r = n.dataIndex,
                o = n.axisDataIndex;
                n.axisData,
                n.pos;
                if (t.get("enable")) {
                    var a = e.getComponentByIndex("series", t.get("$seriesIndex")).getRealData(r);
                    if (a) {
                        var u = a[1],
                        h = t.get("valueIndex");
                        D(s, function (n) {
                            var r = bb(n, u, h);
                            if (n.scale) {
                                var a = n.scale(r);
                                i.movePointer(t, n, e, {
                                    offsetY: a,
                                    axisDataIndex: o,
                                    axisData: u
                                })
                            }
                        })
                    }
                } else
                    l()
            }), n.registerAction(a, Ya.out, function () {
                l()
            })) : D(s, function (r) {
            n.registerAction(r, ja.move, function (o) {
                var a = o.e,
                s = (a = void 0 === a ? {}
                     : a).offsetX,
                u = a.offsetY,
                h = o.index,
                c = o.dataIndex,
                f = o.axisData,
                d = o.pos;
                t.get("enable") ? (n.dispatchAction(t, Ya.before, {
                        offsetX: s,
                        offsetY: u,
                        axisDataIndex: h,
                        axisData: f,
                        pos: d,
                        dataIndex: c
                    }), i.movePointer(t, r, e, {
                        offsetX: s,
                        offsetY: u,
                        axisDataIndex: h,
                        axisData: f,
                        pos: d
                    }), n.dispatchAction(t, Ya.move, {
                        offsetX: s,
                        offsetY: u,
                        axisDataIndex: h,
                        axisData: f,
                        pos: d,
                        dataIndex: c
                    })) : l()
            }),
            n.registerAction(r, ja.out, function (e) {
                n.dispatchAction(t, Ya.after, e),
                l(),
                n.dispatchAction(t, Ya.out)
            })
        })
    },
    e.prototype.movePointer = function (t, e, n, i) {
        var r = this,
        o = i.offsetX,
        s = i.offsetY,
        l = i.axisDataIndex,
        u = i.axisData,
        h = i.pos,
        c = e.getGridModels(),
        f = e.get("position"),
        d = "bottom" === f || "top" === f,
        p = t.get("line"),
        g = t.get("shadow"),
        v = t.get("label"),
        y = t.get("seriesLabel"),
        m = y.formatter,
        x = t.seriesIndex,
        _ = t.get("z"),
        w = t.get("zlevel"),
        b = [];
        y.show && "x" === e.get("xOrY") && (D(x, function (t) {
                var e = n.getComponentByIndex("series", t);
                if (e && !1 !== e.get("selected")) {
                    var i = e.points;
                    if (!i.length)
                        return;
                    var r = d ? function (t, e) {
                        var n = void 0;
                        for (n = 0; n < t.length && !(null !== t[n] && e < t[n][0]); n++);
                        return n
                    }
                    (i, o) : _b(i, -s);
                    if (i[--r]) {
                        var l = void 0;
                        l = d ? [o + y.gap, i[r][1]] : [i[r][0] + y.gap, s],
                        b.push(n.getFormattedText({
                                style: a({
                                    text: m(i[r][2][1])
                                }, y.style),
                                position: l,
                                key: t,
                                zlevel: w,
                                z: _,
                                silent: !0
                            }))
                    }
                }
            }), this.setShapeGroup("seriesLabel", vo, b).show()),
        "y" === e.get("xOrY") && (u = bb(e, u, t.get("valueIndex"))),
        D(c, function (t, i) {
            var c = t.position,
            y = c.top,
            m = c.bottom,
            x = c.left,
            b = c.right;
            if (p.show) {
                var S = {};
                S = void 0 === h ? d ? {
                    y1: y - p.topExtend,
                    y2: m,
                    x1: o,
                    x2: o
                }
                 : {
                    x1 : x,
                    x2: b,
                    y1: s,
                    y2: s
                }
                : d ? {
                    y1: y - p.topExtend,
                    y2: m,
                    x1: h,
                    x2: h
                }
                 : {
                    x1: x,
                    x2: b,
                    y1: h,
                    y2: h
                },
                r.setShape("line_" + e.index + "_" + t.index, Eo, oa({
                        shape: S,
                        style: p.style,
                        zlevel: w,
                        z: _,
                        silent: !0
                    })).show()
            }
            if (g.show && "band" === e.get("type")) {
                var k = {},
                M = e.scale.step(),
                I = e.scale.paddingInner() * M / 2,
                A = e.scale.paddingOuter() * M;
                d ? (k = {
                        x: h - M / 2,
                        y: y,
                        width: M,
                        height: m - y
                    }, 0 === l ? I > A && (k.x += I - A, k.width -= I - A) : l === e.getData().length - 1 && I > A && (k.width -= I - A)) : (k = {
                        x: x,
                        y: h - M / 2,
                        width: b - x,
                        height: M
                    }, 0 === l ? I > A && (k.height -= I - A) : l === e.getData().length - 1 && I > A && (k.y += I - A, k.height -= I - A)),
                r.setShape("shadow_" + e.index + "_" + t.index, Co, aa({
                        shape: k,
                        style: g.style,
                        zlevel: w,
                        z: _,
                        silent: !0
                    })).show()
            }
            if ("all" === v.show || v.show && 0 === i) {
                var T = e.get("label"),
                C = v.inside,
                z = "function" == typeof v.style ? v.style(u) : v.style,
                E = void 0 === v.gap ? T.padding : v.gap,
                L = v.formatter || e.get("label").formatter || function (t) {
                    return t && t.toFixed ? t.toFixed(2) : t
                },
                D = {},
                O = [];
                switch (f) {
                case "bottom":
                    O[1] = e.pos + (C ? -E : E),
                    D = {
                        textVerticalAlign: C ? "bottom" : "top",
                        textAlign: "center"
                    };
                    break;
                case "top":
                    O[1] = e.pos - (C ? -E : E),
                    D = {
                        textVerticalAlign: C ? "top" : "bottom",
                        textAlign: "center"
                    };
                    break;
                case "right":
                    O[0] = e.pos + (C ? -E : E),
                    D = {
                        textVerticalAlign: "middle",
                        textAlign: C ? "right" : "left"
                    };
                    break;
                case "left":
                    O[0] = e.pos - (C ? -E : E),
                    D = {
                        textVerticalAlign: "middle",
                        textAlign: C ? "left" : "right"
                    }
                }
                void 0 === h && (h = d ? o : s),
                d ? O[0] = h : O[1] = h;
                var P = {};
                e.get("color") && (P.textBackgroundColor = e.get("color"));
                var F = r.setShape("label_" + e.index + "_" + t.index, vo, n.getFormattedText({
                            style: a({
                                text: L ? L(u) : u
                            }, D, T.style, z, P),
                            position: O,
                            rotation: (void 0 === v.rotate ? T.rotate : v.rotate) / 180 * Math.PI,
                            zlevel: w,
                            z: _,
                            z2: 99,
                            silent: !0
                        }));
                if (F.show(), void 0 === v.inRange ? T.inRange : v.inRange) {
                    var N = F.getBoundingRect();
                    if (e.range) {
                        var R = e.range;
                        if (d) {
                            var B = R[0] - N.x,
                            W = R[1] + N.x;
                            O[0] = Math.max(Math.min(W, h), B)
                        } else {
                            var G = R[1] - N.y,
                            H = R[0] + N.y;
                            O[1] = Math.max(Math.min(H, h), G)
                        }
                        F.attr("position", O)
                    }
                }
            }
        })
    },
    e
}
(fs);
function bb(t, e) {
    var n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 0;
    return "ordinal" === t.getAxisType() ? t.scale.domain()[e - t.startIndex] : B(e) ? e[n] : e
}
wb.type = mb,
dl(xb, wb);
var Sb = "timeline",
kb = function (t) {
    function e() {
        var n,
        i;
        o(this, e);
        for (var r = arguments.length, a = Array(r), s = 0; s < r; s++)
            a[s] = arguments[s];
        return n = i = u(this, t.call.apply(t, [this].concat(a))),
        i.type = Sb,
        u(i, n)
    }
    return s(e, t),
    e.prototype.update = function () {
        if (this.get("show")) {
            var t = this._option,
            e = t.orient,
            n = t.left,
            i = t.top,
            r = t.length,
            o = t.inverse,
            a = this.global,
            s = this.getData(),
            l = a.getWidth(),
            u = a.getHeight(),
            h = this.scale || ww.point(),
            c = Ea(r, "vertical" === e ? u : l),
            f = Ea(n, l),
            d = Ea(i, u),
            p = void 0;
            s && h.domain(s),
            p = "vertical" === e ? [d, d + c] : [f, f + c],
            o && p.reverse(),
            h.range(p),
            this.left = f,
            this.top = d,
            this.length = c,
            this.scale = h
        }
    },
    e
}
(ms);
kb.type = Sb,
kb.defaultOption = {
    show: !0,
    currentIndex: 0,
    autoPlay: !0,
    rewind: !1,
    loop: !0,
    playInterval: 2e3,
    realtime: !0,
    inverse: !1,
    orient: "horizontal",
    left: "10%",
    top: "95%",
    length: "80%",
    interval: void 0,
    intervalLength: 50,
    alwaysShowLast: !1,
    line: {
        show: !0,
        style: {}
    },
    label: {
        show: !0,
        position: void 0,
        formatter: void 0,
        padding: 15,
        style: {
            normal: {},
            emphasis: {}
        }
    },
    symbol: {
        show: "all",
        type: "circle",
        size: 12,
        style: {
            normal: {},
            emphasis: {}
        }
    },
    currentSymbol: {
        show: !0,
        type: "circle",
        size: 15,
        style: {}
    },
    controlBtn: {
        show: !0,
        showPlayBtn: "end",
        showPrevBtn: "start",
        showNextBtn: "end",
        size: 20,
        gap: 12,
        playIcon: "path://M31.6,53C17.5,53,6,41.5,6,27.4S17.5,1.8,31.6,1.8C45.7,1.8,57.2,13.3,57.2,27.4S45.7,53,31.6,53z M31.6,3.3 C18.4,3.3,7.5,14.1,7.5,27.4c0,13.3,10.8,24.1,24.1,24.1C44.9,51.5,55.7,40.7,55.7,27.4C55.7,14.1,44.9,3.3,31.6,3.3z M24.9,21.3 c0-2.2,1.6-3.1,3.5-2l10.5,6.1c1.899,1.1,1.899,2.9,0,4l-10.5,6.1c-1.9,1.1-3.5,0.2-3.5-2V21.3z",
        stopIcon: "path://M30.9,53.2C16.8,53.2,5.3,41.7,5.3,27.6S16.8,2,30.9,2C45,2,56.4,13.5,56.4,27.6S45,53.2,30.9,53.2z M30.9,3.5C17.6,3.5,6.8,14.4,6.8,27.6c0,13.3,10.8,24.1,24.101,24.1C44.2,51.7,55,40.9,55,27.6C54.9,14.4,44.1,3.5,30.9,3.5z M36.9,35.8c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H36c0.5,0,0.9,0.4,0.9,1V35.8z M27.8,35.8 c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H27c0.5,0,0.9,0.4,0.9,1L27.8,35.8L27.8,35.8z",
        nextIcon: "path://M18.6,50.8l22.5-22.5c0.2-0.2,0.3-0.4,0.3-0.7c0-0.3-0.1-0.5-0.3-0.7L18.7,4.4c-0.1-0.1-0.2-0.3-0.2-0.5 c0-0.4,0.3-0.8,0.8-0.8c0.2,0,0.5,0.1,0.6,0.3l23.5,23.5l0,0c0.2,0.2,0.3,0.4,0.3,0.7c0,0.3-0.1,0.5-0.3,0.7l-0.1,0.1L19.7,52 c-0.1,0.1-0.3,0.2-0.5,0.2c-0.4,0-0.8-0.3-0.8-0.8C18.4,51.2,18.5,51,18.6,50.8z",
        prevIcon: "path://M43,52.8L20.4,30.3c-0.2-0.2-0.3-0.4-0.3-0.7c0-0.3,0.1-0.5,0.3-0.7L42.9,6.4c0.1-0.1,0.2-0.3,0.2-0.5 c0-0.4-0.3-0.8-0.8-0.8c-0.2,0-0.5,0.1-0.6,0.3L18.3,28.8l0,0c-0.2,0.2-0.3,0.4-0.3,0.7c0,0.3,0.1,0.5,0.3,0.7l0.1,0.1L41.9,54 c0.1,0.1,0.3,0.2,0.5,0.2c0.4,0,0.8-0.3,0.8-0.8C43.2,53.2,43.1,53,43,52.8z",
        style: {
            normal: {},
            emphasis: {}
        }
    },
    zlevel: 0,
    z: 0
};
var Mb = function (t) {
    function e(n) {
        o(this, e);
        var i = u(this, t.apply(this, arguments));
        return i.type = Sb,
        i.dragging = !1,
        i.interval = setInterval(function () {
            if (n.get("autoPlay") && !i.dragging) {
                var t = n.get("currentIndex"),
                e = n.getData();
                if (!e)
                    return;
                var r = e.length,
                o = n.get("loop");
                if (n.get("rewind") ? t-- : t++, t < 0) {
                    if (!o)
                        return;
                    t += r
                } else if (t >= r) {
                    if (!o)
                        return;
                    t = 0
                }
                n.set("currentIndex", t)
            }
        }, n.get("playInterval")),
        i
    }
    return s(e, t),
    e.prototype.render = function (t, e, n) {
        var i = this;
        if (t.get("show")) {
            var r = t.get("line"),
            o = t.get("label"),
            s = t.get("symbol"),
            l = t.get("currentSymbol"),
            u = t.get("controlBtn"),
            h = t.get("interval"),
            c = t.get("intervalLength"),
            f = t.get("alwaysShowLast"),
            d = t.get("currentIndex"),
            p = t.left,
            g = t.top,
            v = t.length,
            y = t.scale,
            m = "vertical" === t.get("orient"),
            x = t.getData();
            if (r.show) {
                var _ = {
                    x1: p,
                    y1: g
                };
                m ? (_.x2 = p, _.y2 = g + v) : (_.x2 = p + v, _.y2 = g),
                this.setShape("line", Eo, oa({
                        shape: _,
                        style: r.style,
                        z2: 69
                    }), void 0, function (e) {
                    e.on("click", function (e) {
                        var n = Ib(e.offsetX, e.offsetY, y, m, t.get("inverse"));
                        n !== t.get("currentIndex") && t.set("currentIndex", n)
                    })
                })
            }
            if (x) {
                var w = [],
                b = x.length;
                if (h)
                    for (var S = 0; S < b; S += h)
                        w.push([x[S], S]);
                else if (c)
                    for (var k = Math.ceil(b / (v / c)), M = 0; M < b; M += k)
                        w.push([x[M], M]);
                if (f) {
                    var I = x[b - 1];
                    I !== w[w.length - 1][0] && w.push([I, b - 1])
                }
                if (o.show) {
                    var A = o.formatter,
                    T = o.padding,
                    C = [];
                    D(w, function (t) {
                        var n = t[0],
                        i = t[1];
                        C.push(e.getFormattedText({
                                style: a({
                                    text: A ? A(n) : n,
                                    textAlign: m ? "left" : "center",
                                    textVerticalAlign: m ? "center" : "top"
                                }, o.style.normal),
                                position: m ? [p + T, y(n)] : [y(n), g + T],
                                index: i,
                                z2: 89
                            }))
                    }),
                    this.setShapeGroup("labelGroup", vo, C, void 0, function (n) {
                        n.on("click", function (e) {
                            var n = e.target;
                            t.set("currentIndex", n.index)
                        }),
                        n.eachChild(function (t) {
                            _a(t, e.getFormattedText(a({}, o.style.emphasis)))
                        })
                    })
                }
                if (s.show) {
                    var z = [],
                    E = s.type,
                    L = Oa(s.size),
                    P = L.width,
                    F = L.height;
                    D("all" === s.show ? O(x, function (t, e) {
                            return [t, e]
                        }) : w, function (t) {
                        var e = t[0],
                        n = t[1];
                        z.push({
                            shape: {
                                symbolType: E,
                                x: -P / 2,
                                y: -F / 2,
                                width: P,
                                height: F
                            },
                            style: a({}, s.style.normal),
                            position: m ? [p, y(e)] : [y(e), g],
                            index: n,
                            z2: 79
                        })
                    }),
                    this.setShapeGroup("symbolGroup", zs, z, void 0, function (e) {
                        e.on("click", function (e) {
                            var n = e.target;
                            t.set("currentIndex", n.index)
                        }),
                        e.eachChild(function (t) {
                            _a(t, a({}, s.style.emphasis))
                        })
                    })
                }
                if (l.show) {
                    var N = l.type,
                    R = Oa(l.size),
                    B = R.width,
                    W = R.height,
                    G = x[d];
                    this.setShape("currentSymbol", zs, {
                        shape: {
                            symbolType: N,
                            x: -B / 2,
                            y: -W / 2,
                            width: B,
                            height: W
                        },
                        style: l.style,
                        position: m ? [p, y(G)] : [y(G), g],
                        index: d,
                        z2: 99
                    }, {
                        animation: t.get("animation"),
                        animateList: {
                            position: [0, 0]
                        }
                    }, function (e) {
                        e.on("mousedown", function () {
                            i.dragging = !0
                        }),
                        n.on("mousemove", function (n) {
                            var r = n.offsetX,
                            o = n.offsetY;
                            Ab(t, e, r, o, y, m, i.dragging, t.get("realtime"))
                        }),
                        n.on("mouseup", function (n) {
                            var r = n.offsetX,
                            o = n.offsetY;
                            Ab(t, e, r, o, y, m, i.dragging, !0),
                            i.dragging = !1
                        }),
                        n.on("globalout", function (n) {
                            var r = n.event,
                            o = r.offsetX,
                            a = r.offsetY;
                            Ab(t, e, o, a, y, m, i.dragging, !0),
                            i.dragging = !1
                        })
                    })
                }
                if (u.show) {
                    var H = u.showPlayBtn,
                    j = u.showPrevBtn,
                    U = u.showNextBtn,
                    q = [],
                    Y = [];
                    j && ("end" !== j ? q.push("prev") : Y.push("prev")),
                    U && ("start" !== U ? Y.push("next") : q.push("next")),
                    H && ("end" !== H ? q.push("play") : Y.push("play")),
                    Tb.call(this, "start", q, t, u),
                    Tb.call(this, "end", Y, t, u)
                }
            }
        }
    },
    e.prototype.remove = function () {
        t.prototype.remove.call(this),
        clearInterval(this.interval)
    },
    e
}
(fs);
function Ib(t, e, n, i, r) {
    var o = i ? e : t,
    a = n.range()[0];
    return o = (i ? e : t) - a,
    r && (o = -o),
    Math.max(0, Math.min(Math.round(o / n.step()), n.domain().length - 1))
}
function Ab(t, e, n, i, r, o, a, s) {
    if (a) {
        var l = t.get("inverse"),
        u = o ? i : n,
        h = r.range();
        l && (h = [].concat(h).reverse()),
        u < h[0] && (u = h[0]),
        u > h[1] && (u = h[1]);
        var c = e.position;
        if (e.attr("position", o ? [c[0], u] : [u, c[1]]), s) {
            var f = Ib(n, i, r, o, l);
            f !== t.get("currentIndex") && t.set("currentIndex", f)
        }
    }
}
function Tb(t, e, n, i) {
    var r = this,
    o = i.gap,
    a = i.size,
    s = i.style,
    l = Oa(a),
    u = l.width,
    h = l.height,
    c = n.get("symbol"),
    f = n.get("autoPlay"),
    d = n.get("orient"),
    p = Oa(c.show ? c.size : 0),
    g = p.width,
    v = p.height,
    y = n.left,
    m = n.top,
    x = n.length;
    D(e, function (e, a) {
        var l = void 0,
        c = void 0,
        p = 0;
        l = "play" === e ? f ? i.stopIcon : i.playIcon : i[e + "Icon"],
        "vertical" === d && ("prev" !== e && "next" !== e || (p = -Math.PI / 2)),
        c = "start" === t ? "horizontal" === d ? [y - v / 2 - (a + 1) * o - (a + .5) * u, m] : [y, m - g / 2 - (a + 1) * o - (a + .5) * h] : "horizontal" === d ? [y + x + v / 2 + (a + .5) * u + o * (a + 1), m] : [y, m + x + g / 2 + (a + .5) * h + o * (a + 1)],
        r.setShape(e, zs, {
            shape: {
                symbolType: l,
                x: -u / 2,
                y: -h / 2,
                width: u,
                height: h
            },
            rotation: p,
            rectHover: !0,
            name: e,
            style: s.normal,
            position: c
        }, void 0, function (t) {
            _a(t, s.emphasis),
            t.on("click", function (e) {
                var r = e.target,
                o = n.get("currentIndex"),
                a = n.getData().length;
                switch (t.name) {
                case "prev":
                    --o < 0 && (o = a - 1),
                    n.set("currentIndex", o);
                    break;
                case "next":
                    ++o >= a && (o = 0),
                    n.set("currentIndex", o);
                    break;
                case "play":
                    var s = n.get("autoPlay");
                    s = !s,
                    r.setShape("symbolType", s ? i.stopIcon : i.playIcon),
                    n.set("autoPlay", s)
                }
            })
        })
    })
}
Mb.type = Sb,
dl(kb, Mb);
var Cb = "markPoint",
zb = function (t) {
    function e() {
        var n,
        i;
        o(this, e);
        for (var r = arguments.length, a = Array(r), s = 0; s < r; s++)
            a[s] = arguments[s];
        return n = i = u(this, t.call.apply(t, [this].concat(a))),
        i.type = Cb,
        u(i, n)
    }
    return s(e, t),
    e
}
(ms);
zb.type = Cb,
zb.defaultOption = {
    $axisIndex: void 0,
    $seriesIndex: void 0,
    show: !0,
    onClick: void 0,
    enableSelect: !1,
    symbol: {
        type: "pin",
        size: [40, 45],
        offset: [0, 0],
        style: {
            normal: {},
            emphasis: {}
        }
    },
    label: {
        normal: {
            show: !1,
            style: {
                position: "top"
            }
        },
        emphasis: {
            show: !1,
            style: {}
        }
    },
    cursor: "pointer",
    zlevel: 0,
    z: 10
};
var Eb = function (t) {
    function e() {
        var n,
        i;
        o(this, e);
        for (var r = arguments.length, a = Array(r), s = 0; s < r; s++)
            a[s] = arguments[s];
        return n = i = u(this, t.call.apply(t, [this].concat(a))),
        i.type = Cb,
        u(i, n)
    }
    return s(e, t),
    e.prototype.render = function (t, e, n) {
        if (t.get("show")) {
            var i = t.getData(),
            r = t.get("symbol"),
            o = t.get("label"),
            a = t.get("onClick"),
            s = t.get("animation"),
            l = t.get("enableSelect"),
            u = [],
            h = {};
            D(i, function (n, i) {
                var a = function (t, e, n) {
                    var i = e.get("$seriesIndex");
                    !B(i) && (i = [i]);
                    var r = i.map(function (t) {
                        return n.getComponentByIndex("series", t)
                    }),
                    o = r[0],
                    a = (o || e).getAxisModel("x"),
                    s = (o || e).getAxisModel("y");
                    if (t.type) {
                        var l = void 0,
                        u = void 0;
                        return D(r, function (e) {
                            if (!1 !== e.get("selected")) {
                                var n = e.getDataExtent(t.type, t.valueDim, t.valueIndex);
                                if (n && (!u || "min" === t.type && n[1] < u[1] || "max" === t.type && n[1] > u[1])) {
                                    var i = n[0][0],
                                    r = n[0][1];
                                    if (Lb(a, i) && Lb(s, r)) {
                                        var o = Db(a, i),
                                        h = Db(s, r, t.valueIndex),
                                        c = a.scale(o),
                                        f = s.scale(h);
                                        "band" === a.get("type") && ("bar" === e.get("type") ? c += e.centerOffset : c += a.scale.bandwidth() / 2),
                                        l = {
                                            position: [c, f],
                                            data: [o, h]
                                        },
                                        u = n
                                    }
                                }
                            }
                        }),
                        l
                    }
                    if (o && !1 === o.get("selected"))
                        return;
                    if (o && !t.y && !t.yValue && !t.yIndex) {
                        var h = o.getRealData();
                        t.xIndex ? t.yValue = h[t.xIndex][1] : t.xValue && -1 !== a.getData().indexOf(t.xValue) && (t.yValue = h[a.getData().indexOf(t.xValue)][1]),
                        B(t.yValue) && (t.yValue = t.yValue[t.valueIndex])
                    }
                    var c = Ob("x", t, e, o),
                    f = Ob("y", t, e, o);
                    return !isNaN(c[0]) && !isNaN(f[0]) && {
                        position: [c[0], f[0]],
                        data: [c[1], f[1]]
                    }
                }
                (n, t, e);
                if (a && !h[a.data[0]]) {
                    h[a.data[0]] = !0;
                    var s = S(b(n.symbol) || {}, r),
                    l = S(b(n.label) || {}, o),
                    c = Oa(s.size),
                    f = c.width,
                    d = c.height,
                    p = s.offset,
                    g = a.position,
                    v = a.data,
                    y = s.style.normal,
                    m = s.style.emphasis;
                    if (n.data = v, g) {
                        if (l.normal.show) {
                            var x = l.normal.formatter,
                            _ = l.normal.style.position;
                            W(_) && (l.normal.style.position = _(v, n, g)),
                            y.text = x ? x(n, g) : v[1],
                            y = S(y, e.getFormattedText(l.normal.style), !0)
                        }
                        if (l.normal.show || l.emphasis.show) {
                            var w = l.emphasis.formatter || l.normal.formatter,
                            k = l.emphasis.style.position;
                            W(k) && (l.emphasis.style.position = k(v, n, g)),
                            m.text = w ? w(n, g) : v[1],
                            m = S(m, e.getFormattedText(l.emphasis.style), !0)
                        }
                        u.push({
                            cursor: t.get("cursor"),
                            shape: {
                                symbolType: s.type,
                                x: -f / 2 + p[0],
                                y: -d / 2 + p[1],
                                width: f,
                                height: d,
                                center: s.center,
                                offsetPoint: s.offsetPoint
                            },
                            position: g,
                            style: y,
                            key: n.name || i,
                            hoverStyle: m,
                            value: v[1],
                            data: n,
                            index: i,
                            rectHover: !0
                        })
                    }
                }
            }),
            this.setShapeGroup("markPoints", zs, u, {
                animation: s,
                animateFrom: {
                    shape: {
                        x: 0,
                        y: 0,
                        width: 0,
                        height: 0
                    }
                },
                animateList: {
                    position: [0, 0]
                }
            }, function (e) {
                e.on("click", function (e) {
                    a && a(e.target.data, e),
                    n.dispatchAction(t, Ka.pointClick, {
                        data: e.target.data,
                        e: e
                    }),
                    l && (D(i, function (t) {
                            t.selected = !1
                        }), e.target.data.selected = !0, t.dirty())
                }),
                e.on("mousemove", function (e) {
                    n.dispatchAction(t, Ka.pointMousemove, {
                        data: e.target.data,
                        e: e
                    })
                }),
                e.on("mouseout", function (e) {
                    n.dispatchAction(t, Ka.pointMouseout, {
                        data: e.target.data,
                        e: e
                    })
                }),
                e.on("mouseover", function (e) {
                    n.dispatchAction(t, Ka.pointMouseover, {
                        data: e.target.data,
                        e: e
                    })
                })
            }, function (t) {
                _a(t, t.hoverStyle)
            }),
            this.getShape("markPoints").eachChild(function (t) {
                t.data.selected && (t.__isHover = !1, t.trigger("emphasis"))
            })
        } else
            this.removeShape("markPoints")
    },
    e
}
(fs);
function Lb(t, e) {
    if ("ordinal" === t.getAxisType())
        return e >= t.startIndex && e <= t.endIndex;
    if (B(e)) {
        for (var n = 0; n < e.length; n++)
            if (e[n] < t.domain[0] || e[n] > t.domain[1])
                return !1;
        return !0
    }
    return e >= t.domain[0] && e <= t.domain[1]
}
function Db(t, e) {
    var n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 0;
    return "ordinal" === t.getAxisType() ? t.scale.domain()[e - t.startIndex] : B(e) ? e[n] : e
}
function Ob(t, e, n, i) {
    var r = e[t],
    o = e[t + "Value"],
    a = e[t + "Index"],
    s = void 0;
    if (void 0 !== r)
        s = r, o = r;
    else if (void 0 !== o) {
        var l = (i || n).getAxisModel(t);
        if (!Lb(l, "ordinal" === l.getAxisType() ? l.domain.indexOf(o) + l.startIndex : o))
            return !1;
        "time" === l.get("type") && (o = new Date(o)),
        l && (s = l.scale(o)),
        "band" === l.get("type") && (s += l.scale.bandwidth() / 2)
    } else if (void 0 !== a) {
        var u = (i || n).getAxisModel(t);
        if (!(a >= u.startIndex && a <= u.endIndex))
            return !1;
        o = u.scale.domain()[a - u.startIndex],
        "time" === u.get("type") && (o = new Date(o)),
        u && (s = u.scale(o)),
        "band" === u.get("type") && (s += u.scale.bandwidth() / 2)
    }
    return [s, o]
}
Eb.type = Cb,
dl(zb, Eb);
var Pb = "title",
Fb = function (t) {
    function e() {
        var n,
        i;
        o(this, e);
        for (var r = arguments.length, a = Array(r), s = 0; s < r; s++)
            a[s] = arguments[s];
        return n = i = u(this, t.call.apply(t, [this].concat(a))),
        i.type = Pb,
        u(i, n)
    }
    return s(e, t),
    e.prototype.update = function () {
        var t = this._option,
        e = t.left,
        n = t.top,
        i = t.show,
        r = this.global,
        o = r.getWidth(),
        a = r.getHeight();
        this.show = i,
        i && (this.left = Ea(e, o), this.top = Ea(n, a))
    },
    e
}
(ms);
Fb.type = Pb,
Fb.emphasisList = ["style"],
Fb.defaultOption = {
    show: !0,
    text: void 0,
    left: "50%",
    top: "5%",
    link: "",
    target: "blank",
    style: {
        normal: {
            textAlign: "center",
            textVerticalAlign: "center",
            fill: "#333",
            fontStyle: "normal",
            fontWeight: "normal",
            fontFamily: "sans-serif",
            fontSize: 18
        },
        emphasis: {}
    },
    zlevel: 0,
    z: 10
};
var Nb = function (t) {
    function e() {
        var n,
        i;
        o(this, e);
        for (var r = arguments.length, a = Array(r), s = 0; s < r; s++)
            a[s] = arguments[s];
        return n = i = u(this, t.call.apply(t, [this].concat(a))),
        i.type = Pb,
        u(i, n)
    }
    return s(e, t),
    e.prototype.render = function (t, e, n) {
        var i = t.left,
        r = t.top;
        if (t.show) {
            var o = t.getData(),
            s = t.get("text") || o && o.text || o,
            l = t.get("link"),
            u = (t.get("target"), t.get("style")),
            h = t.get("rotation"),
            c = t.get("cursor");
            this.setShape("title", vo, e.getFormattedText({
                    position: [i, r],
                    style: a({
                        text: s
                    }, u.normal),
                    rechHover: !0,
                    rotation: h,
                    cursor: c
                }), void 0, function (i) {
                _a(i, e.getFormattedText(S(u.emphasis, u.normal))),
                i.on("click", function (e) {
                    n.dispatchAction(t, Ha.titleClick, {
                        e: e
                    }),
                    l && window.open(l, "_" + t.get("target"))
                })
            })
        }
    },
    e
}
(fs);
Nb.type = Pb,
dl(Fb, Nb);
var Rb = "markLine",
Bb = function (t) {
    function e() {
        var n,
        i;
        o(this, e);
        for (var r = arguments.length, a = Array(r), s = 0; s < r; s++)
            a[s] = arguments[s];
        return n = i = u(this, t.call.apply(t, [this].concat(a))),
        i.type = Rb,
        u(i, n)
    }
    return s(e, t),
    e
}
(ms);
Bb.type = Rb,
Bb.emphasisList = ["lineStyle"],
Bb.defaultOption = {
    zlevel: 0,
    z: 10,
    show: !0,
    $axisIndex: void 0,
    $seriesIndex: void 0,
    lineStyle: {
        normal: {
            lineWidth: 1
        },
        emphasis: {}
    },
    label: {
        normal: {
            show: !1,
            style: {
                position: "top"
            }
        },
        emphasis: {
            show: !1,
            style: {}
        }
    }
};
var Wb = function (t) {
    function e() {
        var n,
        i;
        o(this, e);
        for (var r = arguments.length, a = Array(r), s = 0; s < r; s++)
            a[s] = arguments[s];
        return n = i = u(this, t.call.apply(t, [this].concat(a))),
        i.type = Rb,
        u(i, n)
    }
    return s(e, t),
    e.prototype.render = function (t, e, n) {
        if (t.get("show")) {
            var i = t.getData(),
            r = t.get("lineStyle"),
            o = t.get("label").normal,
            s = t.get("animation"),
            l = [];
            D(i, function (n, i) {
                var s = S((n.lineStyle || {}).normal || {}, r.normal),
                u = S(n.label && n.label.normal || {}, o),
                h = {};
                if (u.show) {
                    var c = u.formatter ? u.formatter(n) : n.value;
                    h = e.getFormattedText(a({
                                text: c
                            }, u.style))
                }
                if (n.points) {
                    var f = t.getAxisModel("x"),
                    d = [];
                    D(n.points, function (n) {
                        var i = jb(n, t, e) || {},
                        r = i.position;
                        i.data;
                        r && (["left", "right"].indexOf(f.get("position")) > -1 && (r = [r[1], r[0]]), d.push(r))
                    }),
                    d.length >= 2 && l.push(oa({
                            shape: {
                                x1: d[0][0],
                                y1: d[0][1],
                                x2: d[1][0],
                                y2: d[1][1],
                                percent: 1
                            },
                            data: n,
                            style: a({}, s, h),
                            key: i
                        }))
                } else if (n.type) {
                    var p = e.getComponentByIndex("series", t.get("$seriesIndex"));
                    if (p && !1 !== p.get("selected")) {
                        var g = (p || t).getAxisModel("x"),
                        v = t.getAxisModel("y"),
                        y = p.getDataExtent(n.type),
                        m = void 0;
                        m = "average" === n.type ? {
                            x1: g.range[0],
                            y1: v.scale(y),
                            x2: g.range[1],
                            y2: v.scale(y),
                            percent: 1
                        }
                         : {
                            x1: g.range[0],
                            y1: v.scale(y[0][1]),
                            x2: g.range[1],
                            y2: v.scale(y[0][1]),
                            percent: 1
                        },
                        l.push(oa({
                                shape: m,
                                data: n,
                                style: a({}, s, h),
                                key: i
                            }))
                    }
                }
            }),
            this.setShapeGroup("markLines", Eo, l, {
                animation: s,
                animateFrom: {
                    shape: {
                        percent: .01
                    }
                },
                animateList: {
                    shape: {
                        x1: 0,
                        y1: 0,
                        x2: 0,
                        y2: 0
                    }
                }
            }, function (e) {
                e.on("click", function (e) {
                    n.dispatchAction(t, Qa.lineClick, {
                        data: e.target.data,
                        e: e
                    })
                }),
                e.on("mouseover", function (e) {
                    n.dispatchAction(t, Qa.lineMouseover, {
                        data: e.target.data,
                        e: e
                    })
                }),
                e.on("mouseout", function (e) {
                    n.dispatchAction(t, Qa.lineMouseout, {
                        data: e.target.data,
                        e: e
                    })
                }),
                e.on("mousemove", function (e) {
                    n.dispatchAction(t, Qa.lineMousemove, {
                        data: e.target.data,
                        e: e
                    })
                })
            })
        } else
            this.removeShape("markLines")
    },
    e
}
(fs);
function Gb(t, e) {
    return "ordinal" === t.getAxisType() ? e >= t.startIndex && e <= t.endIndex : e >= t.domain[0] && e <= t.domain[1]
}
function Hb(t, e) {
    return "ordinal" === t.getAxisType() ? t.scale.domain()[e - t.startIndex] : e
}
function jb(t, e, n) {
    var i = e.get("$seriesIndex");
    !B(i) && (i = [i]);
    var r = i.map(function (t) {
        return n.getComponentByIndex("series", t)
    }),
    o = r[0],
    a = (o || e).getAxisModel("x"),
    s = (o || e).getAxisModel("y");
    if (t.type) {
        var l = void 0,
        u = void 0;
        return D(r, function (e) {
            var n = e.getDataExtent(t.type, t.valueDim, t.valueIndex);
            if (n && (!u || "min" === t.type && n[1] < u[1] || "max" === t.type && n[1] > u[1])) {
                var i = n[0][0],
                r = n[0][1];
                if (Gb(a, i) && Gb(s, r)) {
                    var o = Hb(a, i),
                    h = Hb(s, r),
                    c = a.scale(o),
                    f = s.scale(h);
                    "band" === a.get("type") && ("bar" === e.get("type") ? c += e.centerOffset : c += a.scale.bandwidth() / 2),
                    l = {
                        position: [c, f],
                        data: [o, h]
                    },
                    u = n
                }
            }
        }),
        l
    }
    if (o && !t.y && !t.yValue && !t.yIndex) {
        var h = o.getRealData();
        t.xIndex ? t.yValue = h[t.xIndex][1] : t.xValue && (t.yValue = h[a.getData().indexOf(t.xValue)][1])
    }
    var c = Ub("x", t, e, o),
    f = Ub("y", t, e, o);
    return isNaN(c[0]) || isNaN(f[0]) || (t.xFormatter && "function" == typeof t.xFormatter && (c[0] = t.xFormatter(c[0], a.scale.bandwidth())), t.yFormatter && "function" == typeof t.yFormatter && (f[0] = t.xFormatter(f[0]))),
    !isNaN(c[0]) && !isNaN(f[0]) && {
        position: [c[0], f[0]],
        data: [c[1], f[1]]
    }
}
function Ub(t, e, n, i) {
    var r = e[t],
    o = e[t + "Value"],
    a = e[t + "Index"],
    s = void 0;
    if (void 0 !== r) {
        var l = (i || n).getAxisModel(t);
        ["left", "top"].indexOf(r) > -1 ? r = l.range[0] : ["right", "bottom"].indexOf(r) > -1 && (r = l.range[1]),
        s = r,
        o = r
    } else if (void 0 !== o) {
        var u = (i || n).getAxisModel(t),
        h = "ordinal" === u.getAxisType();
        if ("markArea" !== n.type && !Gb(u, h ? u.domain.indexOf(o) + u.startIndex : o))
            return !1;
        if ("time" === u.get("type") && (o = new Date(o)), u) {
            var c = u.domain,
            f = c[0],
            d = c[c.length - 1],
            p = o;
            o < f ? p = f : o > d && (p = d),
            s = u.scale(p)
        }
        "band" === u.get("type") && (s += u.scale.bandwidth() / 2)
    } else if (void 0 !== a) {
        var g = (i || n).getAxisModel(t);
        if (a >= g.startIndex && a <= g.endIndex)
            o = g.scale.domain()[a - g.startIndex], "time" === g.get("type") && (o = new Date(o)), g && (s = g.scale(o)), "band" === g.get("type") && (s += g.scale.bandwidth() / 2);
        else {
            if ("markArea" !== n.type)
                return !1;
            o = a < g.startIndex ? g.scale.domain()[0] : g.scale.domain()[g.endIndex - g.startIndex],
            "time" === g.get("type") && (o = new Date(o)),
            g && (s = g.scale(o)),
            "band" === g.get("type") && (s += g.scale.bandwidth() / 2)
        }
    }
    return [s, o]
}
Wb.type = Rb,
dl(Bb, Wb);
var qb = "zoomBrush",
Yb = function (t) {
    function e() {
        var n,
        i;
        o(this, e);
        for (var r = arguments.length, a = Array(r), s = 0; s < r; s++)
            a[s] = arguments[s];
        return n = i = u(this, t.call.apply(t, [this].concat(a))),
        i.type = qb,
        u(i, n)
    }
    return s(e, t),
    e.prototype.update = function () {
        var t = this.global;
        this.left = Ea(this.get("left"), t.getWidth()),
        this.top = Ea(this.get("top"), t.getHeight())
    },
    e.prototype.toggleEnable = function (t) {
        void 0 === t ? this.set({
            enable: !this.get("enable")
        }) : this.set({
            enable: t
        })
    },
    e.prototype.pushHistory = function (t) {
        if (t) {
            var e = this.get("history");
            e.push(t),
            this.set("history", e)
        }
    },
    e.prototype.popHistory = function () {
        var t = this.globalModel,
        e = (this.global, this.get("history")),
        n = e.pop();
        n && (D(n, function (e) {
                t.getComponentByIndex("axis", e[0]).setZoom(e[1])
            }), this.set("history", e))
    },
    e
}
(ms);
Yb.type = qb,
Yb.emphasisList = ["iconStyle"],
Yb.defaultOption = {
    axisIndex: [0],
    enable: !1,
    show: !0,
    left: "90%",
    top: "5%",
    style: {
        fill: "rgba(0, 0, 0, 0.3)"
    },
    title: {
        zoom: "区域缩放",
        back: "区域缩放还原"
    },
    icon: {
        zoom: "path://M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1",
        back: "path://M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26"
    },
    iconStyle: {
        normal: {
            stroke: "#666",
            fill: void 0
        },
        emphasis: {
            stroke: "#6cc"
        }
    },
    history: [],
    zlevel: 0,
    z: 8
};
var Vb = function (t) {
    function e(n, i, r) {
        o(this, e);
        var a = u(this, t.apply(this, arguments));
        return a.type = qb,
        a._initEvent(n, i, r),
        a
    }
    return s(e, t),
    e.prototype._initEvent = function (t, e, n) {
        var i = this,
        r = [],
        o = [],
        a = void 0,
        s = void 0,
        l = void 0,
        u = void 0,
        h = void 0;
        n.on("mousedown", function (i) {
            if (t.get("enable") && !n.isEnableEdit && !n.isEnableSketch) {
                var c = i.offsetX,
                f = i.offsetY,
                d = t.get("axisIndex");
                if ((a = e.getComponent("grid", function (t) {
                            return t.isPointInGrid(c, f)
                        })[0]) && !u) {
                    a.index;
                    h = new Date,
                    r = [],
                    o = [],
                    u = !0,
                    s = c,
                    l = f,
                    D(d, function (t) {
                        var n = e.getComponentByIndex("axis", t);
                        n.get("$gridIndex");
                        ~["bottom", "top"].indexOf(n.get("position")) ? o.push(n) : r.push(n)
                    })
                }
            }
        }),
        n.on("mousemove", function (e) {
            if (u) {
                var n = e.offsetX,
                h = e.offsetY,
                c = t.get("style"),
                f = a.position,
                d = f.left,
                p = f.right,
                g = f.top,
                v = f.bottom,
                y = f.width,
                m = f.height,
                x = Xb(n, d, p),
                _ = Xb(h, g, v),
                w = void 0;
                r.length && o.length ? w = {
                    x: s,
                    y: l,
                    width: x - s,
                    height: _ - l
                }
                 : r.length ? w = {
                    x: d,
                    y: l,
                    width: y,
                    height: _ - l
                }
                 : o.length && (w = {
                        x: s,
                        y: g,
                        width: x - s,
                        height: m
                    }),
                w && i.setShape("brushRect", Co, {
                    shape: w,
                    style: c,
                    z: 999
                })
            }
        }),
        n.on("mouseup", function (c) {
            if (u) {
                var f = c.offsetX,
                d = c.offsetY,
                p = [];
                new Date - h > 200 && (s != f || l != d) && (r.length && (p = p.concat($b("vertical", r, a, e, n, c, s, l))), o.length && (p = p.concat($b("horizontal", o, a, e, n, c, s, l))), p.length && t.pushHistory(p)),
                i.removeShape("brushRect"),
                h = void 0,
                u = !1,
                r = [],
                o = [],
                a = void 0
            }
        })
    },
    e.prototype.render = function (t, e, n) {
        if (t.get("show")) {
            var i = t.left,
            r = t.top,
            o = t.get("icon"),
            a = t.get("iconStyle").normal,
            s = t.get("iconStyle").emphasis,
            l = t.get("enable"),
            u = t.get("history");
            this.setShape("zoom", zs, {
                shape: {
                    symbolType: o.zoom,
                    x: 0,
                    y: 0,
                    width: 20,
                    height: 20
                },
                position: [i, r],
                style: l ? s : a,
                rectHover: !0
            }, void 0, function (e) {
                e.on("click", function (e) {
                    t.toggleEnable(),
                    this.setStyle(t.get("enable") ? s : a)
                })
            }),
            this.setShape("back", zs, {
                shape: {
                    symbolType: o.back,
                    x: 35,
                    y: 0,
                    width: 16,
                    height: 20
                },
                position: [i, r],
                style: u.length ? s : a,
                rectHover: !0
            }, void 0, function (e) {
                e.on("click", function (e) {
                    t.popHistory()
                })
            })
        }
    },
    e
}
(fs);
function $b(t, e, n, i, r, o, a, s) {
    var l = n.position,
    u = l.left,
    h = l.bottom,
    c = l.width,
    f = l.height,
    d = o.offsetX,
    p = o.offsetY,
    g = [];
    return D(e, function (e) {
        var n = i.getComponentByIndex("dataZoom", e.get("$dataZoomIndex")) || e,
        r = n.start,
        o = n.end,
        l = o - r,
        v = void 0,
        y = void 0;
        "vertical" === t ? (v = r + (h - s) / f * l, y = r + (h - p) / f * l) : (v = r + (a - u) / c * l, y = r + (d - u) / c * l);
        var m = function (t) {
            return {
                start: Math.min(t.start, t.end),
                end: Math.max(t.start, t.end)
            }
        }
        ({
            start: v,
            end: y
        });
        e.setZoom(m),
        g.push([e.index, {
                    start: r,
                    end: o
                }
            ])
    }),
    g
}
function Xb(t, e, n) {
    return t < e && (t = e),
    t > n && (t = n),
    t
}
Vb.type = qb,
dl(Yb, Vb);
var Zb = "sketch",
Kb = function (t) {
    function e() {
        var n,
        i;
        o(this, e);
        for (var r = arguments.length, a = Array(r), s = 0; s < r; s++)
            a[s] = arguments[s];
        return n = i = u(this, t.call.apply(t, [this].concat(a))),
        i.type = Zb,
        u(i, n)
    }
    return s(e, t),
    e.prototype.update = function () {
        this.globalModel;
        var t = this.global,
        e = t.getWidth(),
        n = t.getHeight();
        t.isEnableSketch = !!this.get("paintTool"),
        this.left = Ea(this.get("left"), e),
        this.top = Ea(this.get("top"), n)
    },
    e.prototype.popShape = function () {
        this.globalModel,
        this.global;
        var t = this.get("shapeList");
        t.pop(),
        this.set("shapeList", t)
    },
    e.prototype.deleteShape = function (t) {
        var e = this.get("shapeList"),
        n = La(e, function (e) {
            return t.shapeIndex === e.shapeIndex
        });
        "number" == typeof n && (e.splice(n, 1), this.set("shapeList", e))
    },
    e
}
(_s);
Kb.type = Zb,
Kb.emphasisList = ["style", "iconStyle"],
Kb.defaultOption = {
    show: !0,
    left: "10%",
    top: 20,
    paintTool: !1,
    shapeList: [],
    currentEditIndex: void 0,
    inGrid: !1,
    inAxis: !0,
    disableWhenEnd: !1,
    confirmWhenDelete: void 0,
    style: {
        normal: {
            fill: "rgba(49, 207, 214, 0.1)",
            stroke: "rgb(49, 207, 214)",
            lineWidth: 1
        },
        emphasis: {
            lineWidth: 2
        }
    },
    icon: ["line", "verticalLine", "horizontalLine", "rect", "verticalRect", "horizontalRect", "ellipse", "arrowLine", "back", "delete"],
    iconType: {
        back: "path://M15.0707952,6.00027263 C20.0087669,6.03831644 24,10.053057 24,15 C24,19.9705627 19.9705627,24 15,24 C10.0294373,24 6,19.9705627 6,15 L8,15 C8,18.8659932 11.1340068,22 15,22 C18.8659932,22 22,18.8659932 22,15 C22,11.1340068 18.8659932,8 15,8 L14.5857864,8 L16.6568542,10.0710678 L15.2426407,11.4852814 L12.4142136,8.65685425 L11,7.24264069 L15.2426407,3 L16.6568542,4.41421356 L15.0707952,6.00027263 Z",
        delete : "path://M21,22 L21,24 L11,24 L9,24 L9,11 L11,11 L11,22 L19,22 L19,11 L21,11 L21,22 Z M17,8 L23,8 L23,10 L7,10 L7,8 L13,8 L13,6 L17,6 L17,8 Z M13,11 L14,11 L14,21 L13,21 L13,11 Z M16,11 L17,11 L17,21 L16,21 L16,11 Z",
        rect: "path://M22,8 L8,8 L8,22 L22,22 L22,8 Z M24,6 L24,24 L6,24 L6,6 L24,6 Z",
        verticalRect: "path://M6,15 L6,6 L24,6 L24,8 L8,8 L8,15 L6,15 Z M6,22 L22,22 L22,15 L24,15 L24,24 L6,24 L6,22 Z M22,10 L24,10 L24,13 L22,13 L22,10 Z M6,17 L8,17 L8,20 L6,20 L6,17 Z",
        horizontalRect: "path://M8,22 L15,22 L15,24 L6,24 L6,22 L6,6 L8,6 L8,22 Z M24,8 L24,24 L22,24 L22,8 L15,8 L15,6 L24,6 L24,8 Z M10,6 L13,6 L13,8 L10,8 L10,6 Z M17,22 L20,22 L20,24 L17,24 L17,22 Z",
        line: "path://M20.5563492,11 L11,20.5563492 L11,23 L7,23 L7,19 L9.72792206,19 L19,9.72792206 L19,7 L23,7 L23,11 L20.5563492,11 Z",
        verticalLine: "path://M14,5 L14,25 L16,25 L16,5 M5,5 M25,25 Z",
        horizontalLine: "path://M5,14 L25,14 L25,16 L5,16 M5,5 M25,25 Z",
        ellipse: "path://M15,23 C19.418278,23 23,19.418278 23,15 C23,10.581722 19.418278,7 15,7 C10.581722,7 7,10.581722 7,15 C7,19.418278 10.581722,23 15,23 Z M15,25 C9.4771525,25 5,20.5228475 5,15 C5,9.4771525 9.4771525,5 15,5 C20.5228475,5 25,9.4771525 25,15 C25,20.5228475 20.5228475,25 15,25 Z",
        arrowLine: "path://M19.7279221,9 L18,9 L18,7 L23,7 L23,9 L23,12 L21,12 L21,10.5563492 L9.41421356,22.1421356 L8,20.7279221 L19.7279221,9 Z"
    },
    iconStyle: {
        normal: {
            fill: "#d8d8d8"
        },
        emphasis: {
            fill: "#9b9b9b"
        }
    },
    zlevel: 0,
    z: 9
};
var Qb = Qr.extend({
    type: "ellipse",
    shape: {
        x: 0,
        y: 0,
        width: 0,
        height: 0
    },
    style: {
        stroke: "#000",
        fill: null
    },
    buildPath: function (t, e) {
        var n = e.x,
        i = e.y,
        r = e.width,
        o = e.height,
        a = r / 2 * .5522848,
        s = o / 2 * .5522848,
        l = n + r,
        u = i + o,
        h = n + r / 2,
        c = i + o / 2;
        t.moveTo(n, c),
        t.bezierCurveTo(n, c - s, h - a, i, h, i),
        t.bezierCurveTo(h + a, i, l, c - s, l, c),
        t.bezierCurveTo(l, c + s, h + a, u, h, u),
        t.bezierCurveTo(h - a, u, n, c + s, n, c)
    }
}),
Jb = Qr.extend({
    type: "arrowLine",
    shape: {
        x1: 0,
        y1: 0,
        x2: 0,
        y2: 0,
        arrowAngle: 60,
        arrowSize: 20
    },
    style: {
        stroke: "#000",
        fill: null
    },
    buildPath: function (t, e) {
        var n = e.x1,
        i = e.y1,
        r = e.x2,
        o = e.y2,
        a = e.arrowAngle,
        s = e.arrowSize,
        l = Math.atan2(o - i, r - n),
        u = a / 2 / 180 * Math.PI;
        t.moveTo(n, i),
        t.lineTo(r, o),
        t.moveTo(r, o),
        t.lineTo(r - Math.cos(u - l) * s, o + Math.sin(u - l) * s),
        t.moveTo(r, o),
        t.lineTo(r - Math.cos(-l - u) * s, o + Math.sin(-l - u) * s)
    }
});
function tS(t, e, n) {
    return O(t, function (t) {
        return nS(t, e, n)
    })
}
function eS(t, e, n, i) {
    return O(t, function (t) {
        return function (t, e, n, i) {
            return [rS(e, t, i), rS(n, t, i)]
        }
        (t, e, n, i)
    })
}
function nS(t, e, n) {
    return [iS(e, t), iS(n, t)]
}
function iS(t, e) {
    return "ordinal" === t.getAxisType() ? t.getIndexByOffset(e[0], e[1]) + t.startIndex : t.scale.invert(e[["bottom", "top"].indexOf(t.get("position")) > -1 ? 0 : 1])
}
function rS(t, e, n) {
    var i = ["bottom", "top"].indexOf(t.get("position")) > -1;
    if ("ordinal" === t.getAxisType()) {
        var r = t.scale(t.scale.domain()[e[i ? 0 : 1] - t.startIndex]);
        return n && "band" === t.get("type") && (r += t.scale.bandwidth() / 2),
        r
    }
    return t.scale(e[i ? 0 : 1])
}
function oS(t, e, n) {
    var i = t.scale,
    r = void 0,
    o = void 0,
    a = e[0][0],
    s = e[1][0];
    if ("ordinal" === t.getAxisType()) {
        var l = i.domain(),
        u = i.paddingInner ? i.paddingInner() * i.step() / 2 : 0;
        a = Math.max(a, t.startIndex) - t.startIndex,
        s = Math.min(s, t.endIndex) - t.startIndex,
        n ? (r = i(l[a]) + i.bandwidth() / 2, o = i(l[s]) + i.bandwidth() / 2) : s >= a ? (r = i(l[a]) - u, o = i(l[s]) - u + ("band" === t.get("type") ? i.step() : 0)) : (r = i(l[a]) - u + ("band" === t.get("type") ? i.step() : 0), o = i(l[s]) - u)
    } else
        r = i(a), o = i(s);
    return {
        left: r,
        right: o
    }
}
function aS(t, e, n) {
    var i = t.scale,
    r = void 0,
    o = void 0,
    a = e[1][1],
    s = e[0][1];
    if ("ordinal" === t.getAxisType()) {
        var l = i.domain(),
        u = i.paddingInner ? i.paddingInner() * i.step() / 2 : 0;
        a = Math.max(a, t.startIndex) - t.startIndex,
        s = Math.min(s, t.endIndex) - t.startIndex,
        n ? (r = i(l[a]) + i.bandwidth() / 2, o = i(l[s]) + i.bandwidth() / 2) : s >= a ? (o = i(l[s]) - u, r = i(l[a]) - u + ("band" === t.get("type") ? i.step() : 0)) : (o = i(l[s]) - u + ("band" === t.get("type") ? i.step() : 0), r = i(l[a]) - u)
    } else
        r = i(a), o = i(s);
    return {
        top: o,
        bottom: r
    }
}
function sS(t, e, n, i, r) {
    var o = void 0,
    a = void 0,
    s = void 0,
    l = void 0;
    if (e) {
        var u = oS(n, t, r),
        h = aS(i, t, r);
        o = u.left,
        s = h.top,
        a = u.right,
        l = h.bottom
    } else
        o = t[0][0], s = t[0][1], a = t[1][0], l = t[1][1];
    return {
        left: o,
        right: a,
        top: s,
        bottom: l
    }
}
function lS(t, e, n, i) {
    var r = t.shape,
    o = t.style,
    a = sS(r.points, r.axisIndex, n, i),
    s = a.left,
    l = a.right,
    u = a.top;
    return {
        attr: aa({
            shape: {
                x: s,
                y: u,
                width: l - s,
                height: a.bottom - u
            },
            style: o
        }),
        Shape: Co
    }
}
function uS(t, e, n, i) {
    var r = t.shape,
    o = t.style,
    a = r.points,
    s = i.range[0],
    l = i.range[1],
    u = oS(n, a),
    h = u.left;
    return {
        attr: aa({
            shape: {
                x: h,
                y: s,
                width: u.right - h,
                height: l - s
            },
            style: o
        }),
        Shape: Co
    }
}
function hS(t, e, n, i) {
    var r = t.shape,
    o = t.style,
    a = r.points,
    s = n.range[0],
    l = n.range[1],
    u = aS(i, a),
    h = u.top;
    return {
        attr: aa({
            shape: {
                x: s,
                y: h,
                width: l - s,
                height: u.bottom - h
            },
            style: o
        }),
        Shape: Co
    }
}
function cS(t, e, n, i) {
    var r = t.shape,
    o = t.style,
    a = sS(r.points, r.axisIndex, n, i, !0),
    s = a.left,
    l = a.right;
    return {
        attr: oa({
            shape: {
                x1: s,
                y1: a.top,
                x2: l,
                y2: a.bottom
            },
            style: o
        }),
        Shape: Eo
    }
}
function fS(t, e) {
    var n = t.scale;
    if ("ordinal" === t.getAxisType()) {
        var i = n.domain();
        n.paddingInner && (n.paddingInner(), n.step());
        e = n(i[e = Math.max(e, t.startIndex)]) + n.bandwidth() / 2
    } else
        e = n(e);
    return e
}
function dS(t, e, n, i) {
    var r = t.shape,
    o = t.style,
    a = r.points,
    s = i.range[0],
    l = i.range[1],
    u = fS(n, a[0][0]);
    return {
        attr: oa({
            shape: {
                x1: u,
                y1: s,
                x2: u,
                y2: l
            },
            style: o
        }),
        Shape: Eo
    }
}
function pS(t, e, n, i) {
    var r = t.shape,
    o = t.style,
    a = r.points,
    s = n.range[0],
    l = n.range[1],
    u = fS(i, a[0][1]);
    return {
        attr: oa({
            shape: {
                x1: s,
                y1: u,
                x2: l,
                y2: u
            },
            style: o
        }),
        Shape: Eo
    }
}
function gS(t, e, n, i) {
    var r = t.shape,
    o = t.style,
    a = sS(r.points, r.axisIndex, n, i),
    s = a.left,
    l = a.right,
    u = a.top;
    return {
        attr: {
            shape: {
                x: s,
                y: u,
                width: l - s,
                height: a.bottom - u
            },
            style: o
        },
        Shape: Qb
    }
}
lS.pointNum = 2,
uS.onlyInAxis = !0,
uS.pointNum = 2,
hS.onlyInAxis = !0,
hS.pointNum = 2,
cS.pointNum = 2,
dS.onlyInAxis = !0,
dS.pointNum = 1,
pS.onlyInAxis = !0,
pS.pointNum = 1,
gS.pointNum = 2,
gS.pointNum = 2;
var vS = {
    rect: lS,
    verticalRect: uS,
    horizontalRect: hS,
    line: cS,
    verticalLine: dS,
    horizontalLine: pS,
    ellipse: gS,
    arrowLine: function (t, e, n, i) {
        var r = t.shape,
        o = t.style,
        a = sS(r.points, r.axisIndex, n, i, !0),
        s = a.left,
        l = a.right;
        return {
            attr: {
                shape: {
                    x1: s,
                    y1: a.top,
                    x2: l,
                    y2: a.bottom
                },
                style: o
            },
            Shape: Jb
        }
    }
},
yS = function (t) {
    function e(n, i, r) {
        o(this, e);
        var a = u(this, t.apply(this, arguments));
        return a.type = Zb,
        a.initEvent(n, i, r),
        a
    }
    return s(e, t),
    e.prototype.initEvent = function (t, e, n) {
        var i = this,
        r = t.get("$axisIndex"),
        o = !1,
        a = !1,
        s = void 0,
        l = [],
        u = void 0,
        h = void 0,
        c = void 0;
        D(t.get("$axisIndex"), function (t) {
            var n = e.getComponentByIndex("axis", t);
            ["bottom", "top"].indexOf(n.get("position")) > -1 ? h = n : c = n
        }),
        c && (s = c.getGridModels()[0]),
        n.on("mousedown", function (e) {
            var i = e.offsetX,
            r = e.offsetY,
            h = e.target,
            c = t.get("paintTool");
            !c || !vS[c] || o || n.isEnableEdit || h && h.isSketchShape || (!t.get("inGrid") || s && s.isPointInGrid(i, r)) && (!(a = t.get("inAxis") && s && s.isPointInGrid(i, r)) && vS[c].onlyInAxis || (l[0] = [i, r], u = new Date, o = !0))
        }),
        n.on("mousemove", function (e) {
            var n = e.offsetX,
            s = e.offsetY;
            if (o) {
                var u = {
                    style: t.get("style").normal,
                    shapeType: t.get("paintTool")
                };
                switch (vS[u.shapeType].pointNum) {
                case 1:
                    l[0] = [n, s];
                    break;
                case 2:
                default:
                    l[1] = [n, s]
                }
                u.shape = a ? {
                    points: tS(l, h, c),
                    axisIndex: r
                }
                 : {
                    points: l
                };
                var f = vS[u.shapeType](u, t, h, c),
                d = f.attr,
                p = f.Shape;
                d.z = t.get("z"),
                i.setShape("tempShape", p, d)
            }
        }),
        n.on("mouseup", function (e) {
            e.offsetX,
            e.offsetY;
            if (o) {
                if (new Date - u > 200) {
                    var n = {
                        style: t.get("style").normal,
                        z: t.get("z"),
                        hoverStyle: t.get("style").emphasis
                    };
                    n.shape = a ? {
                        points: tS(l, h, c),
                        axisIndex: r
                    }
                     : {
                        points: l
                    },
                    n.shapeIndex = +new Date,
                    n.shapeType = t.get("paintTool"),
                    t.get("shapeList").push(n),
                    t.set("shapeList", t.get("shapeList"))
                }
                i.removeShape("tempShape"),
                o = !1,
                l = [],
                t.get("disableWhenEnd") && t.set("paintTool", !1)
            }
        }),
        n.on("click", function (e) {
            var n = e.target;
            n && n.isSketchShape || !t.get("paintTool") || "number" != typeof t.get("currentEditIndex") || t.set("currentEditIndex", void 0)
        })
    },
    e.prototype.render = function (t, e, n) {
        var i = this,
        r = t.get("shapeList"),
        o = t.get("paintTool"),
        a = t.get("icon"),
        s = t.get("iconType"),
        l = t.get("iconStyle").normal,
        u = t.get("iconStyle").emphasis,
        h = t.top,
        c = t.left,
        f = void 0,
        d = void 0;
        D(t.get("$axisIndex"), function (t) {
            var n = e.getComponentByIndex("axis", t);
            ["bottom", "top"].indexOf(n.get("position")) > -1 ? f = n : d = n
        }),
        t.get("show") && D(a, function (e, n) {
            var r;
            r = o === e ? u : l,
            i.setShape("icon_" + e, zs, {
                shape: {
                    symbolType: s[e],
                    x: 35 * n,
                    y: 0,
                    width: 20,
                    height: 20
                },
                position: [c, h],
                style: r,
                rectHover: !0,
                iconName: e,
                z2: 999
            }, void 0, function (e) {
                switch (_a(e, u, {
                        disableMouse: !0
                    }), e.iconName) {
                case "back":
                    e.on("click", function () {
                        t.popShape()
                    }),
                    e.on("mousedown", function (t) {
                        t.target.trigger("emphasis")
                    }),
                    e.on("mouseup", function (t) {
                        t.target.trigger("normal")
                    });
                    break;
                default:
                    e.on("click", function () {
                        t.get("paintTool") === this.iconName ? t.set("paintTool", !1) : t.set("paintTool", this.iconName)
                    })
                }
            })
        }),
        this.eachShape(function (t, e) {
            e.match("shapeList_") && i.removeShape(e)
        }),
        D(r, function (e) {
            var r = vS[e.shapeType](e, t, f, d),
            o = r.attr,
            a = r.Shape;
            o.shapeIndex = e.shapeIndex,
            o.isSketchShape = !0,
            i.setShape("shapeList_" + e.shapeIndex, a, o, void 0, function (i) {
                _a(i, e.hoverStyle),
                i.on("click", function (e) {
                    var r = e.target,
                    o = t.get("paintTool");
                    if (o)
                        if ("delete" === o) {
                            var a = t.get("confirmWhenDelete");
                            a && !a() || t.deleteShape(r)
                        } else
                            t.set("currentEditIndex", i.shapeIndex);
                    n.dispatchAction(t, ts.itemClick, e)
                })
            })
        });
        var p = t.get("currentEditIndex"),
        g = void 0;
        if (o && "number" == typeof p && (g = F(r, function (t) {
                    return t.shapeIndex === p
                })), g) {
            var v = [],
            y = g.shape.points;
            g.shape.axisIndex && (y = eS(y, f, d, !0));
            for (var m = 0; m < y.length; m++)
                v.push({
                    shape: {
                        type: "rect",
                        x: y[m][0] - 5,
                        y: y[m][1] - 5,
                        width: 10,
                        height: 10
                    },
                    style: {
                        fill: "white",
                        stroke: "rgb(49, 207, 214)"
                    },
                    z2: 999,
                    z: t.get("z"),
                    pointIndex: m,
                    isSketchShape: !0,
                    rectHover: !0
                });
            this.setShapeGroup("editPoints", zs, v, void 0, function (e) {
                Ca(e, n, {
                    onDragging: function (e) {
                        var n = e.target,
                        i = e.offsetX,
                        r = e.offsetY,
                        o = t.get("shapeList"),
                        a = t.get("currentEditIndex"),
                        s = F(o, function (t) {
                            return t.shapeIndex === a
                        });
                        s && (s.shape.points[n.pointIndex] = s.shape.axisIndex ? nS([i, r], f, d) : [i, r], t.dirty())
                    }
                })
            })
        } else
            this.removeShape("editPoints")
    },
    e
}
(cs);
yS.type = Zb,
dl(Kb, yS);
var mS = "calendar",
xS = function (t) {
    function e() {
        var n,
        i;
        o(this, e);
        for (var r = arguments.length, a = Array(r), s = 0; s < r; s++)
            a[s] = arguments[s];
        return n = i = u(this, t.call.apply(t, [this].concat(a))),
        i.type = mS,
        u(i, n)
    }
    return s(e, t),
    e.prototype.update = function () {
        var t = this.get("range"),
        e = this.get("dayLabel"),
        n = this.get("orient"),
        i = e.firstDay % 7,
        r = void 0,
        o = void 0,
        a = [],
        s = {};
        if (B(t)) {
            var l = new Date(t[0]);
            r = new Date(l.getFullYear(), l.getMonth(), l.getDate()),
            o = new Date(t[1])
        } else {
            var u = t.toString().split("-");
            1 === u.length ? (r = new Date(t, 0, 1), o = new Date(+t + 1, 0, 1)) : (r = new Date(u[0], +u[1] - 1, 1), o = new Date(u[0], +u[1], 1))
        }
        for (var h = hc(r, o), c = void 0, f = 0; f < h.length; f++) {
            var d = h[f],
            p = d.getDay() - i,
            g = fc.count(h[0], d),
            v = d.getFullYear() + "-" + d.getMonth();
            if (!s[v] && (s[v] = []), p < 0 && (p += 7), d.getDay() < i && g--, "horizontal" !== n) {
                var y = [p, g];
                g = y[0],
                p = y[1]
            }
            var m = {
                d: d,
                yi: p,
                xi: g
            };
            0 === f ? (s[v][0] = m, c = v) : v !== c && (s[v][0] = m, s[c][1] = a[f - 1], c = v),
            a.push(m)
        }
        s[c][1] = a[a.length - 1],
        a[0].xi < 0 && D(a, function (t) {
            t.xi++
        }),
        this.days = a,
        this.months = s
    },
    e.prototype.calcPoint = function (t) {
        var e = this.days,
        n = this.get("cellSize"),
        i = this.get("left"),
        r = this.get("top"),
        o = void 0;
        if (t = new Date(t), o = F(e, function (e) {
                var n = e.d;
                return n.getFullYear() === t.getFullYear() && n.getMonth() === t.getMonth() && n.getDate() == t.getDate()
            }))
            return o.x = i + n * (o.xi + .5), o.y = r + n * (o.yi + .5), o
    },
    e
}
(ms);
xS.type = mS,
xS.defaultOption = {
    show: !0,
    left: 50,
    top: 50,
    cellSize: 20,
    orient: "horizontal",
    range: (new Date).getFullYear(),
    itemStyle: {
        stroke: "#ccc",
        fill: "#fff",
        lineWidth: 1
    },
    splitLine: {
        show: !0,
        style: {
            stroke: "#000",
            lineWidth: 1,
            fill: null
        }
    },
    dayLabel: {
        show: !0,
        firstDay: 0,
        margin: 10,
        position: "start",
        nameMap: "cn",
        style: {
            fill: "#000"
        }
    },
    monthLabel: {
        show: !0,
        margin: 10,
        position: "start",
        nameMap: "cn",
        style: {
            fill: "#000"
        }
    },
    yearLabel: {
        show: !0,
        margin: 40,
        style: {
            fill: "#ccc",
            fontSize: 20
        }
    },
    zlevel: 0,
    z: 0
};
var _S = {
    cn: ["日", "一", "二", "三", "四", "五", "六"],
    en: ["S", "M", "T", "W", "T", "F", "S"]
},
wS = {
    cn: ["一月", "二月", "三月", "四月", "五月", "六月", "七月", "八月", "九月", "十月", "十一月", "十二月"],
    en: ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"]
},
bS = function (t) {
    function e() {
        var n,
        i;
        o(this, e);
        for (var r = arguments.length, a = Array(r), s = 0; s < r; s++)
            a[s] = arguments[s];
        return n = i = u(this, t.call.apply(t, [this].concat(a))),
        i.type = mS,
        u(i, n)
    }
    return s(e, t),
    e.prototype.render = function (t, e) {
        this.renderDays.apply(this, arguments),
        this.renderSplitLine.apply(this, arguments),
        this.renderDayLabel.apply(this, arguments),
        this.renderMonthLabel.apply(this, arguments),
        this.renderYearLabel.apply(this, arguments)
    },
    e.prototype.renderDays = function (t, e) {
        for (var n = t.get("cellSize"), i = t.get("left"), r = t.get("top"), o = t.get("itemStyle"), s = t.days, l = [], u = 0; u < s.length; u++) {
            var h = s[u],
            c = {
                shape: {
                    x: i,
                    y: r,
                    width: n,
                    height: n
                },
                position: [h.xi * n, h.yi * n],
                style: a({
                    text: h.d.getDate()
                }, o),
                silent: !0
            };
            l.push(c)
        }
        this.setShapeGroup("days", Co, l)
    },
    e.prototype.renderSplitLine = function (t, e) {
        var n = t.get("splitLine");
        if (n.show) {
            var i = t.months,
            r = t.get("left"),
            o = t.get("top"),
            a = t.get("cellSize"),
            s = t.get("orient"),
            l = [];
            for (var u in i) {
                var h = {
                    shape: {
                        points: SS(i[u], a, s)
                    },
                    position: [r, o],
                    style: n.style,
                    silent: !0
                };
                l.push(h)
            }
            this.setShapeGroup("months", ko, l)
        }
    },
    e.prototype.renderDayLabel = function (t, e) {
        var n = t.get("dayLabel");
        if (n.show) {
            var i = n.nameMap,
            r = n.margin,
            o = n.position,
            s = n.style,
            l = n.firstDay,
            u = (t.days, t.get("left")),
            h = t.get("top"),
            c = t.get("cellSize"),
            f = t.get("orient"),
            d = [];
            "string" == typeof i && (i = _S[i]),
            l && (i = i.slice(l).concat(i.slice(0, l)));
            for (var p = 0; p < 7; p++) {
                var g = void 0;
                "horizontal" === f ? "start" === o && (g = {
                        style: a({
                            text: i[p],
                            x: u - r,
                            y: h + (p + .5) * c,
                            textAlign: "right",
                            textVerticalAlign: "middle"
                        }, s)
                    }) : "start" === o && (g = {
                        style: a({
                            text: i[p],
                            x: u + (p + .5) * c,
                            y: h - r,
                            textAlign: "center",
                            textVerticalAlign: "bottom"
                        }, s)
                    }),
                g.silent = !0,
                d.push(e.getFormattedText(g))
            }
            this.setShapeGroup("dayLabels", vo, d)
        }
    },
    e.prototype.renderMonthLabel = function (t, e) {
        var n = t.get("monthLabel");
        if (n.show) {
            var i = n.nameMap,
            r = n.margin,
            o = n.position,
            s = n.style,
            l = t.months,
            u = t.get("left"),
            h = t.get("top"),
            c = t.get("cellSize"),
            f = t.get("orient"),
            d = [];
            for (var p in "string" == typeof i && (i = wS[i]), l) {
                var g = l[p],
                v = void 0;
                p = parseInt(p.split("-")[1]),
                "horizontal" === f ? "start" === o && (v = {
                        style: a({
                            text: i[p],
                            x: (g[0].xi + g[1].xi + 1) / 2 * c,
                            y: -r,
                            textAlign: "center",
                            textVerticalAlign: "bottom"
                        }, s),
                        position: [u, h]
                    }) : "start" === o && (v = {
                        style: a({
                            text: i[p],
                            x: -r,
                            y: (g[0].yi + g[1].yi + 1) / 2 * c,
                            textAlign: "right",
                            textVerticalAlign: "middle"
                        }, s),
                        position: [u, h]
                    }),
                v.silent = !0,
                d.push(e.getFormattedText(v))
            }
            this.setShapeGroup("monthLabels", vo, d)
        }
    },
    e.prototype.renderYearLabel = function (t, e) {
        var n = t.get("yearLabel");
        if (n.show) {
            var i = t.get("cellSize"),
            r = t.get("left"),
            o = t.get("top"),
            s = t.get("orient"),
            l = t.days,
            u = n.margin,
            h = n.style,
            c = l[0].d.getFullYear(),
            f = l[l.length - 1].d.getFullYear(),
            d = void 0,
            p = void 0;
            d = c === f ? c : c + "-" + f,
            (p = "horizontal" === s ? {
                    style: a({
                        text: d,
                        textAlign: "center",
                        textVerticalAlign: "middle"
                    }, h),
                    position: [r - u, o + 3.5 * i],
                    rotation: Math.PI / 2
                }
                 : {
                style: a({
                    text: d,
                    textAlign: "center",
                    textVerticalAlign: "middle"
                }, h),
                position: [r + 3.5 * i, o - u]
            }).silent = !0,
            this.setShape("yearLabel", vo, e.getFormattedText(p))
        }
    },
    e
}
(fs);
function SS(t, e, n) {
    var i = t[0],
    r = t[1];
    return "horizontal" === n ? [[i.xi * e, i.yi * e], [i.xi * e, 7 * e], [r.xi * e, 7 * e], [r.xi * e, (r.yi + 1) * e], [(r.xi + 1) * e, (r.yi + 1) * e], [(r.xi + 1) * e, 0], [(i.xi + 1) * e, 0], [(i.xi + 1) * e, i.yi * e]] : [[i.xi * e, i.yi * e], [7 * e, i.yi * e], [7 * e, r.yi * e], [(r.xi + 1) * e, r.yi * e], [(r.xi + 1) * e, (r.yi + 1) * e], [0, (r.yi + 1) * e], [0, (i.yi + 1) * e], [i.xi * e, (i.yi + 1) * e]]
}
bS.type = mS,
dl(xS, bS);
var kS = "markArea",
MS = function (t) {
    function e() {
        var n,
        i;
        o(this, e);
        for (var r = arguments.length, a = Array(r), s = 0; s < r; s++)
            a[s] = arguments[s];
        return n = i = u(this, t.call.apply(t, [this].concat(a))),
        i.type = kS,
        u(i, n)
    }
    return s(e, t),
    e
}
(ms);
MS.type = kS,
MS.emphasisList = ["areaStyle"],
MS.defaultOption = {
    show: !0,
    $axisIndex: void 0,
    $seriesIndex: void 0,
    areaStyle: {
        normal: {
            fill: "rgba(128, 128, 128, 0.5)"
        },
        emphasis: {}
    },
    label: {
        normal: {
            show: !1,
            style: {
                position: "top"
            }
        },
        emphasis: {
            show: !1,
            style: {}
        }
    },
    cursor: "pointer",
    zlevel: 0,
    z: 10
};
var IS = function (t) {
    function e() {
        var n,
        i;
        o(this, e);
        for (var r = arguments.length, a = Array(r), s = 0; s < r; s++)
            a[s] = arguments[s];
        return n = i = u(this, t.call.apply(t, [this].concat(a))),
        i.type = kS,
        u(i, n)
    }
    return s(e, t),
    e.prototype.render = function (t, e) {
        if (t.get("show")) {
            var n = t.getData(),
            i = t.get("areaStyle"),
            r = t.get("label").normal,
            o = t.get("animation"),
            s = [];
            D(n, function (n, o) {
                var l = S((n.areaStyle || {}).normal || {}, i.normal),
                u = S(n.label && n.label.normal || {}, r),
                h = {};
                if (u.show) {
                    var c = u.formatter ? u.formatter(n) : n.value;
                    h = e.getFormattedText(a({
                                text: c
                            }, u.style))
                }
                if (n.points) {
                    var f = t.getAxisModel("x"),
                    d = t.getAxisModel("y"),
                    p = f.range,
                    g = d.range,
                    v = [],
                    y = !1,
                    m = n.points.every(function (t) {
                        return t.xValue > f.domain[f.domain.length - 1]
                    }),
                    x = n.points.every(function (t) {
                        return t.xValue < f.domain[0]
                    });
                    if (m || x || D(n.points, function (n) {
                            var i = (jb(n, t, e) || {}).position;
                            i && v.push(i)
                        }), v.length >= 2) {
                        var _ = 0,
                        w = 1;
                        if (["left", "right"].indexOf(f.get("position")) > -1 && (_ = 1, w = 0), (v[0][0] <= p[w] || v[1][0] <= p[w]) && (v[0][0] >= p[_] || v[1][0] >= p[_]) && (v[0][1] <= g[_] || v[1][1] <= g[_]) && (v[0][1] >= g[w] || v[1][1] >= g[w]) && (y = !0), !y)
                            return;
                        v[0][0] = Math.min(Math.max(p[_], v[0][0]), p[w]),
                        v[0][1] = Math.min(Math.max(g[w], v[0][1]), g[_]),
                        v[1][0] = Math.min(Math.max(p[_], v[1][0]), p[w]),
                        v[1][1] = Math.min(Math.max(g[w], v[1][1]), g[_]),
                        ["left", "right"].indexOf(f.get("position")) > -1 && (v[0] = [v[0][1], v[0][0]], v[1] = [v[1][1], v[1][0]]),
                        s.push(aa({
                                cursor: t.get("cursor"),
                                shape: {
                                    x: v[0][0],
                                    y: v[0][1],
                                    width: v[1][0] - v[0][0],
                                    height: v[1][1] - v[0][1]
                                },
                                style: a({}, l, h),
                                key: o
                            }))
                    }
                } else if (n.type) {
                    var b = e.getComponentByIndex("series", t.get("$seriesIndex"));
                    if (b && !1 !== b.get("selected")) {
                        var k = (b || t).getAxisModel("x"),
                        M = t.getAxisModel("y"),
                        I = b.getDataExtent(n.type),
                        A = void 0;
                        A = "average" === n.type ? {
                            x: k.range[0],
                            y: M.scale(I),
                            width: k.range[1] - k.range[0],
                            height: M.scale(I) - M.scale(I)
                        }
                         : {
                            x1: k.range[0],
                            y1: M.scale(I[0][1]),
                            x2: k.range[1],
                            y2: M.scale(I[0][1])
                        },
                        s.push(aa({
                                cursor: t.get("cursor"),
                                shape: A,
                                style: a({}, l, h),
                                key: o
                            }))
                    }
                }
            }),
            this.setShapeGroup("markAreas", Co, s, {
                animation: o,
                animateList: {
                    shape: {
                        x: 0,
                        y: 0,
                        width: 0,
                        height: 0
                    }
                }
            })
        } else
            this.removeShape("markAreas")
    },
    e
}
(fs);
IS.type = kS,
dl(MS, IS);
var AS = "radarAxis",
TS = function (t) {
    function e() {
        var n,
        i;
        o(this, e);
        for (var r = arguments.length, a = Array(r), s = 0; s < r; s++)
            a[s] = arguments[s];
        return n = i = u(this, t.call.apply(t, [this].concat(a))),
        i.type = AS,
        u(i, n)
    }
    return s(e, t),
    e.prototype.getAxisType = function () {
        return "polar"
    },
    e.prototype.isPointIn = function (t, e) {
        var n = this.center;
        if (!n)
            return !1;
        var i = this.radius;
        if (0 === i)
            return !1;
        var r = n[0] - t,
        o = n[1] - e;
        return r * r + o * o <= i * i
    },
    e.prototype.angleScaleInvert = function (t, e) {
        var n = this.center,
        i = (this.radius, n[0]),
        r = n[1];
        return Math.atan2(t - i, e - r) + Math.PI / 2
    },
    e.prototype.getDataByIndex = function (t) {
        for (var e = !(arguments.length > 1 && void 0 !== arguments[1]) || arguments[1], n = this.globalModel, i = (this.index, n.getSeriesByAxis(0, e)), r = [], o = 0; o < i.length; o++) {
            var a = i[o],
            s = b(a.getData());
            r.push({
                originValue: s,
                name: a.get("name"),
                color: a.getSeriesColor(),
                seriesIndex: a.index,
                type: a.type
            })
        }
        return r
    },
    e.prototype.update = function () {
        var t = this._option,
        e = t.indicator,
        n = t.radius,
        i = t.center,
        r = (this.globalModel, this.global),
        o = ww.linear,
        a = e.length,
        s = o().domain([0, a]).range([-Math.PI / 2, 2 * Math.PI - Math.PI / 2]),
        l = r.getWidth(),
        u = r.getHeight();
        n = Ea(n, Math.min(l, u));
        var h = [];
        e.map(function (t, e) {
            var i = o().domain([t.min ? t.min : 0, t.max ? t.max : 100]).range([0, n]);
            h.push(i)
        });
        var c = "string" == typeof i[0] ? parseInt(parseFloat(i[0].split("%")[0]) / 100 * l) : parseInt(i[0]),
        f = "string" == typeof i[1] ? parseInt(parseFloat(i[1].split("%")[0]) / 100 * u) : parseInt(i[1]);
        this.angleScale = s,
        this.radiusScaleArr = h,
        this.radius = n,
        this.center = [c, f]
    },
    e
}
(ms);
TS.type = AS,
TS.defaultOption = {
    startAngle: 90,
    center: ["50%", "50%"],
    radius: 170,
    splitNumber: 5,
    name: {
        positionOffset: 1.1,
        formatter: void 0,
        textStyle: {
            textBaseline: "middle",
            textFill: "#ccc"
        }
    },
    axisLine: {
        lineStyle: {
            color: "#ccc"
        }
    },
    splitLine: {
        lineStyle: {
            color: ["#f5f5f5", "#e5e5e5"],
            width: 1
        }
    },
    splitArea: {
        areaStyle: {
            color: ["#f5f5f5", "#e5e5e5"]
        }
    },
    indicatorName: {
        textStyle: {
            color: "#fff",
            backgroundColor: "#999",
            borderRadius: 3,
            padding: [3, 5]
        }
    },
    indicator: [],
    shape: "polygon",
    zlevel: 0,
    z: 1
};
var CS = function (t) {
    function e(n, i, r) {
        o(this, e);
        var a = u(this, t.apply(this, arguments));
        return a.type = AS,
        a._initEvent(n, i, r),
        a
    }
    return s(e, t),
    e.prototype._initEvent = function (t, e, n) {
        var i = t.getAxisType(),
        r = !0;
        function o() {
            r || ("polar" === i && n.dispatchAction(t, Ua.out, {}), r = !0)
        }
        n.on("mousemove", function (e) {
            if (!n.isEnableEdit && !n.isEnableSketch) {
                var a = e.offsetX,
                s = e.offsetY,
                l = !1;
                if (t.isPointIn(a, s) && (l = !0), l) {
                    if ("polar" === i) {
                        var u = t.angleScaleInvert(a, s),
                        h = Math.round(t.angleScale.invert(u));
                        (h = t.get("indicator").length - h) >= t.get("indicator").length && (h = 0),
                        n.dispatchAction(t, Ua.move, {
                            e: e,
                            axisIndex: h,
                            indicator: t.get("indicator")[h],
                            axis: {
                                data: t.get("indicator")[h].name,
                                axisIndex: h
                            },
                            series: t.getDataByIndex(h),
                            allSeries: t.getDataByIndex(h, !1)
                        })
                    }
                    r = !1
                } else
                    r || o()
            }
        }),
        n.on("globalout", o),
        n.on("mouseup", o)
    },
    e.prototype.render = function (t, e, n) {
        this.remove();
        for (var i = t.get("shape"), r = t.radius, o = t.center[0], s = t.center[1], l = t.get("indicator"), u = t.get("splitNumber"), h = t.get("splitLine").lineStyle, c = t.get("splitArea").areaStyle, f = t.angleScale, d = t.get("axisLine").lineStyle, p = t.get("name").textStyle, g = t.get("name").formatter, v = t.get("name").positionOffset, y = Math.cos, m = Math.sin, x = l.length, _ = r / u, w = u - 1; w >= 0; w--) {
            for (var b = [], S = 0; S < x; S++) {
                var k = _ * (w + 1) * y(f(S)),
                M = _ * (w + 1) * m(f(S));
                if (b.push([k, M]), w == u - 1) {
                    var I = 0 == k.toFixed(6) ? "center" : k.toFixed(6) < 0 ? "right" : "left",
                    A = "function" == typeof g ? g(l[S], S) : l[S].name,
                    T = new vo({
                        z2: 2,
                        cursor: "default",
                        style: a({
                            text: A,
                            x: k * v,
                            y: M * v
                        }, p, {
                            textAlign: I
                        }),
                        data: A,
                        position: [o, s],
                        axisIndex: S
                    });
                    T.on("click", function (e) {
                        n.dispatchAction(t, "LABEL_CLICK", {
                            shape: e.target,
                            data: e.target.data,
                            axisIndex: this.axisIndex
                        })
                    }),
                    this.group.add(T);
                    var C = new Eo({
                        z2: 2,
                        shape: {
                            x1: 0,
                            y1: 0,
                            x2: k,
                            y2: M
                        },
                        position: [o, s],
                        style: {
                            stroke: d.color,
                            fill: null
                        }
                    });
                    this.group.add(C)
                }
            }
            if ("polygon" == i) {
                var z = new ko({
                    z2: 1,
                    cursor: "default",
                    shape: {
                        points: b
                    },
                    position: [o, s],
                    style: {
                        stroke: h.color[w % 2],
                        fill: c.color[w % 2],
                        lineDash: w === u - 1 ? [0, 0] : h.lineDash
                    }
                });
                this.group.add(z)
            } else if ("circle" == i) {
                var E = new yo({
                    cursor: "default",
                    z2: 1,
                    shape: {
                        r: _ * (w + 1)
                    },
                    position: [o, s],
                    style: {
                        stroke: h.color[w % 2],
                        fill: c.color[w % 2]
                    }
                });
                this.group.add(E)
            }
        }
    },
    e
}
(fs);
CS.type = AS,
dl(TS, CS);
var zS = "visualMap",
ES = function (t) {
    function e() {
        var n,
        i;
        o(this, e);
        for (var r = arguments.length, a = Array(r), s = 0; s < r; s++)
            a[s] = arguments[s];
        return n = i = u(this, t.call.apply(t, [this].concat(a))),
        i.type = zS,
        u(i, n)
    }
    return s(e, t),
    e.prototype.update = function () {
        var t = this.get("max"),
        e = this.get("min"),
        n = this.get("range"),
        i = [];
        n ? (i[0] = n[0] < e ? e : n[0], i[1] = n[1] > t ? t : n[1]) : i = [e, t],
        this.range = i,
        this.colorStopArr = [];
        for (var r = this.get("inRange").color, o = 0; o < r.length - 1; o += 1)
            this.colorStopArr.push({
                down: r[o][0],
                up: r[o + 1][0],
                downColor: r[o][1],
                upColor: r[o + 1][1]
            })
    },
    e.prototype.getUpRectHeight = function (t, e, n, i) {
        return (n - t) / (n - e) * i
    },
    e.prototype.getDownRectHeight = function (t, e, n, i) {
        return Math.abs(t - e) / (n - e) * i
    },
    e.prototype.isInRange = function (t) {
        var e = this.get("range");
        return !e || t >= e[0] && t <= e[1]
    },
    e.prototype.getColor = function (t) {
        var e = this.get("max"),
        n = this.get("min"),
        i = this.get("inRange").color;
        return dh(i[0][1], i[1][1])((t - n) / (e - n))
    },
    e.prototype.getColorStop = function (t, e) {
        if (t /= this.get("max") - this.get("min"), e && !this.get("seriesColorReplace"))
            return e;
        for (var n = 0; n < this.colorStopArr.length; n += 1) {
            if (t >= this.colorStopArr[n].down && t < this.colorStopArr[n].up)
                return dh(this.colorStopArr[n].downColor, this.colorStopArr[n].upColor)((t - this.colorStopArr[n].down) / (this.colorStopArr[n].up - this.colorStopArr[n].down));
            if (t >= 1 && 1 === this.colorStopArr[n].up)
                return this.colorStopArr[n].upColor
        }
    },
    e
}
(_s);
ES.type = zS,
ES.defaultOption = {
    zlevel: 0,
    z: 3,
    min: 0,
    max: 10,
    left: 20,
    top: 100,
    itemWidth: 20,
    itemHeight: 200,
    range: void 0,
    text: ["max", "min"],
    precision: 0,
    seriesColorReplace: !0,
    textStyle: {
        fontSize: 12,
        textFill: "#000"
    },
    arrowDown: {
        labelFormatter: void 0,
        style: {}
    },
    arrowUp: {
        labelFormatter: void 0,
        style: {}
    },
    textGap: 10,
    arrowSize: 15,
    backgroundColor: "grey",
    inRange: {
        color: [[0, "rgb(255, 204, 102)"], [1, "rgb(204, 51, 0)"]]
    },
    eventKey: "VISUALMAP"
};
var LS = function (t) {
    function e() {
        var n,
        i;
        o(this, e);
        for (var r = arguments.length, a = Array(r), s = 0; s < r; s++)
            a[s] = arguments[s];
        return n = i = u(this, t.call.apply(t, [this].concat(a))),
        i.type = zS,
        u(i, n)
    }
    return s(e, t),
    e.prototype.render = function (t, e, n) {
        var i,
        r = t.get("arrowSize"),
        o = t.get("min"),
        s = t.get("max"),
        l = t.get("backgroundColor"),
        u = t.get("arrowUp"),
        h = t.get("arrowDown"),
        c = t.get("left"),
        f = t.get("top"),
        d = t.get("itemWidth"),
        p = t.get("itemHeight");
        t.get("throttleTime");
        this.setShape("VisualMapBar", Co, {
            shape: {
                x: c,
                y: f,
                width: d,
                height: p
            },
            style: {
                fill: (i = t.get("inRange").color, {
                    type: "linear",
                    x: 0,
                    y: 1,
                    x2: 0,
                    y2: 0,
                    colorStops: i.map(function (t) {
                        return {
                            offset: t[0],
                            color: t[1]
                        }
                    })
                })
            }
        }, void 0, function (e) {
            e.on("mousedown", function (e) {
                var n = e.offsetY,
                i = s - o - (n - f) / p * (s - o);
                t.range[1] - i >= i - t.range[0] ? t.range[0] = i : t.range[1] = i,
                t.set("range", t.range)
            })
        });
        var g = t.getUpRectHeight(t.range[1], o, s, p);
        this.setShape("upRect", Co, {
            shape: {
                x: c,
                y: f,
                width: d,
                height: g
            },
            style: {
                fill: l
            },
            z: t.get("z"),
            z2: 1e3
        }, void 0, function (e) {
            e.on("mousedown", function (e) {
                var n = e.offsetY,
                i = s - o - (n - f) / p * (s - o);
                t.range[1] = i,
                t.set("range", t.range)
            })
        });
        var v = t.getDownRectHeight(t.range[0], o, s, p);
        this.setShape("downRect", Co, {
            shape: {
                x: c,
                y: f + p - v,
                width: d,
                height: v
            },
            style: {
                fill: l
            },
            z: t.get("z"),
            z2: 1e3
        }, void 0, function (e) {
            e.on("mousedown", function (e) {
                var n = e.offsetY,
                i = s - o - (n - f) / p * (s - o);
                t.range[0] = i,
                t.set("range", t.range)
            })
        });
        for (var y = t.get("text"), m = t.get("textStyle"), x = t.get("textGap"), _ = [[c + d / 2, f], [c + d / 2, f + p]], w = function (t) {
            return t < 1 ? [_[t][0], _[t][1] - x - m.fontSize] : [_[t][0], _[t][1] + x]
        }, b = 0; b < y.length; b += 1)
            this.setShape("VisualMapText" + b, vo, {
                style: a({
                    text: y[b],
                    textFill: m.textFill,
                    fontSize: m.fontSize,
                    textAlign: "middle"
                }, m),
                position: w(b),
                z: t.get("z"),
                z2: 999
            });
        this.setShape("VisualMapArrowUp", ko, {
            shape: {
                points: [[0, r], [r, 0], [r, r]]
            },
            style: a({
                fill: t.getColorStop(t.range[1]),
                text: "function" == typeof u.labelFormatter ? u.labelFormatter(t.range[1], t.get("precision")) : t.range[1].toFixed(t.get("precision")),
                textPosition: "right"
            }, u.style),
            position: [c + d, f + g - r],
            z: t.get("z"),
            z2: 998
        }, void 0, function (e) {
            var i = !1;
            e.on("mousedown", function () {
                i = !0
            }),
            n.on("mousemove", function (e) {
                var a = e.offsetY;
                i && (t.range[1] = s - o - (a - f + r) / p * (s - o), t.range[1] >= s && (t.range[1] = s), t.range[1] <= t.range[0] && (t.range[1] = t.range[0]), t.set("range", t.range), n.dispatchAction(t, t.get("eventKey"), {
                        up: t.range[1],
                        down: t.range[0]
                    }))
            }),
            n.on("mouseup", function () {
                i = !1
            })
        }),
        this.setShape("VisualMapArrowDown", ko, {
            shape: {
                points: [[0, 0], [r, 0], [r, r]]
            },
            style: a({
                fill: t.getColorStop(t.range[0]),
                text: "function" == typeof h.labelFormatter ? h.labelFormatter(t.range[0], t.get("precision")) : t.range[0].toFixed(t.get("precision")),
                textPosition: "right"
            }, h.style),
            position: [c + d, f + p - v],
            z: t.get("z"),
            z2: 998
        }, void 0, function (e) {
            var i = !1;
            e.on("mousedown", function () {
                i = !0
            }),
            n.on("mousemove", function (e) {
                var r = e.offsetY;
                i && (t.range[0] = (p - (r - f)) / p * (s - o), t.range[0] <= 0 ? t.range[0] = o : t.range[0] >= t.range[1] && (t.range[0] = t.range[1]), t.set("range", t.range), n.dispatchAction(t, t.get("eventKey"), {
                        up: t.range[1],
                        down: t.range[0]
                    }))
            }),
            n.on("mouseup", function () {
                i = !1
            })
        })
    },
    e
}
(cs);
function DS(t, e, n, i) {
    var r = void 0,
    o = t[e],
    a = "function" == typeof n.bandwidth ? n.bandwidth() : 0;
    switch (t[e + "Type"]) {
    case "coordMiddle":
        r = Math.min(n.range()[0], n.range()[1]) + Math.abs(n.range()[0] - n.range()[1]) / 2;
        break;
    case "coordStart":
        r = Math.min(n.range()[0], n.range()[1]);
        break;
    case "coordEnd":
        r = Math.max(n.range()[0], n.range()[1]);
        break;
    case "coord":
        r = o;
        break;
    case "value":
        r = n(o);
        break;
    case "bandValue":
        r = n(o) + a / 2;
        break;
    case "number":
        r = n(n.domain()[o]);
        break;
    case "type":
    case "index":
        i && (r = n(t["f" + e](i)))
    }
    return "function" == typeof t[e + "Formatter"] ? t[e + "Formatter"](r, {
        bandwidth: a
    }) : r
}
LS.type = zS,
dl(ES, LS);
var OS = "region",
PS = function (t) {
    function e() {
        var n,
        i;
        o(this, e);
        for (var r = arguments.length, a = Array(r), s = 0; s < r; s++)
            a[s] = arguments[s];
        return n = i = u(this, t.call.apply(t, [this].concat(a))),
        i.type = OS,
        u(i, n)
    }
    return s(e, t),
    e.prototype.checkRegionLimit = function (t, e) {
        var n = this.get("region"),
        i = n.min,
        r = this.startIndex,
        o = this.endIndex,
        a = this.totalNumber - 1;
        return "end" === t ? e <= r + i ? e - i >= 0 && (n.start.x = e - i, n.start.xType = "number", n.end.x = e, n.end.xType = "number") : (n.start.x = r, n.start.xType = "number", n.end.x = e, n.end.xType = "number") : e >= o - i ? e + i <= a && (n.start.x = e, n.start.xType = "number", n.end.x = e + i, n.end.xType = "number") : (n.start.x = e, n.start.xType = "number", n.end.x = o, n.end.xType = "number"),
        n
    },
    e.prototype.update = function () {
        var t = this.globalModel,
        e = (this.global, this.get("$axisIndex")),
        n = this.get("region"),
        i = n.min,
        r = this.get("handlePoints"),
        o = n.hotspot.expand,
        a = void 0,
        s = void 0;
        r = B(r) ? r : [r, r],
        D(e, function (e) {
            var n = t.getComponentByIndex("axis", e);
            ["bottom", "top"].indexOf(n.get("position")) > -1 ? a = n : s = n
        });
        var l = a.scale.domain(),
        u = void 0,
        h = void 0;
        "number" === n.start.xType && "number" === n.end.xType ? (u = n.start.x, h = n.end.x) : O(l, function (t, e) {
            t === n.start.x && (u = e),
            t === n.end.x && (h = e)
        });
        l.length;
        void 0 === u && n.start.x < l[0] && (u = 0, void 0 === h ? n.end.x < l[0] && (h = u + i) : h - u < i && (h = u + i)),
        void 0 !== h && void 0 !== l[h] || (n.end.x > l[l.length - 1] || h > l.length - 1) && (h = l.length - 1, void 0 === u ? n.start.x > l[l.length - 1] && (u = h - i) : h - u < i && (u = h - i));
        var c,
        f;
        c = l[u],
        f = l[h];
        for (var d = [DS({
                    x: u,
                    xType: "number",
                    xFormatter: n.start.xFormatter
                }, "x", a.scale), DS(n.start, "y", s.scale)], p = [DS({
                    x: h,
                    xType: "number",
                    xFormatter: n.end.xFormatter
                }, "x", a.scale), DS(n.end, "y", s.scale)], g = [{
                    start: [d[0] - o, d[1]],
                    end: [d[0] + o, p[1]]
                }, {
                    start: [p[0] - o, d[1]],
                    end: [p[0] + o, p[1]]
                }
            ], v = [d, p], y = [], m = 0; m < v.length; m++)
            if ("coordMiddle" === r[m].position) {
                var x = DS({
                    y: "coordMiddle",
                    yType: "coordMiddle"
                }, "y", s.scale);
                y.push([v[m][0], x])
            }
        this.points = v,
        this.startDate = c,
        this.endDate = f,
        this.startIndex = u,
        this.endIndex = h,
        this.handlePointsPos = y,
        this.totalNumber = l.length,
        this.handlePointsStyle = r,
        this.hotspotPoints = g
    },
    e
}
(ms);
function FS(t, e) {
    var n = t.shape,
    i = t.style,
    r = n.points;
    return {
        attr: aa({
            shape: {
                x: r[0][0],
                y: r[0][1],
                width: r[1][0] - r[0][0],
                height: r[1][1] - r[0][1]
            },
            style: i
        }),
        Shape: Co
    }
}
PS.type = OS,
PS.emphasisList = ["style", "iconStyle"],
PS.defaultOption = {
    show: !0,
    inGrid: !1,
    inAxis: !0,
    regionType: "verticalRect",
    alwaysShowHandlePoint: !0,
    style: {
        textFormatter: void 0,
        normal: {
            fill: "rgba(49, 207, 214, 0.1)",
            stroke: "rgba(49, 207, 214, 1)"
        },
        emphasis: void 0
    },
    handlePoints: {
        type: "circle",
        position: "coordMiddle",
        size: [20, 20],
        offset: [0, 0],
        style: {
            normal: {
                fill: "white",
                stroke: "rgb(49, 207, 214)",
                lineWidth: 2
            },
            emphasis: {}
        }
    },
    region: {
        min: 4,
        hotspot: {
            expand: 10,
            style: {
                normal: {
                    fill: "rgba(255, 255, 255, 0)"
                },
                emphasis: {
                    fill: "rgba(230, 122, 122, 0.5)"
                }
            }
        },
        start: void 0,
        end: void 0
    },
    zlevel: 0,
    z: 9,
    cursor: "default"
},
FS.onlyInAxis = !0,
FS.pointNum = 2;
var NS = {
    verticalRect: FS
},
RS = function (t) {
    function e(n, i, r) {
        o(this, e);
        var a = u(this, t.apply(this, arguments));
        return a.type = OS,
        a.initEvent(n, i, r),
        a
    }
    return s(e, t),
    e.prototype.initEvent = function (t, e, n) {
        var i = this,
        r = e.getComponentByIndex("dataZoom", 0),
        o = [],
        a = [];
        this.isMousedown = {
            0: !1,
            1: !1
        },
        n.registerAction(r, Va.wheel, function (e) {
            e.e,
            e.scale,
            e.zoomX,
            e.zoomY;
            var n = t.startDate,
            i = t.endDate,
            r = (t.totalNumber, t.startIndex, t.endIndex, t.get("region"));
            r.start.x = n,
            r.start.xType = "value",
            r.end.x = i,
            r.end.xType = "value",
            t.set({
                region: r
            })
        }),
        n.registerAction(r, Va.start, function () {
            o = t.get("region"),
            a = [t.startIndex, t.endIndex],
            o.start.x = a[0],
            o.start.xType = "number",
            o.end.x = a[1],
            o.end.xType = "number",
            t.set({
                region: o
            })
        }),
        n.on("mouseup", function (e) {
            e.offsetX,
            e.offsetY;
            (i.isMousedown[0] || i.isMousedown[1]) && (i.isMousedown = {
                    0: !1,
                    1: !1
                }, t.dirty())
        }),
        n.on("globalout", function (e) {
            e.offsetX,
            e.offsetY;
            (i.isMousedown[0] || i.isMousedown[1]) && (i.isMousedown = {
                    0: !1,
                    1: !1
                }, t.dirty())
        })
    },
    e.prototype.render = function (t, e, n) {
        t.get("enableRefresh");
        var i = t.get("regionType"),
        r = t.get("$axisIndex"),
        o = t.get("region").hotspot.style.normal,
        s = t.get("region").hotspot.style.emphasis,
        l = t.handlePointsStyle,
        u = t.points,
        h = t.handlePointsPos,
        c = t.hotspotPoints,
        f = t.get("cursor"),
        d = void 0;
        D(r, function (t) {
            var n = e.getComponentByIndex("axis", t);
            ["bottom", "top"].indexOf(n.get("position")) > -1 && (d = n)
        });
        var p = t.get("style").emphasis,
        g = "function" == typeof t.get("style").textFormatter ? t.get("style").textFormatter({
            during: t.endIndex - t.startIndex,
            endIndex: t.endIndex,
            startIndex: t.startIndex
        }) : t.endIndex - t.startIndex,
        v = {
            shape: {
                points: u
            },
            style: a({
                text: g
            }, t.get("style").normal)
        },
        y = NS[i](v, t),
        m = y.attr,
        x = y.Shape;
        m.z = t.get("z"),
        m.cursor = f,
        this.setShape("region", x, m, void 0, function (t) {
            p && _a(t, p)
        });
        for (var _ = [], w = 0; w < c.length; w++) {
            var b = c[w];
            _.push({
                z: t.get("z"),
                shape: {
                    x: b.start[0],
                    y: b.start[1],
                    width: b.end[0] - b.start[0],
                    height: b.end[1] - b.start[1]
                },
                style: this.isMousedown[w] ? s : o,
                pointIndex: w
            })
        }
        var S = this;
        this.setShapeGroup("hotspot", Co, _, void 0, function (e) {
            e.on("mousedown", function (t) {
                var e = t.target;
                t.offsetX,
                t.offsetY;
                S.isMousedown[e.pointIndex] = !0,
                e.setStyle("fill", s.fill)
            }),
            e.on("mouseup", function (t) {
                var e = t.target;
                t.offsetX,
                t.offsetY;
                S.isMousedown[e.pointIndex] = !1,
                e.setStyle("fill", o.fill)
            }),
            Ca(e, n, {
                onDragStart: function () {
                    n.isEnableSketch = !0
                },
                onDragging: function (e) {
                    var n = e.target,
                    i = e.offsetX,
                    r = e.offsetY,
                    o = d.getIndexByOffset(i, r),
                    a = t.checkRegionLimit(n.pointIndex ? "end" : "start", o);
                    t.set({
                        region: a
                    })
                },
                onDragEnd: function () {
                    n.isEnableSketch = !1
                }
            })
        });
        for (var k = [], M = 0; M < u.length; M++) {
            var I = l[M],
            A = Oa(I.size),
            T = A.width,
            C = A.height,
            z = I.offset,
            E = I.style.normal;
            k.push({
                position: h[M],
                shape: {
                    symbolType: I.type,
                    x: -T / 2 + z[0],
                    y: -C / 2 + z[1],
                    width: T,
                    height: C
                },
                style: E,
                z2: 999,
                z: t.get("z"),
                pointIndex: M,
                silent: !0
            })
        }
        this.setShapeGroup("handlePoints", zs, k)
    },
    e
}
(cs);
function BS() {
    return new WS
}
function WS() {
    this.reset()
}
RS.type = OS,
dl(PS, RS),
WS.prototype = {
    constructor: WS,
    reset: function () {
        this.s = this.t = 0
    },
    add: function (t) {
        HS(GS, t, this.t),
        HS(this, GS.s, this.s),
        this.s ? this.t += GS.t : this.s = GS.t
    },
    valueOf: function () {
        return this.s
    }
};
var GS = new WS;
function HS(t, e, n) {
    var i = t.s = e + n,
    r = i - e,
    o = i - r;
    t.t = e - o + (n - r)
}
var jS = 1e-6,
US = Math.PI,
qS = US / 2,
YS = US / 4,
VS = 2 * US,
$S = 180 / US,
XS = US / 180,
ZS = Math.abs,
KS = Math.atan,
QS = Math.atan2,
JS = Math.cos,
tk = Math.exp,
ek = Math.log,
nk = Math.sin,
ik = Math.sqrt,
rk = Math.tan;
function ok(t) {
    return t > 1 ? qS : t < -1 ? -qS : Math.asin(t)
}
function ak() {}
function sk(t, e) {
    t && uk.hasOwnProperty(t.type) && uk[t.type](t, e)
}
var lk = {
    Feature: function (t, e) {
        sk(t.geometry, e)
    },
    FeatureCollection: function (t, e) {
        for (var n = t.features, i = -1, r = n.length; ++i < r; )
            sk(n[i].geometry, e)
    }
},
uk = {
    Sphere: function (t, e) {
        e.sphere()
    },
    Point: function (t, e) {
        t = t.coordinates,
        e.point(t[0], t[1], t[2])
    },
    MultiPoint: function (t, e) {
        for (var n = t.coordinates, i = -1, r = n.length; ++i < r; )
            t = n[i], e.point(t[0], t[1], t[2])
    },
    LineString: function (t, e) {
        hk(t.coordinates, e, 0)
    },
    MultiLineString: function (t, e) {
        for (var n = t.coordinates, i = -1, r = n.length; ++i < r; )
            hk(n[i], e, 0)
    },
    Polygon: function (t, e) {
        ck(t.coordinates, e)
    },
    MultiPolygon: function (t, e) {
        for (var n = t.coordinates, i = -1, r = n.length; ++i < r; )
            ck(n[i], e)
    },
    GeometryCollection: function (t, e) {
        for (var n = t.geometries, i = -1, r = n.length; ++i < r; )
            sk(n[i], e)
    }
};
function hk(t, e, n) {
    var i,
    r = -1,
    o = t.length - n;
    for (e.lineStart(); ++r < o; )
        i = t[r], e.point(i[0], i[1], i[2]);
    e.lineEnd()
}
function ck(t, e) {
    var n = -1,
    i = t.length;
    for (e.polygonStart(); ++n < i; )
        hk(t[n], e, 1);
    e.polygonEnd()
}
function fk(t, e) {
    t && lk.hasOwnProperty(t.type) ? lk[t.type](t, e) : sk(t, e)
}
BS(),
BS();
function dk(t) {
    return [QS(t[1], t[0]), ok(t[2])]
}
function pk(t) {
    var e = t[0],
    n = t[1],
    i = JS(n);
    return [i * JS(e), i * nk(e), nk(n)]
}
function gk(t, e) {
    return t[0] * e[0] + t[1] * e[1] + t[2] * e[2]
}
function vk(t, e) {
    return [t[1] * e[2] - t[2] * e[1], t[2] * e[0] - t[0] * e[2], t[0] * e[1] - t[1] * e[0]]
}
function yk(t, e) {
    t[0] += e[0],
    t[1] += e[1],
    t[2] += e[2]
}
function mk(t, e) {
    return [t[0] * e, t[1] * e, t[2] * e]
}
function xk(t) {
    var e = ik(t[0] * t[0] + t[1] * t[1] + t[2] * t[2]);
    t[0] /= e,
    t[1] /= e,
    t[2] /= e
}
BS();
function _k(t, e) {
    function n(n, i) {
        return n = t(n, i),
        e(n[0], n[1])
    }
    return t.invert && e.invert && (n.invert = function (n, i) {
        return (n = e.invert(n, i)) && t.invert(n[0], n[1])
    }),
    n
}
function wk(t, e) {
    return [ZS(t) > US ? t + Math.round(-t / VS) * VS : t, e]
}
function bk(t, e, n) {
    return (t %= VS) ? e || n ? _k(kk(t), Mk(e, n)) : kk(t) : e || n ? Mk(e, n) : wk
}
function Sk(t) {
    return function (e, n) {
        return [(e += t) > US ? e - VS : e < -US ? e + VS : e, n]
    }
}
function kk(t) {
    var e = Sk(t);
    return e.invert = Sk(-t),
    e
}
function Mk(t, e) {
    var n = JS(t),
    i = nk(t),
    r = JS(e),
    o = nk(e);
    function a(t, e) {
        var a = JS(e),
        s = JS(t) * a,
        l = nk(t) * a,
        u = nk(e),
        h = u * n + s * i;
        return [QS(l * r - h * o, s * n - u * i), ok(h * r + l * o)]
    }
    return a.invert = function (t, e) {
        var a = JS(e),
        s = JS(t) * a,
        l = nk(t) * a,
        u = nk(e),
        h = u * r - l * o;
        return [QS(l * r + u * o, s * n + h * i), ok(h * n - s * i)]
    },
    a
}
function Ik(t, e) {
    (e = pk(e))[0] -= t,
    xk(e);
    var n,
    i = (n = -e[1]) > 1 ? 0 : n < -1 ? US : Math.acos(n);
    return ((-e[2] < 0 ? -i : i) + VS - jS) % VS
}
function Ak() {
    var t,
    e = [];
    return {
        point: function (e, n) {
            t.push([e, n])
        },
        lineStart: function () {
            e.push(t = [])
        },
        lineEnd: ak,
        rejoin: function () {
            e.length > 1 && e.push(e.pop().concat(e.shift()))
        },
        result: function () {
            var n = e;
            return e = [],
            t = null,
            n
        }
    }
}
function Tk(t, e) {
    return ZS(t[0] - e[0]) < jS && ZS(t[1] - e[1]) < jS
}
function Ck(t, e, n, i) {
    this.x = t,
    this.z = e,
    this.o = n,
    this.e = i,
    this.v = !1,
    this.n = this.p = null
}
function zk(t, e, n, i, r) {
    var o,
    a,
    s = [],
    l = [];
    if (t.forEach(function (t) {
            if (!((e = t.length - 1) <= 0)) {
                var e,
                n,
                i = t[0],
                a = t[e];
                if (Tk(i, a)) {
                    for (r.lineStart(), o = 0; o < e; ++o)
                        r.point((i = t[o])[0], i[1]);
                        r.lineEnd()
                    } else
                        s.push(n = new Ck(i, t, null, !0)), l.push(n.o = new Ck(i, null, n, !1)), s.push(n = new Ck(a, t, null, !1)), l.push(n.o = new Ck(a, null, n, !0))
                }
            }), s.length) {
            for (l.sort(e), Ek(s), Ek(l), o = 0, a = l.length; o < a; ++o)
                l[o].e = n = !n;
            for (var u, h, c = s[0]; ; ) {
                for (var f = c, d = !0; f.v; )
                    if ((f = f.n) === c)
                        return;
                u = f.z,
                r.lineStart();
                do {
                    if (f.v = f.o.v = !0, f.e) {
                        if (d)
                            for (o = 0, a = u.length; o < a; ++o)
                                r.point((h = u[o])[0], h[1]);
                        else
                            i(f.x, f.n.x, 1, r);
                        f = f.n
                    } else {
                        if (d)
                            for (u = f.p.z, o = u.length - 1; o >= 0; --o)
                                r.point((h = u[o])[0], h[1]);
                        else
                            i(f.x, f.p.x, -1, r);
                        f = f.p
                    }
                    u = (f = f.o).z,
                    d = !d
                } while (!f.v);
                r.lineEnd()
            }
        }
}
function Ek(t) {
    if (e = t.length) {
        for (var e, n, i = 0, r = t[0]; ++i < e; )
            r.n = n = t[i], n.p = r, r = n;
        r.n = n = t[0],
        n.p = r
    }
}
wk.invert = wk;
var Lk = BS();
function Dk(t, e, n, i) {
    return function (r) {
        var o,
        a,
        s,
        l = e(r),
        u = Ak(),
        h = e(u),
        c = !1,
        f = {
            point: d,
            lineStart: g,
            lineEnd: v,
            polygonStart: function () {
                f.point = y,
                f.lineStart = m,
                f.lineEnd = x,
                a = [],
                o = []
            },
            polygonEnd: function () {
                f.point = d,
                f.lineStart = g,
                f.lineEnd = v,
                a = ql(a);
                var t = function (t, e) {
                    var n = e[0],
                    i = e[1],
                    r = nk(i),
                    o = [nk(n), -JS(n), 0],
                    a = 0,
                    s = 0;
                    Lk.reset(),
                    1 === r ? i = qS + jS : -1 === r && (i = -qS - jS);
                    for (var l = 0, u = t.length; l < u; ++l)
                        if (c = (h = t[l]).length)
                            for (var h, c, f = h[c - 1], d = f[0], p = f[1] / 2 + YS, g = nk(p), v = JS(p), y = 0; y < c; ++y, d = x, g = w, v = b, f = m) {
                                var m = h[y],
                                x = m[0],
                                _ = m[1] / 2 + YS,
                                w = nk(_),
                                b = JS(_),
                                S = x - d,
                                k = S >= 0 ? 1 : -1,
                                M = k * S,
                                I = M > US,
                                A = g * w;
                                if (Lk.add(QS(A * k * nk(M), v * b + A * JS(M))), a += I ? S + k * VS : S, I ^ d >= n ^ x >= n) {
                                    var T = vk(pk(f), pk(m));
                                    xk(T);
                                    var C = vk(o, T);
                                    xk(C);
                                    var z = (I ^ S >= 0 ? -1 : 1) * ok(C[2]);
                                    (i > z || i === z && (T[0] || T[1])) && (s += I ^ S >= 0 ? 1 : -1)
                                }
                            }
                    return (a < -jS || a < jS && Lk < -jS) ^ 1 & s
                }
                (o, i);
                a.length ? (c || (r.polygonStart(), c = !0), zk(a, Pk, t, n, r)) : t && (c || (r.polygonStart(), c = !0), r.lineStart(), n(null, null, 1, r), r.lineEnd()),
                c && (r.polygonEnd(), c = !1),
                a = o = null
            },
            sphere: function () {
                r.polygonStart(),
                r.lineStart(),
                n(null, null, 1, r),
                r.lineEnd(),
                r.polygonEnd()
            }
        };
        function d(e, n) {
            t(e, n) && r.point(e, n)
        }
        function p(t, e) {
            l.point(t, e)
        }
        function g() {
            f.point = p,
            l.lineStart()
        }
        function v() {
            f.point = d,
            l.lineEnd()
        }
        function y(t, e) {
            s.push([t, e]),
            h.point(t, e)
        }
        function m() {
            h.lineStart(),
            s = []
        }
        function x() {
            y(s[0][0], s[0][1]),
            h.lineEnd();
            var t,
            e,
            n,
            i,
            l = h.clean(),
            f = u.result(),
            d = f.length;
            if (s.pop(), o.push(s), s = null, d)
                if (1 & l) {
                    if ((e = (n = f[0]).length - 1) > 0) {
                        for (c || (r.polygonStart(), c = !0), r.lineStart(), t = 0; t < e; ++t)
                            r.point((i = n[t])[0], i[1]);
                        r.lineEnd()
                    }
                } else
                    d > 1 && 2 & l && f.push(f.pop().concat(f.shift())), a.push(f.filter(Ok))
        }
        return f
    }
}
function Ok(t) {
    return t.length > 1
}
function Pk(t, e) {
    return ((t = t.x)[0] < 0 ? t[1] - qS - jS : qS - t[1]) - ((e = e.x)[0] < 0 ? e[1] - qS - jS : qS - e[1])
}
var Fk = Dk(function () {
    return !0
}, function (t) {
    var e,
    n = NaN,
    i = NaN,
    r = NaN;
    return {
        lineStart: function () {
            t.lineStart(),
            e = 1
        },
        point: function (o, a) {
            var s = o > 0 ? US : -US,
            l = ZS(o - n);
            ZS(l - US) < jS ? (t.point(n, i = (i + a) / 2 > 0 ? qS : -qS), t.point(r, i), t.lineEnd(), t.lineStart(), t.point(s, i), t.point(o, i), e = 0) : r !== s && l >= US && (ZS(n - r) < jS && (n -= r * jS), ZS(o - s) < jS && (o -= s * jS), i = function (t, e, n, i) {
                var r,
                o,
                a = nk(t - n);
                return ZS(a) > jS ? KS((nk(e) * (o = JS(i)) * nk(n) - nk(i) * (r = JS(e)) * nk(t)) / (r * o * a)) : (e + i) / 2
            }
                (n, i, o, a), t.point(r, i), t.lineEnd(), t.lineStart(), t.point(s, i), e = 0),
            t.point(n = o, i = a),
            r = s
        },
        lineEnd: function () {
            t.lineEnd(),
            n = i = NaN
        },
        clean: function () {
            return 2 - e
        }
    }
}, function (t, e, n, i) {
    var r;
    if (null == t)
        r = n * qS, i.point(-US, r), i.point(0, r), i.point(US, r), i.point(US, 0), i.point(US, -r), i.point(0, -r), i.point(-US, -r), i.point(-US, 0), i.point(-US, r);
    else if (ZS(t[0] - e[0]) > jS) {
        var o = t[0] < e[0] ? US : -US;
        r = n * o / 2,
        i.point(-o, r),
        i.point(0, r),
        i.point(o, r)
    } else
        i.point(e[0], e[1])
}, [-US, -qS]);
function Nk(t) {
    var e = JS(t),
    n = 6 * XS,
    i = e > 0,
    r = ZS(e) > jS;
    function o(t, n) {
        return JS(t) * JS(n) > e
    }
    function a(t, n, i) {
        var r = [1, 0, 0],
        o = vk(pk(t), pk(n)),
        a = gk(o, o),
        s = o[0],
        l = a - s * s;
        if (!l)
            return !i && t;
        var u = e * a / l,
        h = -e * s / l,
        c = vk(r, o),
        f = mk(r, u);
        yk(f, mk(o, h));
        var d = c,
        p = gk(f, d),
        g = gk(d, d),
        v = p * p - g * (gk(f, f) - 1);
        if (!(v < 0)) {
            var y = ik(v),
            m = mk(d, (-p - y) / g);
            if (yk(m, f), m = dk(m), !i)
                return m;
            var x,
            _ = t[0],
            w = n[0],
            b = t[1],
            S = n[1];
            w < _ && (x = _, _ = w, w = x);
            var k = w - _,
            M = ZS(k - US) < jS;
            if (!M && S < b && (x = b, b = S, S = x), M || k < jS ? M ? b + S > 0 ^ m[1] < (ZS(m[0] - _) < jS ? b : S) : b <= m[1] && m[1] <= S : k > US ^ (_ <= m[0] && m[0] <= w)) {
                var I = mk(d, (-p + y) / g);
                return yk(I, f),
                [m, dk(I)]
            }
        }
    }
    function s(e, n) {
        var r = i ? t : US - t,
        o = 0;
        return e < -r ? o |= 1 : e > r && (o |= 2),
        n < -r ? o |= 4 : n > r && (o |= 8),
        o
    }
    return Dk(o, function (t) {
        var e,
        n,
        l,
        u,
        h;
        return {
            lineStart: function () {
                u = l = !1,
                h = 1
            },
            point: function (c, f) {
                var d,
                p = [c, f],
                g = o(c, f),
                v = i ? g ? 0 : s(c, f) : g ? s(c + (c < 0 ? US : -US), f) : 0;
                if (!e && (u = l = g) && t.lineStart(), g !== l && (!(d = a(e, p)) || Tk(e, d) || Tk(p, d)) && (p[0] += jS, p[1] += jS, g = o(p[0], p[1])), g !== l)
                    h = 0, g ? (t.lineStart(), d = a(p, e), t.point(d[0], d[1])) : (d = a(e, p), t.point(d[0], d[1]), t.lineEnd()), e = d;
                else if (r && e && i ^ g) {
                    var y;
                    v & n || !(y = a(p, e, !0)) || (h = 0, i ? (t.lineStart(), t.point(y[0][0], y[0][1]), t.point(y[1][0], y[1][1]), t.lineEnd()) : (t.point(y[1][0], y[1][1]), t.lineEnd(), t.lineStart(), t.point(y[0][0], y[0][1])))
                }
                !g || e && Tk(e, p) || t.point(p[0], p[1]),
                e = p,
                l = g,
                n = v
            },
            lineEnd: function () {
                l && t.lineEnd(),
                e = null
            },
            clean: function () {
                return h | (u && l) << 1
            }
        }
    }, function (e, i, r, o) {
        !function (t, e, n, i, r, o) {
            if (n) {
                var a = JS(e),
                s = nk(e),
                l = i * n;
                null == r ? (r = e + i * VS, o = e - l / 2) : (r = Ik(a, r), o = Ik(a, o), (i > 0 ? r < o : r > o) && (r += i * VS));
                for (var u, h = r; i > 0 ? h > o : h < o; h -= l)
                    u = dk([a, -s * JS(h), -s * nk(h)]), t.point(u[0], u[1])
            }
        }
        (o, t, n, r, e, i)
    }, i ? [0, -t] : [-US, t - US])
}
var Rk = 1e9,
Bk = -Rk;
function Wk(t, e, n, i) {
    function r(r, o) {
        return t <= r && r <= n && e <= o && o <= i
    }
    function o(r, o, s, u) {
        var h = 0,
        c = 0;
        if (null == r || (h = a(r, s)) !== (c = a(o, s)) || l(r, o) < 0 ^ s > 0)
            do {
                u.point(0 === h || 3 === h ? t : n, h > 1 ? i : e)
            } while ((h = (h + s + 4) % 4) !== c);
        else
            u.point(o[0], o[1])
    }
    function a(i, r) {
        return ZS(i[0] - t) < jS ? r > 0 ? 0 : 3 : ZS(i[0] - n) < jS ? r > 0 ? 2 : 1 : ZS(i[1] - e) < jS ? r > 0 ? 1 : 0 : r > 0 ? 3 : 2
    }
    function s(t, e) {
        return l(t.x, e.x)
    }
    function l(t, e) {
        var n = a(t, 1),
        i = a(e, 1);
        return n !== i ? n - i : 0 === n ? e[1] - t[1] : 1 === n ? t[0] - e[0] : 2 === n ? t[1] - e[1] : e[0] - t[0]
    }
    return function (a) {
        var l,
        u,
        h,
        c,
        f,
        d,
        p,
        g,
        v,
        y,
        m,
        x = a,
        _ = Ak(),
        w = {
            point: b,
            lineStart: function () {
                w.point = S,
                u && u.push(h = []);
                y = !0,
                v = !1,
                p = g = NaN
            },
            lineEnd: function () {
                l && (S(c, f), d && v && _.rejoin(), l.push(_.result()));
                w.point = b,
                v && x.lineEnd()
            },
            polygonStart: function () {
                x = _,
                l = [],
                u = [],
                m = !0
            },
            polygonEnd: function () {
                var e = function () {
                    for (var e = 0, n = 0, r = u.length; n < r; ++n)
                        for (var o, a, s = u[n], l = 1, h = s.length, c = s[0], f = c[0], d = c[1]; l < h; ++l)
                            o = f, a = d, c = s[l], f = c[0], d = c[1], a <= i ? d > i && (f - o) * (i - a) > (d - a) * (t - o) && ++e : d <= i && (f - o) * (i - a) < (d - a) * (t - o) && --e;
                    return e
                }
                (),
                n = m && e,
                r = (l = ql(l)).length;
                (n || r) && (a.polygonStart(), n && (a.lineStart(), o(null, null, 1, a), a.lineEnd()), r && zk(l, s, e, o, a), a.polygonEnd());
                x = a,
                l = u = h = null
            }
        };
        function b(t, e) {
            r(t, e) && x.point(t, e)
        }
        function S(o, a) {
            var s = r(o, a);
            if (u && h.push([o, a]), y)
                c = o, f = a, d = s, y = !1, s && (x.lineStart(), x.point(o, a));
            else if (s && v)
                x.point(o, a);
            else {
                var l = [p = Math.max(Bk, Math.min(Rk, p)), g = Math.max(Bk, Math.min(Rk, g))],
                _ = [o = Math.max(Bk, Math.min(Rk, o)), a = Math.max(Bk, Math.min(Rk, a))];
                !function (t, e, n, i, r, o) {
                    var a,
                    s = t[0],
                    l = t[1],
                    u = 0,
                    h = 1,
                    c = e[0] - s,
                    f = e[1] - l;
                    if (a = n - s, c || !(a > 0)) {
                        if (a /= c, c < 0) {
                            if (a < u)
                                return;
                            a < h && (h = a)
                        } else if (c > 0) {
                            if (a > h)
                                return;
                            a > u && (u = a)
                        }
                        if (a = r - s, c || !(a < 0)) {
                            if (a /= c, c < 0) {
                                if (a > h)
                                    return;
                                a > u && (u = a)
                            } else if (c > 0) {
                                if (a < u)
                                    return;
                                a < h && (h = a)
                            }
                            if (a = i - l, f || !(a > 0)) {
                                if (a /= f, f < 0) {
                                    if (a < u)
                                        return;
                                    a < h && (h = a)
                                } else if (f > 0) {
                                    if (a > h)
                                        return;
                                    a > u && (u = a)
                                }
                                if (a = o - l, f || !(a < 0)) {
                                    if (a /= f, f < 0) {
                                        if (a > h)
                                            return;
                                        a > u && (u = a)
                                    } else if (f > 0) {
                                        if (a < u)
                                            return;
                                        a < h && (h = a)
                                    }
                                    return u > 0 && (t[0] = s + u * c, t[1] = l + u * f),
                                    h < 1 && (e[0] = s + h * c, e[1] = l + h * f),
                                    !0
                                }
                            }
                        }
                    }
                }
                (l, _, t, e, n, i) ? s && (x.lineStart(), x.point(o, a), m = !1) : (v || (x.lineStart(), x.point(l[0], l[1])), x.point(_[0], _[1]), s || x.lineEnd(), m = !1)
            }
            p = o,
            g = a,
            v = s
        }
        return w
    }
}
BS();
function Gk(t) {
    return t
}
var Hk,
jk,
Uk,
qk,
Yk = BS(),
Vk = BS(),
$k = {
    point: ak,
    lineStart: ak,
    lineEnd: ak,
    polygonStart: function () {
        $k.lineStart = Xk,
        $k.lineEnd = Qk
    },
    polygonEnd: function () {
        $k.lineStart = $k.lineEnd = $k.point = ak,
        Yk.add(ZS(Vk)),
        Vk.reset()
    },
    result: function () {
        var t = Yk / 2;
        return Yk.reset(),
        t
    }
};
function Xk() {
    $k.point = Zk
}
function Zk(t, e) {
    $k.point = Kk,
    Hk = Uk = t,
    jk = qk = e
}
function Kk(t, e) {
    Vk.add(qk * t - Uk * e),
    Uk = t,
    qk = e
}
function Qk() {
    Kk(Hk, jk)
}
var Jk = 1 / 0,
tM = Jk,
eM = -Jk,
nM = eM,
iM = {
    point: function (t, e) {
        t < Jk && (Jk = t);
        t > eM && (eM = t);
        e < tM && (tM = e);
        e > nM && (nM = e)
    },
    lineStart: ak,
    lineEnd: ak,
    polygonStart: ak,
    polygonEnd: ak,
    result: function () {
        var t = [[Jk, tM], [eM, nM]];
        return eM = nM =  - (tM = Jk = 1 / 0),
        t
    }
};
var rM,
oM,
aM,
sM,
lM = 0,
uM = 0,
hM = 0,
cM = 0,
fM = 0,
dM = 0,
pM = 0,
gM = 0,
vM = 0,
yM = {
    point: mM,
    lineStart: xM,
    lineEnd: bM,
    polygonStart: function () {
        yM.lineStart = SM,
        yM.lineEnd = kM
    },
    polygonEnd: function () {
        yM.point = mM,
        yM.lineStart = xM,
        yM.lineEnd = bM
    },
    result: function () {
        var t = vM ? [pM / vM, gM / vM] : dM ? [cM / dM, fM / dM] : hM ? [lM / hM, uM / hM] : [NaN, NaN];
        return lM = uM = hM = cM = fM = dM = pM = gM = vM = 0,
        t
    }
};
function mM(t, e) {
    lM += t,
    uM += e,
    ++hM
}
function xM() {
    yM.point = _M
}
function _M(t, e) {
    yM.point = wM,
    mM(aM = t, sM = e)
}
function wM(t, e) {
    var n = t - aM,
    i = e - sM,
    r = ik(n * n + i * i);
    cM += r * (aM + t) / 2,
    fM += r * (sM + e) / 2,
    dM += r,
    mM(aM = t, sM = e)
}
function bM() {
    yM.point = mM
}
function SM() {
    yM.point = MM
}
function kM() {
    IM(rM, oM)
}
function MM(t, e) {
    yM.point = IM,
    mM(rM = aM = t, oM = sM = e)
}
function IM(t, e) {
    var n = t - aM,
    i = e - sM,
    r = ik(n * n + i * i);
    cM += r * (aM + t) / 2,
    fM += r * (sM + e) / 2,
    dM += r,
    pM += (r = sM * t - aM * e) * (aM + t),
    gM += r * (sM + e),
    vM += 3 * r,
    mM(aM = t, sM = e)
}
function AM(t) {
    this._context = t
}
AM.prototype = {
    _radius: 4.5,
    pointRadius: function (t) {
        return this._radius = t,
        this
    },
    polygonStart: function () {
        this._line = 0
    },
    polygonEnd: function () {
        this._line = NaN
    },
    lineStart: function () {
        this._point = 0
    },
    lineEnd: function () {
        0 === this._line && this._context.closePath(),
        this._point = NaN
    },
    point: function (t, e) {
        switch (this._point) {
        case 0:
            this._context.moveTo(t, e),
            this._point = 1;
            break;
        case 1:
            this._context.lineTo(t, e);
            break;
        default:
            this._context.moveTo(t + this._radius, e),
            this._context.arc(t, e, this._radius, 0, VS)
        }
    },
    result: ak
};
var TM,
CM,
zM,
EM,
LM,
DM = BS(),
OM = {
    point: ak,
    lineStart: function () {
        OM.point = PM
    },
    lineEnd: function () {
        TM && FM(CM, zM),
        OM.point = ak
    },
    polygonStart: function () {
        TM = !0
    },
    polygonEnd: function () {
        TM = null
    },
    result: function () {
        var t = +DM;
        return DM.reset(),
        t
    }
};
function PM(t, e) {
    OM.point = FM,
    CM = EM = t,
    zM = LM = e
}
function FM(t, e) {
    EM -= t,
    LM -= e,
    DM.add(ik(EM * EM + LM * LM)),
    EM = t,
    LM = e
}
function NM() {
    this._string = []
}
function RM(t) {
    return "m0," + t + "a" + t + "," + t + " 0 1,1 0," + -2 * t + "a" + t + "," + t + " 0 1,1 0," + 2 * t + "z"
}
function BM(t, e) {
    var n,
    i,
    r = 4.5;
    function o(t) {
        return t && ("function" == typeof r && i.pointRadius(+r.apply(this, arguments)), fk(t, n(i))),
        i.result()
    }
    return o.area = function (t) {
        return fk(t, n($k)),
        $k.result()
    },
    o.measure = function (t) {
        return fk(t, n(OM)),
        OM.result()
    },
    o.bounds = function (t) {
        return fk(t, n(iM)),
        iM.result()
    },
    o.centroid = function (t) {
        return fk(t, n(yM)),
        yM.result()
    },
    o.projection = function (e) {
        return arguments.length ? (n = null == e ? (t = null, Gk) : (t = e).stream, o) : t
    },
    o.context = function (t) {
        return arguments.length ? (i = null == t ? (e = null, new NM) : new AM(e = t), "function" != typeof r && i.pointRadius(r), o) : e
    },
    o.pointRadius = function (t) {
        return arguments.length ? (r = "function" == typeof t ? t : (i.pointRadius(+t), +t), o) : r
    },
    o.projection(t).context(e)
}
function WM(t) {
    return function (e) {
        var n = new GM;
        for (var i in t)
            n[i] = t[i];
        return n.stream = e,
        n
    }
}
function GM() {}
function HM(t, e, n) {
    var i = t.clipExtent && t.clipExtent();
    return t.scale(150).translate([0, 0]),
    null != i && t.clipExtent(null),
    fk(n, t.stream(iM)),
    e(iM.result()),
    null != i && t.clipExtent(i),
    t
}
function jM(t, e, n) {
    return HM(t, function (n) {
        var i = e[1][0] - e[0][0],
        r = e[1][1] - e[0][1],
        o = Math.min(i / (n[1][0] - n[0][0]), r / (n[1][1] - n[0][1])),
        a = +e[0][0] + (i - o * (n[1][0] + n[0][0])) / 2,
        s = +e[0][1] + (r - o * (n[1][1] + n[0][1])) / 2;
        t.scale(150 * o).translate([a, s])
    }, n)
}
NM.prototype = {
    _radius: 4.5,
    _circle: RM(4.5),
    pointRadius: function (t) {
        return (t = +t) !== this._radius && (this._radius = t, this._circle = null),
        this
    },
    polygonStart: function () {
        this._line = 0
    },
    polygonEnd: function () {
        this._line = NaN
    },
    lineStart: function () {
        this._point = 0
    },
    lineEnd: function () {
        0 === this._line && this._string.push("Z"),
        this._point = NaN
    },
    point: function (t, e) {
        switch (this._point) {
        case 0:
            this._string.push("M", t, ",", e),
            this._point = 1;
            break;
        case 1:
            this._string.push("L", t, ",", e);
            break;
        default:
            null == this._circle && (this._circle = RM(this._radius)),
            this._string.push("M", t, ",", e, this._circle)
        }
    },
    result: function () {
        if (this._string.length) {
            var t = this._string.join("");
            return this._string = [],
            t
        }
        return null
    }
},
GM.prototype = {
    constructor: GM,
    point: function (t, e) {
        this.stream.point(t, e)
    },
    sphere: function () {
        this.stream.sphere()
    },
    lineStart: function () {
        this.stream.lineStart()
    },
    lineEnd: function () {
        this.stream.lineEnd()
    },
    polygonStart: function () {
        this.stream.polygonStart()
    },
    polygonEnd: function () {
        this.stream.polygonEnd()
    }
};
var UM = 16,
qM = JS(30 * XS);
function YM(t, e) {
    return +e ? function (t, e) {
        function n(i, r, o, a, s, l, u, h, c, f, d, p, g, v) {
            var y = u - i,
            m = h - r,
            x = y * y + m * m;
            if (x > 4 * e && g--) {
                var _ = a + f,
                w = s + d,
                b = l + p,
                S = ik(_ * _ + w * w + b * b),
                k = ok(b /= S),
                M = ZS(ZS(b) - 1) < jS || ZS(o - c) < jS ? (o + c) / 2 : QS(w, _),
                I = t(M, k),
                A = I[0],
                T = I[1],
                C = A - i,
                z = T - r,
                E = m * C - y * z;
                (E * E / x > e || ZS((y * C + m * z) / x - .5) > .3 || a * f + s * d + l * p < qM) && (n(i, r, o, a, s, l, A, T, M, _ /= S, w /= S, b, g, v), v.point(A, T), n(A, T, M, _, w, b, u, h, c, f, d, p, g, v))
            }
        }
        return function (e) {
            var i,
            r,
            o,
            a,
            s,
            l,
            u,
            h,
            c,
            f,
            d,
            p,
            g = {
                point: v,
                lineStart: y,
                lineEnd: x,
                polygonStart: function () {
                    e.polygonStart(),
                    g.lineStart = _
                },
                polygonEnd: function () {
                    e.polygonEnd(),
                    g.lineStart = y
                }
            };
            function v(n, i) {
                n = t(n, i),
                e.point(n[0], n[1])
            }
            function y() {
                h = NaN,
                g.point = m,
                e.lineStart()
            }
            function m(i, r) {
                var o = pk([i, r]),
                a = t(i, r);
                n(h, c, u, f, d, p, h = a[0], c = a[1], u = i, f = o[0], d = o[1], p = o[2], UM, e),
                e.point(h, c)
            }
            function x() {
                g.point = v,
                e.lineEnd()
            }
            function _() {
                y(),
                g.point = w,
                g.lineEnd = b
            }
            function w(t, e) {
                m(i = t, e),
                r = h,
                o = c,
                a = f,
                s = d,
                l = p,
                g.point = m
            }
            function b() {
                n(h, c, u, f, d, p, r, o, i, a, s, l, UM, e),
                g.lineEnd = x,
                x()
            }
            return g
        }
    }
    (t, e) : function (t) {
        return WM({
            point: function (e, n) {
                e = t(e, n),
                this.stream.point(e[0], e[1])
            }
        })
    }
    (t)
}
var VM = WM({
    point: function (t, e) {
        this.stream.point(t * XS, e * XS)
    }
});
function $M(t, e, n, i) {
    var r = JS(i),
    o = nk(i),
    a = r * t,
    s = o * t,
    l = r / t,
    u = o / t,
    h = (o * n - r * e) / t,
    c = (o * e + r * n) / t;
    function f(t, i) {
        return [a * t - s * i + e, n - s * t - a * i]
    }
    return f.invert = function (t, e) {
        return [l * t - u * e + h, c - u * t - l * e]
    },
    f
}
function XM(t) {
    return function (t) {
        var e,
        n,
        i,
        r,
        o,
        a,
        s,
        l,
        u,
        h,
        c = 150,
        f = 480,
        d = 250,
        p = 0,
        g = 0,
        v = 0,
        y = 0,
        m = 0,
        x = 0,
        _ = null,
        w = Fk,
        b = null,
        S = Gk,
        k = .5;
        function M(t) {
            return l(t[0] * XS, t[1] * XS)
        }
        function I(t) {
            return (t = l.invert(t[0], t[1])) && [t[0] * $S, t[1] * $S]
        }
        function A() {
            var t = $M(c, 0, 0, x).apply(null, e(p, g)),
            i = (x ? $M : function (t, e, n) {
                function i(i, r) {
                    return [e + t * i, n - t * r]
                }
                return i.invert = function (i, r) {
                    return [(i - e) / t, (n - r) / t]
                },
                i
            })(c, f - t[0], d - t[1], x);
            return n = bk(v, y, m),
            s = _k(e, i),
            l = _k(n, s),
            a = YM(s, k),
            T()
        }
        function T() {
            return u = h = null,
            M
        }
        return M.stream = function (t) {
            return u && h === t ? u : u = VM(function (t) {
                return WM({
                    point: function (e, n) {
                        var i = t(e, n);
                        return this.stream.point(i[0], i[1])
                    }
                })
            }
                    (n)(w(a(S(h = t)))))
        },
        M.preclip = function (t) {
            return arguments.length ? (w = t, _ = void 0, T()) : w
        },
        M.postclip = function (t) {
            return arguments.length ? (S = t, b = i = r = o = null, T()) : S
        },
        M.clipAngle = function (t) {
            return arguments.length ? (w = +t ? Nk(_ = t * XS) : (_ = null, Fk), T()) : _ * $S
        },
        M.clipExtent = function (t) {
            return arguments.length ? (S = null == t ? (b = i = r = o = null, Gk) : Wk(b = +t[0][0], i = +t[0][1], r = +t[1][0], o = +t[1][1]), T()) : null == b ? null : [[b, i], [r, o]]
        },
        M.scale = function (t) {
            return arguments.length ? (c = +t, A()) : c
        },
        M.translate = function (t) {
            return arguments.length ? (f = +t[0], d = +t[1], A()) : [f, d]
        },
        M.center = function (t) {
            return arguments.length ? (p = t[0] % 360 * XS, g = t[1] % 360 * XS, A()) : [p * $S, g * $S]
        },
        M.rotate = function (t) {
            return arguments.length ? (v = t[0] % 360 * XS, y = t[1] % 360 * XS, m = t.length > 2 ? t[2] % 360 * XS : 0, A()) : [v * $S, y * $S, m * $S]
        },
        M.angle = function (t) {
            return arguments.length ? (x = t % 360 * XS, A()) : x * $S
        },
        M.precision = function (t) {
            return arguments.length ? (a = YM(s, k = t * t), T()) : ik(k)
        },
        M.fitExtent = function (t, e) {
            return jM(M, t, e)
        },
        M.fitSize = function (t, e) {
            return function (t, e, n) {
                return jM(t, [[0, 0], e], n)
            }
            (M, t, e)
        },
        M.fitWidth = function (t, e) {
            return function (t, e, n) {
                return HM(t, function (n) {
                    var i = +e,
                    r = i / (n[1][0] - n[0][0]),
                    o = (i - r * (n[1][0] + n[0][0])) / 2,
                    a = -r * n[0][1];
                    t.scale(150 * r).translate([o, a])
                }, n)
            }
            (M, t, e)
        },
        M.fitHeight = function (t, e) {
            return function (t, e, n) {
                return HM(t, function (n) {
                    var i = +e,
                    r = i / (n[1][1] - n[0][1]),
                    o = -r * n[0][0],
                    a = (i - r * (n[1][1] + n[0][1])) / 2;
                    t.scale(150 * r).translate([o, a])
                }, n)
            }
            (M, t, e)
        },
        function () {
            return e = t.apply(this, arguments),
            M.invert = e.invert && I,
            A()
        }
    }
    (function () {
        return t
    })()
}
function ZM(t, e) {
    return [t, ek(rk((qS + e) / 2))]
}
function KM(t) {
    var e,
    n,
    i,
    r = XM(t),
    o = r.center,
    a = r.scale,
    s = r.translate,
    l = r.clipExtent,
    u = null;
    function h() {
        var o = US * a(),
        s = r(function (t) {
            function e(e) {
                return (e = t(e[0] * XS, e[1] * XS))[0] *= $S,
                e[1] *= $S,
                e
            }
            return t = bk(t[0] * XS, t[1] * XS, t.length > 2 ? t[2] * XS : 0),
            e.invert = function (e) {
                return (e = t.invert(e[0] * XS, e[1] * XS))[0] *= $S,
                e[1] *= $S,
                e
            },
            e
        }
                (r.rotate()).invert([0, 0]));
        return l(null == u ? [[s[0] - o, s[1] - o], [s[0] + o, s[1] + o]] : t === ZM ? [[Math.max(s[0] - o, u), e], [Math.min(s[0] + o, n), i]] : [[u, Math.max(s[1] - o, e)], [n, Math.min(s[1] + o, i)]])
    }
    return r.scale = function (t) {
        return arguments.length ? (a(t), h()) : a()
    },
    r.translate = function (t) {
        return arguments.length ? (s(t), h()) : s()
    },
    r.center = function (t) {
        return arguments.length ? (o(t), h()) : o()
    },
    r.clipExtent = function (t) {
        return arguments.length ? (null == t ? u = e = n = i = null : (u = +t[0][0], e = +t[0][1], n = +t[1][0], i = +t[1][1]), h()) : null == u ? null : [[u, e], [n, i]]
    },
    h()
}
function QM(t, e) {
    return [ek(rk((qS + e) / 2)), -t]
}
function JM() {
    var t = KM(QM),
    e = t.center,
    n = t.rotate;
    return t.center = function (t) {
        return arguments.length ? e([-t[1], t[0]]) : [(t = e())[1], -t[0]]
    },
    t.rotate = function (t) {
        return arguments.length ? n([t[0], t[1], t.length > 2 ? t[2] + 90 : 90]) : [(t = n())[0], t[1], t[2] - 90]
    },
    n([0, 0, 90]).scale(159.155)
}
ZM.invert = function (t, e) {
    return [t, 2 * KS(tk(e)) - qS]
},
QM.invert = function (t, e) {
    return [-e, 2 * KS(tk(t)) - qS]
};
var tI = "d3-geo",
eI = function (t) {
    function e() {
        var n,
        i;
        o(this, e);
        for (var r = arguments.length, a = Array(r), s = 0; s < r; s++)
            a[s] = arguments[s];
        return n = i = u(this, t.call.apply(t, [this].concat(a))),
        i.type = tI,
        u(i, n)
    }
    return s(e, t),
    e.prototype.update = function () {
        var t = this.globalModel.getComponentByIndex("grid", 0).position,
        e = t.left,
        n = t.right,
        i = t.top,
        r = t.bottom;
        this.projection = JM().rotate([-110, 0, 0]).fitExtent([[e, i], [n, r]], window.chinaBorderData)
    },
    e
}
(_s);
eI.type = tI,
eI.defaultOption = {
    zlevel: 0,
    z: 1,
    $gridIndex: 0,
    map: {
        outerPath: {
            show: !0,
            style: {
                stroke: "#00beff",
                lineWidth: 10
            }
        },
        innerPath: {
            show: !0,
            style: {
                stroke: "#027da7",
                fill: "#04526d",
                randomFill: {
                    randomFill: !1,
                    colors: ["rgb(17, 16, 50)", "rgb(25, 24, 62)", "rgb(15, 16, 55)", "rgb(26, 25, 66)", "rgb(15, 51, 51)", "rgb(11, 10, 36)"]
                },
                lineWidth: 2,
                hover: {
                    hover: !0,
                    hoverFill: "rgba(40,128,255, 1.0)"
                },
                lineDash: [0, 0]
            },
            events: {
                registion: "REGISTER",
                dispatch: {
                    mouseover: "MOUSEOVER",
                    mouseout: "MOUSEOUT"
                }
            }
        }
    },
    paddingArea: {
        show: !1,
        padding: {
            left: 50,
            right: 50,
            top: 50,
            bottom: 50
        },
        style: {
            fill: "rgba(255, 0, 0, 0.2)",
            stroke: "rgba(255, 0, 0, 1)",
            lineWidth: 1
        }
    },
    markers: {
        group: [],
        animation: {
            animation: !1,
            speed: 1e3,
            animateSize: .5
        },
        overLabel: {
            show: !1,
            speed: 1e3,
            style: {
                lineWidth: 2,
                fill: "#00fffd"
            },
            focusStyle: {
                fill: "rgba(248, 195, 28, 1.6)",
                stroke: "rgba(248, 195, 28, 0.6)",
                lineWidth: 10,
                shadowBlur: 0,
                shadowColor: "rgba(255, 255, 255, 0)"
            },
            labelLine: {
                show: !1,
                position: {
                    startX: 20,
                    startY: 20,
                    endX: 150
                }
            },
            labelGroup: []
        },
        clickLabel: {
            show: !1,
            color: "#57FFD9",
            top: 5,
            style: {
                textFill: "#FF5654",
                fontSize: 24,
                textAlign: "center"
            }
        },
        hover: {
            hover: !1,
            pannal: {
                show: !1,
                width: 200,
                height: 150,
                style: {
                    fill: "rgb(3, 14, 27)",
                    stroke: "rgb(6, 254, 220)",
                    lineWidth: 2
                }
            },
            labelGroup: []
        }
    },
    flylines: {
        show: !1,
        colors: ["rgba(135,231,60, 1)", "rgba(40,128,255, 0.1)"],
        style: {
            lineWidth: 2,
            opacity: 1,
            shadowBlur: 10,
            shadowColor: "black"
        },
        background: {
            show: !0,
            style: {
                stroke: "rgb(0, 255, 0)"
            }
        },
        animation: !0
    },
    routes: {
        show: !1,
        colors: ["rgba(135,231,60, 1)", "rgba(40,128,255, 0.1)"],
        threshold: {
            threshold: !0,
            value: 5,
            colors: ["rgba(255,0,0, 1)", "rgba(255,0,0, 0.1)"]
        },
        animation: {
            animation: !0,
            style: {
                lineWidth: 4,
                fill: "#fff",
                thresholdFill: ["green", "rgba(255,15,15, 0)"],
                lengthPercent: 1,
                speed: 3e3,
                delay: 3e3
            }
        },
        style: {
            lineWidth: 4,
            opacity: 1,
            shadowBlur: 10,
            shadowColor: "black",
            text: {
                formatter: function (t) {
                    return t.value + "%"
                }
            },
            fontSize: 16,
            textFill: "#fff"
        }
    },
    polygons: {
        show: !1,
        style: {
            fill: "rgba(0, 255, 255, 0.5)",
            stroke: "rgba(0, 255, 255, 0)",
            lineWidth: 1
        }
    },
    bars: {
        show: !1,
        colors: ["rgb(255, 251, 242)", "rgb(66, 77, 155)", "rgb(0, 255, 255)"],
        size: 2,
        style: {
            textFill: "white",
            textPosition: "bottom",
            fontSize: 12
        }
    },
    southSea: {
        show: !0,
        offset: [0, 0],
        scale: [.7, .7],
        lineWidth: 2,
        style: {
            textFill: "white",
            textPosition: "bottom",
            fontSize: 14,
            textOffset: [0, 0]
        }
    }
};
var nI = Qr.extend({
    type: "d3-geomap",
    shape: {
        path: ""
    },
    style: {
        stroke: "red",
        fill: "#000",
        lineWidth: null
    },
    buildPath: function (t, e) {
        this.proxyPath = go(e.path, {}),
        this.proxyPath.buildPath(t)
    }
}),
iI = void 0,
rI = void 0,
oI = function (t, e, n) {
    var i = t / n * e.style.lineWidth;
    return i < 2 ? 2 : i
},
aI = function (t, e) {
    return t[0] < e[0] ? 1 : 0
},
sI = function (t, e) {
    return t[0] > e[0] ? 1 : 0
},
lI = function (t, e, n) {
    return "香港" === e || "天津" === e ? [t[0] + 25, t[1] - 10] : "广州" === e ? [t[0] - 20, t[1] - 10] : [t[0] + n[0], t[1] + 5 + n[1]]
},
uI = function (t) {
    function e() {
        var n,
        i;
        o(this, e);
        for (var r = arguments.length, a = Array(r), s = 0; s < r; s++)
            a[s] = arguments[s];
        return n = i = u(this, t.call.apply(t, [this].concat(a))),
        i.type = tI,
        u(i, n)
    }
    return s(e, t),
    e.prototype.render = function (t, e, n) {
        this.newGroup = [];
        for (var i = t.getData().markerData || [], r = window.chinaData, o = 0; o < i.length; o += 1)
            if (i[o].position)
                this.newGroup.push(i[o]);
            else
                for (var s = 0; s < r.features.length; s += 1)
                    if (r.features[s].properties.name === i[o].name) {
                        var l = i[o];
                        l.position = r.features[s].properties.cp,
                        this.newGroup.push(l)
                    }
        iI = Ul(i, function (t) {
            return t.value
        }),
        rI = Yl(i, function (t) {
            return t.value
        }),
        function (t, e) {
            var n = this,
            i = t.get("map"),
            r = i.outerPath,
            o = i.innerPath,
            a = t.globalModel.getComponentByIndex("grid", 0).position,
            s = (a.left, a.right, a.top, a.bottom, t.globalModel.getComponentByIndex("visualMap", 0)),
            l = function () {
                var e = BM().projection(t.projection);
                return e
            };
            if (r.show) {
                this.border = t.getData().borderData;
                var u = l();
                this.setShape("border", nI, {
                    shape: {
                        path: u(window.chinaBorderData)
                    },
                    style: {
                        stroke: r.style.stroke,
                        lineWidth: r.style.lineWidth,
                        fill: null
                    }
                })
            }
            if (o.show) {
                var h = l(),
                c = Hh().domain([rI, iI]).range([0, 1]),
                f = function (i) {
                    var r = [];
                    D(window.chinaData.features, function (t, e) {
                        var a = void 0,
                        s = void 0;
                        if (o.style.fill instanceof Array) {
                            for (var l = o.style.fill[0], u = o.style.fill[1], f = dh(l, u), d = 0; d < n.newGroup.length; d += 1)
                                if (t.properties.name === n.newGroup[d].name)
                                    if ((s = n.newGroup[d].value) >= i.down && s <= i.up) {
                                        var p = c(s);
                                        a = f(p)
                                    } else
                                        a = "#fff"
                        } else if (o.style.randomFill.randomFill) {
                            var g = o.style.randomFill.colors,
                            v = parseInt(Math.random() * g.length);
                            a = g[v]
                        } else
                            a = "function" == typeof o.style.fill ? o.style.fill(t) : o.style.fill;
                        r.push({
                            shape: {
                                path: h(t),
                                currentValue: s,
                                fillType: a
                            },
                            style: {
                                stroke: o.style.stroke,
                                fill: a,
                                lineWidth: o.style.lineWidth,
                                lineDash: o.style.lineDash
                            },
                            data: {
                                name: t.properties.name,
                                value: s,
                                data: function (t) {
                                    for (var e = 0; e < n.newGroup.length; e += 1)
                                        if (t === n.newGroup[e].name)
                                            return n.newGroup[e]
                                }
                                (t.properties.name)
                            },
                            fill: a
                        })
                    }),
                    n.setShapeGroup("geomap", nI, r, void 0, void 0, function (n) {
                        n.on("mouseover", function (i) {
                            if (o.style.hover.hover) {
                                var r = o.style.hover.hoverFill;
                                "function" == typeof r ? n.setStyle({
                                    fill: r(i.target.data.data)
                                }) : n.setStyle({
                                    fill: r
                                })
                            }
                            o.events && (e.dispatchAction(t, o.events.registion, n.data.data), e.dispatchAction(t, Za.mouseover, n.data.data))
                        }),
                        n.on("click", function () {
                            e.dispatchAction(t, Za.itemClick, n.data.data)
                        }),
                        n.on("mouseout", function () {
                            n.setStyle({
                                fill: n.shape.fillType
                            }),
                            e.dispatchAction(t, Za.mouseout, n.data.data)
                        }),
                        o.events && (e.registerAction(t, o.events.dispatch.mouseover, function (t) {
                                if (n.data.name === t.name) {
                                    var e = t.fill ? t.fill : "white";
                                    n.setStyle("fill", e)
                                }
                            }), e.registerAction(t, o.events.dispatch.mouseout, function (t) {
                                n.data.name === t.name && n.setStyle("fill", n.fill)
                            }))
                    })
                },
                d = void 0;
                o.style.fill instanceof Array ? (d = {
                        up: s.get("max"),
                        down: s.get("min")
                    }, e.registerAction(s, s.get("eventKey"), function (t) {
                        f(t)
                    })) : d = {},
                f(d)
            }
        }
        .call(this, t, n),
        function (t, e) {
            for (var n = this, i = t.get("markers"), r = i.group, o = i.overLabel, s = i.clickLabel, l = function (l) {
                var u = [],
                h = [];
                if (r[l].show) {
                    var c = void 0;
                    r[l].animation && (c = r[l].animation),
                    D(n.newGroup, function (e, n) {
                        var i = t.projection(e.position),
                        o = e.value / iI,
                        s = r[l].shape.size[1] * o,
                        f = void 0,
                        d = r[l].style.opacity;
                        f = r[l].sameSize ? r[l].shape.size[0] : s < r[l].shape.size[0] ? r[l].shape.size[0] : s,
                        c && c.animation && (f *= c.animateSize, d = 0);
                        var p = r[l].offSet ? r[l].offSet : [0, 0];
                        u.push({
                            shape: {
                                symbolType: r[l].shape.symbolType,
                                x: i[0] - f / 2 + p[0],
                                y: i[1] - f / 2 + p[1],
                                width: f,
                                height: f,
                                r: 0
                            },
                            style: a({}, r[l].style, {
                                opacity: d
                            }),
                            z: t.get("z"),
                            z2: 998,
                            province: e.name,
                            rank: e.rank,
                            key: e.name + l,
                            data: e
                        });
                        var g = r[l].label;
                        g.show && h.push({
                            style: {
                                text: e.name,
                                textFill: g.style.textFill,
                                textAlign: "middle",
                                fontSize: g.style.fontSize
                            },
                            position: lI(i, e.name, g.padding),
                            z: t.get("z"),
                            z2: 998,
                            silent: !0
                        })
                    }),
                    n.setShapeGroup("geomarker" + l, zs, u, void 0, function (i) {
                        var a = i.children();
                        if (o.show) {
                            n.newGroup.sort(function (t, e) {
                                return t.rank - e.rank
                            }),
                            a.sort(function (t, e) {
                                return t.rank - e.rank
                            });
                            var l = 0,
                            h = u.length,
                            c = function (t, e) {
                                return t.length > 1 ? e < 0 ? t[0] : t[1] : t
                            },
                            d = function (e, i, r, a) {
                                var s = e + r / 2,
                                l = i + r / 2,
                                u = o.labelLine.position,
                                h = u.startX,
                                f = u.startY,
                                d = u.endX,
                                p = s + h,
                                g = l - f,
                                v = s + d;
                                o.labelLine.show && n.setShape("overLine", nI, {
                                    shape: {
                                        path: "M" + s + " " + l + "L" + p + " " + g + "L" + v + " " + g
                                    },
                                    style: {
                                        stroke: o.style.fill,
                                        fill: "none",
                                        lineWidth: o.style.lineWidth
                                    },
                                    z: t.get("z"),
                                    z2: 1e3
                                });
                                for (var y = o.labelGroup, m = 0; m < y.length; m += 1) {
                                    var x = y[m],
                                    _ = x.textFill,
                                    w = x.x,
                                    b = x.y,
                                    S = x.fontSize,
                                    k = x.textAlign,
                                    M = x.fontFamily,
                                    I = void 0;
                                    if (y[m].formatter) {
                                        var A = y[m].formatter;
                                        I = A(a)
                                    } else
                                        I = a;
                                    n.setShape("overLineText" + m, vo, {
                                        style: {
                                            text: I,
                                            textFill: c(_, a.diff),
                                            fontSize: S,
                                            textAlign: k,
                                            fontFamily: M
                                        },
                                        z: t.get("z"),
                                        z2: 1e3,
                                        position: [p + w, g + b]
                                    })
                                }
                            };
                            d(a[0].shape.x, a[0].shape.y, a[0].shape.width, n.newGroup[0]),
                            setInterval(function () {
                                var t = (l += 1) % h;
                                if (t < a.length) {
                                    var e = a[t].shape,
                                    i = e.x,
                                    r = e.y,
                                    o = e.width;
                                    d(i, r, o, n.newGroup[t])
                                }
                            }, o.speed)
                        }
                        !0 === s.show && e.registerAction(t, Za.showLabel, function (e) {
                            for (var n = 0; n < a.length; n += 1)
                                for (var i = 0; i < r.length; i += 1)
                                    a[n].setColor(r[i].style.fill) , a[n].province === e && (t.isLight = a[n], f(a[n]))
                            })
                        }, function (r) {
                            if (c && c.animation) {
                                var o = r.shape.width / c.animateSize,
                                s = r.shape.height / c.animateSize,
                                l = r.shape.x - (o - r.shape.width) / 2,
                                u = r.shape.y - (s - r.shape.height) / 2,
                                h = c.speed;
                                r.animateShape(!0).delay(c.delay + c.randomDelay * r.rank).when(h, {
                                    width: o,
                                    height: s,
                                    x: l,
                                    y: u
                                }).start(),
                                r.animateStyle(!0).when(c.randomDelay * r.rank, {
                                    opacity: 1
                                }).delay(c.delay + c.randomDelay * r.rank).when(h, {
                                    opacity: 0
                                }).start()
                            }
                            r.on("mousedown", function () {
                                e.dispatchAction(t, Za.markerClick, r.province)
                            }),
                            i.hover.hover && (r.on("mouseover", function (e) {
                                    i.hover.pannal.show && n.setShape("hoverLabel", Co, {
                                        shape: {
                                            x: e.offsetX,
                                            y: e.offsetY - 150,
                                            width: i.hover.pannal.width,
                                            height: i.hover.pannal.height
                                        },
                                        style: a({}, i.hover.pannal.style),
                                        z: t.get("z"),
                                        z2: 1040,
                                        silent: !0
                                    });
                                    var r = [],
                                    o = i.hover.labelGroup;
                                    D(o, function (n) {
                                        var i = e.target.data,
                                        o = n.formatter(i);
                                        r.push({
                                            style: {
                                                text: o + n.unit,
                                                textFill: n.textFill,
                                                textAlign: n.textAlign,
                                                fontSize: n.fontSize
                                            },
                                            position: [e.offsetX + n.x, e.offsetY - 150 + n.y],
                                            z: t.get("z"),
                                            z2: 1050,
                                            silent: !0
                                        })
                                    }),
                                    n.setShapeGroup("hoverLabelText", vo, r)
                                }), r.on("mouseout", function () {
                                    var t = n.getShape("hoverLabel");
                                    t && (n.removeShape("hoverLabel"), n.removeShape("hoverLabelText"))
                                }))
                        })
                    }
                    n.setShapeGroup("markerLabel", vo, h);
                    var f = function (e) {
                        e.setColor("#57FFD9");
                        var i = e.shape.x + e.shape.width / 2,
                        r = e.shape.y;
                        n.setShape("clickLabel", vo, {
                            style: {
                                text: e.province,
                                textFill: s.style.textFill,
                                fontSize: s.style.fontSize,
                                textAlign: s.style.textAlign,
                                fontFamily: s.style.fontFamily
                            },
                            z: t.get("z"),
                            z2: 1100,
                            position: [i, r - s.top - 1.1 * s.style.fontSize]
                        });
                        var o = e.province.length * s.style.fontSize * .8,
                        a = i - o,
                        l = i + o,
                        u = r - s.top - 1.2 * s.style.fontSize,
                        h = r - s.top;
                        n.setShape("clickPolygon", ko, {
                            shape: {
                                points: [[a, u], [l, u], [l, h], [i + s.top, h], [i, h + s.top], [i - s.top, h], [a, h]]
                            },
                            style: {
                                fill: "white",
                                shadowColor: "rgba(0, 0, 0, 0.2)",
                                shadowBlur: 10,
                                shadowOffsetX: 2,
                                shadowOffsetY: 2
                            },
                            z: t.get("z"),
                            z2: 1010
                        })
                    };
                    t.isLight && f(t.isLight)
                }, u = 0; u < r.length; u += 1)l(u)
        }
        .call(this, t, n),
        function (t) {
            var e = this,
            n = [],
            i = t.get("flylines");
            if (i.show) {
                var r = t.getData().trajectoryData,
                o = Ul(r, function (t) {
                    return t.value
                });
                t.projection(this.newGroup[0].position);
                r.map(function (t) {
                    for (var n = 0; n < e.newGroup.length; n += 1)
                        t.src === e.newGroup[n].name && (t.srcPos = e.newGroup[n].position), t.target === e.newGroup[n].name && (t.tarPos = e.newGroup[n].position)
                });
                for (var s = 0; s < r.length; s += 1) {
                    var l = t.projection(r[s].srcPos),
                    u = t.projection(r[s].tarPos),
                    h = {
                        shape: {
                            x1: l[0],
                            y1: l[1],
                            x2: u[0],
                            y2: u[1],
                            cpx1: (l[0] + u[0]) / 2 - .2 * (l[1] - u[1]),
                            cpy1: (l[1] + u[1]) / 2 - .2 * (u[0] - l[0]),
                            percent: 1
                        },
                        style: a({}, i.style, {
                            stroke: {
                                x1: 0,
                                x2: 1,
                                colorStops: [{
                                        offset: aI(l, u),
                                        color: i.colors[0]
                                    }, {
                                        offset: sI(l, u),
                                        color: i.colors[1]
                                    }
                                ]
                            },
                            lineWidth: oI(r[s].value, i, o)
                        }),
                        z: t.get("z"),
                        z2: 997
                    };
                    n.push(h),
                    i.background.show && this.setShape("flyBG" + s, Oo, h, void 0, function (t) {
                        t.setStyle("stroke", i.background.style.stroke),
                        t.setStyle("shadowColor", "rgba(0, 0, 0, 0)"),
                        t.setStyle("lineWidth", i.background.style.lineWidth)
                    })
                }
                this.setShapeGroup("flylines", Oo, n, void 0, void 0, function (t) {
                    var e = 2 * (t.shape.x1 - t.shape.x2),
                    n = 2 * (t.shape.y1 - t.shape.y2),
                    r = Math.sqrt(Math.pow(e, 2) + Math.pow(n, 2));
                    t.style.lineDash = [r, r];
                    var o = r,
                    a = o - 2 * r;
                    t.style.lineDashOffset = o;
                    var s = Math.random() + 1;
                    i.animation && t.animate("style", !0).delay(3e3 * Math.random()).when(3e3 * s, {
                        lineDashOffset: a
                    }).start()
                })
            }
        }
        .call(this, t),
        function (t) {
            var e = t.get("polygons");
            if (e.show) {
                var n = [],
                i = t.getData().polygonData || {
                    points: []
                },
                r = i.points.map(function (e) {
                    return t.projection(e.position)
                });
                n.push({
                    shape: {
                        points: r
                    },
                    style: {
                        fill: e.style.fill,
                        stroke: e.style.stroke,
                        lineWidth: e.style.lineWidth
                    },
                    data: i,
                    z: t.get("z"),
                    z2: 996
                }),
                this.setShapeGroup("polygons", ko, n)
            }
        }
        .call(this, t),
        function (t) {
            var e = this,
            n = t.get("bars");
            if (n.show)
                for (var i = window.chinaData, r = function (r) {
                    e.removeShape("geobarTop" + r),
                    e.removeShape("geobar" + r);
                    var o = i.features[r].properties,
                    a = t.projection(o.cp),
                    s = 20 + 40 * Math.random(),
                    l = [[a[0], a[1]], [a[0] - 2 * n.size, a[1] - .4 * n.size], [a[0] + n.size, a[1] - n.size], [a[0] - .8 * n.size, a[1] - 1.4 * n.size]],
                    u = l.map(function (t) {
                        return [t[0], t[1] - s]
                    });
                    e.setShape("geobarTop" + r, ko, {
                        shape: {
                            points: [u[0], u[1], u[3], u[2]]
                        },
                        style: {
                            fill: n.colors[0]
                        },
                        z: t.get("z"),
                        z2: 998,
                        position: [0, 0]
                    }, {
                        animation: !0,
                        animateFrom: {
                            position: [0, s]
                        },
                        easing: "cubicOut",
                        duration: 1e3
                    });
                    e.setShapeGroup("geobar" + r, ko, [{
                                shape: {
                                    points: [l[0], l[1], [l[1][0], l[1][1] - 1], [l[0][0], l[0][1] - 1]]
                                },
                                style: {
                                    fill: n.colors[1],
                                    text: o.name,
                                    textFill: n.style.textFill,
                                    textPosition: n.style.textPosition,
                                    textOffset: function (t) {
                                        var e = [0, 0];
                                        "广东" === t ? e = [-20, -10] : "澳门" === t ? e = [30, -15] : "河南" === t && (e = [10, 0]);
                                        return e
                                    }
                                    (o.name),
                                    fontSize: n.style.fontSize
                                },
                                z: t.get("z"),
                                z2: 999
                            }, {
                                shape: {
                                    points: [l[0], l[2], [l[2][0], l[2][1] - 1], [l[0][0], l[0][1] - 1]]
                                },
                                style: {
                                    fill: n.colors[2]
                                },
                                z: t.get("z"),
                                z2: 999
                            }
                        ], void 0, void 0, function (t) {
                        var e = t.shape.points;
                        t.animateShape(!1).when(1e3, {
                            points: [e[0], e[1], [e[2][0], e[2][1] - s], [e[3][0], e[3][1] - s]]
                        }).start("cubicOut")
                    })
                }, o = 0; o < i.features.length; o += 1)
                    r(o)
        }
        .call(this, t),
        function (t) {
            var e = [],
            n = [],
            i = t.get("southSea"),
            r = (t.get("markers"), t.globalModel.getComponentByIndex("grid", 0).position),
            o = r.right,
            a = r.bottom,
            s = t.get("map").outerPath;
            function l(t) {
                var e = t.replace("%", "");
                return e /= 100
            }
            i.show && (D(hI, function (t) {
                    e.push({
                        shape: {
                            path: t
                        },
                        style: {
                            stroke: s.style.stroke,
                            fill: s.style.fill,
                            lineWidth: 1
                        },
                        scale: i.scale,
                        position: [o * l(i.offset[0]), a * l(i.offset[1])]
                    })
                }), D(cI, function (t) {
                    n.push({
                        shape: {
                            x1: t.x1,
                            y1: t.y1,
                            x2: t.x2,
                            y2: t.y2
                        },
                        style: {
                            stroke: s.style.stroke,
                            fill: s.style.fill,
                            lineWidth: i.lineWidth
                        },
                        scale: i.scale,
                        position: [o * l(i.offset[0]), a * l(i.offset[1])]
                    })
                }), this.setShapeGroup("southSea", nI, e), this.setShapeGroup("southSeaLine", Eo, n), this.setShape("southSeaLabel", vo, {
                    style: {
                        text: "中国南海诸岛",
                        textFill: i.style.textFill,
                        textAlign: "middle",
                        fontSize: i.style.fontSize
                    },
                    position: [o * l(i.offset[0]) + (75 + i.style.textOffset[0]) * i.scale[0], a * l(i.offset[1]) + (190 - 2 * i.style.fontSize + i.style.textOffset[1]) * i.scale[1]],
                    z: t.get("z"),
                    scale: i.scale,
                    z2: 999
                }))
        }
        .call(this, t),
        function (t) {
            var e = this,
            n = t.get("routes"),
            i = [];
            if (n.show) {
                var r = t.getData().trajectoryData,
                o = Ul(r, function (t) {
                    return t.value
                });
                t.projection(this.newGroup[0].position);
                r.map(function (t) {
                    for (var n = 0; n < e.newGroup.length; n += 1)
                        t.src === e.newGroup[n].name && (t.srcPos = e.newGroup[n].position), t.target === e.newGroup[n].name && (t.tarPos = e.newGroup[n].position)
                });
                var a = function (t, e) {
                    if (n.threshold.threshold) {
                        return t > n.threshold.value ? n.threshold.colors[0] : e
                    }
                    return e
                };
                D(r, function (e) {
                    var r = t.projection(e.srcPos),
                    s = t.projection(e.tarPos);
                    i.push({
                        shape: {
                            x1: r[0],
                            y1: r[1],
                            x2: s[0],
                            y2: s[1]
                        },
                        style: {
                            stroke: {
                                x1: 0,
                                x2: 1,
                                colorStops: [{
                                        offset: aI(r, s),
                                        color: a(e.value, n.colors[0])
                                    }, {
                                        offset: sI(r, s),
                                        color: a(e.value, n.colors[1])
                                    }
                                ]
                            },
                            lineWidth: oI(e.value, n, o),
                            shadowBlur: n.style.shadowBlur,
                            shadowColor: n.style.shadowColor,
                            opacity: n.style.opacity,
                            text: n.style.text.formatter(e),
                            textFill: n.style.textFill,
                            fontSize: n.style.fontSize
                        },
                        z: t.get("z"),
                        z2: 997,
                        value: e.value,
                        silent: !0
                    })
                }),
                this.setShapeGroup("routes", Eo, i);
                if (n.animation.animation) {
                    var s = -1;
                    this.setShapeGroup("routesAnimation", Eo, i, void 0, void 0, function (t) {
                        var e = 2 * (t.shape.x1 - t.shape.x2),
                        r = 2 * (t.shape.y1 - t.shape.y2),
                        o = Math.sqrt(Math.pow(e, 2) + Math.pow(r, 2)),
                        a = n.animation.style.lengthPercent * o,
                        l = n.animation.style.delay / n.animation.style.speed;
                        t.setStyle("lineDash", [a, o * l - a]),
                        t.setStyle("lineDashOffset", a),
                        t.setStyle("stroke", function (t, e, i, r, o) {
                            if (t instanceof Array) {
                                var a = void 0;
                                return a = n.threshold.threshold && i > n.threshold.value ? e : t, {
                                    x1: 0,
                                    x2: 1,
                                    colorStops: [{
                                            offset: aI(r, o),
                                            color: a[0]
                                        }, {
                                            offset: sI(r, o),
                                            color: a[1]
                                        }
                                    ]
                                }
                            }
                            return t
                        }
                            (n.animation.style.fill, n.animation.style.thresholdFill, t.value, [t.shape.x1, t.shape.y1], [t.shape.x2, t.shape.y2])),
                        t.setStyle("lineWidth", n.animation.style.lineWidth),
                        t.attr("z2", 998),
                        s += 1,
                        t.animate("style", !0).delay(n.animation.style.delay * s / i.length).when(n.animation.style.speed, {
                            lineDashOffset: -o * l + a
                        }).start()
                    })
                }
            }
        }
        .call(this, t)
    },
    e
}
(cs);
uI.type = tI;
var hI = ["m6,31.5l9,7.5l15,9l15,4l18,0l17,-14l21,-31L20,7L6,24z", "m113,7l10,25l11,-25z", "m46.5,66.5l14.5,-6.5l-1,13l-7,7l-15,4l8.5,-17.5z"],
cI = [{
        y2: 7,
        x2: 145,
        y1: 7,
        x1: 20
    }, {
        y2: 24,
        x2: 6,
        y1: 7,
        x1: 20
    }, {
        y2: 195,
        x2: 145,
        y1: 7,
        x1: 145
    }, {
        y2: 195,
        x2: 6,
        y1: 24,
        x1: 6
    }, {
        y2: 195,
        x2: 145,
        y1: 195,
        x1: 6
    }, {
        y2: 46.5,
        x2: 132.5,
        y1: 31.5,
        x1: 141.5
    }, {
        y2: 76.5,
        x2: 115.5,
        y1: 61.5,
        x1: 121.5
    }, {
        y2: 111.5,
        x2: 110.5,
        y1: 92.5,
        x1: 110.5
    }, {
        y2: 147.5,
        x2: 101.5,
        y1: 127.5,
        x1: 108.5
    }, {
        y2: 177.5,
        x2: 78.5,
        y1: 163.5,
        x1: 91.5
    }, {
        y2: 188.5,
        x2: 39.5,
        y1: 184.5,
        x1: 54.5
    }, {
        y2: 158.5,
        x2: 11.5,
        y1: 172.5,
        x1: 17.5
    }, {
        y2: 132.5,
        x2: 39.5,
        y1: 142.5,
        x1: 24.5
    }, {
        y2: 98.5,
        x2: 37.5,
        y1: 113.5,
        x1: 40.5
    }
];
dl(eI, uI);
var fI = "geo",
dI = function (t) {
    function e() {
        var n,
        i;
        o(this, e);
        for (var r = arguments.length, a = Array(r), s = 0; s < r; s++)
            a[s] = arguments[s];
        return n = i = u(this, t.call.apply(t, [this].concat(a))),
        i.type = fI,
        u(i, n)
    }
    return s(e, t),
    e.prototype.update = function () {
        var t = this.globalModel.getComponentByIndex("grid", 0),
        e = t.position,
        n = e.left,
        i = e.right,
        r = e.top,
        o = e.bottom;
        this.projection = JM().rotate([-110, 0, 0]).fitExtent([[n, r], [i, o]], window.chinaBorderData),
        this.position = t.position
    },
    e
}
(ms);
dI.type = fI,
dI.defaultOption = {
    $gridIndex: 0,
    $visualMapIndex: void 0,
    mapName: "china",
    map: {
        outerPath: {
            show: !0,
            style: {
                stroke: "#00beff",
                lineWidth: 10
            }
        },
        label: {
            show: !1
        },
        innerPath: {
            normal: {
                show: !0,
                style: {
                    stroke: "rgba(83, 167, 227, 0.5)",
                    fill: "rgba(255, 255, 255, 1)",
                    lineWidth: 1,
                    lineDash: void 0
                }
            },
            emphasis: {
                show: !0,
                style: {
                    fill: "rgba(40, 128, 255, 0.8)"
                }
            }
        }
    },
    southSea: {
        show: !0,
        offset: [0, 0],
        scale: [.7, .7],
        lineWidth: 2,
        style: {
            textFill: "white",
            textPosition: "bottom",
            fontSize: 14,
            textOffset: [0, 0]
        }
    },
    zlevel: 0,
    z: 0
};
var pI = {
    "台湾": [121, 24],
    "河北": [115.5, 38.5],
    "山西": [112.3, 37.5],
    "内蒙古": [110, 41],
    "辽宁": [123.2, 41.3],
    "吉林": [126, 43.7],
    "黑龙江": [127.8, 46.8],
    "江苏": [120, 32.4],
    "浙江": [120, 29.2],
    "安徽": [117.2, 31.5],
    "福建": [118.2, 26],
    "江西": [115.7, 28],
    "山东": [117.5, 36.3],
    "河南": [113.6, 34],
    "湖北": [113, 31],
    "湖南": [112, 28],
    "广东": [113.5, 23],
    "广西": [108.5, 23.5],
    "海南": [110, 19.5],
    "四川": [103.5, 30.6],
    "贵州": [106.7, 26.6],
    "云南": [102, 24.7],
    "西藏": [91, 30.5],
    "陕西": [108.9, 34.26],
    "甘肃": [104, 35.5],
    "青海": [97, 36],
    "宁夏": [106.1, 37.5],
    "新疆": [87, 41],
    "北京": [116.4, 40.24],
    "天津": [116.87, 39.5],
    "上海": [121.4, 31.1],
    "重庆": [107.5, 29.7],
    "香港": [113.2, 22.75],
    "澳门": [114.52, 22.86]
},
gI = function (t) {
    function e(n, i, r) {
        o(this, e);
        var a = u(this, t.apply(this, arguments));
        return a.type = fI,
        a._initEvent(n, i, r),
        a
    }
    return s(e, t),
    e.prototype._initEvent = function (t, e, n) {},
    e.prototype.render = function (t, e, n) {
        this.renderCanvas(t, e, n),
        function (t, e, n) {
            var i = [],
            r = [],
            o = t.get("southSea"),
            a = (t.get("markers"), t.globalModel.getComponentByIndex("grid", 0).position),
            s = a.right,
            l = a.bottom,
            u = t.get("map").outerPath;
            function h(t) {
                var e = t.replace("%", "");
                return e /= 100
            }
            o.show && (D(vI, function (t) {
                    i.push({
                        shape: {
                            path: t
                        },
                        style: {
                            stroke: u.style.stroke,
                            fill: u.style.fill,
                            lineWidth: 1
                        },
                        scale: o.scale,
                        position: [s * h(o.offset[0]), l * h(o.offset[1])]
                    })
                }), D(yI, function (t) {
                    r.push({
                        shape: {
                            x1: t.x1,
                            y1: t.y1,
                            x2: t.x2,
                            y2: t.y2
                        },
                        style: {
                            stroke: u.style.stroke,
                            fill: u.style.fill,
                            lineWidth: o.lineWidth
                        },
                        scale: o.scale,
                        position: [s * h(o.offset[0]), l * h(o.offset[1])]
                    })
                }), this.setShapeGroup("southSea", nI, i), this.setShapeGroup("southSeaLine", Eo, r), this.setShape("southSeaLabel", vo, {
                    style: {
                        text: "中国南海诸岛",
                        textFill: o.style.textFill,
                        textAlign: "middle",
                        fontSize: o.style.fontSize
                    },
                    position: [s * h(o.offset[0]) + (75 + o.style.textOffset[0]) * o.scale[0], l * h(o.offset[1]) + (190 - 2 * o.style.fontSize + o.style.textOffset[1]) * o.scale[1]],
                    z: t.get("z"),
                    scale: o.scale,
                    z2: 999
                }))
        }
        .call(this, t, e, n)
    },
    e.prototype.renderCanvas = function (t, e, n) {
        var i = t.get("map"),
        r = i.outerPath,
        o = i.innerPath,
        s = t.get("mapName"),
        l = t.get("$visualMapIndex"),
        u = e.getComponentByIndex("visualMap", l),
        h = t.position,
        c = (h.left, h.right, h.top, h.bottom, t.getData()),
        f = void 0,
        d = void 0;
        "china" == s ? (f = window.chinaData, d = window.chinaBorderData) : "provinceCenter" == s && (f = b(window.chinaData), window.chinaData.features.map(function (t) {
                var e = t.properties.name;
                f.features.map(function (t) {
                    e === t.properties.name && (t.properties.cp = pI[e])
                })
            }), d = window.chinaBorderData);
        var p = function () {
            return BM().projection(t.projection)
        };
        if (r.show) {
            var g = p();
            this.setShape("border", nI, {
                shape: {
                    path: g(d)
                },
                style: a({}, r.style, {
                    fill: null
                })
            })
        }
        if (o.normal.show) {
            var v = p(),
            y = [];
            D(f.features, function (t, e) {
                var n = void 0,
                i = void 0;
                if (c && u)
                    for (var r = 0; r < c.length; r++)
                        if (u.isInRange(c[r].value) && c[r].name === t.properties.name) {
                            n = u.getColorStop(c[r].value);
                            break
                        }
                n || (n = "function" == typeof o.normal.style ? (i = o.normal.style({
                                axisIndex: t.properties.name,
                                geoPos: t.properties.cp
                            })).fill || "#04526d" : (i = o.normal.style).fill),
                y.push({
                    shape: {
                        path: v(t),
                        fillType: n
                    },
                    style: a({}, i, {
                        fill: n
                    }),
                    data: {
                        name: t.properties.name
                    },
                    fill: n
                })
            }),
            this.setShapeGroup("geomap", nI, y, void 0, void 0, function (e) {
                e.on("mouseover", function (i) {
                    n.dispatchAction(t, qa.over, {
                        data: e.data
                    }),
                    o.emphasis.show && e.setStyle(o.emphasis.style)
                }),
                e.on("mouseout", function (i) {
                    n.dispatchAction(t, qa.out, {
                        data: e.data
                    }),
                    o.normal.show && e.setStyle(o.normal.style)
                }),
                e.on("click", function (i) {
                    n.dispatchAction(t, qa.itemClick, {
                        data: e.data
                    })
                })
            })
        }
    },
    e
}
(cs);
gI.type = fI;
var vI = ["m6,31.5l9,7.5l15,9l15,4l18,0l17,-14l21,-31L20,7L6,24z", "m113,7l10,25l11,-25z", "m46.5,66.5l14.5,-6.5l-1,13l-7,7l-15,4l8.5,-17.5z"],
yI = [{
        y2: 7,
        x2: 145,
        y1: 7,
        x1: 20
    }, {
        y2: 24,
        x2: 6,
        y1: 7,
        x1: 20
    }, {
        y2: 195,
        x2: 145,
        y1: 7,
        x1: 145
    }, {
        y2: 195,
        x2: 6,
        y1: 24,
        x1: 6
    }, {
        y2: 195,
        x2: 145,
        y1: 195,
        x1: 6
    }, {
        y2: 46.5,
        x2: 132.5,
        y1: 31.5,
        x1: 141.5
    }, {
        y2: 76.5,
        x2: 115.5,
        y1: 61.5,
        x1: 121.5
    }, {
        y2: 111.5,
        x2: 110.5,
        y1: 92.5,
        x1: 110.5
    }, {
        y2: 147.5,
        x2: 101.5,
        y1: 127.5,
        x1: 108.5
    }, {
        y2: 177.5,
        x2: 78.5,
        y1: 163.5,
        x1: 91.5
    }, {
        y2: 188.5,
        x2: 39.5,
        y1: 184.5,
        x1: 54.5
    }, {
        y2: 158.5,
        x2: 11.5,
        y1: 172.5,
        x1: 17.5
    }, {
        y2: 132.5,
        x2: 39.5,
        y1: 142.5,
        x1: 24.5
    }, {
        y2: 98.5,
        x2: 37.5,
        y1: 113.5,
        x1: 40.5
    }
];
function mI(t, e) {
    return arguments.length < 2 && (e = .5),
    (t >> 0) + e
}
function xI(t, e, n, i) {
    var r,
    o,
    a,
    s;
    O(t, e <= 3 ? function (t, e) {
        r = mI(t[1].lineX, n),
        a = mI(t[1].lineYTop, n),
        s = mI(t[1].lineYBottom, n),
        o = Math.abs(a - s) < 2 ? 2 : 0,
        i.moveTo(r, a - o),
        i.lineTo(r, s)
    }
         : function (t, o) {
        r = mI(t[1].lineX, n),
        t[1].h < 1 ? (i.moveTo(mI(t[0], n), mI(t[1].y, n)), i.lineTo(mI(t[0] + e, n), mI(t[1].y, n))) : i.rect(mI(t[0], n), mI(t[1].y, n), e, t[1].h),
        i.moveTo(r, mI(t[1].lineYTop, n)),
        i.lineTo(r, mI(t[1].y, n)),
        i.moveTo(r, mI(t[1].y + t[1].h, n)),
        i.lineTo(r, mI(t[1].lineYBottom, n))
    })
}
dl(dI, gI);
var _I = {
    vol: xI,
    kline: xI,
    bamboo: function (t, e, n, i) {
        e && O(t, function (t, r) {
            var o = mI(t[1].lineX, n);
            i.moveTo(o, mI(t[1].lineYTop, n)),
            i.lineTo(o, mI(t[1].lineYBottom, n)),
            t[2].c >= t[2].o ? (i.moveTo(o, mI(t[1].y, n)), i.lineTo(o + e / 2, mI(t[1].y, n)), i.moveTo(o, mI(t[1].y + t[1].h, n)), i.lineTo(o - e / 2, mI(t[1].y + t[1].h, n))) : (i.moveTo(o, mI(t[1].y, n)), i.lineTo(o - e / 2, mI(t[1].y, n)), i.moveTo(o, mI(t[1].y + t[1].h, n)), i.lineTo(o + e / 2, mI(t[1].y + t[1].h, n)))
        })
    }
};
var wI = Qr.extend({
    type: "candlesticks",
    shape: {
        data: []
    },
    style: {
        lineWidth: 1
    },
    updateKLine: function () {
        var t,
        e,
        n,
        i;
        !this.kline && (this.kline = (t = 1, e = xI, n = void 0, (i = function i(r) {
                    return r.length && e(r, t, .5, n),
                    i
                }).ctx = function (t) {
                return n = t,
                i
            }, i.bandWidth = function (e) {
                return t = e,
                i
            }, i.lineWidth = function (t) {
                return i
            }, i.drawTemplate = function (t) {
                return e = "function" == typeof t ? t : _I[t],
                i
            }, i));
        var r = this.kline,
        o = this.shape;
        for (var a in o)
            !~["data", "percent", "yStart"].indexOf(a) && r[a] && void 0 !== o[a] && r[a](o[a])
    },
    buildPath: function (t, e) {
        this.updateKLine(),
        this.kline.ctx(t)(e.data)
    }
}),
bI = "hqbar",
SI = function (t) {
    function e() {
        var n,
        i;
        o(this, e);
        for (var r = arguments.length, a = Array(r), s = 0; s < r; s++)
            a[s] = arguments[s];
        return n = i = u(this, t.call.apply(t, [this].concat(a))),
        i.type = bI,
        i.isScatter = !1,
        u(i, n)
    }
    return s(e, t),
    e.prototype.formatOption = function (e) {
        var n;
        (n = t.prototype.formatOption).call.apply(n, [this].concat(Array.prototype.slice.call(arguments))),
        e.color && (Na(e, "line.normal.style.stroke") || Fa(e, "line.normal.style.stroke", e.color), Na(e, "symbol.normal.style.fill") || Na(e, "symbol.normal.style.stroke") || (Fa(e, "symbol.normal.style.fill", "white"), Fa(e, "symbol.normal.style.stroke", e.color)))
    },
    e.prototype.formatData = function (t) {
        switch (this.get("hqbarType")) {
        case "kline":
        case "bamboo":
            return O(t, function (t, e) {
                return [e, [t.o, t.a, t.i, t.c], t]
            });
        case "vol":
            return O(t, function (t, e) {
                return [e, [t.n], t]
            })
        }
    },
    e.prototype.getDrawData = function (t) {
        var e = this.getAxisModel("x"),
        n = this.getAxisModel("y"),
        i = e.scale,
        r = n.scale,
        o = i.bandwidth() / 2,
        a = i(this.get("getXKey")(t)),
        s = this.get("hqbarType");
        if ("kline" === s || "bamboo" === s)
            return {
                x: a,
                y: r(Math.max(t.o, t.c)),
                h: Math.abs(r(t.o) - r(t.c)),
                lineX: a + o,
                lineYTop: r(t.a),
                lineYBottom: r(t.i)
            };
        if ("vol" === s) {
            var l = r.range()[0] - Math.floor(r(t.n)) - 1,
            u = l < 1 ? 1 : 0;
            return {
                x: a,
                y: r(t.n) - u,
                h: l + u,
                lineX: a + o,
                lineYTop: r(t.n),
                lineYBottom: r.range()[0]
            }
        }
    },
    e.prototype.update = function () {
        var t = this,
        e = this.getAxisModel("x"),
        n = this.getAxisModel("y"),
        i = e.scale,
        r = n.scale,
        o = r.domain(),
        a = (i.domain(), i.bandwidth()),
        s = this.get("getColorKey"),
        l = this.get("getXKey"),
        u = a / 2,
        h = [],
        c = {
            up: [],
            eq: [],
            down: []
        },
        f = e.startIndex,
        d = e.endIndex,
        p = r(o[1] < 0 ? o[1] : o[0] > 0 ? o[0] : 0);
        D(this.getData().slice(f, d + 1), function (e, n) {
            e[0],
            e[1];
            var r = e[2],
            o = [i(l(r)), t.getDrawData(r), r, n + f, n];
            h.push(o),
            "be" === s(r) ? c.down.push(o) : "ab" === s(r) ? c.up.push(o) : c.eq.push(o)
        }),
        this.bandwidth = a,
        this.centerOffset = u,
        this.pointsByColor = c,
        this.points = h,
        this.y0 = p,
        this.startIndex = e.startIndex,
        this.endIndex = e.endIndex,
        this.yAxis = n
    },
    e.prototype.getSeriesColor = function (t) {
        if (this.get("color"))
            return this.get("color");
        var e = this.get("line").normal,
        n = this.get("symbol").normal;
        return e.show ? e.style.stroke : n.style.fill || n.style.stroke
    },
    e
}
(_s);
SI.type = bI,
SI.emphasisList = ["symbol", "link", "label", "line", "area"],
SI.defaultOption = {
    $dataIndex: void 0,
    dataKey: void 0,
    $axisIndex: [0, 1],
    name: void 0,
    hqbarType: "kline",
    getColorKey: function (t) {
        return t.s
    },
    getXKey: function (t) {
        return t.t
    },
    hq: {
        up: {
            stroke: "rgba(247,48,75,1)",
            fill: "rgba(247,48,75,1)"
        },
        down: {
            stroke: "rgba(48,172,99,1)",
            fill: "rgba(48,172,99,1)"
        },
        eq: {
            stroke: "rgba(68,68,68,1)",
            fill: "rgba(68,68,68,1)"
        }
    },
    line: {
        normal: {
            show: !0,
            style: {
                fill: void 0,
                stroke: "#058499",
                lineWidth: 2
            }
        },
        emphasis: {}
    },
    symbol: {
        normal: {
            show: !1,
            type: "circle",
            offset: [0, 0],
            size: 8,
            style: {}
        },
        emphasis: {
            show: !1,
            style: {}
        }
    },
    label: {
        normal: {
            show: !1,
            style: {
                position: "top"
            },
            formatter: void 0
        },
        emphasis: {
            show: !1,
            style: {}
        }
    },
    cursor: "default",
    zlevel: 0,
    z: 3
};
var kI = function (t) {
    function e() {
        var n,
        i;
        o(this, e);
        for (var r = arguments.length, a = Array(r), s = 0; s < r; s++)
            a[s] = arguments[s];
        return n = i = u(this, t.call.apply(t, [this].concat(a))),
        i.type = bI,
        u(i, n)
    }
    return s(e, t),
    e.prototype.render = function (e, n, i) {
        var r;
        (r = t.prototype.render).call.apply(r, [this].concat(Array.prototype.slice.call(arguments)));
        this.group;
        var o = e.get("line").normal,
        a = (e.get("animation"), e.get("cursor")),
        s = e.get("hqbarType"),
        l = e.get("hq"),
        u = e.y0,
        h = (e.points, e.getData(), e.bandwidth),
        c = (e.centerOffset, e.pointsByColor),
        f = u;
        if (e.lastPoints && (f = function (t, n) {
                return e.lastPoints[n] ? e.lastPoints[n][1] : t[1]
            }), o.show) {
            var d = l.down.stroke === l.up.stroke,
            p = O(["down", "up", "eq"], function (t) {
                var e = h <= 3 ? {
                    stroke: d ? l[t].fill : l[t].stroke,
                    fill: l[t].fill
                }
                 : l[t];
                return {
                    shape: {
                        data: c[t],
                        bandWidth: h,
                        yStart: f,
                        percent: 1,
                        drawTemplate: s
                    },
                    style: e,
                    z2: 1,
                    cursor: a
                }
            });
            this.setShapeGroup("hqbarGroup", wI, p, void 0, function (t) {})
        }
    },
    e
}
(cs);
kI.type = bI,
dl(SI, kI);
var MI = "hqIndicator",
II = function (t) {
    function e() {
        var n,
        i;
        o(this, e);
        for (var r = arguments.length, a = Array(r), s = 0; s < r; s++)
            a[s] = arguments[s];
        return n = i = u(this, t.call.apply(t, [this].concat(a))),
        i.type = MI,
        u(i, n)
    }
    return s(e, t),
    e.prototype.formatData = function (t) {
        var e = this.get("indicatorType");
        return O(t, Ws.getClass(e).formatData)
    },
    e.prototype.update = function () {
        var t = this,
        e = this.getAxisModel("x"),
        n = this.getAxisModel("y"),
        i = e.startIndex,
        r = e.endIndex,
        o = e.scale,
        a = n.scale,
        s = a.domain(),
        l = (o.domain(), o.bandwidth()),
        u = this.get("getXKey"),
        h = this.get("indicatorType"),
        c = l / 2,
        f = void 0;
        if (Ws.getClass(h)) {
            var d = Ws.getClass(h),
            p = new d;
            f = this.get("indicator") ? S(this.get("indicator"), b(d.defaultOption)) : b(d.defaultOption);
            var g = a(s[1] < 0 ? s[1] : s[0] > 0 ? s[0] : 0),
            v = this.getData().slice(i, r + 1),
            y = [];
            D(f, function (e, n) {
                var r = void 0;
                if ("line" !== e.type)
                    r = p.getDrawData({
                        name: n,
                        xScale: o,
                        yScale: a,
                        data: v,
                        item: e,
                        model: t
                    });
                else {
                    for (var s = [], l = 0; l < v.length; l++)
                        s.push([o(u(v[l][2])) + c, a(v[l][2][n]), v[l], l + i, l]);
                    r = {
                        shape: {
                            x: function (t) {
                                return t[0]
                            },
                            y: function (t) {
                                return t[1]
                            },
                            data: s,
                            yStart: g,
                            percent: 1,
                            defined: function (t) {
                                return t
                            }
                        },
                        style: e.normal.style
                    }
                }
                if (B(r))
                    for (var h = 0; h < r.length; h++)
                        r[h].z2 = t.get("z"), r[h].cursor = t.get("cursor");
                else
                    r.z2 = t.get("z"), r.cursor = t.get("cursor");
                y.push({
                    name: n,
                    shapeType: e.type,
                    normal: e.normal,
                    emphasis: e.emphasis,
                    attr: r
                })
            }),
            this.bandwidth = l,
            this.centerOffset = c,
            this.indicatorOption = f,
            this.shapes = y,
            this.y0 = g,
            this.startIndex = i,
            this.endIndex = r,
            this.indicator = p
        }
    },
    e.prototype.getSeriesColor = function (t) {
        var e = {};
        return D(this.indicatorOption, function (t, n) {
            e[n] = t.normal.style.stroke
        }),
        e
    },
    e
}
(_s);
II.type = MI,
II.defaultOption = {
    $dataIndex: void 0,
    dataKey: void 0,
    $axisIndex: [0, 1],
    name: void 0,
    indicatorType: "macd",
    getXKey: function (t) {
        return t.xIndex
    },
    indicator: void 0,
    cursor: "default",
    zlevel: 0,
    z: 3
};
var AI = function (t) {
    function e() {
        var n,
        i;
        o(this, e);
        for (var r = arguments.length, a = Array(r), s = 0; s < r; s++)
            a[s] = arguments[s];
        return n = i = u(this, t.call.apply(t, [this].concat(a))),
        i.type = MI,
        u(i, n)
    }
    return s(e, t),
    e.prototype.render = function (e, n, i) {
        var r,
        o = this;
        (r = t.prototype.render).call.apply(r, [this].concat(Array.prototype.slice.call(arguments))),
        this.remove();
        e.get("cursor");
        var a = e.shapes,
        s = (e.y0, e.indicator);
        O(a, function (t) {
            var e = void 0;
            switch (t.shapeType) {
            case "line":
                e = Qo;
                break;
            default:
                e = s.getShape(t.shapeType)
            }
            B(t.attr) ? o.setShapeGroup(t.name, e, t.attr, void 0, function (t) {}) : o.setShape(t.name, e, oa(t.attr), void 0, function (t) {})
        })
    },
    e
}
(cs);
function TI(t, e) {
    if (t) {
        if (n = t, "[object String]" === HI.call(n))
            t = parseFloat(t);
        else if (isNaN(parseFloat(t))) {
            return (0).toFixed(e)
        }
    } else
        t = 0;
    var n;
    return t.toFixed(e)
}
AI.type = MI;
var CI = function (t) {
    return t.a
},
zI = function (t) {
    return t.i
},
EI = function (t) {
    return t.c
},
LI = function (t) {
    return t.o
},
DI = function (t) {
    return t.n
};
var OI = {
    maxMinDataInRound: function (t, e, n, i) {
        for (var r = {}, o = 0; o < e.length; o++) {
            var a,
            s,
            l,
            u,
            h = e[o],
            c = "maxR" + h,
            f = "minR" + h,
            d = 0,
            p = 1e6;
            if (n + 1 < h)
                break;
            if (null !== i[c] && i[c])
                if (a = CI(t[n]), s = zI(t[n]), l = CI(t[n - h]), u = zI(t[n - h]), l == i[c] || i[f] == u)
                    for (var g = 0; g < h; g++)
                        a = CI(t[n - g]), s = zI(t[n - g]), d = a > d ? a : d, p = s < p ? s : p;
                else
                    d = a > i[c] ? a : i[c], p = s < i[f] ? s : i[f];
            else
                for (g = 0; g < h; g++)
                    a = CI(t[n - g]), s = zI(t[n - g]), d = a > d ? a : d, p = s < p ? s : p;
            r[c] = d,
            r[f] = p
        }
        return r
    },
    averageDataInRound: function (t, e, n, i) {
        for (var r, o, a, s, l = {}, u = 0; u < e.length && (o = "ma" + (a = e[u]), r = 0, !(n + 1 < a)); u++) {
            if (null !== i[o] && i[o])
                r = i[o] * a - EI(t[n - a]) + EI(t[n]);
            else
                for (s = 0; s < a; s++)
                    r += EI(t[n - s]);
            l[o] = TI(r / a, 4)
        }
        return l
    },
    volStatusInRound: function (t, e, n, i) {
        for (var r, o, a, s, l, u, h, c, f, d, p, g, v = {}, y = 0; y < e.length && (l = e[y], a = "upVol" + e[y], s = "downVol" + e[y], r = 0, o = 0, !(n < l)); y++) {
            if (null !== i[a] && i[a])
                c = EI(t[n]) > EI(t[n - 1]) || !1, h = EI(t[n - l]) > EI(t[n - l - 1]) || !1, p = i[a], g = i[s], f = DI(t[n]), d = DI(t[n - l]), h && c ? (r = f + p - d, o = g) : !h && c ? (r = f + p, o = g - d) : h && !c ? (r = p - d, o = f + g) : h || c || (r = p, o = f + g - d);
            else
                for (u = 0; u < l; u++)
                    EI(t[n - u]) > EI(t[n - u - 1]) ? r += DI(t[n - u]) : o += DI(t[n - u]);
            v[a] = r,
            v[s] = o
        }
        return v
    }
},
PI = function (t, e, n, i) {
    for (var r = function (t, e) {
        var n = {},
        i = 0,
        r = 0;
        for (i = 0; i < t.length; i++)
            for (r = 0; r < e.length; r++)
                n[e[r] + t[i]] = NaN;
        return n
    }
        (e, i), o = [], a = {}, s = 0; s < t.length; s++)
        a = OI[n](t, e, s, o[s - 1]), o[s] = $I(a, r);
    return o
},
FI = function (t, e, n) {
    return t ? e : n
},
NI = function (t, e) {
    return +t > +e ? +t : +e
},
RI = function (t) {
    return Math.abs(+t)
},
BI = function (t, e, n, i) {
    return (n * t + (e - n) * i) / e
},
WI = {
    "[object Function]": 1,
    "[object RegExp]": 1,
    "[object Date]": 1,
    "[object Error]": 1,
    "[object CanvasGradient]": 1,
    "[object CanvasPattern]": 1,
    "[object Image]": 1,
    "[object Canvas]": 1
},
GI = {
    "[object Int8Array]": 1,
    "[object Uint8Array]": 1,
    "[object Uint8ClampedArray]": 1,
    "[object Int16Array]": 1,
    "[object Uint16Array]": 1,
    "[object Int32Array]": 1,
    "[object Uint32Array]": 1,
    "[object Float32Array]": 1,
    "[object Float64Array]": 1
},
HI = Object.prototype.toString;
function jI(t) {
    return "object" === (void 0 === t ? "undefined" : r(t)) && "number" == typeof t.nodeType && "object" === r(t.ownerDocument)
}
function UI(t) {
    return !!WI[HI.call(t)]
}
function qI(t) {
    return "[object Array]" === HI.call(t)
}
function YI(t) {
    var e = void 0 === t ? "undefined" : r(t);
    return "function" === e || !!t && "object" === e
}
function VI(t) {
    if (null == t || "object" !== (void 0 === t ? "undefined" : r(t)))
        return t;
    var e = t,
    n = HI.call(t);
    if ("[object Array]" === n) {
        e = [];
        for (var i = 0, o = t.length; i < o; i++)
            e[i] = VI(t[i])
    } else if (GI[n]) {
        var a = t.constructor;
        if (t.constructor.from)
            e = a.from(t);
        else {
            e = new a(t.length);
            for (var s = 0, l = t.length; s < l; s++)
                e[s] = VI(t[s])
        }
    } else if (!WI[n] && !jI(t))
        for (var u in e = {}, t)
            t.hasOwnProperty(u) && (e[u] = VI(t[u]));
    return e
}
function $I(t, e, n) {
    if (!YI(e) || !YI(t))
        return n ? VI(e) : t;
    for (var i in e)
        if (e.hasOwnProperty(i)) {
            var r = t[i],
            o = e[i];
            !YI(o) || !YI(r) || qI(o) || qI(r) || jI(o) || jI(r) || UI(o) || UI(r) ? !n && i in t || (t[i] = VI(e[i])) : $I(r, o, n)
        }
    return t
}
var XI,
ZI,
KI = function () {
    function t(e) {
        o(this, t);
        var n = e ? VI(e) : {};
        this._option = $I(n, this.constructor.defaultOption, !1)
    }
    return t.prototype.get = function (t) {
        return t ? this._option[t] : this._option
    },
    t
}
();
function QI(t) {
    KI.registerClass(t, t.type)
}
KI.type = "indicatorFormula",
ZI = {},
(XI = KI).registerClass = function (t, e) {
    return ZI[e] = t,
    t
},
XI.getClass = function (t) {
    return ZI[t]
},
XI.hasClass = function (t) {
    return !!ZI[t]
},
XI.getAllClass = function () {
    return ZI
};
var JI = function (t) {
    function e() {
        return o(this, e),
        u(this, t.apply(this, arguments))
    }
    return s(e, t),
    e.prototype.calculate = function (t) {
        for (var e, n, i, r, o, a, s, l, u, h, c, f, d, p, g, v, y, m = this.get("M1"), x = this.get("M2"), _ = [], w = [], b = 0, S = 0, k = 0, M = [], I = 0, A = 0; A < t.length; A++)
            if (i = t[A - 1], a = t[A], b = 0, S = 0, I = 0, i && (r = EI(i), d = LI(i), f = zI(i), u = CI(a), h = zI(a), s = EI(a), l = LI(a), o = RI(u - r), c = RI(h - r), p = RI(u - f), g = RI(r - d), y = FI(c > p && c > o, c + o / 2 + g / 4, p + g / 4), v = FI(o > c && o > p, o + c / 2 + g / 4, y), I = 16 * (s - r + (s - l) / 2 + r - d) / v * NI(o, c)), _.push(I), A < m)
                M.push({
                    ASI: 0,
                    ASIT: 0
                });
            else {
                for (e = 0; e < m; e++)
                    b += _[A - e];
                if (w.push(b), A < m + x)
                    M.push({
                        ASI: b,
                        ASIT: 0
                    });
                else {
                    for (n = 0; n < x; n++)
                        S += w[A - m - n];
                    k = S / x,
                    M.push({
                        xIndex: t[A].t,
                        ASI: +TI(b, 2),
                        ASIT: +TI(k, 2)
                    })
                }
            }
        return M
    },
    e
}
(KI);
JI.type = "asi",
JI.defaultOption = {
    M1: 26,
    M2: 10
},
QI(JI, JI.type);
var tA = function (t) {
    function e() {
        return o(this, e),
        u(this, t.apply(this, arguments))
    }
    return s(e, t),
    e.prototype.calculate = function (t) {
        for (var e = 0, n = 0, i = 0, r = {}, o = [], a = [this.get("L1"), this.get("L4"), this.get("L5")], s = "ma" + a[0], l = "ma" + a[1], u = "ma" + a[2], h = PI(t, a, "averageDataInRound", ["ma"]), c = 0; c < h.length; c++)
            (r = h[c])[s] && (e = (EI(t[c]) - r[s]) / r[s] * 100, r[l] && (n = (EI(t[c]) - r[l]) / r[l] * 100, r[u] && (i = (EI(t[c]) - r[u]) / r[u] * 100))), o.push({
                xIndex: t[c].t,
                BIAS: e,
                BIAS2: n,
                BIAS3: i
            });
        return o
    },
    e
}
(KI);
tA.type = "bias",
tA.defaultOption = {
    L1: 6,
    L4: 12,
    L5: 24
},
QI(tA, tA.type);
var eA = function (t) {
    function e() {
        return o(this, e),
        u(this, t.apply(this, arguments))
    }
    return s(e, t),
    e.prototype.calculate = function (t) {
        var e,
        n,
        i,
        r,
        o,
        a,
        s,
        l = this.get("BOLL_N"),
        u = this.get("BOLL_P"),
        h = [],
        c = 0;
        for (r = 0; r < t.length; r++) {
            if (c += t[r].c, r >= l - 1) {
                for (e = c / l, s = 0, o = r - (l - 1); o <= r; o++)
                    s += (a = t[o].c - e) * a;
                n = e + u * (s = Math.sqrt(s / l)),
                i = e - u * s,
                c -= t[r - (l - 1)].c
            } else
                e = n = i = 0;
            h.push({
                xIndex: t[r].t,
                MID: e,
                UPPER: n,
                LOWER: i
            })
        }
        return h
    },
    e
}
(KI);
eA.type = "boll",
eA.defaultOption = {
    BOLL_N: 20,
    BOLL_P: 2
},
QI(eA, eA.type);
var nA = function (t) {
    function e() {
        return o(this, e),
        u(this, t.apply(this, arguments))
    }
    return s(e, t),
    e.prototype.calculate = function (t) {
        var e,
        n,
        i,
        r,
        o,
        a = this.get("N"),
        s = this.get("M1"),
        l = this.get("M2"),
        u = 1 / 0,
        h = -1 / 0,
        c = 0,
        f = 0,
        d = [];
        for (r = 0; r < t.length; r++) {
            for (e = t[r].c, u = 1 / 0, h = -1 / 0, o = r < a ? 0 : r - a + 1; o <= r; o++)
                u > t[o].i && (u = t[o].i), h < t[o].a && (h = t[o].a);
            n = (e - u) / (h - u) * 100,
            (isNaN(n) || n === -1 / 0 || n === 1 / 0) && (n = 0),
            f = r < a ? ((c = (n + c * r) / (r + 1)) + f * r) / (r + 1) : ((c = (n + (s - 1) * c) / s) + (l - 1) * f) / l,
            i = 3 * c - 2 * f,
            d.push({
                xIndex: t[r].t,
                K: c,
                D: f,
                J: i
            })
        }
        return d
    },
    e
}
(KI);
nA.type = "kdj",
nA.defaultOption = {
    N: 9,
    M1: 3,
    M2: 3
},
QI(nA, nA.type);
var iA = function (t) {
    function e() {
        return o(this, e),
        u(this, t.apply(this, arguments))
    }
    return s(e, t),
    e.prototype.calculate = function (t) {
        var e,
        n,
        i,
        r,
        o,
        a,
        s = this.get("SHORT"),
        l = this.get("LONG"),
        u = this.get("M"),
        h = s - 1,
        c = s + 1,
        f = l - 1,
        d = l + 1,
        p = u - 1,
        g = u + 1,
        v = 0,
        y = [];
        for (v = 0; v < t.length; v++)
            e = t[v].c, 0 != v && e ? r = 2 * ((n = (o = (2 * e + h * o) / c) - (a = (2 * e + f * a) / d)) - (i = (2 * n + p * i) / g)) : (i = n = (o = a = e || 0) - a, r = 0), y.push({
                xIndex: t[v].t,
                MACD: r,
                DIFF: n,
                DEA: i
            });
        return y
    },
    e
}
(KI);
iA.type = "macd",
iA.defaultOption = {
    SHORT: 12,
    LONG: 26,
    M: 9
},
QI(iA, iA.type);
var rA = function (t) {
    function e() {
        return o(this, e),
        u(this, t.apply(this, arguments))
    }
    return s(e, t),
    e.prototype.calculate = function (t) {
        var e,
        n,
        i,
        r,
        o,
        a,
        s,
        l,
        u,
        h,
        c,
        f,
        d = this.get("N1"),
        p = this.get("N2"),
        g = this.get("N3"),
        v = [];
        for (f = 0; f < t.length; f++) {
            var y;
            e = t[f].c,
            0 == f ? (n = e, r = s = h = 0, o = l = c = 0) : (n = t[f - 1].c, r = BI(NI(e - n, 0), d, 1, r), o = BI(RI(e - n), d, 1, o), s = BI(NI(e - n, 0), p, 1, s), l = BI(RI(e - n), p, 1, l), h = BI(NI(e - n, 0), g, 1, h), c = BI(RI(e - n), g, 1, c)),
            i = r / o * 100 || 0,
            a = s / l * 100 || 0,
            u = h / c * 100 || 0,
            v.push(((y = {
                            xIndex: t[f].t
                        })["RSI" + d] = i, y["RSI" + p] = a, y["RSI" + g] = u, y.A = 20, y.D = 80, y))
        }
        return v
    },
    e
}
(KI);
rA.type = "rsi",
rA.defaultOption = {
    N1: 6,
    N2: 12,
    N3: 24
},
QI(rA, rA.type);
var oA = function (t) {
    function e() {
        return o(this, e),
        u(this, t.apply(this, arguments))
    }
    return s(e, t),
    e.prototype.calculate = function (t) {
        for (var e = this.get("M1"), n = this.get("M2"), i = this.get("M3"), r = [e], o = "upVol" + r[0], a = "downVol" + r[0], s = [], l = NaN, u = PI(t, r, "volStatusInRound", ["upVol", "downVol"]), h = 0; h < t.length; h++)
            u[h][o] && (l = u[h][o] / u[h][a] * 100), s.push({
                xIndex: t[h].t,
                VR: l || 0,
                A: n,
                B: i
            });
        return s
    },
    e
}
(KI);
oA.type = "vr",
oA.defaultOption = {
    M1: 26,
    M2: 100,
    M3: 200
},
QI(oA, oA.type);
var aA = function (t) {
    function e() {
        return o(this, e),
        u(this, t.apply(this, arguments))
    }
    return s(e, t),
    e.prototype.calculate = function (t) {
        for (var e = this.get("N"), n = this.get("N1"), i = this.get("N2"), r = this.get("N3"), o = [n, e], a = "maxR" + o[0], s = "minR" + o[0], l = "maxR" + o[1], u = "minR" + o[1], h = PI(t, o, "maxMinDataInRound", ["maxR", "minR"]), c = [], f = {}, d = 0, p = 0, g = 0; g < h.length; g++)
            (f = h[g])[a] && (d = 100 * (f[a] - EI(t[g])) / (f[a] - f[s])), f[l] && (p = 100 * (f[l] - EI(t[g])) / (f[l] - f[u])), c.push({
                xIndex: t[g].t,
                WR1: p,
                WR2: d,
                A: i,
                D: r
            });
        return c
    },
    e
}
(KI);
aA.type = "wr",
aA.defaultOption = {
    N: 10,
    N1: 6,
    N2: 20,
    N3: 80
},
QI(aA, aA.type);
var sA = new(KI.getClass("macd")),
lA = function (t) {
    function e() {
        return o(this, e),
        u(this, t.apply(this, arguments))
    }
    return s(e, t),
    e.calculate = function (t) {
        return sA.calculate(t)
    },
    e.formatData = function (t, e) {
        return [e, [t.MACD, t.DIFF, t.DEA], t]
    },
    e.prototype.getShape = function (t) {
        return wI
    },
    e.prototype.getDrawData = function (t) {
        t.name;
        for (var e = t.xScale, n = t.yScale, i = t.data, r = t.item, o = t.model, a = e.bandwidth() / 2, s = o.get("getXKey"), l = [], u = {
                up: [],
                down: [],
                eq: []
            }, h = 0; h < i.length; h++) {
            var c = i[h][2],
            f = e(s(c)),
            d = n(c.MACD) - n(0) > 0 ? 1 : n(c.MACD) - n(0) < 0 ? -1 : 0,
            p = [f, {
                    lineX: f + a,
                    lineYTop: n(d > 0 ? c.MACD : 0),
                    lineYBottom: n(d > 0 ? 0 : c.MACD)
                }, c];
            d < 0 ? u.up.push(p) : d > 0 ? u.down.push(p) : u.eq.push(p)
        }
        for (var g in u)
            l.push({
                shape: {
                    bandwidth: 1,
                    data: u[g]
                },
                style: {
                    stroke: r.normal.hq[g],
                    lineWidth: 1
                }
            });
        return l
    },
    e
}
(Ws);
lA.type = "macd",
lA.defaultOption = {
    MACD: {
        type: "hqbar",
        normal: {
            show: !0,
            hq: {
                up: "rgba(247,48,75,1)",
                down: "rgba(48,172,99,1)",
                eq: "rgba(68,68,68,1)"
            },
            style: {
                lineWidth: 1,
                stroke: "#555"
            }
        },
        emphasis: void 0
    },
    DEA: {
        type: "line",
        normal: {
            show: !0,
            style: {
                stroke: "#C00C00",
                lineWidth: 1
            }
        },
        emphasis: void 0
    },
    DIFF: {
        type: "line",
        normal: {
            show: !0,
            style: {
                stroke: "#C0BA4D",
                lineWidth: 1
            }
        },
        emphasis: void 0
    }
};
var uA = new(KI.getClass("kdj")),
hA = function (t) {
    function e() {
        return o(this, e),
        u(this, t.apply(this, arguments))
    }
    return s(e, t),
    e.calculate = function (t) {
        return uA.calculate(t)
    },
    e.formatData = function (t, e) {
        return [e, [t.K, t.D, t.J], t]
    },
    e
}
(Ws);
hA.type = "kdj",
hA.defaultOption = {
    K: {
        type: "line",
        normal: {
            show: !0,
            style: {
                stroke: "#C00C00",
                lineWidth: 1
            }
        },
        emphasis: void 0
    },
    D: {
        type: "line",
        normal: {
            show: !0,
            style: {
                stroke: "#C0BA4D",
                lineWidth: 1
            }
        },
        emphasis: void 0
    },
    J: {
        type: "line",
        normal: {
            show: !0,
            style: {
                lineWidth: 1,
                stroke: "#FB8E04"
            }
        },
        emphasis: void 0
    }
};
var cA = new(KI.getClass("wr")),
fA = function (t) {
    function e() {
        return o(this, e),
        u(this, t.apply(this, arguments))
    }
    return s(e, t),
    e.calculate = function (t) {
        return cA.calculate(t)
    },
    e.formatData = function (t, e) {
        return [e, [t.WR1, t.WR2, t.A, t.D], t]
    },
    e
}
(Ws);
fA.type = "wr",
fA.defaultOption = {
    WR1: {
        type: "line",
        normal: {
            show: !0,
            style: {
                stroke: "#C00C00",
                lineWidth: 1
            }
        },
        emphasis: void 0
    },
    WR2: {
        type: "line",
        normal: {
            show: !0,
            style: {
                stroke: "#C0BA4D",
                lineWidth: 1
            }
        },
        emphasis: void 0
    },
    A: {
        type: "line",
        normal: {
            show: !0,
            style: {
                lineDash: [2, 4],
                stroke: "rgba(204,204,204,0.8)",
                lineWidth: 1
            }
        },
        emphasis: void 0
    },
    D: {
        type: "line",
        normal: {
            show: !0,
            style: {
                lineDash: [2, 4],
                stroke: "rgba(204,204,204,0.8)",
                lineWidth: 1
            }
        },
        emphasis: void 0
    }
};
var dA = new(KI.getClass("vr")),
pA = function (t) {
    function e() {
        return o(this, e),
        u(this, t.apply(this, arguments))
    }
    return s(e, t),
    e.calculate = function (t) {
        return dA.calculate(t)
    },
    e.formatData = function (t, e) {
        return [e, [t.VR, t.A, t.B], t]
    },
    e
}
(Ws);
pA.type = "vr",
pA.defaultOption = {
    VR: {
        type: "line",
        normal: {
            show: !0,
            style: {
                stroke: "#C00C00",
                lineWidth: 1
            }
        },
        emphasis: void 0
    },
    A: {
        type: "line",
        normal: {
            show: !0,
            style: {
                lineDash: [2, 4],
                stroke: "rgba(204,204,204,0.8)",
                lineWidth: 1
            }
        },
        emphasis: void 0
    },
    B: {
        type: "line",
        normal: {
            show: !0,
            style: {
                lineDash: [2, 4],
                lineWidth: 1,
                stroke: "rgba(204,204,204,0.8)"
            }
        },
        emphasis: void 0
    }
};
var gA = new(KI.getClass("rsi")),
vA = function (t) {
    function e() {
        return o(this, e),
        u(this, t.apply(this, arguments))
    }
    return s(e, t),
    e.calculate = function (t) {
        return gA.calculate(t)
    },
    e.formatData = function (t, e) {
        return [e, [t.RSI6, t.RSI12, t.RSI24, t.A, t.D], t]
    },
    e
}
(Ws);
vA.type = "rsi",
vA.defaultOption = {
    RSI6: {
        type: "line",
        normal: {
            show: !0,
            style: {
                stroke: "#C00C00",
                lineWidth: 1
            }
        },
        emphasis: void 0
    },
    RSI12: {
        type: "line",
        normal: {
            show: !0,
            style: {
                stroke: "#C0BA4D",
                lineWidth: 1
            }
        },
        emphasis: void 0
    },
    RSI24: {
        type: "line",
        normal: {
            show: !0,
            style: {
                lineWidth: 1,
                stroke: "#FB8E04"
            }
        },
        emphasis: void 0
    },
    A: {
        type: "line",
        normal: {
            show: !0,
            style: {
                lineDash: [2, 4],
                stroke: "rgba(204,204,204,0.8)",
                lineWidth: 1
            }
        },
        emphasis: void 0
    },
    D: {
        type: "line",
        normal: {
            show: !0,
            style: {
                lineDash: [2, 4],
                stroke: "rgba(204,204,204,0.8)",
                lineWidth: 1
            }
        },
        emphasis: void 0
    }
};
var yA = new(KI.getClass("boll")),
mA = function (t) {
    function e() {
        return o(this, e),
        u(this, t.apply(this, arguments))
    }
    return s(e, t),
    e.calculate = function (t) {
        return yA.calculate(t)
    },
    e.formatData = function (t, e) {
        return [e, [t.MID, t.UPPER, t.LOWER], t]
    },
    e
}
(Ws);
mA.type = "boll",
mA.defaultOption = {
    MID: {
        type: "line",
        normal: {
            show: !0,
            style: {
                stroke: "#C00C00",
                lineWidth: 1
            }
        },
        emphasis: void 0
    },
    UPPER: {
        type: "line",
        normal: {
            show: !0,
            style: {
                stroke: "#C0BA4D",
                lineWidth: 1
            }
        },
        emphasis: void 0
    },
    LOWER: {
        type: "line",
        normal: {
            show: !0,
            style: {
                lineWidth: 1,
                stroke: "#FB8E04"
            }
        },
        emphasis: void 0
    }
};
var xA = new(KI.getClass("bias")),
_A = function (t) {
    function e() {
        return o(this, e),
        u(this, t.apply(this, arguments))
    }
    return s(e, t),
    e.calculate = function (t) {
        return xA.calculate(t)
    },
    e.formatData = function (t, e) {
        return [e, [t.BIAS, t.BIAS2, t.BIAS3], t]
    },
    e
}
(Ws);
_A.type = "bias",
_A.defaultOption = {
    BIAS: {
        type: "line",
        normal: {
            show: !0,
            style: {
                stroke: "#C00C00",
                lineWidth: 1
            }
        },
        emphasis: void 0
    },
    BIAS2: {
        type: "line",
        normal: {
            show: !0,
            style: {
                stroke: "#C0BA4D",
                lineWidth: 1
            }
        },
        emphasis: void 0
    },
    BIAS3: {
        type: "line",
        normal: {
            show: !0,
            style: {
                lineWidth: 1,
                stroke: "#FB8E04"
            }
        },
        emphasis: void 0
    }
};
var wA = new(KI.getClass("asi")),
bA = function (t) {
    function e() {
        return o(this, e),
        u(this, t.apply(this, arguments))
    }
    return s(e, t),
    e.calculate = function (t) {
        return wA.calculate(t)
    },
    e.formatData = function (t, e) {
        return [e, [t.ASI, t.ASIT], t]
    },
    e
}
(Ws);
function SA(t) {
    this.configs = S(t, this.constructor.defaultConfigs)
}
function kA(t) {
    var e,
    n = {};
    return t[276] > 0 || t[277] > 0 ? (e = "coolingPeriod", n = function (t) {
        var e = t[276].substring(0, 2) + ":" + t[276].substring(2, 4) + ":" + t[276].substring(4, 6),
        n = t[277].substring(0, 2) + ":" + t[277].substring(2, 4) + ":" + t[277].substring(4, 6);
        return {
            considerPrice: t[51],
            priceCeil: t[69],
            priceFloor: t[70],
            starttime: t[276],
            starttimeStr: e,
            endtime: t[277],
            endtimeStr: n
        }
    }
        (t)) : /^(4|5|105|106|107)$/.test(t.hkStatus) && (e = "bidPeriod", n = function (t) {
        var e = {
            bidPeriod: void 0,
            minPrice: void 0,
            maxPrice: void 0,
            considerPrice: void 0,
            direct: void 0,
            directNum: void 0
        };
        return e.bidPeriod = {
            3: "开盘",
            4: "买卖盘配对阶段",
            5: "输入买卖盘阶段",
            105: "参考定价阶段",
            106: "参考定价阶段",
            107: "随机收盘",
            0: "收盘"
        }
        [t.hkStatus],
        e.direct = t[278] >= 0 ? "买" : "卖",
        e.directNum = Math.abs(t[278]),
        e.minPrice = t[70],
        e.maxPrice = t[69],
        /^(105|106|5)$/.test(t.hkStatus) ? e.considerPrice = t[10] : e.considerPrice = "",
        e
    }
        (t)),
    n.msg = {
        coolingPeriod: "冷静期 市场波动调节阶段",
        bidPeriod: "集合竞价阶段"
    }
    [e], {
        hqStatus: e,
        hqStatusDetail: n
    }
}
function MA(t, e) {
    var n = parseFloat(t),
    i = parseFloat(e),
    r = n - i,
    o = r / i * 100,
    a = DA(n, i);
    return {
        rateP: EA(r, 3),
        status: a,
        curPrice: t,
        curPriceShow: EA(t, 3),
        oldPrice: e,
        oldPriceShow: EA(e, 3),
        rate: EA(o, 2)
    }
}
function IA(t, e) {
    return /^(HK_stock)/.test(t = t || "HS_stock") ? kA(e) : /^(USA_stock)/.test(t) ? function (t) {
        var e,
        n = {};
        return t[254] > 0 ? (e = "panqian", n = MA(t[254], t[10])) : t[278] > 0 && (e = "panhou", n = MA(t[278], t[10])),
        n.msg = {
            panqian: "盘前",
            panhou: "盘后"
        }
        [e],
        n.time = t.time, {
            hqStatus: e,
            hqStatusDetail: n
        }
    }
    (e) : void 0
}
function AA(t) {
    return new SA({
        code: t
    }).init()
}
function TA() {
    return {
        abAxis: "#de422e",
        beAxis: "#3e9663",
        eqAxis: "#444",
        ma: "#444",
        axisLine: "#ccc",
        ma5: "#1F6195",
        ma10: "#E0AC58",
        ma30: "#9C73AF",
        hoverLine: "#A0A0A0",
        hideColor: "rgba(255,255,255,0)"
    }
}
bA.type = "asi",
bA.defaultOption = {
    ASI: {
        type: "line",
        normal: {
            show: !0,
            style: {
                stroke: "#C00C00",
                lineWidth: 1
            }
        },
        emphasis: void 0
    },
    ASIT: {
        type: "line",
        normal: {
            show: !0,
            style: {
                stroke: "#C0BA4D",
                lineWidth: 1
            }
        },
        emphasis: void 0
    }
},
fl(lA, lA.type),
fl(bA, bA.type),
fl(_A, _A.type),
fl(mA, mA.type),
fl(vA, vA.type),
fl(pA, pA.type),
fl(fA, fA.type),
fl(hA, hA.type),
dl(II, AI),
SA.defaultConfigs = {
    code: "33_300033",
    hs: {
        fsXaxisShow: {
            "0930": 0,
            1030: 60,
            1130: 120,
            1400: 180,
            1500: 241
        }
    },
    hskcb: {
        fsXaxisShow: {
            "0930": 0,
            1130: 120,
            1500: 241
        }
    },
    hk: {
        fsXaxisShow: {
            "0930": 0,
            1030: 60,
            1200: 150,
            1400: 211,
            1610: 341
        }
    }
},
SA.prototype.get = function (t) {
    return this.configs[t]
},
SA.prototype.render = function (t) {
    this.init()
},
SA.prototype.init = function () {
    var t = $(this.get("code")).split("_"),
    e = t[1],
    n = t[0],
    i = {
        shortStockCode: e,
        marketCode: n,
        volUnit: ""
    };
    return /^(hs|sz|sh|zs|16|32|24|48|bk|17|18|22|33|34|sb|144|145|21|37)$/.test(n) ? (i.keepLen = 2, i.needConvertoShou = !0, i.volUnit = "手", i.fsXaxisShow = this.get("hs").fsXaxisShow, /^(688)/.test(e) ? (i.msg = "HS_stock_kcb", i.fsXaxisShow = this.get("hskcb").fsXaxisShow) : /^(zs|16|32|24)$/.test(n) ? i.msg = "HS_index" : /^(48|bk)$/.test(n) ? /^(881)/.test(e) ? i.msg = "HS_block_hangye" : i.msg = "HS_block_gainian" : /^(sb|144|145)$/.test(n) ? i.msg = "HS_stock_sb" : i.msg = "HS_stock") : /^(hk|176|177|178|179|180|182|181|183)$/.test(n) ? (i.keepLen = 3, i.needConvertoShou = !1, i.volUnit = "", i.fsXaxisShow = this.get("hk").fsXaxisShow, /^(176)$/.test(n) ? i.msg = "HK_index" : i.msg = "HK_stock") : /^(usa|169|168|170|185|184|186|189|200|88|201|202)$/.test(n) ? (i.needConvertoShou = !1, i.volUnit = "", /^(200|88)$/.test(n) ? (i.msg = "USA_index", i.keepLen = 2) : (i.msg = "USA_stock", i.keepLen = 3)) : /^(pmetal|41|wh|92|97|98|99|gzqh|129|fd|20|36|gqh|217|219|qh|65|66|67|68|69|70|shzq|szzq|19|35|gzs|sj|81|ggqq|233|104|120)$/.test(n) ? (i.keepLen = 2, i.needConvertoShou = !0, i.volUnit = "手", /^(pmetal|41)$/.test(n) ? i.msg = "Others_pmetal" : /^(wh|97|98|99)$/.test(n) ? (i.msg = "Others_wh", i.keepLen = 5) : /^(gzqh|129)$/.test(n) ? (i.msg = "Others_gzqh", i.needConvertoShou = !1) : /^(fd|20|36)$/.test(n) ? (i.msg = "Others_fd", i.keepLen = 3) : /^(gqh|217|219)$/.test(n) ? (i.msg = "Others_gqh", i.needConvertoShou = !1, i.volUnit = "", i.keepLen = 3) : /^(qh|65|66|67|68|69|70)$/.test(n) ? (i.msg = "Others_qh", i.needConvertoShou = !1, i.volUnit = "", i.keepLen = 2) : /^(shzq|szzq|19|35)$/.test(n) ? i.msg = "Others_zq" : /^(gzs|92)$/.test(n) ? (i.msg = "Others_gzs", i.keepLen = 2) : /^(sj|81)$/.test(n) ? (i.msg = "Others_sj", i.needConvertoShou = !1, i.volUnit = "", i.keepLen = 2) : /^(ggqq|233|104|120)$/.test(n) ? (i.msg = "Others_ggqq", i.keepLen = 2) : i.msg = "Others_" + n) : /^(eu|161)$/.test(n) ? (i.msg = "UK_stock", i.keepLen = 2, i.needConvertoShou = !1, i.volUnit = "") : (i.msg = "HS_stock", i.keepLen = 2, i.needConvertoShou = !0, i.volUnit = "手"),
    i
};
var CA = {
    abAxis: "#de422e",
    beAxis: "#3e9663",
    eqAxis: "#444",
    ma: "#444",
    axisLine: "#ccc",
    ma5: "#1F6195",
    ma10: "#E0AC58",
    ma30: "#9C73AF",
    hoverLine: "#A0A0A0",
    hideColor: "rgba(255,255,255,0)"
};
function zA(t, e, n) {
    var i,
    r,
    o,
    a,
    s,
    l,
    u,
    h,
    c,
    f,
    d,
    p,
    g,
    v;
    return void 0 !== t.o && (i = EA(t.o, e), r = DA(t.o, t.yc)),
    void 0 !== t.a && (o = EA(t.a, e), a = DA(t.a, t.yc)),
    void 0 !== t.i && (s = EA(t.i, e), l = DA(t.i, t.yc)),
    void 0 !== t.c && (u = EA(t.c, e), h = DA(t.c, t.yc)),
    void 0 !== t.n && (c = LA(t.n, n)),
    void 0 !== t.np && (f = LA(t.np)),
    void 0 !== t.h && (d = parseFloat(t.h).toFixed(2)),
    p = t.yc,
    void 0 !== t.preRateP && (g = EA(t.preRateP, e)),
    void 0 !== t.preRate && (v = EA(t.preRate, 2)), {
        openP: i,
        openPStatus: r,
        maxP: o,
        maxPStatus: a,
        minP: s,
        minPStatus: l,
        curP: u,
        curPStatus: h,
        n: c,
        np: f,
        turnRate: d,
        yesterdayP: p,
        rateP: g,
        rate: v
    }
}
function EA(t, e) {
    if (t) {
        if (G(t))
            t = parseFloat(t);
        else if (isNaN(parseFloat(t))) {
            return (0).toFixed(e)
        }
    } else
        t = 0;
    return t.toFixed(e)
}
function LA(t) {
    var e = arguments.length > 1 && void 0 !== arguments[1] && arguments[1];
    if (!t && 0 != t)
        return "";
    t = e ? Math.floor(t / 100) : Math.floor(t);
    var n = Math.abs(t);
    return t = n > 1e12 ? EA(t / 1e12, 1) + "万亿" : n > 1e10 ? EA(t / 1e8, 0) + "亿" : n > 1e8 ? EA(t / 1e8, 1) + "亿" : n > 1e7 ? EA(t / 1e4, 0) + "万" : n > 1e4 ? EA(t / 1e4, 1) + "万" : EA(t, 0)
}
function DA(t, e) {
    var n = parseFloat(t),
    i = parseFloat(e);
    return n - i > 0 ? "ab" : n - i < 0 ? "be" : "eq"
}
function OA(t, e) {
    var n = t.c === t.o && e ? e.c : t.o;
    return DA(t.c, n)
}
function PA(t) {
    var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0,
    n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 0,
    i = Math.abs(t);
    return i > 1e12 ? (t / 1e12).toFixed(n) + "万亿" : i > 1e8 || i < -1e8 ? (t / 1e8).toFixed(n) + "亿" : i > 1e4 || i < -1e4 ? (t / 1e4).toFixed(n) + "万" : t.toFixed(e)
}
var FA = Object.freeze({
    getStockType: AA,
    getDefaultColor: TA,
    getLimitByMarket: function (t) {
        var e = t.msg,
        n = {
            fs: {
                av: !0,
                vol: !0,
                moneyflow: !0
            },
            kline: {
                vol: !0
            }
        };
        return /^(HK_index|Others_wh|Others_gzs|HS_block_hangye|HS_block_gainian|USA_index|Others_pmetal|Others_wh|Others_gzqh|Others_gqh|Others_qh|Others_zq|Others_sj|Others_ggqq)/.test(e) && (n.fs.av = !1),
        "HS_stock" !== e && (n.fs.moneyflow = !1),
        /^(Others_wh|Others_gzs|Others_pmetal)/.test(e) && (n.fs.vol = !1),
        /^(Others_wh|Others_zq|Others_pmetal|Others_gqh)/.test(e) && (n.kline.vol = !1),
        n
    },
    getXData: function (t, e, n) {
        var i = arguments.length > 3 && void 0 !== arguments[3] && arguments[3],
        r = t.msg || "HS_stock",
        o = t.fsXaxisShow,
        a = n[0].split("-")[0],
        s = n[n.length - 1].split("-")[1];
        o || (/^(HS)/.test(r) ? o = {
                "0930": 0,
                1030: 60,
                1130: 120,
                1400: 180,
                1500: 240
            }
             : ((o = {})[a] = 0, o[s] = e - 1)),
        i || (i = [], /^(HS|HK)/.test(r) ? (D(o, function (t, e) {
                    i.push(e)
                }), i.sort()) : i = [a, s]);
        for (var l = [], u = 0; u < e; u++)
            l.push("___" + u);
        for (var h = [], c = 0; c < i.length; c++)
            void 0 !== o[i[c]] && h.push(o[i[c]]);
        for (var f = 0; f < h.length; f++)
            l[h[f]] = i[f];
        return {
            xData: l,
            xTick: i
        }
    },
    convertToShowData: zA,
    decimalRound: EA,
    filterNum: LA,
    filterStatus: DA,
    getKLineStatus: OA,
    numFormatter: PA,
    inheritFrom: function (t, e) {
        var n = function (t) {
            function e() {}
            return e.prototype = t,
            new e
        }
        (e.prototype);
        for (var i in n.constructor = t, t.prototype = n, e)
            e.hasOwnProperty(i) && (t[i] = e[i])
    },
    fsPrice_tooltip: function (t, e, n) {
        var i = e.pre,
        r = e.keepLen,
        o = e.needConvertoShou,
        a = e.hqMarket,
        s = parseFloat(i),
        l = S({
            t: "",
            preClosePrice: "",
            nowp: "",
            np: "",
            av: "",
            n: "",
            status: "",
            rate: "",
            ratep: ""
        }, t, !0),
        u = "";
        "" != t.nowp ? (u = t.nowp, l.status = DA(u, s)) : (u = "", l.status = "eq"),
        l.preClosePrice = s,
        l.nowp = EA(u, r),
        l.av = EA(t.av, r),
        l.avStatus = DA(t.av, s),
        o && (l.n = t.n / 100),
        l.n = PA(l.n, 0, 1) || 0,
        l.np = PA(t.np, 0, 1) || 0;
        var h,
        c = EA( - (s - u), r),
        f = EA(c / s * 100, 2);
        return l.rate = f + "%",
        l.ratep = c,
        h = /^(Others_wh|Others_gzs|HS_block_hangye|HS_block_gainian|USA_index|Others_pmetal|Others_wh|Others_gzqh|Others_gqh|Others_qh|Others_zq|Others_sj|Others_ggqq)/.test(a) ? "<%t%> 现价:<%nowp%> 涨跌:<%ratep%> 涨幅:<%rate%> 量:<%n%> 额:<%np%>" : "<%t%> 现价:<%nowp%> 均价:<%av%> 涨跌:<%ratep%> 涨幅:<%rate%> 量:<%n%> 额:<%np%>",
        "function" == typeof n ? n({
            tpl: h,
            result: l
        }) : h.replace(/<%([^%>]+)?%>/g, function (t, e) {
            return "t" === e ? l[e].substr(0, 2) + ":" + l[e].substr(2, 2) : '<span style="color:' + CA[l.status + "Axis"] + ';">' + l[e] + "</span>"
        })
    },
    klinePrice_tooltip: function (t, e, n) {
        var i = e.keepLen,
        r = e.needConvertoShou,
        o = {},
        a = t.yc,
        s = t.yj || a,
        l = "";
        l = "" !== t.c ? t.c : "",
        o.t = t.t,
        o.ratep = EA(l - s, i),
        o.maxP = EA(t.a, i),
        o.minP = EA(t.i, i),
        o.openP = EA(t.o, i),
        o.closeP = EA(l, i),
        o.n = t.n,
        r && (o.n = t.n / 100),
        o.n = PA(o.n, 0, 1) || 0,
        o.maxPStatus = DA(t.a, a),
        o.minPStatus = DA(t.i, a),
        o.openPStatus = DA(t.o, a),
        o.rate = EA((l - s) / s * 100, 2) + "%",
        o.status = l - s > 0 ? "ab" : l - s == 0 ? "eq" : "be";
        var u = '<%t%> 开：<span style="color: <%openPStatus%>;"><%openP%></span> 高：<span style="color: <%maxPStatus%>"><%maxP%></span> 低：<span style="color: <%minPStatus%>"><%minP%></span> 收：<span style="color: <%status%>"><%closeP%></span> 涨跌：<span style="color: <%status%>"><%ratep%></span> 涨幅：<span style="color: <%status%>"><%rate%></span><br/>',
        h = "";
        for (var c in t)
             /^(ma[{0 - 9}]+)/ .test(c) && t[c] && (h += '<span style="color:<%' + c + 'Status%>">' + c.toUpperCase() + ":<%" + c + "%> </span>");
        var f = u + h;
        return "function" == typeof n ? n({
            tpl: u,
            maTpl: h,
            result: o,
            data: t
        }) : f.replace(/<%([^%>]+)?%>/g, function (e, n) {
            return "status" === n || "openPStatus" === n || "maxPStatus" === n || "minPStatus" === n ? CA[o[n] + "Axis"] : /^(ma[{0-9}]+Status)$/.test(n) ? CA.ma : /^(ma[{0-9}]+)$/.test(n) ? parseFloat(t[n]).toFixed(i) : o[n]
        })
    },
    getStockstatus: IA
}),
NA = "undefined" != typeof window ? window : "undefined" != typeof global ? global : "undefined" != typeof self ? self : {};
function RA(t, e) {
    return t(e = {
            exports: {}
        }, e.exports),
    e.exports
}
RA(function (t, e) {
    /*!
     * @overview es6-promise - a tiny implementation of Promises/A+.
     * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
     * @license   Licensed under MIT license
     *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
     * @version   v4.2.5+7f2b526d
     */
    t.exports = function () {
        function t(t) {
            return "function" == typeof t
        }
        var e = Array.isArray ? Array.isArray : function (t) {
            return "[object Array]" === Object.prototype.toString.call(t)
        },
        n = 0,
        i = void 0,
        o = void 0,
        a = function (t, e) {
            d[n] = t,
            d[n + 1] = e,
            2 === (n += 2) && (o ? o(p) : x())
        },
        s = "undefined" != typeof window ? window : void 0,
        l = s || {},
        u = l.MutationObserver || l.WebKitMutationObserver,
        h = "undefined" == typeof self && "undefined" != typeof process && "[object process]" === {}
        .toString.call(process),
        c = "undefined" != typeof Uint8ClampedArray && "undefined" != typeof importScripts && "undefined" != typeof MessageChannel;
        function f() {
            var t = setTimeout;
            return function () {
                return t(p, 1)
            }
        }
        var d = new Array(1e3);
        function p() {
            for (var t = 0; t < n; t += 2) {
                var e = d[t],
                i = d[t + 1];
                e(i),
                d[t] = void 0,
                d[t + 1] = void 0
            }
            n = 0
        }
        var g,
        v,
        y,
        m,
        x = void 0;
        function _(t, e) {
            var n = this,
            i = new this.constructor(S);
            void 0 === i[b] && R(i);
            var r = n._state;
            if (r) {
                var o = arguments[r - 1];
                a(function () {
                    return F(r, i, o, n._result)
                })
            } else
                O(n, i, t, e);
            return i
        }
        function w(t) {
            if (t && "object" === (void 0 === t ? "undefined" : r(t)) && t.constructor === this)
                return t;
            var e = new this(S);
            return z(e, t),
            e
        }
        h ? x = function () {
            return process.nextTick(p)
        }
         : u ? (v = 0, y = new u(p), m = document.createTextNode(""), y.observe(m, {
                characterData: !0
            }), x = function () {
            m.data = v = ++v % 2
        }) : c ? ((g = new MessageChannel).port1.onmessage = p, x = function () {
            return g.port2.postMessage(0)
        }) : x = void 0 === s ? function () {
            try {
                var t = Function("return this")().require("vertx");
                return void 0 !== (i = t.runOnLoop || t.runOnContext) ? function () {
                    i(p)
                }
                 : f()
            } catch (t) {
                return f()
            }
        }
        () : f();
        var b = Math.random().toString(36).substring(2);
        function S() {}
        var k = void 0,
        M = 1,
        I = 2,
        A = {
            error: null
        };
        function T(t) {
            try {
                return t.then
            } catch (t) {
                return A.error = t,
                A
            }
        }
        function C(e, n, i) {
            n.constructor === e.constructor && i === _ && n.constructor.resolve === w ? function (t, e) {
                e._state === M ? L(t, e._result) : e._state === I ? D(t, e._result) : O(e, void 0, function (e) {
                    return z(t, e)
                }, function (e) {
                    return D(t, e)
                })
            }
            (e, n) : i === A ? (D(e, A.error), A.error = null) : void 0 === i ? L(e, n) : t(i) ? function (t, e, n) {
                a(function (t) {
                    var i = !1,
                    r = function (t, e, n, i) {
                        try {
                            t.call(e, n, i)
                        } catch (t) {
                            return t
                        }
                    }
                    (n, e, function (n) {
                        i || (i = !0, e !== n ? z(t, n) : L(t, n))
                    }, function (e) {
                        i || (i = !0, D(t, e))
                    }, t._label);
                    !i && r && (i = !0, D(t, r))
                }, t)
            }
            (e, n, i) : L(e, n)
        }
        function z(t, e) {
            var n,
            i;
            t === e ? D(t, new TypeError("You cannot resolve a promise with itself")) : (i = void 0 === (n = e) ? "undefined" : r(n), null === n || "object" !== i && "function" !== i ? L(t, e) : C(t, e, T(e)))
        }
        function E(t) {
            t._onerror && t._onerror(t._result),
            P(t)
        }
        function L(t, e) {
            t._state === k && (t._result = e, t._state = M, 0 !== t._subscribers.length && a(P, t))
        }
        function D(t, e) {
            t._state === k && (t._state = I, t._result = e, a(E, t))
        }
        function O(t, e, n, i) {
            var r = t._subscribers,
            o = r.length;
            t._onerror = null,
            r[o] = e,
            r[o + M] = n,
            r[o + I] = i,
            0 === o && t._state && a(P, t)
        }
        function P(t) {
            var e = t._subscribers,
            n = t._state;
            if (0 !== e.length) {
                for (var i = void 0, r = void 0, o = t._result, a = 0; a < e.length; a += 3)
                    i = e[a], r = e[a + n], i ? F(n, i, r, o) : r(o);
                t._subscribers.length = 0
            }
        }
        function F(e, n, i, r) {
            var o = t(i),
            a = void 0,
            s = void 0,
            l = void 0,
            u = void 0;
            if (o) {
                if ((a = function (t, e) {
                        try {
                            return t(e)
                        } catch (t) {
                            return A.error = t,
                            A
                        }
                    }
                        (i, r)) === A ? (u = !0, s = a.error, a.error = null) : l = !0, n === a)
                    return void D(n, new TypeError("A promises callback cannot return that same promise."))
            } else
                a = r, l = !0;
            n._state !== k || (o && l ? z(n, a) : u ? D(n, s) : e === M ? L(n, a) : e === I && D(n, a))
        }
        var N = 0;
        function R(t) {
            t[b] = N++,
            t._state = void 0,
            t._result = void 0,
            t._subscribers = []
        }
        var B = function () {
            function t(t, n) {
                this._instanceConstructor = t,
                this.promise = new t(S),
                this.promise[b] || R(this.promise),
                e(n) ? (this.length = n.length, this._remaining = n.length, this._result = new Array(this.length), 0 === this.length ? L(this.promise, this._result) : (this.length = this.length || 0, this._enumerate(n), 0 === this._remaining && L(this.promise, this._result))) : D(this.promise, new Error("Array Methods must be provided an Array"))
            }
            return t.prototype._enumerate = function (t) {
                for (var e = 0; this._state === k && e < t.length; e++)
                    this._eachEntry(t[e], e)
            },
            t.prototype._eachEntry = function (t, e) {
                var n = this._instanceConstructor,
                i = n.resolve;
                if (i === w) {
                    var r = T(t);
                    if (r === _ && t._state !== k)
                        this._settledAt(t._state, e, t._result);
                    else if ("function" != typeof r)
                        this._remaining--, this._result[e] = t;
                    else if (n === W) {
                        var o = new n(S);
                        C(o, t, r),
                        this._willSettleAt(o, e)
                    } else
                        this._willSettleAt(new n(function (e) {
                                return e(t)
                            }), e)
                } else
                    this._willSettleAt(i(t), e)
            },
            t.prototype._settledAt = function (t, e, n) {
                var i = this.promise;
                i._state === k && (this._remaining--, t === I ? D(i, n) : this._result[e] = n),
                0 === this._remaining && L(i, this._result)
            },
            t.prototype._willSettleAt = function (t, e) {
                var n = this;
                O(t, void 0, function (t) {
                    return n._settledAt(M, e, t)
                }, function (t) {
                    return n._settledAt(I, e, t)
                })
            },
            t
        }
        (),
        W = function () {
            function e(t) {
                this[b] = N++,
                this._result = this._state = void 0,
                this._subscribers = [],
                S !== t && ("function" != typeof t && function () {
                    throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")
                }
                    (), this instanceof e ? function (t, e) {
                    try {
                        e(function (e) {
                            z(t, e)
                        }, function (e) {
                            D(t, e)
                        })
                    } catch (e) {
                        D(t, e)
                    }
                }
                    (this, t) : function () {
                    throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")
                }
                    ())
            }
            return e.prototype.catch = function (t) {
                return this.then(null, t)
            },
            e.prototype.finally = function (e) {
                var n = this.constructor;
                return t(e) ? this.then(function (t) {
                    return n.resolve(e()).then(function () {
                        return t
                    })
                }, function (t) {
                    return n.resolve(e()).then(function () {
                        throw t
                    })
                }) : this.then(e, e)
            },
            e
        }
        ();
        return W.prototype.then = _,
        W.all = function (t) {
            return new B(this, t).promise
        },
        W.race = function (t) {
            var n = this;
            return e(t) ? new n(function (e, i) {
                for (var r = t.length, o = 0; o < r; o++)
                    n.resolve(t[o]).then(e, i)
            }) : new n(function (t, e) {
                return e(new TypeError("You must pass an array to race."))
            })
        },
        W.resolve = w,
        W.reject = function (t) {
            var e = new this(S);
            return D(e, t),
            e
        },
        W._setScheduler = function (t) {
            o = t
        },
        W._setAsap = function (t) {
            a = t
        },
        W._asap = a,
        W.polyfill = function () {
            var t = void 0;
            if (void 0 !== NA)
                t = NA;
            else if ("undefined" != typeof self)
                t = self;
            else
                try {
                    t = Function("return this")()
                } catch (t) {
                    throw new Error("polyfill failed because global object is unavailable in this environment")
                }
            var e = t.Promise;
            if (e) {
                var n = null;
                try {
                    n = Object.prototype.toString.call(e.resolve())
                } catch (t) {}
                if ("[object Promise]" === n && !e.cast)
                    return
            }
            t.Promise = W
        },
        W.Promise = W,
        W
    }
    ()
}).polyfill();
function BA(t) {
    return t.replace(/([\W])/g, function (t, e) {
        return "/" === e || "," === e ? "_" : "__"
    })
}
function WA(t) {
    var e = t.dataArray[t.dataArray.length - 1].t;
    return 2 === e.split(" ").length && (e = e.split(" ")[1]),
    e
}
function GA(t) {
    var e = arguments.length > 1 && void 0 !== arguments[1] && arguments[1];
    if (e)
        return e;
    var n = "";
    return t.replace(/\/{2}([\w.:]+)\//, function (t, e) {
        n = e
    }),
    function (t, e) {
        var n = t.split(e)[1].replace(/(\/)/g, function () {
            return "_"
        });
        return "quotebridge_" + (n = BA(n = n.replace(/(.js)/g, function () {
                        return ""
                    })))
    }
    (t, n + "/")
}
function HA(t) {
    var e = t.time,
    n = t.fuquan,
    i = {
        day: "0",
        week: "1",
        month: "2",
        "5min": "3",
        "30min": "4",
        "60min": "5",
        "1min": "6",
        "4hour": "7",
        year: "8",
        season: "9"
    },
    r = {
        bfq: "0",
        qfq: "1",
        hfq: "2"
    };
    return (i[e] ? i[e] : "0") + (r[n] ? r[n] : "1")
}
var jA = RA(function (t, e) {
    (function (t, e) {
        var n = {
            cache: !1,
            timeout: 5e3,
            jsonpCallback: "callback",
            jsonpCallbackFunction: null
        };
        function i(t) {
            try {
                delete window[t]
            } catch (e) {
                window[t] = void 0
            }
        }
        function r(t) {
            var e = document.getElementById(t);
            e && document.getElementsByTagName("head")[0].removeChild(e)
        }
        e.exports = function (t) {
            var e = arguments.length <= 1 || void 0 === arguments[1] ? {}
             : arguments[1],
            o = t,
            a = e.timeout || n.timeout,
            s = e.jsonpCallback || n.jsonpCallback,
            l = void 0;
            return new Promise(function (u, h) {
                var c = e.jsonpCallbackFunction || "jsonp_" + Date.now() + "_" + Math.ceil(1e5 * Math.random()),
                f = s + "_" + c;
                window[c] = function (t) {
                    u({
                        ok: !0,
                        json: function () {
                            return Promise.resolve(t)
                        }
                    }),
                    l && clearTimeout(l),
                    r(f),
                    i(c)
                };
                var d = document.createElement("script");
                e.cache || n.cache ? d.setAttribute("src", "" + o) : (o += -1 === o.indexOf("?") ? "?" : "&", d.setAttribute("src", "" + o + s + "=" + c)),
                e.charset && d.setAttribute("charset", e.charset),
                d.id = f,
				console.log('B:', d),
                document.getElementsByTagName("head")[0].appendChild(d),
				console.log('E:', d),
                l = setTimeout(function () {
                    h(new Error("JSONP request to " + t + " timed out")),
                    i(c),
                    r(f),
                    window[c] = function () {
                        i(c)
                    }
                }, a),
                d.onerror = function () {
                    h(new Error("JSONP request to " + t + " failed")),
                    i(c),
                    r(f),
                    l && clearTimeout(l)
                }
            })
        }
    })(0, t)
}),
UA = Hs || "undefined" != typeof document && "https:" == document.location.protocol ? "https:" : "http:";
function qA(t, e) {
    return e + "__" + (t.dType || "common") + "__" + BA(t.code)
}
function YA(t) {
    VA.registerClass(t, t.type)
}
var VA = function () {
    function t(e, n) {
        o(this, t),
        this.dataPool = n;
        var i = S(b(this.constructor.defaultOption), t.defaultOption);
        this.option = S(e, i),
        this.dataId = qA(this.option, this.constructor.type),
        this.fetchStatus,
        this._data
    }
    return t.prototype.getHqCallbackNameAndUrl = function (t, e) {
        var n = this.dataPool.getFilterUrl(t);
        return {
            url: n,
            callbackName: GA(n, e)
        }
    },
    t.prototype.fetchRemote = function (t, e) {
        var n = S(e, {
            cache: !0,
            jsonpCallback: null,
            jsonpCallbackFunction: void 0,
            timeout: 9e3
        });
        if (Hs) {
            var i = n.jsonpCallbackFunction;
            return wx.pro.request({
                url: t,
                dataType: "json"
            }).then(function (t) {
                if (t.data) {
                    var e = t.data.split(i + "(")[1].split(")")[0];
                    return JSON.parse(e)
                }
            })
        }
        return jA(t, n).then(function (t) {
            return t.json()
        })
    },
    t.prototype.getFetchStatus = function (t, e) {
        var n = {};
        switch (t) {
        case "success":
            n = {
                code: "000",
                msg: t
            };
            break;
        case "isPending":
            n = {
                code: "001",
                msg: t
            };
            break;
        case "fail":
            n = {
                code: "002",
                msg: e || t
            };
            break;
        default:
            n = {
                code: "000",
                msg: "success"
            }
        }
        return n.tip = "提示:请勿覆盖data下数据任意字段!!",
        n.dataId = this.dataId,
        n
    },
    t.prototype.init = function () {},
    t.prototype.update = function () {
        this.fetchPending();
        var t = this;
        this.dataPool._status.lazyInit ? setTimeout(function () {
            t.init()
        }) : this.init()
    },
    t.prototype.get = function (t) {
        return t ? this.option[t] : this.option
    },
    t.prototype.getAllActions = function () {
        return rs
    },
    t.prototype.fetchSuccess = function (t) {
        this._data = t;
        var e = this.dataPool;
        this.fetchStatus = this.getFetchStatus("success"),
        e.triggerAction(this, rs.update, {
            data: this._data,
            fetchStatus: this.fetchStatus
        })
    },
    t.prototype.fetchFail = function (t, e) {
        this._data = e;
        var n = this.dataPool,
        i = t.message || "error";
        this.fetchStatus = this.getFetchStatus("fail", i),
        n.triggerAction(this, rs.update, {
            data: this._data,
            fetchStatus: this.fetchStatus
        })
    },
    t.prototype.fetchPending = function () {
        var t = this.dataPool;
        this.fetchStatus = this.getFetchStatus("isPending"),
        t.triggerAction(this, rs.update, {
            data: void 0,
            fetchStatus: this.fetchStatus
        })
    },
    t.prototype.stopGetData = function () {
        this.keepingGetHandle && clearTimeout(this.keepingGetHandle)
    },
    t.prototype.getData = function () {
        return this._data
    },
    t
}
();
VA.type = "dataProvider",
VA.defaultOption = {
    code: "hs_300033",
    version: "v6",
    dType: "common",
    protocol: UA,
    isKeepingGet: !1,
    intervalTime: 6e4
};
var $A = Bi(VA),
XA = {
    time: function (t) {
        return t[1]
    },
    openP: function (t) {
        return t[7]
    },
    maxP: function (t) {
        return t[8]
    },
    minP: function (t) {
        return t[9]
    },
    curP: function (t) {
        return t[10]
    },
    closeP: function (t) {
        return t[11]
    },
    dealType: function (t) {
        return t[12]
    },
    vol: function (t) {
        return t[13]
    },
    volMoney: function (t) {
        return t[19]
    },
    curVol: function (t) {
        return t[49]
    },
    turnRate: function (t) {
        return t[1968584]
    },
    dealNum: function (t) {
        return t[625295]
    }
};
function ZA(t, e, n) {
    var i = [],
    r = "--";
    t.His && (r = (i = t.His.split(":"))[0] + ":" + i[1]);
    var o = XA.curP(t),
    a = XA.dealType(t),
    s = "";
    return s = a > 4 ? "buy" : 4 == a ? "eq" : "sell", {
        time: r,
        color: DA(o, e),
        price: o,
        dealTypeStr: s,
        curVol: LA(XA.curVol(t), n)
    }
}
var KA = {
    fiverangeArrange: function (t) {
        var e = t.remoteData,
        n = (t.code, t.stockType),
        i = e.items,
        r = {};
        for (var o in i)
             /  ^ (25 | 27 | 29 | 151 | 155 | 31 | 33 | 35 | 153 | 157)$ / .test(o) ? r[o] = LA(i[o], n.needConvertoShou) : (r[o] = "" == i[o] ? "" : EA(i[o], n.keepLen), r["color-" + o] = DA(i[o], i[6]));
        return r
    },
    exchangedetailArrange: function (t) {
        var e = t.remoteData,
        n = (t.code, t.stockType),
        i = {
            items: []
        };
        if (!e.items.length)
            return "";
        for (var r = 0; r < e.items.length; r++)
            i.items.push(ZA(e.items[r], e[6], n.needConvertoShou));
        return i
    },
    realheadArrange: function (t) {
        var e,
        n,
        i = t.remoteData,
        r = t.code,
        o = t.stockType,
        a = i.items,
        s = IA(o.msg, a),
        l = r.split("_")[1],
        u = o.keepLen,
        h = o.needConvertoShou,
        c = a[66] ? a[66] : "" === a[6] ? 0 : a[6];
        a[66] ? (e = a[10] ? a[10] - a[66] : void 0, n = a[10] ? e / a[66] * 100 : void 0) : (e = a[264648], n = a[199112]);
        var f = zA({
            o: a[7],
            a: a[8],
            i: a[9],
            c: a[10],
            h: a[1968584],
            n: a[13],
            np: a[19],
            yc: c,
            preRateP: e,
            preRate: n
        }, u, h);
        return {
            hqStatus: s && s.hqStatus,
            hqStatusDetail: s && s.hqStatusDetail,
            name: a.name,
            shortcode: l,
            keepLen: u,
            isStop: a.stop,
            openP: f.openP,
            openPStatus: f.openPStatus,
            maxP: f.maxP,
            maxPStatus: f.maxPStatus,
            minP: f.minP,
            minPStatus: f.minPStatus,
            curP: f.curP,
            curPStatus: f.curPStatus,
            yesterdayP: f.yesterdayP,
            n: f.n,
            np: f.np,
            turnRate: f.turnRate,
            rateP: f.rateP,
            rate: f.rate,
            staticSYL: a[134152],
            dynamicSYL: a[2034120],
            sjl: EA(a[592920], 2),
            totalM: LA(a[3541450]),
            stockM: LA(a[3475914]),
            zf: EA(a[526792], 2)
        }
    }
},
QA = function (t) {
    function e() {
        o(this, e);
        var n = u(this, t.apply(this, arguments));
        return n.keepingGetHandle,
        n
    }
    return s(e, t),
    e.prototype.init = function () {
        var t = this,
        e = t.get("code"),
        n = AA(e);
        this.stockType = n,
        t.getFromWeb(function (n) {
            var i = t.get("dType"),
            r = void 0;
            "function" == typeof KA[i + "Arrange"] && (r = KA[i + "Arrange"]({
                    remoteData: n,
                    code: e,
                    stockType: t.stockType
                })),
            t.fetchSuccess({
                remoteData: n,
                afterArrage: r,
                stockType: t.stockType
            }),
            t.get("isKeepingGet") && t.keepingGetData()
        })
    },
    e.prototype.getFromWeb = function (t) {
        var e = this,
        n = this.get("urlFormatter"),
        i = this.option.callbackName,
        r = n(a({}, this.option)),
        o = this.getHqCallbackNameAndUrl(r, i),
        s = o.url,
        l = o.callbackName;
        this.fetchRemote(s, {
            jsonpCallbackFunction: l
        }).then(function (e) {
            t(e)
        }).catch(function (t) {
            e.fetchFail(t)
        })
    },
    e.prototype.keepingGetData = function () {
        var t = this;
        this.keepingGetHandle = setTimeout(function e() {
            t.getFromWeb(function (e) {
                var n,
                i = t.get("dType");
                "function" == typeof KA[i + "Arrange"] && (n = KA[i + "Arrange"]({
                        remoteData: e,
                        code: t.get("code"),
                        stockType: t.stockType
                    })),
                t.fetchSuccess({
                    remoteData: e,
                    afterArrage: n,
                    stockType: t.stockType
                })
            }),
            t.keepingGetHandle = setTimeout(e, t.get("intervalTime"))
        }, t.get("intervalTime"))
    },
    e
}
($A);
QA.type = "othersHq",
QA.defaultOption = {
    code: "hs_300033",
    dType: "realhead",
    urlFormatter: function (t) {
        var e = t.version;
        return t.protocol + "//d.10jqka.com.cn/" + e + "/" + t.dType + "/" + t.code + "/last.js"
    },
    callbackName: null
},
YA(QA);
var JA = function (t) {
    function e() {
        o(this, e);
        var n = u(this, t.apply(this, arguments));
        return n.keepingGetHandle,
        n.dataError = !1,
        n
    }
    return s(e, t),
    e.prototype.arrangeData = function (t, e) {
        var n = this,
        i = {};
        return D(this.get("code").split(","), function (r) {
            i[r] = {};
            var o = !(!e || !e[r]),
            a = o ? e[r].dataArray : "",
            s = o ? e[r].preClosePrice : void 0,
            l = o && e[r],
            u = t[r],
            h = AA(r),
            c = u.dates;
            s || (s = u.pre);
            var f,
            d = c.length,
            p = u.data.split(";"),
            g = a ? a.slice(0) : [],
            v = [],
            y = void 0,
            m = o ? l.todayStart : "",
            x = function (t, e, n) {
                f || (f = e),
                "0000" == t[0] && (f = n);
                var i = parseFloat(t[1] ? t[1] : 0),
                r = parseFloat(t[3] ? t[3] : t[1]),
                o = (i - s) / s,
                a = (r - s) / s;
                return {
                    s: void 0,
                    t: f + " " + t[0],
                    nowp: i,
                    np: parseInt(t[2] ? t[2] : 0),
                    av: r,
                    n: parseInt(t[4] ? t[4] : 0),
                    nowpPct: o,
                    avPct: a
                }
            };
            if ((s || p[0].split(",")[2] && 0 != p[0].split(",")[2]) && p[0].split(",")[1] && 0 != p[0].split(",")[1]) {
                var _ = o ? l.max.nowp : -1 / 0,
                w = o ? l.min.nowp : 1 / 0,
                b = o ? l.max.av : -1 / 0,
                S = o ? l.min.av : 1 / 0,
                k = o ? l.max.n : -1 / 0,
                M = o ? l.min.n : 1 / 0;
                if (p.length && p[0]) {
                    for (var I = 0; I < p.length; I++) {
                        y = x(v = p[I].split(","), c[0], c[d - 1]);
                        var A = g[g.length - 1];
                        y.s = 0 == I ? y.nowp - s > 0 ? "ab" : y.nowp - s < 0 ? "be" : "eq" : y.nowp - A.nowp > 0 ? "ab" : y.nowp - A.nowp < 0 ? "be" : "eq",
                        _ = Math.max(y.nowp, _),
                        w = Math.min(y.nowp, w),
                        b = Math.max(y.av, b),
                        S = Math.min(y.av, S),
                        k = Math.max(y.n, k),
                        M = Math.min(y.n, M),
                        v[1] && g.length && g[g.length - 1].t && v[0] == m && g.pop(),
                        g.push(y)
                    }
                    x = null,
                    m = g[g.length - 1].t.split(" ")[1]
                }
            } else ;
            i[r] = {
                stockType: h,
                afterTradeTime: u.afterTradeTime,
                tradeTime: u.tradeTime,
                isTrading: u.isTrading,
                code: r,
                formatterDate: c,
                preClosePrice: s,
                totalTimeNum: u.dotsCount,
                name: u.name,
                max: {
                    nowp: _,
                    av: b,
                    n: k
                },
                min: {
                    nowp: w,
                    av: S,
                    n: M
                },
                stop: u.stop,
                open: u.open,
                todayStart: m,
                dataArray: g.length ? g : []
            },
            function (t) {
                return t.dataArray && t.dataArray.length && t.dataArray[0].nowp && t.preClosePrice
            }
            (i[r]) || (n.dataError = !0)
        }),
        i
    },
    e.prototype.init = function () {
        var t = this,
        e = this.get("urlFormatter")(a({}, this.option)),
        n = this.getHqCallbackNameAndUrl(e),
        i = n.url,
        r = n.callbackName;
        this.fetchRemote(i, {
            jsonpCallbackFunction: r
        }).then(function (e) {
            var n = t.arrangeData(e);
            return t.dataError ? (t.fetchFail({
                    message: "数据正常返回，内容异常"
                }, n), !1) : (t.fetchSuccess(n), t.checkNeedGetting() ? void(t.keepingGetHandle = setTimeout(function e() {
                        t.keepGettingData(),
                        t.keepingGetHandle = setTimeout(e, t.get("intervalTime"))
                    }, t.get("intervalTime"))) : (t.keepingGetHandle && clearTimeout(t.keepingGetHandle), !1))
        }).catch(function (e) {
            t.fetchFail(e)
        })
    },
    e.prototype.checkIsTradingTime = function (t) {
        var e = this.get("code").split(","),
        n = this.getData();
        try {
            B(e) && (e = e[0]);
            var i = n[e];
            return !!i && !(!i.isTrading || !i.open)
        } catch (t) {
            return !1
        }
    },
    e.prototype.checkNeedGetting = function () {
        if (this.dataError)
            return !1;
        var t = this.get("code").split(","),
        e = this.getData();
        B(t) && (t = t[0]);
        for (var n = e[t], i = this.get("isKeepingGet"), r = WA(n), o = void 0, a = void 0, s = void 0, l = void 0, u = !1, h = 0; h < n.tradeTime.length; h++)
            o = n.tradeTime[h].split("-")[0], (a = n.tradeTime[h].split("-")[1]) < o && (a = "2400", s = "0000", l = n.tradeTime[h].split("-")[1]), !s && r >= o && r < a ? u = i : s && (r >= o && r < a || r >= s && r < l) && (u = i);
        return u
    },
    e.prototype.keepGettingData = function () {
        var t = this,
        e = this.get("code").split(","),
        n = this.getData();
        B(e) && (e = e[0]);
        var i = n[e],
        r = this.get("keepGetUrlFormatter")(a({
                    todayStart: i.todayStart
                }, this.option)),
        o = this.getHqCallbackNameAndUrl(r),
        s = o.url,
        l = o.callbackName;
        this.fetchRemote(s, {
            jsonpCallbackFunction: l
        }).then(function (e) {
            var n = t.arrangeData(e, t.getData());
            t.fetchSuccess(n)
        }).catch(function (e) {
            t.fetchFail(e)
        })
    },
    e
}
($A);
JA.type = "fsToday",
JA.defaultOption = {
    code: "hs_300033",
    urlFormatter: function (t) {
        var e = t.version;
        return t.protocol + "//d.10jqka.com.cn/" + e + "/time/" + t.code + "/last.js"
    },
    keepGetUrlFormatter: function (t) {
        var e = t.version;
        return t.protocol + "//d.10jqka.com.cn/" + e + "/time/" + t.code + "/" + t.todayStart + ".js"
    }
};
var tT = function (t) {
    function e() {
        o(this, e);
        var n = u(this, t.apply(this, arguments));
        return n.keepingGetHandle,
        n.dataError = !1,
        n
    }
    return s(e, t),
    e.prototype.arrangeData = function (t) {
        var e = {},
        n = this.get("code");
        e[n] = {};
        var i,
        r = t[n],
        o = AA(n),
        a = r.dataArray[0],
        s = a.dates,
        l = s.length,
        u = a.pre,
        h = a.data.split(";"),
        c = [],
        f = [],
        d = void 0,
        p = "",
        g = (i = void 0, function (t, e, n) {
        i || (i = e),
        "0000" == t[0] && (i = n);
        var r = parseFloat(t[1] ? t[1] : 0),
        o = parseFloat(t[3] ? t[3] : t[1]),
        a = (r - u) / u,
        s = (o - u) / u;
        return {
            s: void 0,
            t: i + " " + t[0],
            nowp: r,
            np: parseInt(t[2] ? t[2] : 0),
            av: o,
            n: parseInt(t[4] ? t[4] : 0),
            nowpPct: a,
            avPct: s
        }
    }),
        v = -1 / 0,
        y = 1 / 0,
        m = -1 / 0,
        x = 1 / 0,
        _ = -1 / 0,
        w = 1 / 0;
        if ((u || h[0].split(",")[2] && 0 != h[0].split(",")[2]) && h[0].split(",")[1] && 0 != h[0].split(",")[1]) {
            if (h.length && h[0]) {
                for (var b = 0; b < h.length; b++) {
                    d = g(f = h[b].split(","), s[0], s[l - 1]);
                    var S = c[c.length - 1];
                    d.s = 0 == b ? d.nowp - u > 0 ? "ab" : d.nowp - u < 0 ? "be" : "eq" : d.nowp - S.nowp > 0 ? "ab" : d.nowp - S.nowp < 0 ? "be" : "eq",
                    v = Math.max(d.nowp, v),
                    y = Math.min(d.nowp, y),
                    m = Math.max(d.av, m),
                    x = Math.min(d.av, x),
                    _ = Math.max(d.n, _),
                    w = Math.min(d.n, w),
                    f[1] && c.length && c[c.length - 1].t && f[0] == p && c.pop(),
                    c.push(d)
                }
                g = null,
                p = c[c.length - 1].t.split(" ")[1]
            }
        } else
            this.fetchFail({
                message: "股票未上市"
            });
        return e[n] = {
            stockType: o,
            afterTradeTime: r.afterTradeTime,
            tradeTime: r.tradeTime,
            isTrading: r.isTrading || 0,
            code: n,
            formatterDate: s,
            preClosePrice: u,
            totalTimeNum: r.dotsCount,
            name: r.name,
            max: {
                nowp: v,
                av: m,
                n: _
            },
            min: {
                nowp: y,
                av: x,
                n: w
            },
            stop: r.stop || 0,
            open: r.open || 0,
            todayStart: p,
            dataArray: c.length ? c : []
        },
        function (t) {
            return t.dataArray && t.dataArray.length && t.dataArray[0].nowp && t.preClosePrice
        }
        (e[n]) || (this.dataError = !0),
        e
    },
    e.prototype.init = function () {
        var t = this,
        e = this.get("urlFormatter")(a({}, this.option)),
        n = this.getHqCallbackNameAndUrl(e),
        i = n.url,
        r = n.callbackName;
        this.fetchRemote(i, {
            jsonpCallbackFunction: r
        }).then(function (e) {
            var n = t.arrangeData(e);
            if (t.dataError)
                return t.fetchFail({
                    message: "数据正常返回，内容异常"
                }, n), !1;
            t.fetchSuccess(n)
        }).catch(function (e) {
            t.fetchFail(e)
        })
    },
    e
}
($A);
tT.type = "fsHistory",
tT.defaultOption = {
    code: "hs_300033",
    urlFormatter: function (t) {
        var e = t.version,
        n = t.protocol,
        i = t.code,
        r = t.dates;
        return n + "//d.10jqka.com.cn/" + e + "/time/" + i + ("/" + r[0] + "/" + r[0]) + "/fmt/history.js"
    }
};
var eT = function (t, e) {
    return {
        t: e + " " + t[0],
        mfsb: parseFloat(t[1] ? t[1] : 0),
        mfss: parseFloat(t[2] ? t[2] : 0),
        mfbb: parseFloat(t[3] ? t[3] : 0),
        mfbs: parseFloat(t[4] ? t[4] : 0),
        mflb: parseFloat(t[5] ? t[5] : 0),
        mfls: parseFloat(t[6] ? t[6] : 0),
        mfmb: parseFloat(t[7] ? t[7] : 0),
        mfms: parseFloat(t[8] ? t[8] : 0)
    }
},
nT = function (t) {
    function e() {
        o(this, e);
        var n = u(this, t.apply(this, arguments));
        return n.keepingGetHandle,
        n
    }
    return s(e, t),
    e.prototype.getToday = function (t) {
        var e = this,
        n = this.get("urlFormatter")(a({}, this.option)),
        i = this.getHqCallbackNameAndUrl(n),
        r = i.url,
        o = i.callbackName;
        this.fetchRemote(r, {
            jsonpCallbackFunction: o
        }).then(function (e) {
            t(e)
        }).catch(function (t) {
            e.fetchFail(t)
        })
    },
    e.prototype.keepGetting = function (t) {
        var e = this,
        n = this.get("code").split(","),
        i = this.getData();
        B(n) && (n = n[0]);
        var r = i[n],
        o = this.get("keepGetUrlFormatter")(a({
                    todayStart: r.todayStart
                }, this.option)),
        s = this.getHqCallbackNameAndUrl(o),
        l = s.url,
        u = s.callbackName;
        this.fetchRemote(l, {
            jsonpCallbackFunction: u
        }).then(function (e) {
            t(e)
        }).catch(function (t) {
            e.fetchFail(t)
        })
    },
    e.prototype.arrangeData = function (t, e) {
        var n = {};
        return D(this.get("code").split(","), function (i, r) {
            n[i] = {};
            for (var o = !(!e || !e[i]), a = o ? e[i].dataArray : "", s = o && e[i], l = t[i], u = l.data.split(";"), h = a ? a.slice(0) : [], c = [], f = o ? s.todayStart : "", d = 0; d < u.length; d++)
                (c = u[d].split(","))[1] && h.length && c[0] == f ? (h.pop(), h.push(eT(c, l.date))) : h.push(eT(c, l.date));
            f = h[h.length - 1].t.split(" ")[1],
            n[i] = {
                tradeTime: l.rt.split(","),
                code: i,
                totalTimeNum: l.dotsCount || 241,
                name: l.name,
                stop: 0,
                open: l.open,
                todayStart: f,
                dataArray: h.length ? h : []
            }
        }),
        n
    },
    e.prototype.checkNeedGetting = function () {
        var t = this.get("code").split(","),
        e = this.getData();
        B(t) && (t = t[0]);
        for (var n = e[t], i = this.get("isKeepingGet"), r = WA(n), o = void 0, a = void 0, s = !1, l = 0; l < n.tradeTime.length; l++)
            o = n.tradeTime[l].split("-")[0], a = n.tradeTime[l].split("-")[1], r >= o && r < a && (s = i);
        return s
    },
    e.prototype.init = function () {
        var t = this;
        this.getToday(function (e) {
            if (t.fetchSuccess(t.arrangeData(e)), !t.checkNeedGetting())
                return t.keepingGetHandle && clearTimeout(t.keepingGetHandle), !1;
            t.keepingGetHandle = setTimeout(function e() {
                t.keepGetting(function (e) {
                    t.fetchSuccess(t.arrangeData(e, t.getData()))
                }),
                t.keepingGetHandle = setTimeout(e, t.get("intervalTime"))
            }, t.get("intervalTime"))
        })
    },
    e
}
($A);
function iT(t) {
    return t = String(t),
    new Date(t.slice(0, 4), t.slice(4, 6) - 1, t.slice(6, 8))
}
function rT(t) {
    return (t = parseInt(t)) % 3 == 0 ? t / 3 : Math.ceil(t / 3)
}
nT.type = "fsMoneyFlow",
nT.defaultOption = {
    code: "hs_300033",
    urlFormatter: function (t) {
        var e = t.version;
        return t.protocol + "//d.10jqka.com.cn/" + e + "/moneyflow/" + t.code + "/last.js"
    },
    keepGetUrlFormatter: function (t) {
        var e = t.version;
        return t.protocol + "//d.10jqka.com.cn/" + e + "/moneyflow/" + t.code + "/" + t.todayStart + ".js"
    }
},
YA(JA),
YA(tT),
YA(nT);
var oT = function (t) {
    function e() {
        o(this, e);
        var n = u(this, t.apply(this, arguments));
        return n.option = S(n.option, e.defaultOption),
        n.keepingGetHandle,
        n
    }
    return s(e, t),
    e.prototype.arrangeHistory = function (t) {
        return t
    },
    e.prototype.arrangeCurrent = function (t) {
        var e,
        n = t[this.get("code")];
        return {
            current: {
                open: n.open,
                dt: n.dt
            },
            dataArray: n[11] ? [(e = n, {
                    t: e[1],
                    o: parseFloat(e[7]),
                    a: parseFloat(e[8]),
                    i: parseFloat(e[9]),
                    c: parseFloat(e[11]),
                    n: parseFloat(e[13]),
                    np: parseFloat(e[19]),
                    an: parseFloat(e[74]),
                    h: parseFloat(e[1968584]),
                    yj: parseFloat(e[66]),
                    yc: "",
                    s: ""
                })] : []
        }
    },
    e.prototype.checkNeedGetting = function (t) {
        var e = this.getData(),
        n = (this.get("code"), this.get("isKeepingGet"));
        try {
            return n && e.current.current.open
        } catch (t) {
            return !1
        }
    },
    e.prototype.mergeHistoryWithCurrent = function (t, e, n) {
        var i = this.getDType().time,
        r = t.slice(0);
        if (r.length || (r[0] = {
                    t: e[0].t
                }), function (t, e, n) {
            if ("day" === n)
                return t === e;
            if ("week" === n) {
                var i = iT(Math.min(t, e)),
                r = iT(Math.max(t, e));
                return i.getDay() + (r.getTime() - i.getTime()) / 864e5 <= 6
            }
            return "month" === n ? t.slice(4, 6) === e.slice(4, 6) : "season" === n ? t.slice(0, 4) == e.slice(0, 4) && rT(t.slice(4, 6)) === rT(e.slice(4, 6)) : t === e
        }
            (e[0].t, r[r.length - 1].t, i))
            r.pop();
        var o = e.slice(0);
        if (r.length) {
            var a = r[r.length - 1];
            o[0].yc = a.c,
            o[0].s = OA(o[0], a)
        } else
            o[0].yc = n || o[0].o, o[0].s = OA(o[0]);
        return function (t, e) {
            var n = t.length,
            i = n;
            if (n >= e.length) {
                for (var r = 0, o = e.length; r < o; r++)
                    t.push(e[r]);
                return t
            }
            for (; --i >= 0; )
                e.unshift(t[i]);
            return e
        }
        (r, e.slice(0))
    },
    e.prototype.calculateMaOnEndData = function (t) {
        var e = t.length,
        n = this.get("ma"),
        i = n.length,
        r = "",
        o = void 0,
        a = 0,
        s = 0,
        l = void 0,
        u = 0,
        h = 0;
        function c(e, c) {
            for (u = 0; u < i; u++) {
                for (o = n[u], r = "ma" + n[u], a = 0, s = 0, "nMa" + n[u], 0, 0, e + 1 < o && (o = e + 1), h = 0; h < o; h++)
                    l = t[e - h], s += l.c, l.n;
                a = s / o,
                c[r] = a
            }
            return c
        }
        for (var f = "ma" + n[0], d = e - 1; d >= 0 && !(f in t[d]); d--)
            c(d, t[d]);
        return t
    },
    e.prototype.calculateMa = function (t) {
        var e = t.length,
        n = this.get("ma"),
        i = n.length,
        r = "",
        o = void 0,
        a = 0,
        s = 0,
        l = void 0,
        u = 0,
        h = 0;
        function c(e, c) {
            for (u = 0; u < i; u++) {
                if (o = n[u], r = "ma" + n[u], a = 0, s = 0, "nMa" + n[u], 0, 0, e + 1 < o) {
                    o = e + 1,
                    c[r] = NaN;
                    for (var f = i - 1; f > u; f--)
                        c["ma" + n[f]] = NaN;
                    break
                }
                for (h = 0; h < o; h++)
                    l = t[e - h], s += l.c, l.n;
                a = s / o,
                c[r] = a
            }
            return c
        }
        var f = Math.floor(e / 8),
        d = e % 8,
        p = 0;
        if (e >= 8) {
            if (d > 0)
                do {
                    c(p, t[p++])
                } while (--d > 0);
            do {
                c(p, t[p++]),
                c(p, t[p++]),
                c(p, t[p++]),
                c(p, t[p++]),
                c(p, t[p++]),
                c(p, t[p++]),
                c(p, t[p++]),
                c(p, t[p++])
            } while (--f > 0)
        } else
            do {
                c(p, t[p++])
            } while (--d > 0);
        return t
    },
    e.prototype.isSettingMa = function () {
        return this.get("ma") && this.get("ma").length
    },
    e.prototype.getDType = function () {
        var t = this.get("dType");
        return {
            fuquan: t.substr(0, 3).toLowerCase(),
            time: t.slice(3).toLowerCase()
        }
    },
    e.prototype.init = function () {
        var t = this,
        e = this.get("urlFormatter")(a({
                    typecode: HA(this.getDType())
                }, this.option)),
        n = this.getHqCallbackNameAndUrl(e),
        i = n.url,
        r = n.callbackName;
        if (this.get("keepGetUrlFormatter")) {
            var o = this.get("keepGetUrlFormatter")(a({
                        typecode: HA(this.getDType())
                    }, this.option)),
            s = this.getHqCallbackNameAndUrl(o),
            l = s.url,
            u = s.callbackName;
            Promise.all([this.fetchRemote(i, {
                        jsonpCallbackFunction: r
                    }), this.fetchRemote(l, {
                        jsonpCallbackFunction: u
                    })]).then(function (e) {
                var n = t.arrangeHistory(e[0]),
                i = t.arrangeCurrent(e[1]),
                r = n;
                r.current = i;
                var o = [];
                (n.dataArray.length || i.dataArray.length) && (o = t.mergeHistoryWithCurrent(n.dataArray, i.dataArray, n.issuePrice)),
                o.length && t.isSettingMa() && (o = t.calculateMa(o)),
                r.dataArray = o,
                t.fetchSuccess(r)
            }).catch(function (e) {
                t.fetchFail(e)
            })
        } else
            this.fetchRemote(i, {
                jsonpCallbackFunction: r
            }).then(function (e) {
                var n = t.arrangeHistory(e);
                n.dataArray.length && t.isSettingMa() && (n.dataArray = t.calculateMa(n.dataArray)),
                t.fetchSuccess(n)
            }).catch(function (e) {
                t.fetchFail(e)
            })
    },
    e
}
($A);
oT.type = "klineBase",
oT.defaultOption = {
    code: "hs_300033",
    dType: "qfqDay",
    ma: [5, 10, 30, 60],
    urlFormatter: function (t) {
        var e = t.version;
        let mm = t.protocol + "//d.10jqka.com.cn/" + e + "/line/" + t.code + "/" + t.typecode + "/all.js";
		return mm;
    },
    keepGetUrlFormatter: function (t) {
        var e = t.version;
        let mm = t.protocol + "//d.10jqka.com.cn/" + e + "/line/" + t.code + "/" + t.typecode + "/today.js";
		return mm;
    },
    isKeepingGet: !1,
    intervalTime: 6e4
};
var aT = function (t) {
    function e() {
        return o(this, e),
        u(this, t.apply(this, arguments))
    }
    return s(e, t),
    e.prototype.arrangeHistory = function (t) {
        var e = AA(this.get("code")),
        n = t.sortYear,
        i = t.priceFactor,
        r = t.issuePrice,
        o = t.name,
        a = t.total,
        s = t.start,
        l = t.volumn.split(","),
        u = t.price.split(","),
        h = t.dates.split(","),
        c = t.afterVolumn.split(","),
        f = h.length,
        d = {
            stockType: e,
            sortYear: n,
            priceFactor: i,
            issuePrice: r,
            name: o,
            totalKlineNum: a,
            firstDate: s,
            isGetTotalFirstData: !0,
            dataArray: []
        };
        if (0 == a)
            return d;
        for (var p = [], g = ["i", "o", "a", "c"], v = 0, y = "", m = 0, x = [], _ = 0; _ < n.length; _++)
            x.push([n[_][0], m]), m += n[_][1];
        x.push(["", 1 / 0]);
        for (var w = 0; w < f; w++) {
            p[w] = {},
            0 === w ? (y = x[v][0], p[w].t = y + h[w]) : w < x[v + 1][1] ? p[w].t = y + h[w] : w >= x[v + 1][1] && (y = x[++v][0], p[w].t = y + h[w]),
            p[w].n = parseInt(l[w]);
            for (var b = 0; b < 4; b++)
                p[w].i || 0 == p[w].i ? p[w][g[b]] = u[4 * w + b] / i + p[w].i : p[w][g[b]] = u[4 * w + b] / i;
            p[w].s = OA(p[w], p[w - 1]),
            p[w].yc = 0 === w ? p[w].o : p[w - 1].c,
            p[w].yj = c[w]
        }
        return p[0].yc = parseFloat(d.issuePrice),
        d.dataArray = p,
        d
    },
    e
}
(oT);
aT.type = "klineCommon",
aT.defaultOption = {
    urlFormatter: function (t) {
        var e = t.version;
        return t.protocol + "//d.10jqka.com.cn/" + e + "/line/" + t.code + "/" + t.typecode + "/all.js"
    }
};
var sT = function (t) {
    function e() {
        return o(this, e),
        u(this, t.apply(this, arguments))
    }
    return s(e, t),
    e.prototype.arrangeHistory = function (t) {
        var e = this.get("forceHistory"),
        n = AA(this.get("code")),
        i = [],
        r = t.total,
        o = t.start,
        a = t.issuePrice,
        s = t.name,
        l = t.today,
        u = {
            stockType: n,
            totalKlineNum: r,
            firstDate: o,
            issuePrice: a,
            name: s,
            dataArray: []
        },
        h = !1;
        if (0 == r || !t.data)
            return u;
        for (var c = t.data.split(";"), f = 0; f < c.length; f++) {
            var d = c[f].split(",");
            if (e && l && l == d[0])
                break;
            i.push({
                t: d[0],
                o: parseFloat(d[1]),
                a: parseFloat(d[2]),
                i: parseFloat(d[3]),
                c: parseFloat(d[4]),
                n: parseFloat(d[5]),
                np: parseFloat(d[6]),
                h: parseFloat(d[7]),
                s: void 0,
                yc: void 0,
                yj: void 0 !== d[8] && "" !== d[8] ? parseFloat(d[8]) : void 0,
                an: parseFloat(d[9]),
                anp: parseFloat(d[10])
            }),
            i[f].s = OA(i[f], i[f - 1]),
            0 === f ? (i[f].yc = i[f].o, h = o == i[f].t) : i[f].yc = i[f - 1].c
        }
        return h && (i[0].yc = parseFloat(a)),
        u.isGetTotalFirstData = h,
        u.dataArray = i,
        u
    },
    e
}
(oT);
sT.type = "klineLast",
sT.defaultOption = {
    urlFormatter: function (t) {
        var e = t.version,
        n = t.protocol,
        i = t.code,
        o = t.typecode,
        a = t.lastDays,
        s = t.sliceDays;
        return n + "//d.10jqka.com.cn/" + e + "/line/" + i + "/" + o + "/" + ("object" === (void 0 === s ? "undefined" : r(s)) ? s.join("_") + "last" : "number" == typeof s ? "last" + Math.abs(s) : "last" + (a || "")) + ".js"
    },
    lastDays: void 0,
    sliceDays: void 0,
    forceHistory: !0
},
YA(aT),
YA(sT);
var lT = function () {
    this.maxCallbackNum = 50,
    this.maxCallbackAlert = !0,
    this.eventTopics = {},
    this.eventSubUid = 0
};
lT.prototype.trigger = function (t, e) {
    if (/^\./.test(t) || !this.hasTopic(t))
        return !1;
    var n = this._getTopicName(t),
    i = n.topic,
    r = n.namespace,
    o = this;
    return setTimeout(function () {
        for (var t = o.eventTopics[i], n = t ? t.length : 0; n--; )
            r && t[n].namespace != r || t[n].func(e)
    }, 0),
    !0
},
lT.prototype._getTopicName = function (t) {
    return {
        topic: t.split(".")[0],
        namespace: t.split(".")[1]
    }
},
lT.prototype.hasTopic = function (t) {
    var e = this._getTopicName(t),
    n = e.topic,
    i = e.namespace;
    if (!this.eventTopics[n])
        return !1;
    if (i) {
        for (var r = !1, o = this.eventTopics[n], a = o ? o.length : 0; a--; )
            o[a].namespace == i && (r = !0);
        return r
    }
    return !0
},
lT.prototype.getTopicsByNamespace = function (t) {
    var e = [];
    return this.eachTopics(function (n, i) {
        for (var r = 0; r < n.length; r++)
            n[r].namespace === t && e.push(i)
    }),
    e
},
lT.prototype.eachTopics = function (t, e) {
    var n = this.eventTopics;
    for (var i in n)
        n.hasOwnProperty(i) && t.call(e, n[i], i, n)
},
lT.prototype.getTotalCallbackNum = function () {
    var t = 0;
    if (this.eachTopics(function (e, n) {
            for (var i = 0; i < e.length; i++)
                t++
        }), this.maxCallbackAlert && t > this.maxCallbackNum)
        throw new Error("当前监听的回调函数达到上限" + this.maxCallbackNum + "个, 请检查代码,在绑定同名事件前先解绑之前的监听:释放资源");
    return t
},
lT.prototype.on = function (t, e) {
    var n = this._getTopicName(t),
    i = n.topic,
    r = n.namespace;
    this.eventTopics[i] || (this.eventTopics[i] = []);
    var o = ++this.eventSubUid;
    return this.eventTopics[i].push({
        token: o,
        namespace: r,
        func: e
    }),
    o
},
lT.prototype._arrangeTopicAndPos = function (t) {
    var e = this.eventTopics[t];
    if (!e || e.length < 1)
        delete this.eventTopics[t];
    else {
        for (var n = [], i = 0; i < e.length; i++)
            void 0 !== e[i] && n.push(e[i]);
        n.length < 1 ? delete this.eventTopics[t] : this.eventTopics[t] = n
    }
},
lT.prototype._clearEventByTopicAndPos = function (t, e) {
    this.eventTopics[t].splice(e, 1, void 0)
},
lT.prototype._offByTopicName = function (t) {
    var e,
    n;
    if (/^\./.test(t)) {
        var i = !1;
        e = this._getTopicName(t),
        n = e.namespace;
        var r = [],
        o = [];
        this.eachTopics(function (t, e) {
            for (var a = !1, s = 0; s < t.length; s++)
                t[s].namespace === n && (i = !0, a = !0, r.push({
                        topic: e,
                        pos: s
                    }));
            a && o.push(e)
        });
        for (var a = 0; a < r.length; a++)
            this._clearEventByTopicAndPos(r[a].topic, r[a].pos);
        for (a = 0; a < o.length; a++)
            this._arrangeTopicAndPos(o[a]);
        return i
    }
    if (!this.hasTopic(t))
        return !1;
    e = this._getTopicName(t),
    n = e.namespace;
    var s = e.topic;
    for (a = 0; a < this.eventTopics[s].length; a++)
        n && this.eventTopics[s][a].namespace !== n || this._clearEventByTopicAndPos(s, a);
    return this._arrangeTopicAndPos(s),
    s
},
lT.prototype.off = function (t) {
    if (!t && 0 != t)
        return !1;
    var e = "string" == typeof t,
    n = !e && ("string" == typeof t || "number" == typeof t);
    if (e)
        return this._offByTopicName(t);
    if (n) {
        var i = !1;
        return this.eachTopics(function (e, n) {
            for (var r = 0; r < e.length; r++)
                e[r].token === t && (i = n, this._clearEventByTopicAndPos(n, r))
        }, this),
        i && this._arrangeTopicAndPos(i),
        i
    }
    return !1
};
var uT = function (t) {
    function e() {
        var n = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
        o(this, e),
        Ks(n);
        var i = u(this, t.call(this));
        return i._maps = {},
        i.setStatus(),
        i
    }
    return s(e, t),
    e.prototype.register = function (t) {
        Vs(t, void 0, void 0, !0);
        var e = t.type,
        n = l(t, ["type"]),
        i = this.convertOptionToDataId(t);
        if (this._maps[i])
            return this._maps[i];
        var r = new($A.getClass(e))(n, this);
        return this._maps[r.dataId] = r,
        r.update(),
        r
    },
    e.prototype.convertOptionToDataId = function (t) {
        var e = t.type,
        n = l(t, ["type"]);
        if ($A.hasClass(e))
            return qA(S(n, $A.getClass(e).defaultOption), e)
    },
    e.prototype.getDataProvider = function (t) {
        if ("string" == typeof t)
            return this._maps[t];
        var e = this.convertOptionToDataId(t);
        return this._maps[e]
    },
    e.prototype.fomatTopicName = function (t, e) {
        var n = arguments.length > 2 && void 0 !== arguments[2] && arguments[2],
        i = n ? "." + n : "";
        return t.dataId + "__hxc3__" + e + i
    },
    e.prototype.getDataInMap = function () {
        var t = [];
        return D(this._maps, function (e, n) {
            var i = e.fetchStatus,
            r = e._data;
            t.push({
                fetchStatus: i,
                data: r
            })
        }),
        t
    },
    e.prototype.triggerAction = function (t, e, n) {
        this.trigger(t.dataId + "__hxc3__" + e, n),
        this.trigger(os.update, this.getDataInMap())
    },
    e.prototype.onAction = function (t, e, n) {
        var i = t.dataId,
        r = e.split(".")[0],
        o = e.split(".")[1],
        a = this.fomatTopicName(t, r, o);
        if (this._maps[i]) {
            var s = this._maps[i];
            return n({
                data: s._data,
                fetchStatus: s.fetchStatus
            }),
            this.on(a, n)
        }
    },
    e.prototype.offAction = function (t, e) {
        var n = void 0;
        if ("string" == typeof t)
            return n = t, this.off(n);
        var i = e.split(".")[0],
        r = e.split(".")[1];
        n = this.fomatTopicName(t, i, r);
        var o = t.dataId;
        return !!this._maps[o] && this.off(n)
    },
    e.prototype.removeProvider = function (t) {
        var e = void 0;
        if ("string" == typeof t) {
            e = t;
            var n = this.getTopicsByNamespace(e.replace(".", ""));
            this.offAction(e),
            D(n, function (t, e) {
                this._maps[t.split("__hxc3__")[0]].stopGetData(),
                delete this._maps[t.split("__hxc3__")[0]]
            }, this)
        }
    },
    e.prototype.getFilterUrl = function (t) {
        return this._status.enableFilterUrl ? this._status.filterUrl(t) : t
    },
    e.prototype.setStatus = function (t) {
        t = t || {};
        this._status = S(t, this._status || {
            lazyInit: !0,
            enableFilterUrl: !1,
            filterUrl: function (t) {
                var e = t;
                return t.replace(/\/(line|real|multimarketreal|time|realhead|rank)\//, function (n, i) {
                    switch (i) {
                    case "line":
                        /today/.test(t) && (e = t.replace(/(.+)(\/)/, function (t, e) {
                                return e + "/defer/"
                            }));
                        break;
                    case "time":
                    case "realhead":
                    case "rank":
                        e = t.replace(/(.+)(\/)/, function (t, e) {
                            return e + "/defer/"
                        });
                        break;
                    case "real":
                    case "multimarketreal":
                        e = t.replace(/(.+)(\/)/, function (t, e) {
                            return e + "/defer/"
                        })
                    }
                    return i
                }),
                e
            }
        })
    },
    e.prototype.getStatus = function () {
        return this._status
    },
    e
}
(lT);
uT.msg = "D3Charts";
var hT,
cT,
fT = function (t) {
    return hT || (hT = new uT(t)),
    hT
},
dT = function (t) {
    return cT || (cT = window && window.hxc3 && "function" == typeof window.hxc3.getDataPool ? hxc3.getDataPool() : new fT(t)),
    cT
};
t.scales = ww,
t.d3Time = ef,
t.hqHelper = FA,
t.getDataPool = dT,
t.BaseDataProvider = $A,
t.registerDataProvider = YA,
t.setCanvasCreator = function (t) {
    w("createCanvas", t)
},
t.VERSION = Gs,
t.init = function (t, e) {
    var n = new ll(t, void 0, e);
    return il[n.id] = n,
    n
},
t.track = function (t) {
    Us = t
},
t.event = ol,
t.initMap = function (t) {
    var e = document.createElement("div");
    return e.id = t,
    e.width = "100%",
    e.height = "600px",
    e
},
t.registerModel = hl,
t.registerView = cl,
t.registerComponent = dl,
t.registerIndicator = fl,
t.zrender = Ri,
t.util = Ra,
t.graphic = za,
t.colorTool = xe,
t.symbol = Ds,
t.ChartView = cs,
t.ComponentView = fs,
t.Indicator = Ws,
t.ChartModel = _s,
t.ComponentModel = ms,
t.action = as,
t.instances = il,
Object.defineProperty(t, "__esModule", {
    value: !0
})
});
//# sourceMappingURL=d3_charts.js.map
/*!
 * hxc3 version: 1.2.1
 * last modified: 2018-10-11 15:24:31
 */
!function (t, e) {
    if ("object" == typeof exports && "object" == typeof module)
        module.exports = e();
    else if ("function" == typeof define && define.amd)
        define([], e);
    else {
        var n = e();
        for (var r in n)
            ("object" == typeof exports ? exports : t)[r] = n[r]
    }
}
("undefined" != typeof self ? self : this, function () {
    return function (t) {
        function e(r) {
            if (n[r])
                return n[r].exports;
            var i = n[r] = {
                i: r,
                l: !1,
                exports: {}
            };
            return t[r].call(i.exports, i, i.exports, e),
            i.l = !0,
            i.exports
        }
        var n = {};
        return e.m = t,
        e.c = n,
        e.d = function (t, n, r) {
            e.o(t, n) || Object.defineProperty(t, n, {
                configurable: !1,
                enumerable: !0,
                get: r
            })
        },
        e.n = function (t) {
            var n = t && t.__esModule ? function () {
                return t["default"]
            }
             : function () {
                return t
            };
            return e.d(n, "a", n),
            n
        },
        e.o = function (t, e) {
            return Object.prototype.hasOwnProperty.call(t, e)
        },
        e.p = "",
        e(e.s = 0)
    }
    ([/*!****************************************!*\
            !*** multi ./dist/require/hxc3.min.js ***!
            \****************************************/
            /*! dynamic exports provided */
            /*! all exports used */
            function (t, e, n) {
                t.exports = n(/*! ./dist/require/hxc3.min.js */ 1)
            }, /*!**********************************!*\
            !*** ./dist/require/hxc3.min.js ***!
            \**********************************/
            /*! dynamic exports provided */
            /*! all exports used */
            function (t, e) {
                /**
                 * @license almond 0.3.1 Copyright (c) 2011-2014, The Dojo Foundation All Rights Reserved.
                 * Available via the MIT or new BSD license.
                 * see: http://github.com/jrburke/almond for details
                 */
                !function () {
                    var e,
                    n,
                    r;
                    (function (t) {
                        function i(t, e) {
                            return w.call(t, e)
                        }
                        function o(t, e) {
                            var n,
                            r,
                            i,
                            o,
                            a,
                            s,
                            l,
                            c,
                            u,
                            h,
                            d,
                            f = e && e.split("/"),
                            p = y.map,
                            g = p && p["*"] || {};
                            if (t && "." === t.charAt(0))
                                if (e) {
                                    for (t = t.split("/"), a = t.length - 1, y.nodeIdCompat && S.test(t[a]) && (t[a] = t[a].replace(S, "")), t = f.slice(0, f.length - 1).concat(t), u = 0; u < t.length; u += 1)
                                        if ("." === (d = t[u]))
                                            t.splice(u, 1), u -= 1;
                                        else if (".." === d) {
                                            if (1 === u && (".." === t[2] || ".." === t[0]))
                                                break;
                                            u > 0 && (t.splice(u - 1, 2), u -= 2)
                                        }
                                    t = t.join("/")
                                } else
                                    0 === t.indexOf("./") && (t = t.substring(2));
                            if ((f || g) && p) {
                                for (n = t.split("/"), u = n.length; u > 0; u -= 1) {
                                    if (r = n.slice(0, u).join("/"), f)
                                        for (h = f.length; h > 0; h -= 1)
                                            if ((i = p[f.slice(0, h).join("/")]) && (i = i[r])) {
                                                o = i,
                                                s = u;
                                                break
                                            }
                                    if (o)
                                        break;
                                    !l && g && g[r] && (l = g[r], c = u)
                                }
                                !o && l && (o = l, s = c),
                                o && (n.splice(0, s, o), t = n.join("/"))
                            }
                            return t
                        }
                        function a(e, n) {
                            return function () {
                                var r = b.call(arguments, 0);
                                return "string" != typeof r[0] && 1 === r.length && r.push(null),
                                f.apply(t, r.concat([e, n]))
                            }
                        }
                        function s(t) {
                            return function (e) {
                                return o(e, t)
                            }
                        }
                        function l(t) {
                            return function (e) {
                                v[t] = e
                            }
                        }
                        function c(e) {
                            if (i(m, e)) {
                                var n = m[e];
                                delete m[e],
                                x[e] = !0,
                                d.apply(t, n)
                            }
                            if (!i(v, e) && !i(x, e))
                                throw new Error("No " + e);
                            return v[e]
                        }
                        function u(t) {
                            var e,
                            n = t ? t.indexOf("!") : -1;
                            return n > -1 && (e = t.substring(0, n), t = t.substring(n + 1, t.length)),
                            [e, t]
                        }
                        function h(t) {
                            return function () {
                                return y && y.config && y.config[t] || {}
                            }
                        }
                        var d,
                        f,
                        p,
                        g,
                        v = {},
                        m = {},
                        y = {},
                        x = {},
                        w = Object.prototype.hasOwnProperty,
                        b = [].slice,
                        S = /\.js$/;
                        p = function (t, e) {
                            var n,
                            r = u(t),
                            i = r[0];
                            return t = r[1],
                            i && (i = o(i, e), n = c(i)),
                            i ? t = n && n.normalize ? n.normalize(t, s(e)) : o(t, e) : (t = o(t, e), r = u(t), i = r[0], t = r[1], i && (n = c(i))), {
                                f: i ? i + "!" + t : t,
                                n: t,
                                pr: i,
                                p: n
                            }
                        },
                        g = {
                            require: function (t) {
                                return a(t)
                            },
                            exports: function (t) {
                                var e = v[t];
                                return void 0 !== e ? e : v[t] = {}
                            },
                            module: function (t) {
                                return {
                                    id: t,
                                    uri: "",
                                    exports: v[t],
                                    config: h(t)
                                }
                            }
                        },
                        d = function (e, n, r, o) {
                            var s,
                            u,
                            h,
                            d,
                            f,
                            y,
                            w = [],
                            b = typeof r;
                            if (o = o || e, "undefined" === b || "function" === b) {
                                for (n = !n.length && r.length ? ["require", "exports", "module"] : n, f = 0; f < n.length; f += 1)
                                    if (d = p(n[f], o), "require" === (u = d.f))
                                        w[f] = g.require(e);
                                    else if ("exports" === u)
                                        w[f] = g.exports(e), y = !0;
                                    else if ("module" === u)
                                        s = w[f] = g.module(e);
                                    else if (i(v, u) || i(m, u) || i(x, u))
                                        w[f] = c(u);
                                    else {
                                        if (!d.p)
                                            throw new Error(e + " missing " + u);
                                        d.p.load(d.n, a(o, !0), l(u), {}),
                                        w[f] = v[u]
                                    }
                                h = r ? r.apply(v[e], w) : void 0,
                                e && (s && s.exports !== t && s.exports !== v[e] ? v[e] = s.exports : h === t && y || (v[e] = h))
                            } else
                                e && (v[e] = r)
                        },
                        e = n = f = function (e, n, r, i, o) {
                            if ("string" == typeof e)
                                return g[e] ? g[e](n) : c(p(e, n).f);
                            if (!e.splice) {
                                if (y = e, y.deps && f(y.deps, y.callback), !n)
                                    return;
                                n.splice ? (e = n, n = r, r = null) : e = t
                            }
                            return n = n || function () {},
                            "function" == typeof r && (r = i, i = o),
                            i ? d(t, e, n, r) : setTimeout(function () {
                                d(t, e, n, r)
                            }, 4),
                            f
                        },
                        f.config = function (t) {
                            return f(t)
                        },
                        e._defined = v,
                        r = function (t, e, n) {
                            if ("string" != typeof t)
                                throw new Error("See almond README: incorrect module build, no module name");
                            e.splice || (n = e, e = []),
                            !i(v, t) && !i(m, t) && (m[t] = [t, e, n])
                        },
                        r.amd = {
                            jQuery: !0
                        }
                    })(),
                    r("../almond", function () {}),
                    r("log", [], function () {
                        var t = function () {
                            this.id = 0,
                            this.ld = this.getLd();
                            try {
                                "undefined" != typeof external && void 0 !== external.createObject && (this.ld = "client")
                            } catch (t) {}
                            var t = "https:" == document.location.protocol ? "https:" : "http:";
                            this._top = !0,
                            this.size = screen.width + "x" + screen.height,
                            this._base = t + "//stat.10jqka.com.cn/q?",
                            this._sid = "__ths_stat__"
                        };
                        return t.prototype.getLd = function () {
                            var t = navigator.userAgent.toLowerCase();
                            return -1 != t.indexOf("android") ? "mobile" : -1 != t.indexOf("iphone") ? "mobile" : -1 != t.indexOf("ipad") ? "mobile" : "browser"
                        },
                        t.prototype._navigate = function (t) {
                            var e = document.getElementById(this._sid);
                            e || (e = document.createElement("img"), e.id = this._sid, e.height = 0, e.width = 0, e.setAttribute("style", "display:none"), (document.body || document.head).appendChild(e)),
                            e.src = t
                        },
                        t.prototype.add = function (t, e) {
                            if (t && e)
                                this.id = t, this.ld = e;
                            else if (t instanceof Object)
                                for (var n in t)
                                    this[n] = t[n];
                            else
                                t && (this.id = t)
                        },
                        t.prototype._setLocation = function () {
                            if (this._top && top)
                                try {
                                    this.ref || (this.ref = top.document.referrer),
                                    this.url || (this.url = top.location.href)
                                } catch (t) {}
                            this.ref || (this.ref = document.referrer ? document.referrer : null),
                            this.url || (this.url = window.location.href),
                            document.body && (this.cs = document.body.clientWidth + "x" + document.body.clientHeight),
                            this.ts = (new Date).getTime()
                        },
                        t.prototype._getUrl = function () {
                            this._setLocation();
                            var t = [];
                            for (var e in this)
                                e && "_" != e.charAt(0) && this[e] && "function" != typeof this[e] && (t.length && t.push("&"), t = t.concat([encodeURIComponent(e), "=", encodeURIComponent(this[e])]));
                            return this._base + t.join("")
                        },
                        t.prototype.log = function () {
                            this._navigate(this._getUrl())
                        },
                        function () {
                            var e = new t;
                            e.add.apply(e, arguments),
                            e.log()
                        }
                    }),
                    r("enableClassManagement", [], function () {
                        function t(t) {
                            var e = {};
                            return t.registerClass = function (t, n) {
                                return e[n] = t,
                                t
                            },
                            t.removeClass = function () {},
                            t.hasClass = function (t) {
                                return !!e[t]
                            },
                            t.getClass = function (t) {
                                return e[t]
                            },
                            t.getAllClass = function () {
                                return e
                            },
                            t
                        }
                        return t
                    }),
                    r("zrUtil", [], function () {
                        function t(t) {
                            var e = M.call(arguments, 1);
                            return function () {
                                return t.apply(this, e.concat(M.call(arguments)))
                            }
                        }
                        function e(t) {
                            return "[object Array]" === w.call(t)
                        }
                        function n(t) {
                            t[_] = !0
                        }
                        function r(t) {
                            return t[_]
                        }
                        function i(t) {
                            return "function" == typeof t
                        }
                        function o(t) {
                            return "[object String]" === w.call(t)
                        }
                        function a(t) {
                            var e = typeof t;
                            return "function" === e || !!t && "object" == e
                        }
                        function s(t) {
                            return !!y[w.call(t)]
                        }
                        function l(t) {
                            return "object" == typeof t && "number" == typeof t.nodeType && "object" == typeof t.ownerDocument
                        }
                        function c(t, e, n) {
                            for (var r in e)
                                e.hasOwnProperty(r) && (n ? null != e[r] : null == t[r]) && (t[r] = e[r]);
                            return t
                        }
                        function u(t) {
                            if (null == t || "object" != typeof t)
                                return t;
                            var e = t,
                            n = w.call(t);
                            if ("[object Array]" === n) {
                                e = [];
                                for (var i = 0, o = t.length; i < o; i++)
                                    e[i] = u(t[i])
                            } else if (x[n])
                                e = t.constructor.from(t);
                            else if (!y[n] && !r(t) && !l(t)) {
                                e = {};
                                for (var a in t)
                                    t.hasOwnProperty(a) && (e[a] = u(t[a]))
                            }
                            return e
                        }
                        function h(t, e, n) {
                            if (t && e)
                                if (t.forEach && t.forEach === Array.prototype.forEach)
                                    t.forEach(e, n);
                                else if (t.length === +t.length)
                                    for (var r = 0, i = t.length; r < i; r++)
                                        e.call(n, t[r], r, t);
                                else
                                    for (var o in t)
                                        t.hasOwnProperty(o) && e.call(n, t[o], o, t)
                        }
                        function d(t, n, i) {
                            if (!a(n) || !a(t))
                                return i ? u(n) : t;
                            for (var o in n)
                                if (n.hasOwnProperty(o)) {
                                    var c = t[o],
                                    h = n[o];
                                    !a(h) || !a(c) || e(h) || e(c) || l(h) || l(c) || s(h) || s(c) || r(h) || r(c) ? !i && o in t || (t[o] = u(n[o], !0)) : d(c, h, i)
                                }
                            return t
                        }
                        function f(t, e, n) {
                            t = "prototype" in t ? t.prototype : t,
                            e = "prototype" in e ? e.prototype : e,
                            c(t, e, n)
                        }
                        function p(t, e) {
                            function n() {}
                            var r = t.prototype;
                            n.prototype = e.prototype,
                            t.prototype = new n;
                            for (var i in r)
                                t.prototype[i] = r[i];
                            t.prototype.constructor = t,
                            t.superClass = e
                        }
                        function g(t, e) {
                            var n = M.call(arguments, 2);
                            return function () {
                                return t.apply(e, n.concat(M.call(arguments)))
                            }
                        }
                        function v(t, e, n) {
                            if (t && e) {
                                if (t.map && t.map === k)
                                    return t.map(e, n);
                                for (var r = [], i = 0, o = t.length; i < o; i++)
                                    r.push(e.call(n, t[i], i, t));
                                return r
                            }
                        }
                        function m(t, e, n) {
                            if (t && e) {
                                if (t.filter && t.filter === S)
                                    return t.filter(e, n);
                                for (var r = [], i = 0, o = t.length; i < o; i++)
                                    e.call(n, t[i], i, t) && r.push(t[i]);
                                return r
                            }
                        }
                        var y = {
                            "[object Function]": 1,
                            "[object RegExp]": 1,
                            "[object Date]": 1,
                            "[object Error]": 1,
                            "[object CanvasGradient]": 1,
                            "[object CanvasPattern]": 1,
                            "[object Image]": 1,
                            "[object Canvas]": 1
                        },
                        x = {
                            "[object Int8Array]": 1,
                            "[object Uint8Array]": 1,
                            "[object Uint8ClampedArray]": 1,
                            "[object Int16Array]": 1,
                            "[object Uint16Array]": 1,
                            "[object Int32Array]": 1,
                            "[object Uint32Array]": 1,
                            "[object Float32Array]": 1,
                            "[object Float64Array]": 1
                        },
                        w = Object.prototype.toString,
                        b = Array.prototype,
                        S = (b.forEach, b.filter),
                        M = b.slice,
                        k = b.map,
                        _ = (b.reduce, "__hxc3_primitive__");
                        return {
                            map: v,
                            filter: m,
                            bind: g,
                            isFunction: i,
                            setAsPrimitive: n,
                            each: h,
                            isString: o,
                            isObject: a,
                            isArray: e,
                            curry: t,
                            clone: u,
                            merge: d,
                            inherits: p,
                            mixin: f
                        }
                    }),
                    r("StockType", [], function () {
                        var t = function (t) {
                            var e = {
                                code: "33_300033",
                                hs: {
                                    fsXaxisShow: ["09:30", "10:30", "11:30/13:00", "14:00", "15:00"],
                                    fsXaxisPos: [0, 60, 120, 180, 240],
                                    fsTotalTimeNum: 241
                                },
                                hk: {
                                    fsXaxisShow: ["09:30", "10:30", "12:00/13:00", "14:00", "16:10"],
                                    fsXaxisPos: [0, 60, 150, 211, 341],
                                    fsTotalTimeNum: 342
                                }
                            };
                            this.configs = $.extend({}, e, t)
                        };
                        return t.prototype.get = function (t) {
                            return this.configs[t]
                        },
                        t.prototype.render = function (t) {
                            this.init()
                        },
                        t.prototype.init = function () {
                            var t = this,
                            e = $.trim(t.get("code")),
                            n = e.split("_"),
                            r = n[1],
                            i = n[0],
                            o = {
                                shortStockCode: r,
                                marketCode: i,
                                fsXaxisPos: "",
                                volUnit: "",
                                fsTotalTimeNum: ""
                            },
                            a = /^(176)$/,
                            s = /^(hk|176|177|178|179|180|182|181)$/,
                            l = /^(zs|16|32|24)$/,
                            c = /^(48|bk)$/,
                            u = /^(881)/,
                            h = /^(sb|144|145)$/,
                            d = /^(hs|sz|sh|zs|16|32|24|48|bk|17|18|22|33|34|sb|144|145)$/,
                            f = /^(pmetal|41|wh|97|98|99|gzqh|129|fd|20|36|gqh|217|qh|65|66|67|68|69|70|zq|19|35|gzs|sj|81|ggqq|233|104|120)$/,
                            p = /^(pmetal|41)$/,
                            g = /^(wh|97|98|99)$/,
                            v = /^(gzqh|129)$/,
                            m = /^(fd|20|36)$/,
                            y = /^(gqh|217)$/,
                            x = /^(qh|65|66|67|68|69|70)$/,
                            w = /^(shzq|szzq|19|35)$/,
                            b = /^(gzs)$/,
                            S = /^(sj|81)$/,
                            M = /^(ggqq|233|104|120)$/,
                            k = /^(200|88)$/,
                            _ = /^(usa|169|168|170|185|184|186|189|200|88|201|202)$/;
                            return d.test(i) ? (l.test(i) ? o.msg = "HS_index" : c.test(i) ? u.test(r) ? o.msg = "HS_block_hangye" : o.msg = "HS_block_gainian" : h.test(i) ? o.msg = "HS_stock_sb" : o.msg = "HS_stock", o.keepLen = 2, o.needConvertoShou = !0, o.volUnit = "手", o.fsXaxisShow = this.get("hs").fsXaxisShow, o.fsXaxisPos = this.get("hs").fsXaxisPos, o.fsTotalTimeNum = this.get("hs").fsTotalTimeNum) : s.test(i) ? (a.test(i) ? o.msg = "HK_index" : o.msg = "HK_stock", o.keepLen = 3, o.needConvertoShou = !1, o.volUnit = "", o.fsXaxisShow = this.get("hk").fsXaxisShow, o.fsXaxisPos = this.get("hk").fsXaxisPos, o.fsTotalTimeNum = this.get("hk").fsTotalTimeNum) : _.test(i) ? (k.test(i) ? (o.msg = "USA_index", o.keepLen = 2) : (o.msg = "USA_stock", o.keepLen = 3), o.needConvertoShou = !1, o.volUnit = "", o.fsTotalTimeNum = 391) : f.test(i) ? (o.keepLen = 2, o.needConvertoShou = !0, o.volUnit = "手", p.test(i) ? o.msg = "Others_pmetal" : g.test(i) ? (o.msg = "Others_wh", o.keepLen = 4, o.fsTotalTimeNum = 1440) : v.test(i) ? o.msg = "Others_gzqh" : m.test(i) ? (o.msg = "Others_fd", o.keepLen = 3) : y.test(i) ? (o.msg = "Others_gqh", o.needConvertoShou = !1, o.volUnit = "", o.keepLen = 3) : x.test(i) ? (o.msg = "Others_qh", o.needConvertoShou = !1, o.volUnit = "", o.keepLen = 2) : w.test(i) ? o.msg = "Others_zq" : b.test(i) ? (o.msg = "Others_gzs", o.keepLen = 2) : S.test(i) ? (o.msg = "Others_sj", o.needConvertoShou = !1, o.volUnit = "", o.keepLen = 2, o.fsTotalTimeNum = 663) : M.test(i) ? (o.msg = "Others_ggqq", o.keepLen = 2) : o.msg = "Others_" + i) : (o.msg = "HS_stock", o.keepLen = 2, o.needConvertoShou = !0, o.volUnit = "手"),
                            o
                        },
                        t
                    }),
                    r("Hxc3DataProvider", ["enableClassManagement", "zrUtil", "StockType"], function (t, e, n) {
                        function r(t, e) {
                            this.type = this.constructor.type,
                            this.dataPool = e,
                            this.dataId = e.convertOptionToDataId(t);
                            var r = t.normal || {};
                            this._configs = i(o(this.constructor.defaultOption), r, !0),
                            this.stockType = new n({
                                code: this._configs.code || "hs_300033"
                            }).init(),
                            this.marketStatus = {
                                code: "000",
                                msg: "交易中"
                            },
                            this.xhrStatus = {
                                code: "000",
                                msg: "success"
                            },
                            this._data
                        }
                        var i = e.merge,
                        o = e.clone;
                        return r.prototype = {
                            init: function () {
                                throw new Error("must be implemented by subclass!")
                            },
                            get: function (t) {
                                return t ? this._configs[t] : this._configs
                            },
                            xhrSuccess: function () {
                                var t = this.dataPool,
                                e = t.getAllActions();
                                this.xhrStatus = t.getXhrStatus("success"),
                                t.triggerAction(this, e.providerUpdate, {
                                    data: this._data,
                                    xhrStatus: this.xhrStatus
                                })
                            },
                            xhrFail: function (t, e, n) {
                                var r = this.dataPool,
                                i = r.getAllActions();
                                this.xhrStatus = r.getXhrStatus(e),
                                r.triggerAction(this, i.providerUpdate, {
                                    data: void 0,
                                    xhrStatus: this.xhrStatus
                                })
                            },
                            xhrPending: function () {
                                var t = this.dataPool,
                                e = t.getAllActions();
                                this.xhrStatus = t.getXhrStatus("isPending"),
                                t.triggerAction(this, e.providerUpdate, {
                                    data: void 0,
                                    xhrStatus: this.xhrStatus
                                })
                            },
                            getData: function () {
                                return this._data
                            }
                        },
                        t(r)
                    }),
                    r("hqHelper", ["zrUtil"], function (t) {
                        function e(t) {
                            return t.replace(/([\W])/g, function (t, e) {
                                return "/" === e ? "_" : "__"
                            })
                        }
                        function n(t, e) {
                            if (t) {
                                if (h(t))
                                    t = parseFloat(t);
                                else if (isNaN(parseFloat(t))) {
                                    var n = 0;
                                    return n.toFixed(e)
                                }
                            } else
                                t = 0;
                            return t.toFixed(e)
                        }
                        function r(t, e, r) {
                            return e = e || "",
                            t ? ("vol" === e && (t = r ? Math.floor(t / 100) : Math.floor(t)), t > 1e12 ? t = n(t / 1e12, 1) + "万亿" : t > 1e10 ? t = n(t / 1e8, 0) + "亿" : t > 1e8 ? t = n(t / 1e8, 1) + "亿" : t > 1e7 ? t = n(t / 1e4, 0) + "万" : t > 1e4 && (t = n(t / 1e4, 1) + "万"), t) : ""
                        }
                        function i(t) {
                            var e = {
                                Day: "0",
                                Week: "1",
                                Month: "2",
                                "5Min": "3",
                                "30Min": "4",
                                "60Min": "5",
                                "1Min": "6",
                                "4Hour": "7"
                            },
                            n = {
                                Bfq: "0",
                                Qfq: "1",
                                Hfq: "2"
                            },
                            r = t.substr(5, 3),
                            i = t.substr(8);
                            return (e[i] ? e[i] : "0") + (n[r] ? n[r] : "1")
                        }
                        function o() {
                            return /http/.test(window.location.protocol) ? window.location.protocol : "http:"
                        }
                        function a(t, e) {
                            t = parseFloat(t);
                            var n = p.call(t, ".")[0].length;
                            return t < 0 && n--,
                            n > 1 ? t.toFixed(g(e, v(6 - n, 0))) : t.toFixed(e)
                        }
                        function s(t, n) {
                            var r = t.split(n),
                            i = r[1].replace(/(\/)/g, function () {
                                return "_"
                            });
                            return i = i.replace(/(.js)/g, function () {
                                return ""
                            }),
                            "quotebridge_" + (i = e(i))
                        }
                        function l(t, e, n) {
                            return e = e || 0,
                            n = n || e,
                            t > 1e12 ? t = (t / 1e12).toFixed(n) + "万亿" : t > 1e8 || t < -1e8 ? (t / 1e8).toFixed(n) + "亿" : t > 1e4 || t < -1e4 ? (t / 1e4).toFixed(n) + "万" : t.toFixed(e)
                        }
                        function c(t) {
                            function e() {}
                            return e.prototype = t,
                            new e
                        }
                        function u(t, e) {
                            var n = c(e.prototype);
                            n.constructor = t,
                            t.prototype = n;
                            for (var r in e)
                                e.hasOwnProperty(r) && (t[r] = e[r])
                        }
                        var h = t.isString,
                        d = {
                            time: function (t) {
                                return t[1]
                            },
                            openP: function (t) {
                                return t[7]
                            },
                            maxP: function (t) {
                                return t[8]
                            },
                            minP: function (t) {
                                return t[9]
                            },
                            curP: function (t) {
                                return t[10]
                            },
                            closeP: function (t) {
                                return t[11]
                            },
                            dealType: function (t) {
                                return t[12]
                            },
                            vol: function (t) {
                                return t[13]
                            },
                            volMoney: function (t) {
                                return t[19]
                            },
                            curVol: function (t) {
                                return t[49]
                            },
                            turnRate: function (t) {
                                return t[1968584]
                            },
                            dealNum: function (t) {
                                return t[625295]
                            }
                        },
                        f = function (t, e) {
                            var n = parseFloat(t),
                            r = parseFloat(e);
                            return n - r > 0 ? "ab" : n - r < 0 ? "be" : "eq"
                        },
                        p = String.prototype.split,
                        g = Math.min,
                        v = Math.max;
                        return {
                            getter: d,
                            inheritFrom: u,
                            filterNum: r,
                            decimalRound: n,
                            functionNameValidate: e,
                            priceFormat: a,
                            filterStatus: f,
                            numFormatter: l,
                            getCallbackName: s,
                            getProtocol: o,
                            klineTypeConvertToNum: i
                        }
                    }),
                    r("util", ["zrUtil"], function (t) {
                        function e(t, e, n, r) {
                            var i = {};
                            return i.stockCode = e,
                            n && (i.todayStart = n),
                            r && (i.dType = r),
                            t(i)
                        }
                        function n(t, e) {
                            return arguments.length < 2 && (e = .5),
                            t ? (t >> 0) + e : null
                        }
                        function r(t, e) {
                            var n;
                            return function () {
                                var r = this,
                                i = arguments;
                                clearTimeout(n),
                                n = setTimeout(function () {
                                    e.apply(r, i)
                                }, t)
                            }
                        }
                        function i(t) {
                            var e = document.createElement("script");
                            e.type = "text/javascript",
                            e.src = t,
                            document.body.appendChild(e)
                        }
                        function o(t, e) {
                            var n = Math.pow(10, Math.abs(e));
                            return e < 0 ? t / n : e > 0 ? t * n : t
                        }
                        function a(t, e) {
                            var n = t[0],
                            r = t[1],
                            i = Math.max(Math.abs(r - e), Math.abs(n - e));
                            return [e - i, e + i]
                        }
                        function s(t, e, n) {
                            if (t && e) {
                                for (var r = [], i = 0, o = t.length; i < o; i++)
                                    e.call(n, t[i], i, t) && r.push(i);
                                return r
                            }
                        }
                        function l(t, e, n) {
                            var r,
                            i,
                            o = -1,
                            a = t.length,
                            s = 1 / 0;
                            if (1 === arguments.length) {
                                for (; ++o < a && !(null != (s = t[o]) && s <= s); )
                                    s = void 0, r = void 0;
                                for (; ++o < a; )
                                    null != (i = t[o]) && s > i && (s = i, r = o)
                            } else
                                for (; ++o < a; )
                                    (i = e.call(t, t[o], o)) < s && (r = o, s = i);
                            return arguments.length < 3 ? s : {
                                value: s,
                                index: r
                            }
                        }
                        function c(t, e, n) {
                            var r,
                            i,
                            o = -1,
                            a = t.length,
                            s = -1 / 0;
                            if (1 === arguments.length) {
                                for (; ++o < a && !(null != (s = t[o]) && s <= s); )
                                    s = void 0;
                                for (; ++o < a; )
                                    null != (i = t[o]) && i > s && (s = i)
                            } else
                                for (; ++o < a; )
                                    (i = e.call(t, t[o], o)) > s && (r = o, s = i);
                            return arguments.length < 3 ? s : {
                                value: s,
                                index: r
                            }
                        }
                        function u(t, e) {
                            var n = "";
                            return $.map(t, function (t, r) {
                                r === e && (n = t)
                            }),
                            n
                        }
                        function h(t) {
                            var e,
                            n,
                            r = arguments,
                            i = r.length;
                            if (Array.prototype.indexOf)
                                for (; i > 1 && t.length; )
                                    for (e = r[--i]; -1 !== (n = t.indexOf(e)); )
                                        t.splice(n, 1);
                            else
                                for (; i > 1 && t.length; )
                                    for (e = r[--i]; -1 !== (n = $.inArray(e, t)); )
                                        t.splice(n, 1);
                            return t
                        }
                        function d(t, e) {
                            var n = t.length,
                            r = e.length,
                            i = n;
                            if (n >= r) {
                                for (var o = 0, a = e.length; o < a; o++)
                                    t.push(e[o]);
                                return t
                            }
                            for (; --i >= 0; )
                                e.unshift(t[i]);
                            return e
                        }
                        function f(t, e) {
                            return t.splice.apply(t, [0, e.length].concat(e))
                        }
                        function p(t, e) {
                            var n,
                            r,
                            i,
                            o = -1,
                            a = t.length;
                            if (1 === arguments.length) {
                                for (; ++o < a && !(null != (n = i = t[o]) && n <= n); )
                                    n = i = void 0;
                                for (; ++o < a; )
                                    null != (r = t[o]) && (n > r && (n = r), i < r && (i = r))
                            } else {
                                for (; ++o < a && !(null != (n = i = e.call(t, t[o], o)) && n <= n); )
                                    n = void 0;
                                for (; ++o < a; )
                                    null != (r = e.call(t, t[o], o)) && (n > r && (n = r), i < r && (i = r))
                            }
                            return [n, i]
                        }
                        function g(t) {
                            var e = t.length;
                            if (e >= 1)
                                return t[e - 1]
                        }
                        function v(t) {
                            return t.replace(/^\s+/, "").replace(/\s+$/, "")
                        }
                        function m(t, e) {
                            switch (e = e || 1, t) {
                            case "center":
                            case "middle":
                                t = "50%";
                                break;
                            case "left":
                            case "top":
                                t = "0%";
                                break;
                            case "right":
                            case "bottom":
                                t = "100%"
                            }
                            return "string" == typeof t ? v(t).match(/%$/) ? parseFloat(t) / 100 * e : parseFloat(t) : "number" == typeof t ? t <= 1 && t >= -1 ? t * e : t : null == t ? NaN : +t
                        }
                        function y(t, e) {
                            return b(t) ? {
                                width: m(t[0], e),
                                height: m(t[1], e)
                            }
                             : {
                                width: m(t, e),
                                height: m(t, e)
                            }
                        }
                        function x(t, e) {
                            return Math.round((t - 1) * e)
                        }
                        function w() {
                            return (new Date).getTime() + S++
                        }
                        function r(t, e) {
                            var n;
                            return function () {
                                var r = this,
                                i = arguments;
                                clearTimeout(n),
                                n = setTimeout(function () {
                                    t.apply(r, i)
                                }, e)
                            }
                        }
                        var b = t.isArray,
                        S = 0;
                        return {
                            dashedLine: function (t, e, n, r, i, o, a) {
                                var s = window.CanvasRenderingContext2D && CanvasRenderingContext2D.prototype;
                                if (s && s.lineTo) {
                                    o || (o = [2, 5]),
                                    t.save();
                                    var l = r - e,
                                    c = i - n,
                                    u = Math.sqrt(l * l + c * c),
                                    h = Math.atan2(c, l);
                                    t.translate(e, n),
                                    t.moveTo(0, 0),
                                    t.rotate(h);
                                    var d = o.length,
                                    f = 0,
                                    p = !0;
                                    for (e = 0; u > e; )
                                        e += o[f++ % d], e > u && (e = u), p ? t.lineTo(e, 0) : t.moveTo(e, 0), p = !p;
                                    t.restore()
                                }
                            },
                            debounce: r,
                            guid: w,
                            urlFormatter: e,
                            add_5: n,
                            loadScript: i,
                            formatFloat: o,
                            getDiff: a,
                            findAllIndex: s,
                            parsePercent: m,
                            parseSize: y,
                            getMin: l,
                            getMax: c,
                            remove: h,
                            extent: p,
                            map: u,
                            mergeLargeArr: d,
                            unshiftArray: f,
                            getRoundIndex: x,
                            last: g
                        }
                    }),
                    r("Platformer", [], function () {
                        var t = function (t) {
                            this.client = t,
                            this.moveEventName = "mousemove",
                            this.outEventName = "mouseleave"
                        },
                        e = function (t) {
                            this.client = t,
                            this.moveEventName = "mousemove",
                            this.outEventName = "mouseleave"
                        },
                        n = function (t) {
                            this.client = t,
                            this.moveEventName = "touchmove",
                            this.outEventName = "touchend"
                        },
                        r = function () {
                            var i = null;
                            return function (o) {
                                if (!i) {
                                    var a = r.client;
                                    i = a.level.pcLow || "pc" === o ? new t(a) : a.level.pcHigh || "pcHigh" === o ? new e(a) : a.level.moveSenior || a.level.moveLow || "mobile" === o ? new n(a) : new t(a)
                                }
                                return i
                            }
                        }
                        ();
                        return r.client = function () {
                            var t = navigator.userAgent,
                            e = (navigator.platform, 0),
                            n = {
                                pcSenior: 0,
                                pcLow: 0,
                                moveSenior: 0,
                                moveLow: 0
                            },
                            r = {
                                chrome: 0,
                                uc: 0,
                                safari: 0
                            };
                            return function () {
                                return "function" == typeof document.createElement
                            }
                            () ? /MSIE ([^;]+)/.test(t) ? RegExp.$1 >> 0 > 8 && (n.pcSenior = 1) : /Android (\d+\.\d+)/.test(t) ? (/UCBrowser/.test(t) && (r.uc = 1), e = parseFloat(RegExp.$1), e > 2.3 ? n.moveSenior = 1 : n.moveLow = 1) : t.indexOf("iPhone") > -1 || t.indexOf("iPad") > -1 ? n.moveSenior = 1 : /Gecko?(:AppleWebKit)?/.test(t) ? (n.pcSenior = 1, /Chrome\/(\S+)/.test(t) ? r.chrome = 1 : /Version\/(\S+)/.test(t) && (r.safari = 1)) : n.pcLow = 1 : n.pcLow = 1, {
                                level: n,
                                browser: r
                            }
                        }
                        (),
                        r
                    }),
                    r("browserStrategy", ["Platformer"], function (t) {
                        function e(e, n) {
                            var r,
                            i = t.client;
                            if (i.browser.uc) {
                                r = new Date;
                                var o = r.getFullYear() + (r.getMonth() + 1 < 10 ? "0" : "") + (r.getMonth() + 1) + (r.getDate() + 1 < 10 ? "0" : "") + r.getDate(),
                                a = (r.getMinutes() < 10 ? "0" : "") + r.getMinutes(),
                                s = (r.getHours() < 10 ? "0" : "") + r.getHours();
                                return "perMinute" === n ? e + "?" + o + s + a : "perHour" === n ? e + "?" + o + s : "perDay" === n ? e + "?" + o : e
                            }
                            return e
                        }
                        function n(t) {
                            Object.prototype.getContext || window.G_vmlCanvasManager && (t.getContext = window.G_vmlCanvasManager.initElement(t).getContext)
                        }
                        function r(t) {
                            var t = document.getElementById(t);
                            n(t);
                            var e,
                            r,
                            i = t.getContext("2d"),
                            o = window.devicePixelRatio || 1,
                            a = i.webkitBackingStorePixelRatio || i.mozBackingStorePixelRatio || i.msBackingStorePixelRatio || i.oBackingStorePixelRatio || i.backingStorePixelRatio || 1,
                            s = o / a;
                            1 !== s && (e = t.width, r = t.height, t.width = e * s, t.height = r * s, t.style.width = e + "px", t.style.height = r + "px", i.scale(s, s))
                        }
                        return {
                            getUrl: e,
                            fixSupportCanvas: n,
                            detectPR: r
                        }
                    }),
                    r("Xhr", ["browserStrategy", "Platformer"], function (t, e) {
                        function n(t, e) {
                            $.ajax({
                                url: t,
                                dataType: "json",
                                success: function (t) {
                                    "function" == typeof e && e(t)
                                }
                            })
                        }
                        function r(t, e, n) {
                            n = n.replace(/@/g, ""),
                            $.ajax({
                                url: t,
                                dataType: "jsonp",
                                jsonpCallback: n,
                                success: function (t) {
                                    "function" == typeof e && e(t)
                                }
                            })
                        }
                        var i = t.getUrl,
                        o = function (t, n, r, o) {
                            o = o || "perMinute";
                            var a = i(t, o);
                            return r = r.replace(/@/g, ""),
                            $.ajax({
                                url: a,
                                dataType: "jsonp",
                                timeout: e.client.level.pcLow ? void 0 : 1e4,
                                cache: !0,
                                jsonp: !1,
                                jsonpCallback: r,
                                success: function (t, e, r) {
                                    "function" == typeof n && n(t)
                                },
                                error: function (t, e, n) {}
                            })
                        };
                        return {
                            jqGet: n,
                            jqJSONP: r,
                            jqXhrWithoutCallback: o
                        }
                    }),
                    r("FsTodayCommon", ["Hxc3DataProvider", "hqHelper", "util", "Xhr"], function (t, e, n, r) {
                        function i(t) {
                            var e = t.dataArray[t.dataArray.length - 1].t;
                            return 2 === e.split(" ").length && (e = e.split(" ")[1]),
                            e
                        }
                        var o = e.getCallbackName,
                        a = e.inheritFrom,
                        s = n.urlFormatter,
                        l = function () {
                            t.apply(this, arguments),
                            this.keepingGetHandle,
                            this._data
                        };
                        return a(l, t),
                        l.type = "fsTodayCommon",
                        l.defaultOption = {
                            code: "hs_300033",
                            xhrType: "jqXhrWithoutCallback",
                            isKeepingGet: !0,
                            urlFormatter: function (t) {
                                return "http://d.10jqka.com.cn/v6/time/" + t.stockCode + "/last.js"
                            },
                            keepGetUrlFormatter: function (t) {
                                return "http://d.10jqka.com.cn/v6/time/" + t.stockCode + "/" + t.todayStart + ".js"
                            },
                            intervalTime: 6e4
                        },
                        l.prototype.arrangeData = function (t, e) {
                            var n,
                            r = !!e,
                            i = r ? e.dataArray : "",
                            o = this.get("code"),
                            a = function () {
                                var t;
                                return function (e, n, r) {
                                    return t || (t = n),
                                    "0000" == e[0] && (t = r), {
                                        t: t + " " + e[0],
                                        nowp: parseFloat(e[1] ? e[1] : 0),
                                        np: parseInt(e[2] ? e[2] : 0),
                                        av: parseFloat(e[3] ? e[3] : e[1]),
                                        n: parseInt(e[4] ? e[4] : 0)
                                    }
                                }
                            }
                            (),
                            s = t[o],
                            l = s.pre,
                            c = s.dates,
                            u = "",
                            h = s.dates.length,
                            d = s.data.split(";"),
                            f = i ? i.slice(0) : [],
                            p = [];
                            if (l || d[0].split(",")[2] && 0 != d[0].split(",")[2]) {
                                for (var g = r ? e.max.nowp : -1 / 0, v = r ? e.min.nowp : 1 / 0, m = r ? e.max.av : -1 / 0, y = r ? e.min.av : 1 / 0, x = r ? e.max.n : -1 / 0, w = r ? e.min.n : 1 / 0, b = 0; b < d.length; b++)
                                    p = d[b].split(","), n = a(p, c[0], c[h - 1]), g = n.nowp > g ? n.nowp : g, v = n.nowp < v ? n.nowp : v, m = n.av > m ? n.av : m, y = n.av < y ? n.av : y, x = n.n > x ? n.n : x, w = n.n < w ? n.n : w, p[1] && f.length && f[f.length - 1].t && p[0] == f[f.length - 1].t.split(" ")[1] && f.pop(), f.push(n);
                                a = null,
                                u = f[f.length - 1].t.split(" ")[1]
                            }
                            return {
                                tradeTime: s.tradeTime,
                                code: o,
                                formatterDate: c,
                                preClosePrice: l,
                                totalTimeNum: s.dotsCount,
                                name: s.name,
                                max: {
                                    nowp: g,
                                    av: m,
                                    n: x
                                },
                                min: {
                                    nowp: v,
                                    av: y,
                                    n: w
                                },
                                stop: s.stop,
                                open: s.open,
                                todayStart: u,
                                dataArray: f.length ? f : []
                            }
                        },
                        l.prototype.checkNeedGetting = function () {
                            for (var t, e, n, r, o = this.getData(), a = (this.get("code"), this.get("isKeepingGet")), s = i(o), l = !1, c = 0; c < o.tradeTime.length; c++)
                                t = o.tradeTime[c].split("-")[0], e = o.tradeTime[c].split("-")[1], e < t && (e = "2400", n = "0000", r = o.tradeTime[c].split("-")[1]), !n && s >= t && s < e ? l = a : n && (s >= t && s < e || s >= n && s < r) && (l = a);
                            return l
                        },
                        l.prototype.getFsCallbackName = function (t) {
                            var e = "";
                            return t.replace(/\/{2}([\w.:]+)\//, function (t, n) {
                                e = n
                            }),
                            o(t, e + "/")
                        },
                        l.prototype.stopGetData = function () {
                            this.keepingGetHandle && clearTimeout(this.keepingGetHandle)
                        },
                        l.prototype.initStatus = function (t) {
                            var e = "000",
                            n = "交易中";
                            0 !== t.dataArray.length || t.preClosePrice ? t.stop ? (e = "030", n = "停牌") : t.open ? (n = "交易中", e = "000") : t || (n = "数据异常", e = "002") : (n = "未上市", e = "001"),
                            t.max.av == t.min.av && t.max.av == t.max.nowp && t.max.nowp == t.min.nowp && t.min.nowp != t.preClosePrice && (t.min.nowp > t.preClosePrice ? (n = "涨停", e = "010") : t.min.nowp < t.preClosePrice && (n = "跌停", e = "020")),
                            this.marketStatus = {
                                code: e,
                                msg: n
                            }
                        },
                        l.prototype.keepGettingData = function () {
                            var t = this,
                            e = this.dataPool,
                            n = (e.getAllActions(), this.get("keepGetUrlFormatter")),
                            i = this.get("code"),
                            o = this.get("xhrType"),
                            a = this.getData(),
                            l = s(n, i, a.todayStart),
                            c = this.getFsCallbackName(l);
                            $.when(function () {
                                return r[o](l, void 0, c)
                            }
                                ()).then(function (e) {
                                var n = t.arrangeData(e, a);
                                t.initStatus(n),
                                n.marketStatus = t.marketStatus,
                                t._data = n,
                                t.xhrSuccess()
                            }, function (e, n, r) {
                                t.xhrFail(e, n, r)
                            })
                        },
                        l.prototype.init = function () {
                            this.xhrPending();
                            var t = this,
                            e = this.dataPool,
                            n = (e.getAllActions(), this.get("code")),
                            i = this.get("xhrType"),
                            o = {
                                stockCode: n
                            },
                            a = this.get("urlFormatter")(o),
                            s = this.getFsCallbackName(a);
                            $.when(function () {
                                return r[i](a, void 0, s)
                            }
                                ()).then(function (e) {
                                var n = t.arrangeData(e);
                                if (t.initStatus(n), n.marketStatus = t.marketStatus, t._data = n, t.xhrSuccess(), "001" === n.marketStatus.code || !t.checkNeedGetting() || /^HK/.test(t.stockType.msg))
                                    return t.keepingGetHandle && clearTimeout(t.keepingGetHandle), !1;
                                t.keepingGetHandle = setTimeout(function () {
                                    t.keepGettingData(),
                                    t.keepingGetHandle = setTimeout(arguments.callee, t.get("intervalTime"))
                                }, t.get("intervalTime"))
                            }, function (e, n, r) {
                                t.xhrFail(e, n, r)
                            })
                        },
                        l
                    }),
                    r("FsMoneyFlowCommon", ["Hxc3DataProvider", "hqHelper", "util", "Xhr"], function (t, e, n, r) {
                        var i = e.inheritFrom,
                        o = e.getCallbackName,
                        a = n.urlFormatter,
                        s = function (t) {
                            return t.dataArray[t.dataArray.length - 1].t
                        },
                        l = function (t, e) {
                            return {
                                t: e + " " + t[0],
                                mfsb: parseFloat(t[1] ? t[1] : 0),
                                mfss: parseFloat(t[2] ? t[2] : 0),
                                mfbb: parseFloat(t[3] ? t[3] : 0),
                                mfbs: parseFloat(t[4] ? t[4] : 0),
                                mflb: parseFloat(t[5] ? t[5] : 0),
                                mfls: parseFloat(t[6] ? t[6] : 0),
                                mfmb: parseFloat(t[7] ? t[7] : 0),
                                mfms: parseFloat(t[8] ? t[8] : 0)
                            }
                        },
                        c = function () {
                            t.apply(this, arguments),
                            this.keepingGetHandle,
                            this._data
                        };
                        return i(c, t),
                        c.type = "fsMoneyFlowCommon",
                        c.defaultOption = {
                            code: "hs_300033",
                            xhrType: "jqXhrWithoutCallback",
                            isKeepingGet: !0,
                            urlFormatter: function (t) {
                                return "http://d.10jqka.com.cn/v2/moneyflow/" + t.stockCode + "/last.js"
                            },
                            keepGetUrlFormatter: function (t) {
                                return "http://d.10jqka.com.cn/v2/moneyflow/" + t.stockCode + "/" + t.todayStart + ".js"
                            },
                            intervalTime: 6e4
                        },
                        c.prototype._protected_getToday = function (t) {
                            var e = this,
                            n = this.get("urlFormatter"),
                            i = this.get("code"),
                            s = this.get("xhrType"),
                            l = a(n, i),
                            c = "";
                            l.replace(/\/{2}([\w.:]+)\//, function (t, e) {
                                c = e
                            });
                            var u = o(l, c + "/");
                            r[s](l, function (n) {
                                var r = e.arrangeData(n);
                                t(r)
                            }, u)
                        },
                        c.prototype._protected_keepGetting = function (t) {
                            var e = this,
                            n = this.get("keepGetUrlFormatter"),
                            i = this.get("code"),
                            s = this.get("xhrType"),
                            l = this.getData(),
                            c = a(n, i, l.todayStart),
                            u = "";
                            c.replace(/\/{2}([\w.:]+)\//, function (t, e) {
                                u = e
                            });
                            var h = o(c, u + "/");
                            r[s](c, function (n) {
                                var r = e.arrangeData(n, l);
                                t(r)
                            }, h)
                        },
                        c.prototype.arrangeData = function (t, e) {
                            for (var n = e ? e.dataArray : "", r = this.get("code"), i = t[r], o = i.data.split(";"), a = n ? n.slice(0) : [], s = [], c = 0; c < o.length; c++)
                                s = o[c].split(","), s[1] && a.length && s[0] == a[a.length - 1].t ? (a.pop(), a.push(l(s, i.date))) : a.push(l(s, i.date));
                            var u = a[a.length - 1].t.split(" ")[1];
                            return {
                                tradeTime: i.rt.split(","),
                                code: r,
                                totalTimeNum: 241,
                                name: i.name,
                                stop: 0,
                                open: i.open,
                                todayStart: u,
                                dataArray: a.length ? a : []
                            }
                        },
                        c.prototype.checkNeedGetting = function (t) {
                            for (var e, n, r = this.getData(), i = (this.get("code"), this.get("isKeepingGet")), o = s(r), a = !1, l = 0; l < r.tradeTime.length; l++)
                                e = r.tradeTime[l].split("-")[0], n = r.tradeTime[l].split("-")[1], o >= e && o < n && (a = i);
                            return a
                        },
                        c.prototype.stopGetData = function () {
                            this.keepingGetHandle && clearTimeout(this.keepingGetHandle)
                        },
                        c.prototype.init = function () {
                            this.xhrPending();
                            var t = this,
                            e = this.dataPool;
                            e.getAllActions();
                            if ("HS_stock" !== this.stockType.msg)
                                return this._data = void 0, void this.xhrSuccess();
                            this._protected_getToday(function (e) {
                                if (e.marketStatus = t.marketStatus, t._data = e, t.xhrSuccess(), !t.checkNeedGetting())
                                    return t.keepingGetHandle && clearTimeout(t.keepingGetHandle), !1;
                                t.keepingGetHandle = setTimeout(function () {
                                    t._protected_keepGetting(function (e) {
                                        e.marketStatus = t.marketStatus,
                                        t._data = e,
                                        t.xhrSuccess()
                                    }),
                                    t.keepingGetHandle = setTimeout(arguments.callee, t.get("intervalTime"))
                                }, t.get("intervalTime"))
                            })
                        },
                        c
                    }),
                    r("fsDataPrepare", ["FsTodayCommon", "FsMoneyFlowCommon"], function (t, e) {
                        t.registerClass(t, t.type),
                        e.registerClass(e, e.type)
                    }),
                    r("shapeHelper", [], function () {
                        function t(t, e) {
                            return arguments.length < 2 && (e = .5),
                            t ? (t >> 0) + e : null
                        }
                        function e(e, n, r, i, o, a, s) {
                            var l,
                            c,
                            u,
                            h;
                            s = s || ["1", "1", "1", "1"],
                            i < 0 && (n += i, i = -i),
                            o < 0 && (r += o, o = -o),
                            "number" == typeof a ? l = c = u = h = a : a instanceof Array ? 1 === a.length ? l = c = u = h = a[0] : 2 === a.length ? (l = u = a[0], c = h = a[1]) : 3 === a.length ? (l = a[0], c = h = a[1], u = a[2]) : (l = a[0], c = a[1], u = a[2], h = a[3]) : l = c = u = h = 0;
                            var d;
                            l + c > i && (d = l + c, l *= i / d, c *= i / d),
                            u + h > i && (d = u + h, u *= i / d, h *= i / d),
                            c + u > o && (d = c + u, c *= o / d, u *= o / d),
                            l + h > o && (d = l + h, l *= o / d, h *= o / d),
                            s[0] && (e.moveTo(t(n + l), t(r)), e.lineTo(t(n + i - c), t(r)), 0 !== c && e.quadraticCurveTo(n + i, r, n + i, r + c)),
                            s[1] && (e.moveTo(t(n + i - c), t(r)), e.lineTo(t(n + i), t(r + o - u)), 0 !== u && e.quadraticCurveTo(n + i, r + o, n + i - u, r + o)),
                            s[2] && (e.moveTo(t(n + i), t(r + o - u)), e.lineTo(t(n + h), t(r + o)), 0 !== h && e.quadraticCurveTo(n, r + o, n, r + o - h)),
                            s[3] && (e.moveTo(t(n + h), t(r + o)), e.lineTo(t(n), t(r + l)), 0 !== l && e.quadraticCurveTo(n, r, n + l, r))
                        }
                        function n(t, e, n) {
                            var r = void 0 === e.x ? 0 : e.x,
                            i = void 0 === e.x2 ? 1 : e.x2,
                            o = void 0 === e.y ? 0 : e.y,
                            a = void 0 === e.y2 ? 0 : e.y2;
                            return e.global || (r = r * n.width + n.x, i = i * n.width + n.x, o = o * n.height + n.y, a = a * n.height + n.y),
                            r = isNaN(r) ? 0 : r,
                            i = isNaN(i) ? 1 : i,
                            o = isNaN(o) ? 0 : o,
                            a = isNaN(a) ? 0 : a,
                            t.createLinearGradient(r, o, i, a)
                        }
                        function r(t, e, n) {
                            var r = n.width,
                            i = n.height,
                            o = Math.min(r, i),
                            a = void 0 === e.x ? .5 : e.x,
                            s = void 0 === e.y ? .5 : e.y,
                            l = void 0 === e.r ? .5 : e.r;
                            return e.global || (a = a * r + n.x, s = s * i + n.y, l *= o),
                            t.createRadialGradient(a, s, 0, a, s, l)
                        }
                        function i(t, e, i) {
                            for (var o = "radial" === e.type ? r : n, a = o(t, e, i), s = e.colorStops, l = 0; l < s.length; l++)
                                a.addColorStop(s[l].offset, s[l].color);
                            return a
                        }
                        return {
                            roundRect: e,
                            getGradient: i
                        }
                    }),
                    r("drawLine", ["util", "shapeHelper", "zrUtil"], function (t, e, n) {
                        function r(t) {
                            return "function" == typeof t ? t : function () {
                                return t
                            }
                        }
                        function i(t) {
                            return t[0]
                        }
                        function o(t) {
                            return t[1]
                        }
                        function a(t, e) {
                            return arguments.length < 2 && (e = .5),
                            t ? (t >> 0) + e : null
                        }
                        function s() {
                            function t(t) {
                                var e = x,
                                n = 0,
                                r = t.length,
                                i = t[0];
                                d.save(),
                                d.beginPath(),
                                d.lineWidth = y.width,
                                d.strokeStyle = v[2],
                                d.moveTo(a(i[0], e), a(i[1], e)),
                                d.lineTo(a(i[0], e), a(g, e)),
                                d.stroke();
                                for (var o; ++n < r; )
                                    d.beginPath(), o = t[n], t[n][2] > t[n - 1][2] ? d.strokeStyle = v[0] : t[n][2] == t[n - 1][2] ? d.strokeStyle = v[2] : d.strokeStyle = v[1], d.moveTo(a(o[0], e), a(o[1], e)), d.lineTo(a(o[0], e), a(g, e)), d.stroke();
                                d.restore()
                            }
                            function e(t) {
                                var e,
                                n = 0,
                                r = t.length,
                                i = t[0];
                                for (d.moveTo(i[0], i[1]), d.lineTo(i[0], g); ++n < r; )
                                    d.beginPath(), d.moveTo((e = t[n])[0], e[1]), d.lineTo(e[0], g), t[n][1] < g ? d.strokeStyle = v[0] : t[n][1] == g ? d.strokeStyle = v[2] : d.strokeStyle = v[1], d.closePath(), d.stroke()
                            }
                            function n(t) {
                                var e = x,
                                n = (t.length, t[0]);
                                if (isNaN(n[1]))
                                    for (var r = 1; r < t.length; r++)
                                        if (!isNaN(t[r][1])) {
                                            n = t[r],
                                            r;
                                            break
                                        }
                                d.save(),
                                d.beginPath(),
                                d.lineWidth = y.width,
                                d.strokeStyle = y.color,
                                h(d, a(n[0], e), a(n[1], e), a(t[1][0], e), a(t[1][1], e), y.lineDash, y.width),
                                d.stroke(),
                                d.restore()
                            }
                            function s(t) {
                                var e = x,
                                n = y.fill;
                                n && !c(n) && (n = l(d, n, w));
                                var r = 0,
                                i = t.length,
                                o = t[0];
                                if (isNaN(o[1]))
                                    for (var s = 1; s < t.length; s++)
                                        if (!isNaN(t[s][1])) {
                                            o = t[s],
                                            r = s;
                                            break
                                        }
                                for (d.save(), d.beginPath(), d.lineWidth = y.width, y.lineDash && "function" == typeof d.setLineDash && d.setLineDash(y.lineDash), d.moveTo(a(o[0], e), a(o[1], e)); ++r < i; )
                                    d.lineTo(a(t[r][0], e), a(t[r][1], e));
                                n && (d.fillStyle = n, d.lineTo(t[i - 1][0], g), d.lineTo(t[0][0], g), d.fill(), d.closePath()),
                                d.strokeStyle = y.color,
                                y.color && d.stroke(),
                                d.restore()
                            }
                            var d,
                            f = {
                                "dash-line": n,
                                linear: s,
                                "linear-bar": t,
                                "linear-bar-macd": e
                            },
                            p = s,
                            g = void 0,
                            v = ["#D85342", "#6CA584", "#ccc"],
                            m = r(S),
                            y = {
                                color: "#ccc",
                                width: 1,
                                lineDash: void 0,
                                fill: void 0
                            },
                            x = void 0,
                            w = {
                                x: 0,
                                y: 0,
                                width: 100,
                                height: 100
                            },
                            b = [],
                            S = i,
                            M = o,
                            k = function (t) {
                                for (var e, n = r(S), i = r(M), o = [], s = -1, l = t.length; ++s < l; )
                                    e = t[s], i(e, s) || 0 === i(e, s) ? o.push([a(n(e, s)), a(i(e, s)), m(e)]) : o.push([0]);
                                return o.length && p(o),
                                b = o.slice(0),
                                o
                            };
                            return k.x = function (t) {
                                return S = t,
                                k
                            },
                            k.y = function (t) {
                                return M = t,
                                k
                            },
                            k.y0 = function (t) {
                                return arguments.length ? (g = t, k) : g
                            },
                            k.prepriceY = function (t) {
                                return m = t,
                                k
                            },
                            k.barColor = function (t) {
                                if (t.length < 3)
                                    throw new Error("infinite array: [upColor, downColor, eqColor]");
                                return v = t,
                                k
                            },
                            k.ctx = function (t) {
                                return arguments.length ? (d = t, k) : d
                            },
                            k.lineStyle = function (t) {
                                return y = t,
                                x = y.width % 2 == 0 ? 0 : .5,
                                k
                            },
                            k.canvasLineTemplate = function (t) {
                                return p = "function" == typeof t ? t : u(f, t),
                                k
                            },
                            k.getBoundingRect = function (t) {
                                return w = t,
                                k
                            },
                            k.linePos = function () {
                                return b
                            },
                            k
                        }
                        var l = e.getGradient,
                        c = n.isString,
                        u = t.map,
                        h = t.dashedLine;
                        return function () {
                            return s()
                        }
                    }),
                    r("drawText", ["shapeHelper", "zrUtil"], function (t, e) {
                        function n(t, e) {
                            return arguments.length < 2 && (e = .5),
                            t ? (t >> 0) + e : null
                        }
                        function r(t) {
                            return t.textBackgroundColor || t.textBorderWidth && t.textBorderColor
                        }
                        function i(e, r, i, o, a, l, c) {
                            var u = r.textBackgroundColor,
                            h = r.textBorderWidth,
                            d = r.textBorderColor,
                            f = s(u);
                            e.save(),
                            e.beginPath(),
                            e.shadowBlur = r.textBoxShadowBlur || 0,
                            e.shadowColor = r.textBoxShadowColor || "transparent",
                            e.shadowOffsetX = r.textBoxShadowOffsetX || 0,
                            e.shadowOffsetY = r.textBoxShadowOffsetY || 0,
                            f && (e.rect(n(i, .5), n(o, .5), a, l), e.fillStyle = u, e.fill()),
                            h && d && (e.beginPath(), t.roundRect(e, i, o, a, l, r.textBorderRadius, c), e.lineWidth = h, e.strokeStyle = d, e.stroke()),
                            e.restore()
                        }
                        function o(t) {
                            return "number" == typeof t ? [t, t, t, t] : t
                        }
                        function a() {
                            var t,
                            e,
                            n,
                            a = {
                                offset: [0, 0],
                                color: "#555",
                                fontSize: "12px",
                                fontFamily: "sans-serif",
                                fontWeight: "normal",
                                lineHeight: "18px",
                                textPosition: void 0,
                                textAlign: "start",
                                textBaseline: "middle",
                                textBackgroundColor: void 0,
                                textBorderColor: void 0,
                                textBorderWidth: 0,
                                textBorderRadius: 0,
                                textPadding: 0
                            },
                            s = {},
                            u = {
                                xStart: 0,
                                xEnd: 100,
                                yStart: 0,
                                yEnd: 100
                            },
                            h = function (c) {
                                s = l(s, a),
                                s.textPadding = o(s.textPadding),
                                n.save(),
                                n.beginPath();
                                var h = "";
                                "normal" !== s.fontWeight && (h = s.fontWeight),
                                n.font = h + " " + s.fontSize + " " + s.fontFamily,
                                "inside" === s.textPosition && (s.textAlign = "center"),
                                n.textAlign = s.textAlign,
                                n.textBaseline = s.textBaseline,
                                s.offset && (t += s.offset[0], e += s.offset[1]);
                                var d = n.measureText(c).width,
                                f = d / 2,
                                p = o(s.textBorderWidth);
                                if (s.textBackgroundColor || s.textBorderWidth) {
                                    var g = parseInt(s.lineHeight, 10),
                                    v = d + s.textPadding[1] + s.textPadding[3] + p[1] + p[3],
                                    m = g + s.textPadding[0] + s.textPadding[2] + p[0] + p[2],
                                    y = t,
                                    x = e;
                                    "end" === s.textAlign || "right" === s.textAlign ? y -= v : "start" === s.textAlign || "left" === s.textAlign ? y += p[3] : "center" === s.textAlign && (y -= v / 2),
                                    "bottom" === s.textBaseline ? x -= m : "middle" === s.textBaseline && (x -= m / 2),
                                    r(s) && i(n, s, y, x, v, m, p)
                                }
                                "start" === s.textAlign || "left" === s.textAlign ? t = t + s.textPadding[3] + p[3] : "end" !== s.textAlign && "right" !== s.textAlign || (t = t - s.textPadding[1] - p[1]),
                                "inside" === s.textPosition && (u.xStart > t - f ? t = u.xStart + f : u.xEnd < t + f && (t = u.xEnd - f)),
                                n.fillStyle = s.color,
                                n.fillText(c, t, e),
                                n.restore()
                            };
                            return h.textStyle = function (t) {
                                return s = c(t),
                                h
                            },
                            h.x = function (e) {
                                return t = e,
                                h
                            },
                            h.y = function (t) {
                                return e = t,
                                h
                            },
                            h.ctx = function (t) {
                                return n = t,
                                h
                            },
                            h.layout = function (t) {
                                return u = t,
                                h
                            },
                            h
                        }
                        var s = e.isString,
                        l = e.merge,
                        c = e.clone;
                        return function () {
                            return a()
                        }
                    }),
                    r("drawRect", ["shapeHelper"], function (t) {
                        function e(t, e) {
                            return arguments.length < 2 && (e = .5),
                            t ? (t >> 0) + e : null
                        }
                        function n() {
                            var t,
                            n,
                            r,
                            i,
                            o,
                            a = {},
                            s = function () {
                                o.save(),
                                o.beginPath();
                                var s = a.borderWidth % 2 == 0 ? 0 : .5;
                                o.rect(e(t, s), e(n, s), e(r, 0), e(i, 0)),
                                o.closePath(),
                                a.borderColor && a.borderWidth && (o.lineWidth = a.borderWidth, o.strokeStyle = a.borderColor, o.stroke()),
                                a.fill && (o.fillStyle = a.fill, o.fill()),
                                o.restore()
                            };
                            return s.itemStyle = function (t) {
                                return a = t,
                                s
                            },
                            s.x = function (e) {
                                return t = e,
                                s
                            },
                            s.y = function (t) {
                                return n = t,
                                s
                            },
                            s.width = function (t) {
                                return r = t,
                                s
                            },
                            s.height = function (t) {
                                return i = t,
                                s
                            },
                            s.ctx = function (t) {
                                return o = t,
                                s
                            },
                            s
                        }
                        return function () {
                            return n()
                        }
                    }),
                    r("drawSymbol", ["util", "zrUtil"], function (t, e) {
                        function n(t) {
                            return t[0]
                        }
                        function r(t) {
                            return t[1]
                        }
                        function i() {
                            function t(t) {
                                var e = t[0],
                                n = t[1],
                                r = {};
                                r.cx = e,
                                r.cy = n,
                                r.r = Math.min(l, c) / 2,
                                u.save(),
                                u.beginPath(),
                                u.strokeStyle = g.color,
                                u.lineWidth = g.lineWidth,
                                u.arc(r.cx, r.cy, r.r, 0, 2 * Math.PI, !0),
                                g.fill && (u.fillStyle = g.fill, u.fill(), u.closePath()),
                                g.color && u.stroke(),
                                u.closePath(),
                                u.restore()
                            }
                            function e(t) {
                                var e = t[0],
                                n = t[1];
                                u.save();
                                var r = l / 5 * 3,
                                i = Math.max(r, c),
                                o = r / 2,
                                a = o * o / (i - o),
                                s = n - i + o + a,
                                h = Math.asin(a / o),
                                d = Math.cos(h) * o,
                                f = Math.sin(h),
                                p = Math.cos(h);
                                u.strokeStyle = g.color,
                                u.lineWidth = g.width,
                                g.lineDash && "function" == typeof u.setLineDash && u.setLineDash(g.lineDash),
                                u.arc(e, s, o, Math.PI - h, 2 * Math.PI + h);
                                var v = .6 * o,
                                m = .7 * o;
                                u.bezierCurveTo(e + d - f * v, s + a + p * v, e, n - m, e, n),
                                u.bezierCurveTo(e, n - m, e - d + f * v, s + a + p * v, e - d, s + a),
                                g.fill && (u.fillStyle = g.fill, u.fill(), u.closePath()),
                                g.color && u.stroke(),
                                u.closePath(),
                                u.restore()
                            }
                            function i(t) {
                                var e = t[0],
                                n = t[1],
                                r = l / 2,
                                i = c / 2;
                                u.save(),
                                u.translate(e, n - i),
                                s && u.rotate(s),
                                u.moveTo(0, 0),
                                u.lineTo(r, 2 * i),
                                u.lineTo(-r, 2 * i),
                                u.strokeStyle = g.color,
                                u.lineWidth = g.width,
                                g.lineDash && "function" == typeof u.setLineDash && u.setLineDash(g.lineDash),
                                g.fill && (u.fillStyle = g.fill, u.fill(), u.closePath()),
                                g.color && u.stroke(),
                                u.restore()
                            }
                            var s,
                            l,
                            c,
                            u,
                            h = {
                                pin: e,
                                circle: t,
                                triangle: i
                            },
                            d = e,
                            f = n,
                            p = r,
                            g = {
                                offset: [0, 0],
                                color: "#ccc",
                                fill: void 0,
                                width: 1
                            },
                            v = function (t) {
                                var e = f(t),
                                n = p(t);
                                if (g.offset) {
                                    var r = g.offset;
                                    e += r[0],
                                    n += r[1]
                                }
                                d([e, n])
                            };
                            return v.x = function (t) {
                                return f = t,
                                v
                            },
                            v.y = function (t) {
                                return p = t,
                                v
                            },
                            v.width = function (t) {
                                return arguments.length ? (l = t, v) : l
                            },
                            v.height = function (t) {
                                return arguments.length ? (c = t, v) : c
                            },
                            v.ctx = function (t) {
                                return arguments.length ? (u = t, v) : u
                            },
                            v.rotate = function (t) {
                                return arguments.length ? (s = t, v) : s
                            },
                            v.symbolStyle = function (t) {
                                return g = t,
                                g = a(g, t, !0),
                                v
                            },
                            v.template = function (t) {
                                return d = "function" == typeof t ? t : o(h, t),
                                v
                            },
                            v
                        }
                        var o = t.map,
                        a = e.merge;
                        return function () {
                            return i()
                        }
                    }),
                    r("Hxc3View", ["enableClassManagement", "drawLine", "drawText", "drawRect", "drawSymbol", "zrUtil"], function (t, e, n, r, i, o) {
                        function a(t) {
                            this._dirty = !1,
                            this.allViewManager = t,
                            this.storage = []
                        }
                        var s = o.merge,
                        l = o.clone;
                        a.prototype = {
                            setDirty: function () {
                                this._dirty = !0,
                                this.allViewManager.setDirty()
                            },
                            isDirty: function () {
                                return this._dirty
                            },
                            addStorage: function (t, e, n) {
                                this.setDirty(),
                                this.storage[n] = [t, e]
                            },
                            deleteStorage: function (t) {
                                this.storage.splice(t, 1)
                            }
                        };
                        var c = function (t, e, n, r) {
                            this.type = this.constructor.type,
                            this.id = r,
                            this.model = t,
                            this.allModelsManager = e,
                            this.chartInstance = n,
                            this.hoverPainter = new a(n.allViews)
                        };
                        return c.prototype = {
                            render: function (t, e, n) {},
                            drawMarkLabel: function (t, e, n, r, i) {
                                var o,
                                a,
                                c = this.model.getModel("grid"),
                                u = c.layout,
                                h = e.data[n],
                                d = e.label,
                                f = h.label ? s(l(d), h.label, !0) : d;
                                if (void 0 === i ? (i = r, a = o = h.x) : (o = h.start.x, a = h.end.x), f.show) {
                                    var p;
                                    switch (f.position) {
                                    case "end":
                                        t.x(i.xPos).y(i.yPos),
                                        p = a;
                                        break;
                                    case "start":
                                        t.x(r.xPos).y(r.yPos),
                                        p = o;
                                        break;
                                    default:
                                        t.x(r.xPos).y(r.yPos),
                                        p = o
                                    }
                                    t.textStyle(f.textStyle).layout(u),
                                    "function" == typeof f.formatter && (p = f.formatter(h, {
                                            start: r,
                                            end: i
                                        })),
                                    t(p)
                                }
                            },
                            drawMarkShape: function (t, e, n, r, i, o) {
                                if ("markArea" === t) {
                                    var a = n.data[r],
                                    c = n.area,
                                    u = a.area ? s(l(c), a.area, !0) : c;
                                    if (u.show) {
                                        var h = Math.abs(o.xPos - i.xPos),
                                        d = Math.abs(o.yPos - i.yPos);
                                        e.x(i.xPos).y(i.yPos).width(h).height(d).itemStyle(u.rectStyle),
                                        e()
                                    }
                                } else if ("markLine" === t) {
                                    var a = n.data[r],
                                    c = n.line,
                                    u = a.line ? s(l(c), a.line, !0) : c;
                                    u.show && (e.y(function (t) {
                                            return t[1]
                                        }).lineStyle(u.lineStyle), e([[i.xPos, i.yPos], [o.xPos, o.yPos]]))
                                }
                            },
                            renderMarkLine: function (t, r, i) {
                                if (t.getData()) {
                                    var o = i.getMainCtx(),
                                    a = t.get("markLine"),
                                    s = t.markData.markLine;
                                    if (a && a.data && a.data.length)
                                        for (var l = e().x(function (t) {
                                                return t[0]
                                            }).canvasLineTemplate("linear").ctx(o), c = n().ctx(o), u = 0; u < a.data.length; u++)
                                            if (this.isDrawMarkDataEnable(a.data[u])) {
                                                var h = s[u],
                                                d = h.startPoint,
                                                f = h.endPoint;
                                                this.drawMarkShape("markLine", l, a, u, d, f),
                                                this.drawMarkLabel(c, a, u, d, f)
                                            }
                                }
                            },
                            isDrawMarkDataEnable: function (t) {
                                return t.show = !isFinite(t.show) || t.show,
                                t.show
                            },
                            renderMarkPoint: function (t, e, r) {
                                if (t.getData()) {
                                    var o,
                                    a = r.getMainCtx(),
                                    c = r._$dom,
                                    u = t.get("markPoint");
                                    if (u && u.data && u.data.length)
                                        for (var h = u.symbol, d = "", f = t.markData.markPoint, p = n().ctx(a), g = 0; g < u.data.length; g++)
                                            if (this.isDrawMarkDataEnable(u.data[g])) {
                                                var v = f[g],
                                                m = v.startPoint;
                                                if (!isNaN(m.xPos) && !isNaN(m.yPos)) {
                                                    o = u.data[g];
                                                    var y = o.symbol ? s(l(h), o.symbol, !0) : h;
                                                    if (y.show)
                                                        if ("html" === y.type)
                                                            d += '<div style="position:absolute;left:' + m.xPos + "px;top:" + m.yPos + 'px">' + y.html + "</div>";
                                                        else {
                                                            var x = i().x(function (t) {
                                                                return t[0]
                                                            }).y(function (t) {
                                                                return t[1]
                                                            }).width(y.size[0]).height(y.size[1]).symbolStyle(y.style.normal).template(y.type).ctx(a);
                                                            y.rotate && x.rotate(y.rotate),
                                                            x([m.xPos, m.yPos])
                                                        }
                                                    var w = c.find(".hxc3-markPoint");
                                                    w.length && w.remove(),
                                                    d && (w = $(d).addClass("hxc3-markPoint").css({
                                                            position: "absolute"
                                                        }).appendTo(c)),
                                                    this.drawMarkLabel(p, u, g, m)
                                                }
                                            }
                                }
                            },
                            renderMarkArea: function (t, e, i) {
                                if (t.getData()) {
                                    var o = i.getMainCtx(),
                                    a = t.get("markArea"),
                                    s = t.markData.markArea;
                                    if (a && a.data && a.data.length)
                                        for (var l = r().ctx(o), c = n().ctx(o), u = 0; u < a.data.length; u++)
                                            if (this.isDrawMarkDataEnable(a.data[u])) {
                                                var h = s[u],
                                                d = h.startPoint,
                                                f = h.endPoint;
                                                this.drawMarkShape("markArea", l, a, u, d, f),
                                                this.drawMarkLabel(c, a, u, d, f)
                                            }
                                }
                            }
                        },
                        t(c)
                    }),
                    r("FsPriceView", ["Hxc3View", "hqHelper", "drawLine"], function (t, e, n) {
                        var r = e.inheritFrom,
                        i = function () {
                            t.apply(this, arguments)
                        };
                        return r(i, t),
                        i.type = "fsPrice",
                        i.prototype.render = function (t, e, r) {
                            var i = t.getData();
                            if (i) {
                                var o = i.dataArray,
                                a = t.getDrawScale("x"),
                                s = t.getDrawScale("y"),
                                l = t.drawAvShow,
                                c = t.get("draw"),
                                u = r.getMainCtx();
                                c.nowpLineClosed.show && n().x(function (t) {
                                    return a(t.t)
                                }).y(function (t) {
                                    return s(t.nowp)
                                }).canvasLineTemplate("linear").y0(s.range()[0] + 1).lineStyle(c.nowpLineClosed.lineStyle).getBoundingRect({
                                    x: a.range()[0],
                                    y: s.range()[1],
                                    width: a.range()[1] - a.range()[0],
                                    height: s.range()[0] - s.range()[1]
                                }).ctx(u)(o),
                                l && c.av.show && n().x(function (t) {
                                    return a(t.t)
                                }).y(function (t) {
                                    return s(t.av)
                                }).canvasLineTemplate("linear").lineStyle(c.av.lineStyle).ctx(u)(o),
                                c.nowp.show && n().x(function (t) {
                                    return a(t.t)
                                }).y(function (t) {
                                    return s(t.nowp)
                                }).canvasLineTemplate("linear").lineStyle(c.nowp.lineStyle).ctx(u)(o),
                                r.triggerAction(t, "VIEW_DID_UPDATE")
                            }
                        },
                        i
                    }),
                    r("Hxc3Model", ["enableClassManagement", "zrUtil", "util"], function (t, e, n) {
                        function r(t, e, n, r) {
                            this.type = this.constructor.type,
                            this.id = this.type + "_" + r + "_" + i(),
                            this.allModelsManager = e,
                            this.chartInstance = n,
                            this.show = !0,
                            this._configs = o(a(this.constructor.defaultOption), t, !0),
                            this._data,
                            this._dirty = !1
                        }
                        var i = n.guid,
                        o = e.merge,
                        a = e.clone,
                        s = e.isString,
                        l = e.isObject;
                        return r.prototype = {
                            render: function () {},
                            getData: function (t) {
                                var e = this.get("dataIndex");
                                if ("data" === this.type)
                                    return this._data;
                                if (void 0 !== e) {
                                    var n = this.getModel("data")._data;
                                    if (n)
                                        return void 0 !== t ? n.dataArray[t] : n
                                }
                            },
                            isDirty: function () {
                                return this._dirty
                            },
                            setDirty: function () {
                                if (!this.isDirty()) {
                                    hxc3.debug.model.enable && console.log(this.id + " 设置为了dirty！--------------"),
                                    this._dirty = !0;
                                    this.allModelsManager.setDirtyOnDependModel(this)
                                }
                            },
                            getModel: function (t) {
                                var e = this.get(t + "Index");
                                return this.allModelsManager.getModelByTypeAndIndex(t, e)
                            },
                            get: function (t) {
                                return t ? this._configs[t] : this._configs
                            },
                            set: function (t, e) {
                                !s(t) || this._configs[t] === e && "object" != typeof e ? l(t) && (o(this._configs, t, !0), this.setDirty()) : (this._configs[t] = e, this.setDirty())
                            },
                            setData: function (t) {
                                this._data = t,
                                hxc3.debug.data.enable && console.log(this.id + " this._data已绑定 将开始更新依赖--------------"),
                                this._dirty = !1,
                                this.allModelsManager.setDirtyOnDependModel(this)
                            },
                            afterDataModelUpdate: function () {},
                            update: function (t, e, n) {
                                hxc3.debug.model.enable && console.log(this.id + " update dirty to false！--------------"),
                                this.render(t, e, n),
                                this._dirty = !1
                            }
                        },
                        t(r)
                    }),
                    r("MarkModel", ["hqHelper", "util", "zrUtil"], function (t, e, n) {
                        function r(t, e, n) {
                            var r,
                            i = t[e];
                            switch (t[e + "Type"]) {
                            case "type":
                                if (/^(getIndexLast|getIndexFirst|getIndexMax|getIndexMin)/.test(i)) {
                                    if ("function" != typeof n[i])
                                        throw new Error("请先实现" + n.id + " Model 中的" + i + "方法, 返回对象");
                                    r = n[i](t.dataFilter)
                                }
                                break;
                            case "index":
                                n && "function" == typeof n.getDrawDataByIndex && (r = n.getDrawDataByIndex(i))
                            }
                            return r
                        }
                        function i(t, e, n, r) {
                            var i,
                            o,
                            a = t[e],
                            s = "function" == typeof n.bandwidth ? n.bandwidth() : 0;
                            switch (t[e + "Type"]) {
                            case "coordMiddle":
                                i = Math.abs(n.range()[0] - n.range()[1]) / 2;
                                break;
                            case "coordStart":
                                i = Math.min(n.range()[0], n.range()[1]);
                                break;
                            case "coordEnd":
                                i = Math.max(n.range()[0], n.range()[1]);
                                break;
                            case "coord":
                                i = a;
                                break;
                            case "value":
                                i = n(a);
                                break;
                            case "bandValue":
                                i = n(a) + s / 2;
                                break;
                            case "number":
                                i = n(n.domain()[a]);
                                break;
                            case "type":
                            case "index":
                                r && (o = t["f" + e](r), i = n(o))
                            }
                            return "function" == typeof t[e + "Formatter"] ? t[e + "Formatter"](i, {
                                bandwidth: s
                            }) : i
                        }
                        var o = n.merge,
                        a = function (t) {
                            this.seriesModel = t
                        };
                        return a.defaultOption = {
                            markLine: {
                                z: 0,
                                forceVisible: !1,
                                label: {
                                    show: !0,
                                    position: "start",
                                    inside: !0,
                                    formatter: void 0,
                                    textStyle: {}
                                },
                                line: {
                                    show: !0,
                                    lineStyle: {
                                        color: "red",
                                        width: 1,
                                        lineDash: void 0
                                    }
                                },
                                data: void 0
                            },
                            markArea: {
                                z: 0,
                                label: {
                                    show: !1,
                                    position: "start",
                                    inside: !0,
                                    formatter: void 0,
                                    textStyle: {}
                                },
                                area: {
                                    show: !0,
                                    rectStyle: {
                                        fill: "rgba(255, 179, 179, 0.36)",
                                        borderColor: "#000",
                                        borderWidth: 0,
                                        borderType: "solid"
                                    }
                                },
                                data: void 0
                            },
                            markPoint: {
                                z: 0,
                                symbol: {
                                    show: !1,
                                    type: "pin",
                                    size: [40, 45],
                                    rotate: void 0,
                                    style: {
                                        normal: {
                                            offset: [0, 0],
                                            fill: "#66c"
                                        }
                                    }
                                },
                                label: {
                                    show: !1,
                                    position: "start",
                                    inside: !0,
                                    formatter: void 0,
                                    textStyle: {}
                                },
                                data: void 0
                            }
                        },
                        a.prototype = {
                            prepareMarkData: function (t, e, n) {
                                var r = [],
                                i = this.seriesModel.get(t);
                                if (i && i.data && i.data.length)
                                    for (var o = 0; o < i.data.length; o++) {
                                        var a = this.getStartAndEndPoints(i, o, e, n);
                                        r[o] = a
                                    }
                                return r
                            },
                            getStartAndEndPoints: function (t, e, n, r) {
                                var i,
                                o,
                                a = t.data[e];
                                return a.start ? (i = this.getPoint(a.start, n, r), o = this.getPoint(a.end, n, r)) : i = this.getPoint(a, n, r), {
                                    startPoint: i,
                                    endPoint: o
                                }
                            },
                            getPoint: function (t, e, n) {
                                var a,
                                s,
                                l,
                                c,
                                u = this.seriesModel,
                                h = {
                                    dataFilter: function (t) {
                                        return t.c
                                    },
                                    x: void 0,
                                    xType: void 0,
                                    fx: function (t) {
                                        return t.t
                                    },
                                    xFormatter: void 0,
                                    y: void 0,
                                    yType: void 0,
                                    fy: function (t) {
                                        return t.c
                                    },
                                    yFormatter: void 0
                                },
                                d = o(h, t, !0);
                                return l = r(d, "x", u),
                                c = r(d, "y", u),
                                a = i(d, "x", e, l),
                                s = i(d, "y", n, c), {
                                    xPos: a,
                                    yPos: s,
                                    xSeriesData: l,
                                    ySeriesData: c
                                }
                            },
                            render: function () {
                                var t = this.seriesModel.getDrawScale("x"),
                                e = this.seriesModel.getDrawScale("y");
                                this.markArea = this.prepareMarkData("markArea", t, e),
                                this.markLine = this.prepareMarkData("markLine", t, e),
                                this.markPoint = this.prepareMarkData("markPoint", t, e)
                            }
                        },
                        a
                    }),
                    r("SeriesModel", ["Hxc3Model", "hqHelper", "util", "zrUtil", "MarkModel"], function (t, e, n, r, i) {
                        var o = e.inheritFrom,
                        a = n.getMax,
                        s = n.getMin,
                        l = n.guid,
                        c = r.isArray,
                        u = r.clone,
                        h = r.map,
                        d = function (e, n, r, o) {
                            t.apply(this, arguments),
                            this.id = "series_" + this.id.split("_")[1] + "_" + this.id.split("_")[0] + "_" + l(),
                            this._datalimit = {
                                show: !0
                            },
                            this.markData = new i(this)
                        };
                        return o(d, t),
                        d.type = "series",
                        d.defaultOption = {
                            z: 0,
                            primary: !0,
                            show: !0,
                            dataIndex: 0,
                            gridIndex: 0,
                            xAxisIndex: 0,
                            yAxisIndex: 0,
                            highlightDataX: function (t) {
                                return t.t
                            },
                            highlightDataY: function (t) {
                                return t.c
                            },
                            markLine: u(i.defaultOption.markLine),
                            markPoint: u(i.defaultOption.markPoint),
                            markArea: u(i.defaultOption.markArea)
                        },
                        d.prototype.render = function () {
                            this.show = this._datalimit.show && this.get("show")
                        },
                        d.prototype.renderMarkData = function () {
                            this.getData() && this.markData.render()
                        },
                        d.prototype.afterDataModelUpdate = function () {
                            this.show = this._datalimit.show && this.get("show")
                        },
                        d.prototype.getScaleModel = function (t) {
                            t = t + "Axis" || "xAxis";
                            var e = this.getModel(t);
                            return (c(e) ? e[0] : e).getModel("scale")
                        },
                        d.prototype.getDrawScale = function (t) {
                            return this.getScaleModel(t).drawScale
                        },
                        d.prototype.getXScaleConfigs = function () {
                            var t = this.getData();
                            if (t && t.dataArray) {
                                var e = this.getModel("xAxis"),
                                n = c(e) ? e[0] : e,
                                r = n.getModel("scale"),
                                i = [];
                                return "band" === r.get("scaleType") || "point" === r.get("scaleType") ? i = h(t.dataArray, this.get("xDataKey")) : (i[0] = s(t.dataArray, this.get("xDataKey")), i[1] = a(t.dataArray, this.get("xDataKey"))), {
                                    domain: i
                                }
                            }
                        },
                        d.prototype.getYScaleConfigs = function () {
                            var t = this.getData();
                            if (t && t.dataArray) {
                                var e = [];
                                return e[0] = s(t.dataArray, this.get("yDataKey")),
                                e[1] = a(t.dataArray, this.get("yDataKey")), {
                                    domain: e
                                }
                            }
                        },
                        d.prototype.getIndexLast = function () {
                            var t = this.getData();
                            return t[t.length - 1]
                        },
                        d.prototype.getIndexMax = function (t) {
                            var e = this.getData(),
                            n = a(e.dataArray, t, !0).index;
                            return e.dataArray[n]
                        },
                        d.prototype.getIndexMin = function (t) {
                            var e = this.getData(),
                            n = s(e.dataArray, t, !0).index;
                            return e.dataArray[n]
                        },
                        d.prototype.getMarkMaxAndMin = function (t) {
                            var e = [],
                            n = this.get("markLine");
                            if (n && n.data && n.data.length && n.forceVisible) {
                                for (var r, i = 0; i < n.data.length; i++)
                                    r = n.data[i], void 0 === n.data[i].show && (n.data[i].show = !0), n.data[i].show && "value" === r.start[t + "Type"] && e.push(r.start[t]);
                                return {
                                    min: e.length ? s(e) : 1 / 0,
                                    max: e.length ? a(e) : -1 / 0
                                }
                            }
                            return {
                                min: 1 / 0,
                                max: -1 / 0
                            }
                        },
                        d
                    }),
                    r("FsPriceModel", ["SeriesModel", "hqHelper", "util", "zrUtil"], function (t, e, n, r) {
                        var i = r.clone,
                        o = r.merge,
                        a = r.map,
                        s = e.inheritFrom,
                        l = n.getDiff,
                        c = function (e, n, r) {
                            t.apply(this, arguments),
                            this.drawAvShow
                        };
                        return s(c, t),
                        c.type = "fsPrice",
                        c.defaultOption = o(i(t.defaultOption), {
                            setMiddleLine: !0,
                            useHqTotalNum: !0,
                            highlightDataY: function (t) {
                                return t.nowp
                            },
                            draw: {
                                nowp: {
                                    show: !0,
                                    lineStyle: {
                                        color: "#0073dd",
                                        width: 1,
                                        lineDash: void 0,
                                        fill: void 0
                                    }
                                },
                                av: {
                                    show: !0,
                                    lineStyle: {
                                        color: "#ff8100",
                                        width: 1,
                                        lineDash: void 0,
                                        fill: void 0
                                    }
                                },
                                nowpLineClosed: {
                                    show: !0,
                                    lineStyle: {
                                        color: void 0,
                                        width: 1,
                                        lineDash: void 0,
                                        fill: "rgba(0, 115, 221, 0.05)"
                                    }
                                }
                            }
                        }, !0),
                        c.prototype.afterDataModelUpdate = function (t, e, n) {
                            var r = this.getModel("data"),
                            i = r.stockType,
                            o = !0;
                            /^(HK_index|Others_wh|Others_gzs|HS_block_hangye|HS_block_gainian|USA_index|Others_pmetal|Others_wh|Others_gzqh|Others_gqh|Others_qh|Others_zq|Others_sj|Others_ggqq)/.test(i.msg) && (o = !1),
                            this._datalimit = {
                                show: !0,
                                drawAvShow: o
                            },
                            this.stockType = i,
                            this.drawAvShow = this.get("draw").av.show && this._datalimit.drawAvShow,
                            this.show = this._datalimit.show && this.get("show")
                        },
                        c.prototype.render = function (e, n, r) {
                            t.prototype.render.call(this),
                            this.drawAvShow = !0,
                            t.prototype.renderMarkData.call(this)
                        },
                        c.prototype.getIndexFirst = function () {
                            return this.getData().dataArray[0]
                        },
                        c.prototype.getIndexLast = function () {
                            var t = this.getData();
                            return t.dataArray[t.dataArray.length - 1]
                        },
                        c.prototype.getYScaleConfigs = function (t, e) {
                            var n = this.getData();
                            if (n) {
                                var r = parseFloat(n.preClosePrice),
                                i = this.get("draw"),
                                o = [];
                                i.av.show ? (o[1] = n.max.nowp > n.max.av ? n.max.nowp : n.max.av, o[0] = n.min.nowp < n.min.av ? n.min.nowp : n.min.av) : (o[1] = n.max.nowp, o[0] = n.min.nowp),
                                o[0] == o[1] && o[1] == r && (o[1] = 1.01 * r, o[0] = .99 * r);
                                var a = this.getMarkMaxAndMin("y");
                                return o[0] = o[0] < a.min ? o[0] : a.min,
                                o[1] = o[1] > a.max ? o[1] : a.max,
                                this.get("setMiddleLine") ? {
                                    domain: l(o, r)
                                }
                                 : {
                                    domain: o
                                }
                            }
                        },
                        c.prototype.getXScaleConfigs = function () {
                            var t = this.getData();
                            if (t) {
                                var e = this.getModel("data").stockType;
                                this.stockType = e;
                                var n;
                                return n = this.get("useHqTotalNum") && this.stockType ? this.stockType.fsTotalTimeNum ? this.stockType.fsTotalTimeNum : t.totalTimeNum ? t.totalTimeNum : void 0 : void 0, {
                                    domain: a(t.dataArray, function (t) {
                                        return t.t
                                    }),
                                    minNum: n
                                }
                            }
                        },
                        c
                    }),
                    r("FsVolView", ["Hxc3View", "hqHelper", "drawLine"], function (t, e, n) {
                        var r = e.inheritFrom,
                        i = function () {
                            t.apply(this, arguments)
                        };
                        return r(i, t),
                        i.type = "fsVol",
                        i.prototype.render = function (t, e, r) {
                            var i = t.getData();
                            if (i) {
                                var o = i.dataArray,
                                a = t.getDrawScale("x"),
                                s = t.getDrawScale("y"),
                                l = t.get("draw"),
                                c = l.vol.color.upColor,
                                u = l.vol.color.downColor,
                                h = l.vol.color.eqColor,
                                d = r.getMainCtx();
                                n().x(function (t) {
                                    return a(t.t)
                                }).y(function (t) {
                                    return s(t.n)
                                }).prepriceY(function (t) {
                                    return t.nowp
                                }).canvasLineTemplate("linear-bar").barColor([c, u, h]).lineStyle(l.vol.lineStyle).y0(s.range()[0] + 1).ctx(d)(o)
                            }
                        },
                        i
                    }),
                    r("FsVolModel", ["SeriesModel", "hqHelper", "zrUtil"], function (t, e, n) {
                        var r = n.clone,
                        i = n.merge,
                        o = e.inheritFrom,
                        a = function (e, n, r) {
                            t.apply(this, arguments)
                        };
                        return o(a, t),
                        a.type = "fsVol",
                        a.defaultOption = i(r(t.defaultOption), {
                            highlightDataY: function (t) {
                                return t.n
                            },
                            draw: {
                                vol: {
                                    color: {
                                        upColor: "#D85342",
                                        downColor: "#6CA584",
                                        eqColor: "#ccc"
                                    },
                                    lineStyle: {
                                        color: void 0,
                                        width: 1,
                                        lineDash: void 0,
                                        fill: void 0
                                    }
                                }
                            }
                        }, !0),
                        a.prototype.afterDataModelUpdate = function () {
                            var t = this.getModel("data"),
                            e = t.stockType,
                            n = !0;
                            /^(Others_wh|Others_gzs|Others_pmetal)/.test(e.msg) && (n = !1),
                            this._datalimit = {
                                show: n
                            },
                            this.show = this._datalimit.show && this.get("show"),
                            this.stockType = e
                        },
                        a.prototype.render = function (e, n, r) {
                            t.prototype.render.call(this),
                            t.prototype.renderMarkData.call(this)
                        },
                        a.prototype.getYScaleConfigs = function () {
                            var t = this.getData();
                            if (t)
                                return t.min.n == t.max.n && 0 == t.max.n ? {
                                    domain: [0, 1]
                                }
                             : {
                                domain: [t.min.n, t.max.n]
                            }
                        },
                        a
                    }),
                    r("FsMoneyFlowView", ["Hxc3View", "hqHelper", "drawLine"], function (t, e, n) {
                        var r = e.inheritFrom,
                        i = function () {
                            t.apply(this, arguments)
                        };
                        return r(i, t),
                        i.type = "fsMoneyFlow",
                        i.prototype.render = function (t, e, r) {
                            var i = t.getData(),
                            o = t.getDrawScale("x"),
                            a = t.getDrawScale("y");
                            if (i && o && a) {
                                for (var s = i.dataArray, l = t.get("draw"), c = r.getMainCtx(), u = t.static_dataMap, h = ["b", "l", "m"], d = [], f = 0, p = s.length; f < p; f++) {
                                    for (var g = s[f], v = {}, m = h.length; m--; ) {
                                        var y,
                                        x = h[m];
                                        l[u[x]].show && (y = "b" === x ? g.mfbb - g.mfbs + g.mfsb - g.mfss : g["mf" + x + "b"] - g["mf" + x + "s"], v[u[x]] = y)
                                    }
                                    v.t = g.t,
                                    d.push(v)
                                }
                                for (var w = n().x(function (t) {
                                        return o(t.t)
                                    }).canvasLineTemplate("linear").ctx(c), m = h.length; m--; ) {
                                    var x = u[h[m]];
                                    l[x].show && (w.y(function (t) {
                                            return a(t[x])
                                        }).lineStyle(l[x].lineStyle), w(d))
                                }
                            }
                        },
                        i
                    }),
                    r("FsMoneyFlowModel", ["SeriesModel", "util", "hqHelper", "zrUtil"], function (t, e, n, r) {
                        var i = r.merge,
                        o = r.clone,
                        a = e.getDiff,
                        s = n.inheritFrom,
                        l = function (e, n, r) {
                            t.apply(this, arguments)
                        };
                        return s(l, t),
                        l.type = "fsMoneyFlow",
                        l.defaultOption = i(o(t.defaultOption), {
                            setMiddleLine: !0,
                            draw: {
                                big: {
                                    show: !0,
                                    lineStyle: {
                                        color: "#C00C00",
                                        width: 1,
                                        lineDash: void 0,
                                        fill: void 0
                                    }
                                },
                                little: {
                                    show: !0,
                                    lineStyle: {
                                        color: "#FB8E04",
                                        width: 1,
                                        lineDash: void 0,
                                        fill: void 0
                                    }
                                },
                                mid: {
                                    show: !0,
                                    lineStyle: {
                                        color: "#719F1F",
                                        width: 1,
                                        lineDash: void 0,
                                        fill: void 0
                                    }
                                }
                            }
                        }, !0),
                        l.prototype.static_dataMap = {
                            b: "big",
                            l: "little",
                            m: "mid",
                            s: "superBig"
                        },
                        l.prototype.afterDataModelUpdate = function () {
                            var t = this.getModel("data"),
                            e = t.stockType,
                            n = !0;
                            "HS_stock" !== e.msg && (n = !1),
                            this._datalimit.show = n,
                            this.show = this._datalimit.show && this.get("show")
                        },
                        l.prototype.render = function (e, n, r) {
                            t.prototype.render.call(this),
                            t.prototype.renderMarkData.call(this)
                        },
                        l.prototype.getYScaleConfigs = function (t, e) {
                            var n = this.getData();
                            if (n) {
                                for (var r = n.dataArray, i = this.get("draw"), o = this.static_dataMap, s = ["b", "l", "m"], l = 1 / 0, c = -1 / 0, u = 0, h = r.length; u < h; u++)
                                    for (var d = r[u], f = s.length; f--; ) {
                                        var p = s[f];
                                        if (i[o[p]].show) {
                                            var g;
                                            g = "b" === p ? d.mfbb - d.mfbs + d.mfsb - d.mfss : d["mf" + p + "b"] - d["mf" + p + "s"],
                                            c < g && (c = g),
                                            l > g && (l = g)
                                        }
                                    }
                                return l == c && 0 == c ? {
                                    domain: [0, 1]
                                }
                                 : this.get("setMiddleLine") ? {
                                    domain: a([l, c], 0)
                                }
                                 : {
                                    domain: [l, c]
                                }
                            }
                        },
                        l
                    }),
                    r("fsClassPrepare", ["FsPriceView", "FsPriceModel", "FsVolView", "FsVolModel", "FsMoneyFlowView", "FsMoneyFlowModel"], function (t, e, n, r, i, o) {
                        e.registerClass(e, e.type),
                        t.registerClass(t, t.type),
                        r.registerClass(r, r.type),
                        n.registerClass(n, n.type),
                        o.registerClass(o, o.type),
                        i.registerClass(i, i.type)
                    }),
                    r("KlineBase", ["Hxc3DataProvider", "hqHelper", "util", "Xhr"], function (t, e, n, r) {
                        function i(t) {
                            return t += "",
                            new Date(t.slice(0, 4), t.slice(4, 6) - 1, t.slice(6, 8))
                        }
                        function o(t, e, n) {
                            if ("Day" === n)
                                return t === e;
                            if ("Week" === n) {
                                var r = i(Math.min(t, e)),
                                o = i(Math.max(t, e));
                                return r.getDay() + (o.getTime() - r.getTime()) / 864e5 <= 6
                            }
                            return "Month" === n ? t.slice(4, 6) === e.slice(4, 6) : t === e
                        }
                        var a = e.filterStatus,
                        s = (e.decimalRound, e.getCallbackName),
                        l = e.klineTypeConvertToNum,
                        c = e.inheritFrom,
                        u = n.mergeLargeArr,
                        h = function () {
                            t.apply(this, arguments),
                            this.keepingGetHandle,
                            this._data,
                            this.marketStatus,
                            this.xhrStatus
                        };
                        return c(h, t),
                        h.type = "klineBase",
                        h.defaultOption = {
                            code: "hs_300033",
                            xhrType: "jqXhrWithoutCallback",
                            dType: "klineQfqDay",
                            ma: [5, 10, 30, 60],
                            isKeepingGet: !0,
                            urlFormatter: function (t) {
                                var e = l(t.dType);
                                let ss = ("file:" == window.location.protocol ? "http:" : window.location.protocol) + "//d.10jqka.com.cn/v6/line/" + t.stockCode + "/" + e + "/all.js";
								return ss;
                            },
                            keepGetUrlFormatter: function (t) {
                                var e = l(t.dType);
                                let ss = ("file:" == window.location.protocol ? "http:" : window.location.protocol) + "//d.10jqka.com.cn/v6/line/" + t.stockCode + "/" + e + "/today.js";
								return ss;
                            },
                            intervalTime: 6e4
                        },
                        h.prototype._protected_keepGetting = function (t) {
                            t()
                        },
                        h.prototype.getKLineStatus = function (t, e) {
                            var n = t.c === t.o && e ? e.c : t.o,
                            r = t.c;
                            return a(r, n)
                        },
                        h.prototype.checkNeedGetting = function (t) {
                            return !0
                        },
                        h.prototype.mergeHistoryWithCurrent = function (t, e, n) {
                            var r = this.get("dType"),
                            i = r.substr(8),
                            a = t.slice(0);
                            (a.length || (a[0] = {
                                        t: e[0].t
                                    }), o(e[0].t, a[a.length - 1].t, i)) && a.pop();
                            var s = e.slice(0);
                            if (a.length) {
                                var l = a[a.length - 1];
                                s[0].yc = l.c,
                                s[0].s = this.getKLineStatus(s[0], l)
                            } else
                                s[0].yc = n || s[0].o, s[0].s = this.getKLineStatus(s[0]);
                            return u(a, e.slice(0))
                        },
                        h.prototype.stopGetData = function () {
                            this.keepingGetHandle && clearTimeout(this.keepingGetHandle)
                        },
                        h.prototype.initStatus = function (t, e) {
                            var n = "000",
                            r = "交易中";
                            void 0 !== e && (e.stop ? (n = "030", r = "停牌") : e.dataArray.length || t && t.dataArray.length ? e.current && e.current.open ? (r = "交易中", n = "000") : !t && !e && (r = "数据异常", n = "002") : (r = "未上市", n = "001")),
                            this.marketStatus = {
                                code: n,
                                msg: r
                            }
                        },
                        h.prototype.calculateMaOnEndData = function (t) {
                            for (var e, n, r = this, i = t.length, o = r.get("ma"), a = o.length, s = "", l = 0, c = 0, u = "", h = 0, d = 0, f = 0, p = 0, g = "ma" + o[0], v = i - 1; v >= 0 && !(g in t[v]); v--)
                                !function (r, i) {
                                    for (f = 0; f < a; f++) {
                                        for (e = o[f], s = "ma" + o[f], l = 0, c = 0, u = "nMa" + o[f], h = 0, d = 0, r + 1 < e && (e = r + 1), p = 0; p < e; p++)
                                            n = t[r - p], c += n.c, h += n.n;
                                        l = c / e,
                                        i[s] = l
                                    }
                                }
                            (v, t[v]);
                            return t
                        },
                        h.prototype.calculateMa = function (t) {
                            function e(e, i) {
                                for (f = 0; f < a; f++) {
                                    if (n = o[f], s = "ma" + o[f], l = 0, c = 0, u = "nMa" + o[f], h = 0, d = 0, e + 1 < n) {
                                        n = e + 1,
                                        i[s] = NaN;
                                        for (var g = a - 1; g > f; g--)
                                            i["ma" + o[g]] = NaN;
                                        break
                                    }
                                    for (p = 0; p < n; p++)
                                        r = t[e - p], c += r.c, h += r.n;
                                    l = c / n,
                                    i[s] = l
                                }
                                return i
                            }
                            var n,
                            r,
                            i = t.length,
                            o = this.get("ma"),
                            a = o.length,
                            s = "",
                            l = 0,
                            c = 0,
                            u = "",
                            h = 0,
                            d = 0,
                            f = 0,
                            p = 0,
                            g = Math.floor(i / 8),
                            v = i % 8,
                            m = 0;
                            if (i >= 8) {
                                if (v > 0)
                                    do {
                                        e(m, t[m++])
                                    } while (--v > 0);
                                do {
                                    e(m, t[m++]),
                                    e(m, t[m++]),
                                    e(m, t[m++]),
                                    e(m, t[m++]),
                                    e(m, t[m++]),
                                    e(m, t[m++]),
                                    e(m, t[m++]),
                                    e(m, t[m++])
                                } while (--g > 0)
                            } else
                                do {
                                    e(m, t[m++])
                                } while (--v > 0);
                            return t
                        },
                        h.prototype.isSettingMa = function () {
                            return this._configs.ma && this._configs.ma.length || !1
                        },
                        h.prototype.getCallbackName = function (t) {
                            var e = "";
                            return t.replace(/\/{2}([\w.:]+)\//, function (t, n) {
                                e = n
                            }),
                            s(t, e + "/")
                        },
                        h.prototype.init = function () {
                            this.xhrPending();
                            var t = this,
                            e = this.get("code"),
                            n = this.get("xhrType"),
                            i = {
                                stockCode: e,
                                dType: this.get("dType")
                            },
                            o = this.get("urlFormatter")(i),
                            a = this.getCallbackName(o),
                            s = function () {
                                return r[n](o, void 0, a)
                            };
                            if (t._configs.keepGetUrlFormatter)
                                var l = this.get("keepGetUrlFormatter")(i), c = this.getCallbackName(l), u = function () {
                                    return r[n](l, void 0, c)
                                };
                            t._configs.keepGetUrlFormatter ? $.when(s(), u()).then(function (e, n) {
                                var r = t.arrangeHistory(e[0]),
                                i = t.arrangeCurrent(n[0]);
                                t.initStatus(r, i);
                                var o = r;
                                o.current = i;
                                var a = [];
                                (r.dataArray.length || i.dataArray.length) && (a = t.mergeHistoryWithCurrent(r.dataArray, i.dataArray, r.issuePrice)),
                                a.length && t.isSettingMa() && (a = t.calculateMa(a)),
                                o.dataArray = a,
                                o.marketStatus = t.marketStatus,
                                t._data = o,
                                t.xhrSuccess()
                            }, function (e, n, r) {
                                t.xhrFail(e, n, r)
                            }) : $.when(s()).then(function (e) {
                                var n = t.arrangeHistory(e),
                                r = n;
                                t.initStatus(n),
                                r.marketStatus = t.marketStatus,
                                t._data = r,
                                t.xhrSuccess()
                            }, function (e, n, r) {
                                t.xhrFail(e, n, r)
                            })
                        },
                        h
                    }),
                    r("KlineCommon", ["KlineBase", "hqHelper", "Xhr", "util"], function (t, e, n, r) {
                        var i = (r.urlFormatter, e.inheritFrom),
                        o = function (t) {
                            return {
                                t: t[1],
                                o: parseFloat(t[7]),
                                a: parseFloat(t[8]),
                                i: parseFloat(t[9]),
                                c: parseFloat(t[11]),
                                n: parseFloat(t[13]),
                                np: parseFloat(t[19]),
                                h: parseFloat(t[1968584]),
                                yc: "",
                                s: ""
                            }
                        },
                        a = function (e, n, r) {
                            t.apply(this, arguments)
                        };
                        return i(a, t),
                        a.type = "klineCommon",
                        a.prototype.arrangeCurrent = function (t) {
                            var e = {},
                            n = this.get("code"),
                            r = t[n];
                            return e.current = {},
                            e.current.open = r.open,
                            e.current.dt = r.dt,
                            r[11] ? e.dataArray = [o(r)] : e.dataArray = [],
                            e
                        },
                        a.prototype.checkNeedGetting = function () {
                            for (var t, e, n = this.getData(), r = (this.get("code"), this.get("isKeepingGet")), i = n.dt, o = !1, a = 0; a < n.tradeTime.length; a++)
                                t = n.tradeTime[a].split("-")[0], e = n.tradeTime[a].split("-")[1], i >= t && i < e && (o = r);
                            return o
                        },
                        a.prototype.arrangeHistory = function (t) {
                            var e = t.volumn.split(","),
                            n = t.price.split(","),
                            r = t.priceFactor,
                            i = t.dates.split(","),
                            o = t.sortYear,
                            a = i.length,
                            s = this.getKLineStatus,
                            l = {};
                            if (l.totalKlineNum = t.total, l.firstDate = t.start, l.issuePrice = t.issuePrice, l.isGetTotalData = !1, l.name = t.name, l.sortYear = t.sortYear, l.priceFactor = t.priceFactor, 0 == t.total)
                                return l.dataArray = [], l;
                            for (var c = [], u = ["i", "o", "a", "c"], h = 0, d = "", f = 0, p = [], g = 0; g < o.length; g++)
                                p.push([o[g][0], f]), f += o[g][1];
                            p.push(["", 1 / 0]);
                            for (var v = 0; v < a; v++) {
                                c[v] = {},
                                0 === v ? (d = p[h][0], c[v].t = d + i[v], l.isGetTotalData = l.firstDate == c[v].t || !1) : v < p[h + 1][1] ? c[v].t = d + i[v] : v >= p[h + 1][1] && (++h, d = p[h][0], c[v].t = d + i[v]),
                                c[v].n = parseInt(e[v]);
                                for (var m = 0; m < 4; m++)
                                    c[v].i || 0 == c[v].i ? c[v][u[m]] = n[4 * v + m] / r + c[v].i : c[v][u[m]] = n[4 * v + m] / r;
                                c[v].s = s(c[v], c[v - 1]),
                                c[v].yc = 0 === v ? c[v].o : c[v - 1].c
                            }
                            return l.isGetTotalData && (c[0].yc = parseFloat(l.issuePrice)),
                            l.dataArray = c,
                            l
                        },
                        a
                    }),
                    r("KlineLast", ["KlineBase", "hqHelper", "Xhr", "util"], function (t, e, n, r) {
                        var i = (r.urlFormatter, e.klineTypeConvertToNum),
                        o = e.inheritFrom,
                        a = function (t) {
                            return {
                                t: t[1],
                                o: parseFloat(t[7]),
                                a: parseFloat(t[8]),
                                i: parseFloat(t[9]),
                                c: parseFloat(t[11]),
                                n: parseFloat(t[13]),
                                np: parseFloat(t[19]),
                                h: parseFloat(t[1968584]),
                                yc: "",
                                s: ""
                            }
                        },
                        s = function (e, n, r) {
                            t.apply(this, arguments)
                        };
                        return o(s, t),
                        s.type = "klineLast",
                        s.defaultOption = {
                            code: "hs_300033",
                            xhrType: "jqXhrWithoutCallback",
                            dType: "klineQfqDay",
                            ma: [5, 10, 30, 60],
                            isKeepingGet: !0,
                            urlFormatter: function (t) {
                                var e = i(t.dType);
                                return ("file:" == window.location.protocol ? "http:" : window.location.protocol) + "//d.10jqka.com.cn/v6/line/" + t.stockCode + "/" + e + "/last.js"
                            },
                            keepGetUrlFormatter: function (t) {
                                var e = i(t.dType);
                                return ("file:" == window.location.protocol ? "http:" : window.location.protocol) + "//d.10jqka.com.cn/v6/line/" + t.stockCode + "/" + e + "/today.js"
                            },
                            intervalTime: 6e4
                        },
                        s.prototype.arrangeCurrent = function (t) {
                            var e = {},
                            n = this.get("code"),
                            r = t[n];
                            return e.current = {},
                            e.current.open = r.open,
                            e.current.dt = r.dt,
                            r[11] ? e.dataArray = [a(r)] : e.dataArray = [],
                            e
                        },
                        s.prototype.checkNeedGetting = function () {
                            return !1
                        },
                        s.prototype.arrangeHistory = function (t) {
                            var e = [],
                            n = this.getKLineStatus,
                            r = t.today ? t.today : null,
                            i = {};
                            if (i.totalKlineNum = t.total, i.firstDate = t.start, i.issuePrice = t.issuePrice, i.isGetTotalData = !1, i.name = t.name, 0 == t.total)
                                return i.dataArray = [], i;
                            for (var o, a = t.data, s = a.split(";"), l = 0; l < s.length && (o = s[l].split(","), !r || r != o[0]); l++)
                                e.push({
                                    t: o[0],
                                    o: parseFloat(o[1]),
                                    a: parseFloat(o[2]),
                                    i: parseFloat(o[3]),
                                    c: parseFloat(o[4]),
                                    n: parseFloat(o[5]),
                                    np: parseFloat(o[6]),
                                    h: parseFloat(o[7])
                                }), e[l].s = n(e[l], e[l - 1]), 0 === l ? (e[l].yc = e[l].o, i.isGetTotalData = i.firstDate == e[l].t) : e[l].yc = e[l - 1].c;
                            return i.isGetTotalData && (e[0].yc = parseFloat(i.issuePrice)),
                            i.dataArray = e,
                            i
                        },
                        s
                    }),
                    r("klineDataPrepare", ["KlineCommon", "KlineLast"], function (t, e) {
                        t.registerClass(t, t.type),
                        e.registerClass(e, e.type)
                    }),
                    r("KlinePriceModel", ["SeriesModel", "hqHelper", "zrUtil"], function (t, e, n) {
                        var r = n.clone,
                        i = n.each,
                        o = n.map,
                        a = n.merge,
                        s = e.inheritFrom,
                        l = function (t) {
                            var e,
                            n,
                            r,
                            i,
                            o,
                            a = 1 / 0,
                            s = -1 / 0,
                            l = 1 / 0,
                            c = -1 / 0;
                            for (e = 0; e < t.length; e++)
                                for (n in t[e])
                                    null !== (r = t[e][n]) && (/^(s|t|n|h|np|yc)$/.test(n) || ("o" === n || "a" === n || "i" === n || "c" === n ? (s < r && (s = r, i = e), a > r && (a = r, o = e)) : (c < r && (c = +r), l > r && (l = r))));
                            return +c < s && (c = s),
                            +l > a && (l = a), {
                                min: a,
                                max: s,
                                allmin: l,
                                allmax: c,
                                minindex: o,
                                maxindex: i
                            }
                        },
                        c = function (e, n, r, i) {
                            t.apply(this, arguments)
                        };
                        return s(c, t),
                        c.type = "klinePrice",
                        c.defaultOption = a(r(t.defaultOption), {
                            draw: {
                                nowp: {
                                    show: !0,
                                    upFillColor: "#ec5f4c",
                                    eqFillColor: "#ec5f4c",
                                    downFillColor: "#6ba583",
                                    upBorderColor: "#900f00",
                                    eqBorderColor: "#900f00",
                                    downBorderColor: "#15713b",
                                    lineStyle: {
                                        width: 1
                                    }
                                },
                                maLines: {
                                    show: !0,
                                    ma5: {
                                        lineStyle: {
                                            color: "#1F6195",
                                            width: 1
                                        }
                                    },
                                    ma10: {
                                        lineStyle: {
                                            color: "#E0AC58",
                                            width: 1
                                        }
                                    },
                                    ma30: {
                                        lineStyle: {
                                            color: "#9C73AF",
                                            width: 1
                                        }
                                    },
                                    ma60: {
                                        lineStyle: {
                                            color: "#6CA582",
                                            width: 1
                                        }
                                    }
                                }
                            }
                        }, !0),
                        c.prototype.render = function (e, n, r) {
                            t.prototype.render.call(this);
                            var i = e.getData();
                            if (i) {
                                this.status = i.status ? i.status : this.status;
                                var o = this.getScaleModel("x"),
                                a = o.startIndex,
                                s = o.endIndex;
                                this.getModel("data");
                                this.points = i.dataArray.slice(a, s + 1)
                            }
                            t.prototype.renderMarkData.call(this)
                        },
                        c.prototype.getIndexMin = function () {
                            return this.points[this.minIndex]
                        },
                        c.prototype.getIndexMax = function () {
                            return this.points[this.maxIndex]
                        },
                        c.prototype.getIndexFirst = function () {
                            return this.getData().dataArray[0]
                        },
                        c.prototype.getIndexLast = function () {
                            var t = this.getData();
                            return t.dataArray[t.dataArray.length - 1]
                        },
                        c.prototype.getDrawDataByIndex = function (t) {
                            var e,
                            n = this.points;
                            return i(n, function (n, r) {
                                n.t == t && (e = n)
                            }),
                            e
                        },
                        c.prototype.getXScaleConfigs = function () {
                            var t = this.getData();
                            if (t)
                                return {
                                    domain: o(t.dataArray, function (t) {
                                        return t.t
                                    })
                                }
                        },
                        c.prototype.getYScaleConfigs = function (t, e, n) {
                            var r = this.getData();
                            if (r) {
                                var i = r.dataArray;
                                if (!i.length || r.status && "001" == r.status.code)
                                    return {
                                        domain: [0, 1]
                                    };
                                if (n = n || -1 / 0, arguments.length > 1 && i.length - 1 >= n) {
                                    var o = Math.round((i.length - 1) * t),
                                    a = Math.round((i.length - 1) * e);
                                    i = i.slice(o, a + 1)
                                }
                                var s = l(i),
                                c = s.allmin,
                                u = s.allmax,
                                h = s.minindex,
                                d = s.maxindex;
                                this.minIndex = h,
                                this.maxIndex = d;
                                var f = this.getMarkMaxAndMin("y");
                                return c = c < f.min ? c : f.min,
                                u = u > f.max ? u : f.max, {
                                    domain: [parseFloat(c), parseFloat(u)]
                                }
                            }
                        },
                        c
                    }),
                    r("drawBar", ["util"], function (t) {
                        function e(t) {
                            return t[0]
                        }
                        function n(t) {
                            return t[1]
                        }
                        function r(t, e) {
                            return arguments.length < 2 && (e = .5),
                            (t >> 0) + e
                        }
                        function i(t, e, n, i, o, a, s, l, c) {
                            for (var u = 0; u < e.length; u++) {
                                var h,
                                d = e[u].length,
                                f = -1;
                                for (n.beginPath(); ++f < d; )
                                    n.rect(r((h = e[u][f])[0], t), r(h[1], t), i, h[3]);
                                n.fillStyle = o[u][1],
                                n.fill(),
                                1 !== i && s && (n.lineWidth = l, n.strokeStyle = a[u][1], n.stroke())
                            }
                        }
                        function o(t, e, n, i) {
                            for (var o = 0; o < e.length; o++) {
                                var a,
                                s = e[o].length,
                                l = -1;
                                for (t.beginPath(); ++l < s; )
                                    t.moveTo(r((a = e[o][l])[0]), r(a[1])), t.lineTo(r(a[0]), r(a[2]));
                                t.closePath(),
                                t.strokeStyle = i[o][1] ? i[o][1] : n[o][1],
                                t.stroke()
                            }
                        }
                        function a(t, e, n) {
                            for (var r = e.length, i = 0; i < r; i++) {
                                t.beginPath();
                                for (var o, a = e[i].length, s = -1; ++s < a; )
                                    t.moveTo((o = e[i][s])[0], o[1]), t.lineTo(o[0], o[2]);
                                t.strokeStyle = n[i][1],
                                t.stroke(),
                                t.closePath()
                            }
                        }
                        function s(t, e, n, i, s, l, c, u, h, d) {
                            if (1 === i)
                                return o(n, d, s, l), !0;
                            a(n, d, l);
                            for (var f = 0; f < e.length; f++) {
                                var p,
                                g = e[f].length,
                                v = -1;
                                for (n.beginPath(); ++v < g; )
                                    n.rect(r((p = e[f][v])[0], t), r(p[1], t), i, p[3] >> 0 > 1 ? p[3] >> 0 : 1);
                                n.fillStyle = s[f][1],
                                n.fill(),
                                1 !== i && c && (n.lineWidth = u, n.strokeStyle = l[f][1], n.stroke())
                            }
                        }
                        function l() {
                            function t(t, e) {
                                if ("canvas" === o) {
                                    var n = t[0][2],
                                    r = (t.length > 1 && (t[1][0], t[0][0]), 1 === n || b % 2 == 0 || 0 === a ? 0 : .5);
                                    0 === h.length && (h = [["a", S], ["a", S], ["a", S]]),
                                    e.save(),
                                    T(r, f, e, n, l, h, a, b, S, d),
                                    e.restore()
                                } else if ("svg" === o)
                                    return T(t);
                                return !1
                            }
                            var o = "canvas",
                            a = 1,
                            s = "",
                            l = [],
                            h = [],
                            d = [],
                            f = [],
                            p = e,
                            g = n,
                            v = e,
                            m = n,
                            y = e,
                            x = n,
                            w = n,
                            b = 1,
                            S = "black",
                            M = null,
                            k = "kBar",
                            _ = "steelblue",
                            T = i,
                            A = function (e) {
                                var n = [],
                                i = -1,
                                o = e.length;
                                if (s) {
                                    for (var a = 0; a < l.length; a++)
                                        f[a] = [], d[a] = [];
                                    for (var c, i = 0; i < e.length; i++)
                                        c = e[i], c[s] == l[0][0] ? (f[0].push([+p(c, i), +g(c, i), +v(c, i), +m(c, i)]), "kLine" === k && d[0].push([r(+y(c, i)), r(+x(c, i)), r(+w(c, i))])) : c[s] == l[1][0] ? (f[1].push([+p(c, i), +g(c, i), +v(c, i), +m(c, i)]), d[1].push([r(+y(c, i)), r(+x(c, i)), r(+w(c, i))])) : 3 === l.length && c[s] == l[2][0] && (f[2].push([+p(c, i), +g(c, i), +v(c, i), +m(c, i)]), d[2].push([r(+y(c, i)), r(+x(c, i)), r(+w(c, i))])), n.push([+p(c, i), +g(c, i), +v(c, i), +m(c, i)])
                                } else {
                                    for (; ++i < o; ) {
                                        var c = e[i];
                                        n.push([+p(c, i), +g(c, i), +v(c, i), +m(c, i)])
                                    }
                                    f = n
                                }
                                return n.length && t(n, M),
                                A
                            };
                            return A.x = function (t) {
                                if (!arguments.length)
                                    throw new Error("bar缺少必填属性配置: bar.x(...) ");
                                return p = t,
                                A
                            },
                            A.y = function (t) {
                                if (!arguments.length)
                                    throw new Error("bar缺少必填属性配置: bar.y(...) ");
                                return g = t,
                                A
                            },
                            A.width = function (t) {
                                return v = t,
                                A
                            },
                            A.height = function (t) {
                                return m = t,
                                A
                            },
                            A.ctx = function (t) {
                                return o = "canvas",
                                M = t,
                                A
                            },
                            A.strokeStyle = function (t) {
                                return "boolean" == typeof t ? a = t ? 1 : 0 : S = t,
                                A
                            },
                            A.lineWidth = function (t) {
                                return t ? b = t : a = 0,
                                A
                            },
                            A.fillStyle = function (t) {
                                return _ = t,
                                A
                            },
                            A.canvasBarTemplate = function (t) {
                                return o = "canvas",
                                "function" == typeof t ? T = t : (k = t, T = c(u, t)),
                                A
                            },
                            A.barColor = function (t) {
                                if (t.length < 3)
                                    throw new Error("infinite array");
                                return s = t.shift(),
                                l = t,
                                A
                            },
                            A.barBorderColor = function (t) {
                                if (t.length < 3)
                                    throw new Error("infinite array");
                                return h = t,
                                A
                            },
                            A.lineX = function (t) {
                                return y = t,
                                A
                            },
                            A.lineYTop = function (t) {
                                return x = t,
                                A
                            },
                            A.lineYBottom = function (t) {
                                return w = t,
                                A
                            },
                            A
                        }
                        var c = t.map,
                        u = {
                            kBar: i,
                            kLine: s
                        };
                        return function () {
                            return l()
                        }
                    }),
                    r("KlinePriceView", ["Hxc3View", "hqHelper", "drawBar", "drawLine", "util"], function (t, e, n, r, i) {
                        var o = i.getMax,
                        a = e.inheritFrom,
                        s = function () {
                            t.apply(this, arguments)
                        };
                        return a(s, t),
                        s.type = "klinePrice",
                        s.prototype.render = function (t, e, i) {
                            var a = t.getData();
                            if (a) {
                                var s = t.points;
                                if (!a.status || "001" !== a.status.code || s.length) {
                                    var l = t.getDrawScale("x"),
                                    c = t.getDrawScale("y"),
                                    u = t.get("draw"),
                                    h = i.getMainCtx(),
                                    d = l.bandwidth(),
                                    f = 0;
                                    if (d > 1) {
                                        var p = Math.floor(d);
                                        f = (d - p) / 2
                                    }
                                    if (u.nowp.show) {
                                        n().x(function (t) {
                                            return l(t.t) + f
                                        }).y(function (t) {
                                            return c(o([t.o, t.c]))
                                        }).width(function () {
                                            return d - 2 * f
                                        }).height(function (t) {
                                            return Math.abs(c(t.o) - c(t.c))
                                        }).lineX(function (t) {
                                            return l(t.t) + f + (d - 2 * f) / 2
                                        }).lineYTop(function (t) {
                                            return c(t.a)
                                        }).lineYBottom(function (t) {
                                            return c(t.i)
                                        }).canvasBarTemplate("kLine").lineWidth(1).barColor(["s", ["ab", u.nowp.upFillColor], ["be", u.nowp.downFillColor], ["eq", u.nowp.eqFillColor]]).barBorderColor([["ab", u.nowp.upBorderColor], ["be", u.nowp.downBorderColor], ["eq", u.nowp.eqBorderColor]]).ctx(h)(s)
                                    }
                                    if (u.maLines.show) {
                                        var g = r().x(function (t) {
                                            return l(t.t) + d / 2
                                        }).canvasLineTemplate("linear").ctx(h);
                                        for (var v in u.maLines)
                                            if (/^ma/.test(v)) {
                                                var m = v;
                                                g.y(function (t) {
                                                    return c(t[m])
                                                }).lineStyle(u.maLines[m].lineStyle),
                                                g(s)
                                            }
                                    }
                                    i.triggerAction(t, "VIEW_DID_UPDATE")
                                }
                            }
                        },
                        s
                    }),
                    r("KlineVolModel", ["SeriesModel", "hqHelper", "util", "zrUtil"], function (t, e, n, r) {
                        var i = r.clone,
                        o = r.merge,
                        a = n.getMax,
                        s = n.getMin,
                        l = e.inheritFrom,
                        c = function (e, n, r, i) {
                            t.apply(this, arguments)
                        };
                        return l(c, t),
                        c.type = "klineVol",
                        c.defaultOption = o(i(t.defaultOption), {
                            draw: {
                                vol: {
                                    upFillColor: "#ec5f4c",
                                    eqFillColor: "#ec5f4c",
                                    downFillColor: "#6ba583",
                                    upBorderColor: "#900f00",
                                    eqBorderColor: "#900f00",
                                    downBorderColor: "#15713b",
                                    borderWidth: 1
                                }
                            }
                        }, !0),
                        c.prototype.afterDataModelUpdate = function () {
                            var t = this.getModel("data"),
                            e = t.stockType,
                            n = !0;
                            e && /^(Others_wh|Others_zq|Others_pmetal|Others_gqh)/.test(e.msg) && (n = !1),
                            this._datalimit = {
                                show: n
                            },
                            this.show = this._datalimit.show && this.get("show"),
                            this.stockType = e
                        },
                        c.prototype.render = function (e, n, r) {
                            t.prototype.render.call(this);
                            var i = this.getData();
                            if (i) {
                                var o = this.getScaleModel("x"),
                                a = o.startIndex,
                                s = o.endIndex;
                                this.points = i.dataArray.slice(a, s + 1)
                            }
                            t.prototype.renderMarkData.call(this)
                        },
                        c.prototype.getYScaleConfigs = function (t, e, n) {
                            var r = this.getData();
                            if (r) {
                                var i = r.dataArray;
                                if (n = n || -1 / 0, arguments.length > 1 && i.length - 1 >= n) {
                                    var o = Math.round((i.length - 1) * t),
                                    l = Math.round((i.length - 1) * e);
                                    i = i.slice(o, l + 1)
                                }
                                var c = [];
                                return c[0] = s(i, function (t) {
                                    return t.n
                                }),
                                c[1] = a(i, function (t) {
                                    return t.n
                                }),
                                c[0] == c[1] && 0 != c[0] && (c[0] = 0), {
                                    domain: c
                                }
                            }
                        },
                        c
                    }),
                    r("KlineVolView", ["Hxc3View", "hqHelper", "drawBar"], function (t, e, n) {
                        var r = e.inheritFrom,
                        i = function () {
                            t.apply(this, arguments)
                        };
                        return r(i, t),
                        i.type = "klineVol",
                        i.prototype.render = function (t, e, r) {
                            if (t.getData()) {
                                var i = t.points,
                                o = t.getDrawScale("x"),
                                a = t.getDrawScale("y"),
                                s = t.get("draw"),
                                l = r.getMainCtx(),
                                c = o.bandwidth(),
                                u = 0;
                                if (c > 1) {
                                    var h = Math.floor(c);
                                    u = (c - h) / 2
                                }
                                n().x(function (t, e) {
                                    return o(t.t) + u
                                }).y(function (t) {
                                    return a(t.n)
                                }).width(function (t) {
                                    return c - 2 * u
                                }).height(function (t) {
                                    return a.range()[0] - Math.floor(a(t.n)) + 1
                                }).canvasBarTemplate("kBar").lineWidth(s.vol.borderWidth).barColor(["s", ["ab", s.vol.upFillColor], ["be", s.vol.downFillColor], ["eq", s.vol.eqFillColor]]).barBorderColor([["ab", s.vol.upBorderColor], ["be", s.vol.downBorderColor], ["eq", s.vol.eqBorderColor]]).ctx(l)(i)
                            }
                        },
                        i
                    }),
                    r("klineClassPrepare", ["KlinePriceModel", "KlinePriceView", "KlineVolModel", "KlineVolView"], function (t, e, n, r) {
                        t.registerClass(t, t.type),
                        e.registerClass(e, e.type),
                        n.registerClass(n, n.type),
                        r.registerClass(r, r.type)
                    }),
                    r("macd", [], function () {
                        function t(t) {
                            var e,
                            n,
                            r,
                            i,
                            o,
                            a,
                            s = t.dataArray,
                            l = 0,
                            c = [];
                            for (l = 0; l < s.length; l++)
                                e = s[l].c, 0 != l && e ? (o = (2 * e + 11 * o) / 13, a = (2 * e + 25 * a) / 27, n = o - a, r = (2 * n + 8 * r) / 10, i = 2 * (n - r)) : (o = a = e || 0, r = n = o - a, i = 0), c.push({
                                    xIndex: s[l].t,
                                    MACD: i,
                                    DIFF: n,
                                    DEA: r
                                });
                            return {
                                dataArray: c
                            }
                        }
                        function e() {
                            return {
                                draw: {
                                    DEA: {
                                        enable: !0,
                                        color: "#C00C00",
                                        lineWidth: 1
                                    },
                                    DIFF: {
                                        enable: !0,
                                        color: "#C0BA4D",
                                        lineWidth: 1
                                    },
                                    MACD: {
                                        enable: !0,
                                        lineWidth: 1,
                                        type: "bar",
                                        upcolor: "red",
                                        downcolor: "green"
                                    }
                                }
                            }
                        }
                        return {
                            arrayData: t,
                            defaultOption: e
                        }
                    }),
                    r("techUtil", ["hqHelper"], function (t) {
                        var e = t.decimalRound,
                        n = {};
                        n.functor = function (t) {
                            return "function" == typeof t ? t : function (t) {
                                return t
                            }
                        };
                        var r = n.fMax = function (t) {
                            return t.a
                        },
                        i = n.fMin = function (t) {
                            return t.i
                        },
                        o = n.fClosePrice = function (t) {
                            return t.c
                        },
                        a = (n.fOpenPrice = function (t) {
                            return t.o
                        }, n.fVol = function (t) {
                            return t.n
                        }),
                        s = (n.fMoney = function (t) {
                            return t.np
                        }, n.getDefaultRound = function (t, e) {
                            var n = {},
                            r = 0,
                            i = 0,
                            o = "";
                            for (r = 0; r < t.length; r++)
                                for (i = 0; i < e.length; i++)
                                    o = e[i] + t[r], n[o] = NaN;
                            return n
                        }),
                        l = n.getMaxMinDataInRound = function (t, e, n, o) {
                            for (var a = {}, s = 0; s < e.length; s++) {
                                var l,
                                c,
                                u,
                                h,
                                d = e[s],
                                f = "maxR" + d,
                                p = "minR" + d,
                                g = 0,
                                v = 1e6;
                                if (n + 1 < d)
                                    break;
                                if (null !== o[f] && o[f])
                                    if (l = r(t[n]), c = i(t[n]), u = r(t[n - d]), h = i(t[n - d]), u == o[f] || o[p] == h)
                                        for (var m = 0; m < d; m++)
                                            l = r(t[n - m]), c = i(t[n - m]), g = l > g ? l : g, v = c < v ? c : v;
                                    else
                                        g = l > o[f] ? l : o[f], v = c < o[p] ? c : o[p];
                                else
                                    for (var m = 0; m < d; m++)
                                        l = r(t[n - m]), c = i(t[n - m]), g = l > g ? l : g, v = c < v ? c : v;
                                a[f] = g,
                                a[p] = v
                            }
                            return a
                        },
                        c = n.getAverageDataInRound = function (t, n, r, i) {
                            for (var a, s, l, c, u = {}, h = 0; h < n.length && (l = n[h], s = "ma" + l, a = 0, !(r + 1 < l)); h++) {
                                if (null !== i[s] && i[s])
                                    a = i[s] * l - o(t[r - l]) + o(t[r]);
                                else
                                    for (c = 0; c < l; c++)
                                        a += o(t[r - c]);
                                u[s] = e(a / l, 4)
                            }
                            return u
                        },
                        u = n.getVolWithStatusInRound = function (t, e, n, r) {
                            for (var i, s, l, c, u, h, d, f, p, g, v, m, y = {}, x = 0; x < e.length && (u = e[x], l = "upVol" + e[x], c = "downVol" + e[x], i = 0, s = 0, !(n < u)); x++) {
                                if (null !== r[l] && r[l])
                                    f = o(t[n]) > o(t[n - 1]) || !1, d = o(t[n - u]) > o(t[n - u - 1]) || !1, v = r[l], m = r[c], p = a(t[n]), g = a(t[n - u]), d && f ? (i = p + v - g, s = m) : !d && f ? (i = p + v, s = m - g) : d && !f ? (i = v - g, s = p + m) : !d && !f && (i = v, s = p + m - g);
                                else
                                    for (h = 0; h < u; h++)
                                        o(t[n - h]) > o(t[n - h - 1]) ? i += a(t[n - h]) : s += a(t[n - h]);
                                y[l] = i,
                                y[c] = s
                            }
                            return y
                        },
                        h = n.roundInterpolates = {
                            maxMinDataInRound: l,
                            averageDataInRound: c,
                            volStatusInRound: u
                        };
                        n.getDataInRound = function (t, e, n, r) {
                            for (var i = s(e, r), o = [], a = {}, l = 0; l < t.length; l++)
                                a = h[n](t, e, l, o[l - 1]), o[l] = $.extend({}, i, a);
                            return o
                        },
                        n.calcMas = function (t, e, n) {
                            if (0 === t.length || !t)
                                return null;
                            for (var r = [], i = t.length, o = {}, a = 0, s = 0, l = 0, c = 0; c < i; c++)
                                if (c < e)
                                    o = t[c], s =  + ("number" === n ? o : o.c), a += s, l = a / e, r.push(l);
                                else {
                                    var u = c - e + 1;
                                    a = 0;
                                    for (var h = u; h <= c; h++)
                                        o = t[h], s =  + ("number" === n ? o : o.c), a += s;
                                    l = a / e,
                                    r.push(l)
                                }
                            return r
                        },
                        n.fIf = function (t, e, n) {
                            return t ? e : n
                        },
                        n.ISNULL = function (t) {
                            return t ? 0 : 1
                        },
                        n.EMA = function (t, e, n) {
                            return e = e || 0,
                            (2 * t + (n - 1) * e) / (n + 1)
                        },
                        n.MAX = function (t, e) {
                            return +t > +e ? +t : +e
                        },
                        n.ABS = function (t) {
                            return Math.abs(+t)
                        },
                        n.SMA = function (t, e, n, r) {
                            return (n * t + (e - n) * r) / e
                        };
                        return n
                    }),
                    r("asi", ["hqHelper", "techUtil"], function (t, e) {
                        function n(t) {
                            for (var e, n, r, d, f, p, g, v, m, y, x, w, b, S, M, k, _, T, A, C, D, P, F, I, O = t.dataArray, B = [], H = [], L = 0, E = 0, q = 0, V = [], z = 0, N = 0; N < O.length; N++)
                                if (r = O[N - 1], p = O[N], L = 0, E = 0, z = 0, r && (d = o(r), b = a(r), w = s(r), m = l(p), y = s(p), g = o(p), v = a(p), f = u(m - d), x = u(y - d), S = u(m - w), M = u(d - b), T = x > S && x > f, A = x + f / 2 + M / 4, C = S + M / 4, _ = h(T, A, C), D = f > x && f > S, P = f + x / 2 + M / 4, k = h(D, P, _), F = g - d + (g - v) / 2 + d - b, I = c(f, x), z = 16 * F / k * I), B.push(z), N < 26)
                                    V.push({
                                        ASI: 0,
                                        ASIT: 0
                                    });
                                else {
                                    for (e = 0; e < 26; e++)
                                        L += B[N - e];
                                    if (H.push(L), N < 36)
                                        V.push({
                                            ASI: L,
                                            ASIT: 0
                                        });
                                    else {
                                        for (n = 0; n < 10; n++)
                                            E += H[N - 26 - n];
                                        q = E / 10,
                                        V.push({
                                            xIndex: O[N].t,
                                            ASI: +i(L, 2),
                                            ASIT: +i(q, 2)
                                        })
                                    }
                                }
                            return {
                                dataArray: V
                            }
                        }
                        function r() {
                            return {
                                draw: {
                                    ASI: {
                                        enable: !0,
                                        color: "#C00C00",
                                        lineWidth: 1
                                    },
                                    ASIT: {
                                        enable: !0,
                                        color: "#C0BA4D",
                                        lineWidth: 1
                                    }
                                }
                            }
                        }
                        var i = t.decimalRound,
                        o = e.fClosePrice,
                        a = e.fOpenPrice,
                        s = e.fMin,
                        l = e.fMax,
                        c = e.MAX,
                        u = e.ABS,
                        h = e.fIf;
                        return {
                            arrayData: n,
                            defaultOption: r
                        }
                    }),
                    r("bias", ["techUtil"], function (t) {
                        function e(t) {
                            for (var e = t.dataArray, n = 0, o = 0, a = 0, s = {}, l = [], c = [6, 12, 24], u = "ma" + c[0], h = "ma" + c[1], d = "ma" + c[2], f = r(e, c, "averageDataInRound", ["ma"]), p = 0; p < f.length; p++)
                                s = f[p], s[u] && (n = (i(e[p]) - s[u]) / s[u] * 100, s[h] && (o = (i(e[p]) - s[h]) / s[h] * 100, s[d] && (a = (i(e[p]) - s[d]) / s[d] * 100))), l.push({
                                    xIndex: e[p].t,
                                    BIAS: n,
                                    BIAS2: o,
                                    BIAS3: a
                                });
                            return {
                                dataArray: l
                            }
                        }
                        function n() {
                            return {
                                draw: {
                                    BIAS: {
                                        enable: !0,
                                        color: "#C00C00",
                                        lineWidth: 1
                                    },
                                    BIAS2: {
                                        enable: !0,
                                        color: "#C0BA4D",
                                        lineWidth: 1
                                    },
                                    BIAS3: {
                                        enable: !0,
                                        color: "#FB8E04",
                                        lineWidth: 1
                                    }
                                }
                            }
                        }
                        var r = t.getDataInRound,
                        i = t.fClosePrice;
                        return {
                            arrayData: e,
                            defaultOption: n
                        }
                    }),
                    r("boll", [], function () {
                        function t(t) {
                            var e,
                            n,
                            r,
                            i,
                            o,
                            a,
                            s,
                            l,
                            c = t.dataArray,
                            u = [],
                            h = 0;
                            for (o = 0; o < c.length; o++) {
                                if (e = c[o].c, h += e, o >= 19) {
                                    for (n = h / 20, l = 0, a = o - 19; a <= o; a++)
                                        s = c[a].c - n, l += s * s;
                                    l = Math.sqrt(l / 20),
                                    r = n + 2 * l,
                                    i = n - 2 * l,
                                    h -= c[o - 19].c
                                } else
                                    n = r = i = 0;
                                u.push({
                                    xIndex: c[o].t,
                                    MID: n,
                                    UPPER: r,
                                    LOWER: i
                                })
                            }
                            return {
                                dataArray: u
                            }
                        }
                        function e() {
                            return {
                                draw: {
                                    MID: {
                                        enable: !0,
                                        color: "#C00C00",
                                        lineWidth: 1
                                    },
                                    UPPER: {
                                        enable: !0,
                                        color: "#C0BA4D",
                                        lineWidth: 1
                                    },
                                    LOWER: {
                                        enable: !0,
                                        color: "#FB8E04",
                                        lineWidth: 1
                                    }
                                }
                            }
                        }
                        return {
                            arrayData: t,
                            defaultOption: e
                        }
                    }),
                    r("kdj", [], function () {
                        function t(t) {
                            var e,
                            n,
                            r,
                            i,
                            o,
                            a = t.dataArray,
                            s = 1 / 0,
                            l = -1 / 0,
                            c = 0,
                            u = 0,
                            h = [];
                            for (i = 0; i < a.length; i++) {
                                for (e = a[i].c, s = 1 / 0, l = -1 / 0, o = i < 9 ? 0 : i - 9 + 1; o <= i; o++)
                                    s > a[o].i && (s = a[o].i), l < a[o].a && (l = a[o].a);
                                n = (e - s) / (l - s) * 100,
                                (isNaN(n) || n === -1 / 0 || n === 1 / 0) && (n = 0),
                                i < 9 ? (c = (n + c * i) / (i + 1), u = (c + u * i) / (i + 1)) : (c = (n + 2 * c) / 3, u = (c + 2 * u) / 3),
                                r = 3 * c - 2 * u,
                                h.push({
                                    xIndex: a[i].t,
                                    K: c,
                                    D: u,
                                    J: r
                                })
                            }
                            return {
                                dataArray: h
                            }
                        }
                        function e() {
                            return {
                                draw: {
                                    K: {
                                        enable: !0,
                                        color: "#C00C00",
                                        lineWidth: 1
                                    },
                                    D: {
                                        enable: !0,
                                        color: "#C0BA4D",
                                        lineWidth: 1
                                    },
                                    J: {
                                        enable: !0,
                                        color: "#FB8E04",
                                        lineWidth: 1
                                    }
                                }
                            }
                        }
                        return {
                            arrayData: t,
                            defaultOption: e
                        }
                    }),
                    r("rsi", ["techUtil"], function (t) {
                        function e(t) {
                            var e,
                            n,
                            a,
                            s,
                            l,
                            c,
                            u,
                            h,
                            d,
                            f,
                            p,
                            g,
                            v = t.dataArray,
                            m = [];
                            for (g = 0; g < v.length; g++)
                                e = v[g].c, 0 == g ? (n = e, s = u = f = 0, l = h = p = 0) : (n = v[g - 1].c, s = r(i(e - n, 0), 6, 1, s), l = r(o(e - n), 6, 1, l), u = r(i(e - n, 0), 12, 1, u), h = r(o(e - n), 12, 1, h), f = r(i(e - n, 0), 24, 1, f), p = r(o(e - n), 24, 1, p)), a = s / l * 100 || 0, c = u / h * 100 || 0, d = f / p * 100 || 0, m.push({
                                    xIndex: v[g].t,
                                    RSI6: a,
                                    RSI12: c,
                                    RSI24: d
                                });
                            return {
                                dataArray: m
                            }
                        }
                        function n() {
                            return {
                                draw: {
                                    RSI6: {
                                        enable: !0,
                                        color: "#C00C00",
                                        lineWidth: 1
                                    },
                                    RSI12: {
                                        enable: !0,
                                        color: "#C0BA4D",
                                        lineWidth: 1
                                    },
                                    RSI24: {
                                        enable: !0,
                                        color: "#FB8E04",
                                        lineWidth: 1
                                    }
                                }
                            }
                        }
                        var r = t.SMA,
                        i = t.MAX,
                        o = t.ABS;
                        return {
                            arrayData: e,
                            defaultOption: n
                        }
                    }),
                    r("vr", ["techUtil"], function (t) {
                        function e(t) {
                            for (var e = t.dataArray, n = [26], i = "upVol" + n[0], o = "downVol" + n[0], a = [], s = NaN, l = r(e, n, "volStatusInRound", ["upVol", "downVol"]), c = 0; c < e.length; c++)
                                l[c][i] && (s = l[c][i] / l[c][o] * 100), a.push({
                                    xIndex: e[c].t,
                                    VR: s || 0,
                                    A: 100,
                                    B: 200
                                });
                            return {
                                dataArray: a
                            }
                        }
                        function n() {
                            return {
                                draw: {
                                    VR: {
                                        enable: !0,
                                        color: "#C00C00",
                                        lineWidth: 1
                                    },
                                    A: {
                                        enable: !0,
                                        color: "#C0BA4D",
                                        lineWidth: 1
                                    },
                                    B: {
                                        enable: !0,
                                        color: "#FB8E04",
                                        lineWidth: 1
                                    }
                                }
                            }
                        }
                        var r = t.getDataInRound;
                        return {
                            arrayData: e,
                            defaultOption: n
                        }
                    }),
                    r("wr", ["techUtil"], function (t) {
                        function e(t) {
                            for (var e = t.dataArray, n = [6, 10], o = "maxR" + n[0], a = "minR" + n[0], s = "maxR" + n[1], l = "minR" + n[1], c = r(e, n, "maxMinDataInRound", ["maxR", "minR"]), u = [], h = {}, d = 0, f = 0, p = 0; p < c.length; p++)
                                h = c[p], h[o] && (d = 100 * (h[o] - i(e[p])) / (h[o] - h[a])), h[s] && (f = 100 * (h[s] - i(e[p])) / (h[s] - h[l])), u.push({
                                    xIndex: e[p].t,
                                    WR1: f,
                                    WR2: d
                                });
                            return {
                                dataArray: u
                            }
                        }
                        function n() {
                            return {
                                draw: {
                                    WR1: {
                                        enable: !0,
                                        color: "#C00C00",
                                        lineWidth: 1
                                    },
                                    WR2: {
                                        enable: !0,
                                        color: "#C0BA4D",
                                        lineWidth: 1
                                    }
                                }
                            }
                        }
                        var r = t.getDataInRound,
                        i = t.fClosePrice;
                        return {
                            arrayData: e,
                            defaultOption: n
                        }
                    }),
                    r("indicatorHelper", ["macd", "asi", "bias", "boll", "kdj", "rsi", "vr", "wr"], function (t, e, n, r, i, o, a, s) {
                        return {
                            macd: t,
                            asi: e,
                            bias: n,
                            boll: r,
                            kdj: i,
                            rsi: o,
                            vr: a,
                            wr: s
                        }
                    }),
                    r("IndicatorModel", ["SeriesModel", "hqHelper", "zrUtil", "indicatorHelper", "util"], function (t, e, n, r, i) {
                        var o = n.clone,
                        a = n.merge,
                        s = i.getMax,
                        l = i.getMin,
                        c = e.inheritFrom,
                        u = function (e, n, i, o) {
                            var s = e.indicatorType,
                            l = r[s].defaultOption();
                            e = a(l, e, !0),
                            t.apply(this, [e, n, i, o])
                        };
                        return c(u, t),
                        u.type = "indicator",
                        u.defaultOption = a(o(t.defaultOption), {
                            indicatorType: "macd",
                            draw: void 0
                        }, !0),
                        u.prototype.render = function (e, n, r) {
                            t.prototype.render.call(this);
                            var i = this.getData();
                            if (i) {
                                var o = this.getScaleModel("x"),
                                a = o.startIndex,
                                s = o.endIndex;
                                this.points = i.dataArray.slice(a, s + 1)
                            }
                            t.prototype.renderMarkData.call(this)
                        },
                        u.prototype.getYScaleConfigs = function (t, e, n) {
                            var r = this.getData();
                            if (r) {
                                var i = this.get("draw"),
                                o = r.dataArray;
                                if (n = n || -1 / 0, arguments.length > 1 && o.length - 1 >= n) {
                                    var a = Math.round((o.length - 1) * t),
                                    c = Math.round((o.length - 1) * e);
                                    o = o.slice(a, c + 1)
                                }
                                var u = [];
                                return u[0] = l(o, function (t) {
                                    var e = 1 / 0;
                                    for (var n in t)
                                        "xIndex" !== n && i[n].enable && e > +t[n] && (e = +t[n]);
                                    return e
                                }),
                                u[1] = s(o, function (t) {
                                    var e = -1 / 0;
                                    for (var n in t)
                                        "xIndex" !== n && i[n].enable && e < +t[n] && (e = +t[n]);
                                    return e
                                }),
                                u[0] == u[1] && 0 != u[0] && (u[0] = 0), {
                                    domain: u
                                }
                            }
                        },
                        u
                    }),
                    r("IndicatorView", ["Hxc3View", "hqHelper"], function (t, e) {
                        function n(t) {
                            return .5 + (t >> 0)
                        }
                        var r = e.inheritFrom,
                        i = function () {
                            t.apply(this, arguments)
                        };
                        return r(i, t),
                        i.type = "indicator",
                        i.prototype.render = function (t, e, r) {
                            if (t.getData()) {
                                var i = t.points,
                                o = t.getDrawScale("x"),
                                a = t.getDrawScale("y"),
                                s = a.domain()[0],
                                l = t.get("draw"),
                                c = r.getMainCtx(),
                                u = o.bandwidth();
                                for (var h in i[0]) {
                                    var d = l[h];
                                    if (d && d.enable)
                                        if ("bar" === d.type) {
                                            var f = a(s > 0 ? s : 0);
                                            c.lineWidth = d.lineWidth;
                                            for (var p = 0, g = i.length; p < g; p++) {
                                                var v = i[p][h],
                                                m = i[p].xIndex;
                                                c.beginPath(),
                                                c.strokeStyle = d[v < 0 ? "downcolor" : "upcolor"],
                                                c.moveTo(n(o(m) + u / 2), f),
                                                c.lineTo(n(o(m) + u / 2), a(v)),
                                                c.stroke()
                                            }
                                        } else {
                                            c.beginPath(),
                                            c.strokeStyle = d.color,
                                            c.lineWidth = d.lineWidth,
                                            c.moveTo(o(i[0].xIndex) + u / 2, a(i[0][h]));
                                            for (var p = 1, g = i.length; p < g; p++) {
                                                var m = i[p].xIndex;
                                                c.lineTo(o(m) + u / 2, a(i[p][h]))
                                            }
                                            c.stroke()
                                        }
                                }
                            }
                        },
                        i
                    }),
                    r("indicatorClassPrepare", ["IndicatorModel", "IndicatorView"], function (t, e) {
                        e.registerClass(e, e.type),
                        t.registerClass(t, t.type)
                    }),
                    r("axis", ["util", "drawText"], function (t, e) {
                        function n(t) {
                            return /^hxc3_scaleFill_/.test(t) ? "" : t
                        }
                        function r(t) {
                            return "number" == typeof t ? [t, t, t, t] : t
                        }
                        var i = t.map;
                        return function () {
                            function t(t) {
                                for (var i = y.xStart, o = y.xEnd, a = y.yStart, l = y.yEnd, u = g.autoIndent, p = g.inside, x = g.maxTextWidth, w = parseInt(g.textStyle.lineHeight, 10), b = e().ctx(m), S = 0; S < s.length; S++) {
                                    var M = $.extend({}, g.textStyle);
                                    switch (v) {
                                    case "bottom":
                                        M.textAlign = "center",
                                        M.textBaseline = p ? "bottom" : "top";
                                        break;
                                    case "top":
                                        M.textAlign = "center",
                                        M.textBaseline = p ? "top" : "bottom";
                                        break;
                                    case "left":
                                        M.textBaseline = "middle",
                                        M.textAlign = p ? "start" : "end";
                                        break;
                                    case "right":
                                        M.textBaseline = "middle",
                                        M.textAlign = p ? "end" : "start"
                                    }
                                    "function" == typeof d && (M.color = d(s, S)),
                                    "function" == typeof f && (M.textBackgroundColor = f(s, S));
                                    var k = n(s[S]);
                                    "function" == typeof h && (k = h(s, S, {
                                            position: v,
                                            width: m.measureText(k).width,
                                            textAlign: M.textAlign,
                                            textBaseline: M.textBaseline,
                                            displayType: "canvas"
                                        }));
                                    var _ = "function" == typeof t.bandwidth ? t.bandwidth() : 0,
                                    T = c[S][0] + _ / 2,
                                    A = c[S][1];
                                    x = "function" == typeof m.measureText ? m.measureText(k).width : x;
                                    var C = r(M.textBorderWidth),
                                    D = r(M.textPadding);
                                    if (!u || "bottom" !== v && "top" !== v) {
                                        if (u && ("right" === v || "left" === v)) {
                                            var P = w + D[0] + D[2] + C[0] + C[2];
                                            A < a + P / 2 ? A = a + P / 2 : A > l - P / 2 && (A = l - P / 2)
                                        }
                                    } else {
                                        var F = x + D[1] + D[3] + C[1] + C[3];
                                        T < i + F / 2 ? T = i + F / 2 : T > o - F / 2 && (T = o - F / 2)
                                    }
                                    b.x(T).y(A).textStyle(M),
                                    b(k)
                                }
                            }
                            function o() {
                                var t = a;
                                c = w(t, s),
                                l(t, s)
                            }
                            var a = void 0,
                            s = void 0,
                            l = t,
                            c = void 0,
                            u = void 0,
                            h = void 0,
                            d = void 0,
                            f = void 0,
                            p = void 0,
                            g = void 0,
                            v = "bottom",
                            m = void 0,
                            y = void 0,
                            x = {
                                canvas: t
                            },
                            w = function (t, e) {
                                var n = y.xStart,
                                r = y.xEnd,
                                i = y.yStart,
                                o = y.yEnd,
                                a = [];
                                switch (v) {
                                case "top":
                                    for (var s = 0; s < e.length; s++)
                                        a.push([t(e[s]), i]);
                                    break;
                                case "bottom":
                                    for (var s = 0; s < e.length; s++)
                                        a.push([t(e[s]), o]);
                                    break;
                                case "left":
                                    for (var s = 0; s < e.length; s++)
                                        a.push([n, t(e[s])]);
                                    break;
                                case "right":
                                    for (var s = 0; s < e.length; s++)
                                        a.push([r, t(e[s])])
                                }
                                return a
                            };
                            return o.scale = function (t) {
                                if (!arguments.length)
                                    throw new Error("坐标轴缺少必填属性配置: axis.scale(...) ");
                                return a = t,
                                o
                            },
                            o.position = function (t) {
                                return arguments.length ? (v = t, o) : v
                            },
                            o.tickValues = function (t) {
                                if (!arguments.length && !s)
                                    throw new Error("坐标轴缺少必填属性配置: axis.tickValues(...) ");
                                return arguments.length || (s = void 0),
                                arguments.length ? (s = t, o) : s
                            },
                            o.splitStr = function (t) {
                                return arguments.length ? (u = t, o) : u
                            },
                            o.axisLine = function (t) {
                                return arguments.length ? (p = t, o) : p
                            },
                            o.axisLabel = function (t) {
                                return arguments.length ? (g = t, l = t.show ? i(x, g.display) : function () {}, o) : g
                            },
                            o.labelColorFilter = function (t) {
                                return arguments.length ? (d = t, o) : d
                            },
                            o.labelBackgroundColorFilter = function (t) {
                                return arguments.length ? (f = t, o) : f
                            },
                            o.labelFormatter = function (t) {
                                return arguments.length ? (h = t, o) : h
                            },
                            o.ctx = function (t) {
                                return arguments.length ? (m = t, o) : m
                            },
                            o.gridLayout = function (t) {
                                return arguments.length ? (y = t, o) : y
                            },
                            o.getTickPostions = function () {
                                return c
                            },
                            o
                        }
                    }),
                    r("hqType", ["hqHelper"], function (t) {
                        var e = t.priceFormat,
                        n = t.numFormatter,
                        r = t.filterStatus,
                        i = t.decimalRound,
                        o = function (t, e, n, r) {
                            var i = (r.stockTypeObj, t[e]);
                            return /^hxc3/.test(i) || !t[0] ? "" : i.substr(0, 4) + "-" + i.substr(4, 2) + "-" + i.substr(6, 2)
                        },
                        a = o,
                        s = o,
                        l = o,
                        c = function (t, n, r, i) {
                            var o = i.stockTypeObj,
                            a = o.keepLen,
                            s = t[n];
                            return e(s, a)
                        },
                        u = function (t, e, r, i) {
                            var o = i.stockTypeObj,
                            a = o.needConvertoShou,
                            s = t[e];
                            return a && (s /= 100),
                            n(s, 0)
                        },
                        h = function (t, e, r) {
                            var i = t[e];
                            return n(i, 2)
                        },
                        d = function (t, e, n, r) {
                            var i,
                            o = r.stockTypeObj,
                            a = r.tradeTime,
                            s = o.fsXaxisShow,
                            l = t[e],
                            c = "";
                            return t.length > 1 ? s && s.length === t.length ? c = s[e] : s || (0 === e ? (i = a[0].split("-")[0], c = i.substr(0, 2) + ":" + i.substr(2)) : e === t.length - 1 ? (i = a[a.length - 1].split("-")[1], c = i.substr(0, 2) + ":" + i.substr(2)) : (i = "", c = "")) : (i = l.split(" ")[1]) && (c = i.substr(0, 2) + ":" + i.substr(2)),
                            c
                        },
                        f = d,
                        p = function (t, n, r, i) {
                            var o = i.stockTypeObj,
                            a = o.keepLen,
                            s = t[n];
                            return e(s, a)
                        },
                        g = function (t, e, r, i) {
                            var o = t[e];
                            return i.stockTypeObj.needConvertoShou && (o /= 100),
                            n(o, 0)
                        },
                        v = function (t, e, r, i) {
                            var o = t[e];
                            return n(o, 0)
                        },
                        m = function (t, e, o, a) {
                            var s = e.stockTypeObj,
                            l = s.keepLen,
                            c = s.needConvertoShou,
                            u = {},
                            h = t.series[0].data,
                            d = h.yc,
                            f = "";
                            f = "" !== h.c ? h.c : "",
                            u.t = h.t,
                            u.ratep = i(f - d, l),
                            u.maxP = i(h.a, l),
                            u.minP = i(h.i, l),
                            u.openP = i(h.o, l),
                            u.closeP = i(f, l),
                            u.n = h.n,
                            c && (u.n = h.n / 100),
                            u.n = n(u.n, 0) || 0,
                            u.maxPStatus = r(h.a, d),
                            u.minPStatus = r(h.i, d),
                            u.openPStatus = r(h.o, d),
                            u.rate = i((f - d) / d * 100, 2) + "%",
                            u.status = f - d > 0 ? "ab" : f - d == 0 ? "eq" : "be";
                            var p = '<%t%> 开：<span class="<%openPStatus%>"><%openP%></span> 高：<span class="<%maxPStatus%>"><%maxP%></span> 低：<span class="<%minPStatus%>"><%minP%></span> 收：<span class="<%status%>"><%closeP%></span> 涨跌：<span class="<%status%>"><%ratep%></span> 涨幅：<span class="<%status%>"><%rate%></span>';
                            a && (p = a);
                            var g = p.replace(/<%([^%>]+)?%>/g, function (t, e) {
                                return "status" === e || "openPStatus" === e || "maxPStatus" === e || "minPStatus" === e ? "hxc3-" + u[e] : u[e]
                            }),
                            v = t.series[0].draw.maLines,
                            m = "";
                            for (var y in v)
                                 /  ^ ma / .test(y) && h[y] && (m += '<span style="color:' + v[y].lineStyle.color + '">' + y.toUpperCase() + ": " + parseFloat(h[y]).toFixed(l) + " </span>");
                            return g += "<br/>" + m
                        },
                        y = function (t, e, r) {
                            var i = r[0].data,
                            o = e.stockTypeObj.needConvertoShou,
                            a = i.n;
                            return o && (a = i.n / 100),
                            "成交量 " + n(a, 0, 2) + (o ? "手" : "")
                        },
                        x = function (t, e, r) {
                            var i = r[0].data,
                            o = r[0].draw,
                            a = {
                                big: i.mfbb - i.mfbs + i.mfsb - i.mfss,
                                mid: i.mfmb - i.mfms,
                                little: i.mflb - i.mfls
                            };
                            return "大单净额:<%big%> 中单净额:<%mid%> 小单净额:<%little%>".replace(/<%([^%>]+)?%>/g, function (t, e) {
                                return '<span style="color:' + o[e].lineStyle.color + '">' + n(a[e], 2) + "</span>"
                            })
                        },
                        w = function (t, e, o, a) {
                            var s = e.stockTypeObj,
                            l = s.keepLen,
                            c = s.needConvertoShou,
                            u = s.msg,
                            h = parseFloat(e.preClosePrice),
                            d = {
                                t: "",
                                preClosePrice: "",
                                nowp: "",
                                np: "",
                                av: "",
                                n: "",
                                status: "",
                                rate: "",
                                ratep: ""
                            },
                            f = t.series[0].data,
                            p = "";
                            "" != f.nowp ? (p = f.nowp, d.status = r(p, h)) : (p = "", d.status = "eq"),
                            d.preClosePrice = h,
                            d.nowp = i(p, l),
                            d.av = i(f.av, l),
                            d.avStatus = r(f.av, h),
                            d.t = f.t,
                            d.n = f.n,
                            c && (d.n = f.n / 100),
                            d.n = n(d.n, 0) || 0,
                            d.np = n(f.np, 1) || 0;
                            var g = i( - (h - p), l),
                            v = i(g / h * 100, 2);
                            d.rate = v + "%",
                            d.ratep = g;
                            var m;
                            return m = /^(Others_wh|Others_gzs|HS_block_hangye|HS_block_gainian|USA_index|Others_pmetal|Others_wh|Others_gzqh|Others_gqh|Others_qh|Others_zq|Others_sj|Others_ggqq)/.test(u) ? "<%t%> 现价:<%nowp%> 涨跌:<%ratep%> 涨幅:<%rate%> 量:<%n%> 额:<%np%>" : "<%t%> 现价:<%nowp%> 均价:<%av%> 涨跌:<%ratep%> 涨幅:<%rate%> 量:<%n%> 额:<%np%>",
                            a && (m = a),
                            m.replace(/<%([^%>]+)?%>/g, function (t, e) {
                                return "t" === e ? d[e].split(" ")[1].substr(0, 2) + ":" + d[e].split(" ")[1].substr(2, 2) : "av" === e ? '<span class="hxc3-' + d.avStatus + '">' + d[e] + "</span>" : '<span class="hxc3-' + d.status + '">' + d[e] + "</span>"
                            })
                        },
                        b = function (t, e) {
                            for (var r = 0; r < t.series.length; r++)
                                if ("klineVol" === t.series[r].type)
                                    var i = t.series[r].data;
                            var o = e.stockTypeObj.needConvertoShou,
                            a = i.n;
                            return o && (a = i.n / 100),
                            "成交量 " + n(a, 0, 2) + (o ? "手" : "")
                        };
                        return {
                            xAxis_klinePrice: o,
                            xAxis_klineVol: a,
                            yAxis_klinePrice: c,
                            yAxis_klineVol: u,
                            xAxis_indicator: s,
                            yAxis_indicator: h,
                            xAxis_fsPrice: d,
                            yAxis_fsPrice: p,
                            xAxis_fsVol: f,
                            yAxis_fsVol: g,
                            xAxis_fsMoneyFlow: l,
                            yAxis_fsMoneyFlow: v,
                            fsPrice_tooltip: w,
                            fsVol_tooltip: y,
                            fsMoneyFlow_tooltip: x,
                            klinePrice_tooltip: m,
                            klineVol_tooltip: b,
                            indicator_tooltip: function (t, e) {
                                for (var n = 0; n < t.series.length; n++)
                                    if ("indicator" === t.series[n].type)
                                        var r = t.series[n];
                                var i = "";
                                if (r) {
                                    var o = r.draw;
                                    for (var a in o)
                                        i += '<span style="color:' + o[a].color + '">' + a + ": " + r.data[a].toFixed(2) + " </span>"
                                }
                                return i
                            }
                        }
                    }),
                    r("AxisModel", ["Hxc3Model", "hqHelper", "axis", "zrUtil", "hqType"], function (t, e, n, r, i) {
                        var o = r.curry,
                        a = (r.clone, e.inheritFrom),
                        s = function (t, e, n, r, i, o) {
                            var a = n.stockTypeObj,
                            s = r[i];
                            return t && (s = t(r, i, o, n)),
                            e && (s = e(s, {
                                    keepLen: a.keepLen,
                                    needConvertoShou: a.needConvertoShou,
                                    preClosePrice: n.preClosePrice,
                                    ticks: r,
                                    i: i,
                                    exObj: o
                                })),
                            s
                        },
                        l = function () {
                            t.apply(this, arguments),
                            this.axis,
                            this.labelFormatter,
                            this.axisPointerLabelBgColor
                        };
                        a(l, t),
                        l.type = "axis",
                        l.defaultOption = {
                            z: 0,
                            show: !0,
                            scaleIndex: 0,
                            gridIndex: 0,
                            filterType: void 0,
                            position: "bottom",
                            split: "1,1,1",
                            splitPecent: void 0,
                            axisLine: {
                                show: !0,
                                style: {
                                    width: 1,
                                    stroke: "#ccc",
                                    lineDash: null
                                }
                            },
                            axisLabel: {
                                show: !0,
                                display: "canvas",
                                layoutIncludeScaleSpace: !0,
                                inside: !1,
                                autoIndent: !1,
                                formatter: void 0,
                                filterColor: void 0,
                                filterBackgroundColor: void 0,
                                maxTextWidth: 70,
                                textStyle: {
                                    lineHeight: "18px",
                                    textAlign: "start",
                                    textBaseline: "middle",
                                    textBorderWidth: 0,
                                    textBorderColor: "#000",
                                    textPadding: [0, 2, 0, 2]
                                }
                            },
                            axisPointer: {
                                snap: !1,
                                crossLine: {
                                    show: !1,
                                    type: "dash-line",
                                    style: {
                                        lineWidth: 1,
                                        color: "#A0A0A0",
                                        width: 10,
                                        height: 10,
                                        fill: void 0,
                                        lineDash: [2, 4]
                                    }
                                },
                                labelSameAs: "axis",
                                axisLabel: {
                                    show: !1,
                                    filterColor: void 0,
                                    filterBackgroundColor: void 0,
                                    textStyle: {
                                        color: "#555",
                                        textBackgroundColor: "#ccc"
                                    }
                                }
                            }
                        },
                        l.prototype.getAxisType = function () {
                            return this.getModel("scale").getScaleType()
                        },
                        l.prototype.isInGrid = function (t, e) {
                            return this.getModel("scale").getModel("grid").isPointInGrid(t, e)
                        },
                        l.prototype.getHqData = function () {
                            var t = this.allModelsManager,
                            e = this.getModel("scale"),
                            n = t.getSeriesByScaleIndex(e.id.split("_")[1]),
                            r = n[0].getModel("data");
                            return {
                                tradeTime: r.getData().tradeTime,
                                preClosePrice: r.getData().preClosePrice,
                                stockTypeObj: r.stockType
                            }
                        },
                        l.prototype.getGridLayout = function () {
                            return this.getModel("grid").layout
                        },
                        l.prototype.render = function (t, e, r) {
                            var a = this.getModel("scale"),
                            l = this.getModel("grid"),
                            c = l.layout;
                            if (l.show || (this.show = !1), a.scale && this.show) {
                                var u = a.drawScale,
                                h = this.get("position"),
                                d = this.get("axisLabel"),
                                f = this.get("axisPointer"),
                                p = d.layoutIncludeScaleSpace,
                                g = f.axisLabel.filterBackgroundColor,
                                v = this.get("filterType"),
                                m = this.get("split"),
                                y = m.split(",").length,
                                x = this.get("splitPecent"),
                                w = this.getHqData(),
                                b = [];
                                if ("fsPrice" === v && w.stockTypeObj.fsXaxisPos && "bottom" === h)
                                    for (var S = w.stockTypeObj.fsXaxisPos, M = 0; M < S.length; M++)
                                        b.push(u.domain()[S[M]]);
                                else
                                    x && (b = u.getDomainByPercents(x.split(",")));
                                var k,
                                _ = v ? i[this.type + "_" + v] : void 0,
                                T = o(s, _, d.formatter, w);
                                "function" == typeof d.filterColor && (k = o(function (t, e, n, r) {
                                        return t({
                                            preClosePrice: e.preClosePrice,
                                            ticks: n,
                                            i: r
                                        })
                                    }, d.filterColor, w));
                                var A;
                                "function" == typeof g && (A = o(function (t, e, n, r) {
                                        return t({
                                            preClosePrice: e.preClosePrice,
                                            ticks: n,
                                            i: r
                                        })
                                    }, g, w));
                                var C = {
                                    xStart: c.xStart,
                                    xEnd: c.xEnd,
                                    yStart: c.yStart,
                                    yEnd: c.yEnd
                                };
                                p || "xAxis" !== this.type ? !p && "yAxis" === this.type && (C.yStart = a.get("topSpace") ? C.yStart + a.get("topSpace") : C.yStart, C.yEnd = a.get("bottomSpace") ? C.yEnd - a.get("bottomSpace") : C.yEnd) : (C.xStart = a.get("leftSpace") ? C.xStart + a.get("leftSpace") : C.xStart, C.xEnd = a.get("rightSpace") ? C.xEnd - a.get("rightSpace") : C.xEnd);
                                var D = n().scale(u).position(h).splitStr(m).tickValues(b.length ? b : u.ticks(y)).axisLine(this.get("axisLine")).axisLabel(d).labelColorFilter(k).labelFormatter(T).gridLayout(C);
                                this.axis = D,
                                this.labelFormatter = T,
                                this.axisPointerLabelBgColor = A
                            }
                        };
                        var c = function () {
                            l.apply(this, arguments)
                        };
                        a(c, l),
                        c.type = "xAxis";
                        var u = function () {
                            l.apply(this, arguments)
                        };
                        return a(u, l),
                        u.type = "yAxis", {
                            XAxisModel: c,
                            YAxisModel: u,
                            AxisModel: l
                        }
                    }),
                    r("eventActions", [], function () {
                        return {
                            scaleActions: {
                                move: "SCALE_MOVE",
                                out: "SCALE_OUT"
                            },
                            axisActions: {
                                move: "AXIS_MOVE",
                                out: "AXIS_OUT"
                            },
                            dataZoomActions: {
                                start: "ZOOM_MOVE_START",
                                moving: "ZOOM_MOVING",
                                end: "ZOOM_MOVE_END",
                                wheel: "ZOOM_WHEEL",
                                change: "ZOOM_CHANGE",
                                checkBoundary: "ZOOM_CHECK_BOUNDARY"
                            }
                        }
                    }),
                    r("AxisView", ["Hxc3View", "hqHelper", "eventActions", "zrUtil", "drawLine", "drawSymbol"], function (t, e, n, r, i, o) {
                        var a = n.scaleActions,
                        s = n.axisActions,
                        l = r.merge,
                        c = r.clone,
                        u = e.inheritFrom,
                        h = function () {
                            t.apply(this, arguments);
                            var e = this.chartInstance,
                            n = this.allModelsManager,
                            r = this.model;
                            this._initEvent(r, n, e)
                        };
                        u(h, t),
                        h.type = "axis",
                        h.prototype.render = function (t, e, n) {
                            if (t.getModel("scale").scale) {
                                var r = t.axis,
                                i = n.getMainCtx();
                                r.ctx(i),
                                r()
                            }
                        },
                        h.prototype._initEvent = function (t, e, n) {
                            var r = t.getModel("scale"),
                            u = n.getCrossCtx(),
                            h = this;
                            n.onAction(r, a.move, function (e) {
                                if (h.model.show) {
                                    var r = e.e.offsetX,
                                    a = e.e.offsetY,
                                    d = e.data,
                                    f = e.pos,
                                    p = t.axis,
                                    g = t.axisPointerLabelBgColor,
                                    v = t.getModel("grid"),
                                    m = v.layout,
                                    y = m.yStart,
                                    x = m.yEnd,
                                    w = m.xStart,
                                    b = m.xEnd,
                                    S = {},
                                    M = t.get("axisPointer");
                                    "axis" === M.labelSameAs && (S = c(t.get("axisLabel")));
                                    var k = {};
                                    k.axisLabel = M.axisLabel ? l(S, M.axisLabel, !0) : S,
                                    k.crossLine = M.crossLine,
                                    k.snap = M.snap;
                                    var _ = t.get("position"),
                                    T = "bottom" === _ || "top" === _,
                                    A = [];
                                    if (A = void 0 === f ? T ? [{
                                                    x: r,
                                                    y: y
                                                }, {
                                                    x: r,
                                                    y: x
                                                }
                                            ] : [{
                                                    x: w,
                                                    y: a
                                                }, {
                                                    x: b,
                                                    y: a
                                                }
                                            ] : T ? [{
                                                    x: f,
                                                    y: y
                                                }, {
                                                    x: f,
                                                    y: x
                                                }
                                            ] : [{
                                                    x: w,
                                                    y: f
                                                }, {
                                                    x: b,
                                                    y: f
                                                }
                                            ], k.crossLine.show)
                                        if ("linear" === k.crossLine.type || "dash-line" === k.crossLine.type) {
                                            k.crossLine.style.width = k.crossLine.style.lineWidth;
                                            var C = i().x(function (t) {
                                                return t.x
                                            }).y(function (t) {
                                                return t.y
                                            }).canvasLineTemplate(k.crossLine.type).lineStyle(k.crossLine.style).ctx(u);
                                            h.hoverPainter.addStorage(C, A, 0)
                                        } else {
                                            var D = o().template(k.crossLine.type).x(function (t) {
                                                return t.x
                                            }).y(function (t) {
                                                return t.y
                                            }).width(k.crossLine.style.width).height(k.crossLine.style.height).symbolStyle(k.crossLine.style).ctx(u);
                                            h.hoverPainter.addStorage(D, {
                                                x: e.data.series[0].highlightPos[0],
                                                y: e.data.series[0].highlightPos[1]
                                            }, 0)
                                        }
                                    d.axis.data && (p.tickValues([d.axis.data]).axisLabel(k.axisLabel).labelColorFilter(k.axisLabel.filterColor).labelBackgroundColorFilter(g).ctx(u), h.hoverPainter.addStorage(p, void 0, 1), n.triggerAction(t, s.move, {
                                            e: e.e,
                                            data: e.data,
                                            pos: e.pos
                                        }))
                                }
                            }, t.id),
                            n.onAction(r, a.out, function (e) {
                                h.model.show && (h.hoverPainter.addStorage(void 0, void 0, 0), h.hoverPainter.addStorage(void 0, void 0, 1), n.triggerAction(t, s.out, e))
                            }, t.id)
                        };
                        var d = function () {
                            h.apply(this, arguments)
                        };
                        u(d, h),
                        d.type = "xAxis";
                        var f = function () {
                            h.apply(this, arguments)
                        };
                        return u(f, h),
                        f.type = "yAxis", {
                            XAxisView: d,
                            YAxisView: f,
                            AxisView: h
                        }
                    }),
                    r("d3-array-range", [], function () {
                        return function (t, e, n) {
                            t = +t,
                            e = +e,
                            n = (i = arguments.length) < 2 ? (e = t, t = 0, 1) : i < 3 ? 1 : +n;
                            for (var r = -1, i = 0 | Math.max(0, Math.ceil((e - t) / n)), o = new Array(i); ++r < i; )
                                o[r] = t + r * n;
                            return o
                        }
                    }),
                    r("d3-collection-map", [], function () {
                        function t() {}
                        function e(t) {
                            return "[object Array]" === i.call(t)
                        }
                        function n(n, r) {
                            var i = new t;
                            if (n instanceof t)
                                n.each(function (t, e) {
                                    i.set(e, t)
                                });
                            else if (e(n)) {
                                var o,
                                a = -1,
                                s = n.length;
                                if (null == r)
                                    for (; ++a < s; )
                                        i.set(a, n[a]);
                                else
                                    for (; ++a < s; )
                                        i.set(r(o = n[a], a, n), o)
                            } else if (n)
                                for (var l in n)
                                    i.set(l, n[l]);
                            return i
                        }
                        var r = "$";
                        t.prototype = n.prototype = {
                            constructor: t,
                            has: function (t) {
                                return r + t in this
                            },
                            get: function (t) {
                                return this[r + t]
                            },
                            set: function (t, e) {
                                return this[r + t] = e,
                                this
                            },
                            remove: function (t) {
                                var e = r + t;
                                return e in this && delete this[e]
                            },
                            clear: function () {
                                for (var t in this)
                                    t[0] === r && delete this[t]
                            },
                            keys: function () {
                                var t = [];
                                for (var e in this)
                                    e[0] === r && t.push(e.slice(1));
                                return t
                            },
                            values: function () {
                                var t = [];
                                for (var e in this)
                                    e[0] === r && t.push(this[e]);
                                return t
                            },
                            entries: function () {
                                var t = [];
                                for (var e in this)
                                    e[0] === r && t.push({
                                        key: e.slice(1),
                                        value: this[e]
                                    });
                                return t
                            },
                            size: function () {
                                var t = 0;
                                for (var e in this)
                                    e[0] === r && ++t;
                                return t
                            },
                            empty: function () {
                                for (var t in this)
                                    if (t[0] === r)
                                        return !1;
                                return !0
                            },
                            each: function (t) {
                                for (var e in this)
                                    e[0] === r && t(this[e], e.slice(1), this)
                            }
                        };
                        var i = Object.prototype.toString;
                        return n
                    }),
                    r("d3-scale-array", [], function () {
                        return {
                            slice: Array.prototype.slice
                        }
                    }),
                    r("d3-scale-ordinal", ["d3-collection-map", "d3-scale-array"], function (t, e) {
                        function n(e) {
                            function o(t) {
                                var n = t + "",
                                r = a.get(n);
                                if (!r) {
                                    if (l !== i)
                                        return l;
                                    a.set(n, r = s.push(t))
                                }
                                return e[(r - 1) % e.length]
                            }
                            var a = t(),
                            s = [],
                            l = i;
                            return e = null == e ? [] : r.call(e),
                            o.domain = function (e) {
                                if (!arguments.length)
                                    return s.slice();
                                s = [],
                                a = t();
                                for (var n, r, i = -1, l = e.length; ++i < l; )
                                    a.has(r = (n = e[i]) + "") || a.set(r, s.push(n));
                                return o
                            },
                            o.range = function (t) {
                                return arguments.length ? (e = r.call(t), o) : e.slice()
                            },
                            o.unknown = function (t) {
                                return arguments.length ? (l = t, o) : l
                            },
                            o.copy = function () {
                                return n().domain(s).range(e).unknown(l)
                            },
                            o
                        }
                        var r = e.slice,
                        i = {
                            name: "implicit"
                        };
                        return n
                    }),
                    r("d3-scale-band", ["d3-array-range", "d3-scale-ordinal", "zrUtil"], function (t, e, n) {
                        function r() {
                            function n() {
                                var e = l().length,
                                n = u[1] < u[0],
                                r = u[n - 0],
                                s = u[1 - n];
                                o = (s - r) / Math.max(1, e - d + 2 * f),
                                h && (o = Math.floor(o)),
                                r += (s - r - o * (e - d)) * p,
                                a = o * (1 - d),
                                h && (r = Math.round(r), a = Math.round(a));
                                var g = i(t(e), function (t) {
                                    return r + o * t
                                });
                                return c(n ? g.reverse() : g)
                            }
                            var o,
                            a,
                            s = e().unknown(void 0),
                            l = s.domain,
                            c = s.range,
                            u = [0, 1],
                            h = !1,
                            d = 0,
                            f = 0,
                            p = .5;
                            return delete s.unknown,
                            s.domain = function (t) {
                                return arguments.length ? (l(t), n()) : l()
                            },
                            s.range = function (t) {
                                return arguments.length ? (u = [+t[0], +t[1]], n()) : u.slice()
                            },
                            s.rangeRound = function (t) {
                                return u = [+t[0], +t[1]],
                                h = !0,
                                n()
                            },
                            s.bandwidth = function () {
                                return a
                            },
                            s.step = function () {
                                return o
                            },
                            s.round = function (t) {
                                return arguments.length ? (h = !!t, n()) : h
                            },
                            s.padding = function (t) {
                                return arguments.length ? (d = f = Math.max(0, Math.min(1, t)), n()) : d
                            },
                            s.paddingInner = function (t) {
                                return arguments.length ? (d = Math.max(0, Math.min(1, t)), n()) : d
                            },
                            s.paddingOuter = function (t) {
                                return arguments.length ? (f = Math.max(0, Math.min(1, t)), n()) : f
                            },
                            s.align = function (t) {
                                return arguments.length ? (p = Math.max(0, Math.min(1, t)), n()) : p
                            },
                            s.copy = function () {
                                return r().domain(l()).range(u).round(h).paddingInner(d).paddingOuter(f).align(p)
                            },
                            s.getDomainByIndexs = function (t) {
                                for (var e = [], n = l(), r = 0; r < t.length; r++)
                                    e.push(n[t[r]]);
                                return e
                            },
                            s.getDomainByPercents = function (t) {
                                for (var e, n = [], r = l(), i = r.length - 1, o = 0; o < t.length; o++)
                                    e = Math.round(parseFloat(t[o]) * i), n.push(r[e]);
                                return n
                            },
                            n()
                        }
                        var i = n.map;
                        return r
                    }),
                    r("d3-scale-point", ["d3-scale-band"], function (t) {
                        function e(t) {
                            var n = t.copy;
                            return t.padding = t.paddingOuter,
                            delete t.paddingInner,
                            delete t.paddingOuter,
                            t.copy = function () {
                                return e(n())
                            },
                            t
                        }
                        function n() {
                            return e(t().paddingInner(1))
                        }
                        return n
                    }),
                    r("hhr", [], function () {
                        function t(t, e) {
                            return t < e ? -1 : t > e ? 1 : t >= e ? 0 : NaN
                        }
                        function e(t, e) {
                            return e -= t = Number(t),
                            function (n) {
                                return t + e * n
                            }
                        }
                        function n(t, e) {
                            return e = e - (t = Number(t)) ? 1 / (e - t) : 0,
                            function (n) {
                                return (n - t) * e
                            }
                        }
                        function r(t, e) {
                            var n = t[0],
                            r = t[1],
                            i = Math.max(Math.abs(r - e), Math.abs(n - e));
                            return [e - i, e + i]
                        }
                        function i(t, e, n, r) {
                            var i = [],
                            o = [],
                            a = 0,
                            s = Math.min(t.length, e.length) - 1;
                            for (t[s] < t[0] && (t = t.slice().reverse(), e = e.slice().reverse()); ++a <= s; )
                                i.push(n(t[a - 1], t[a])), o.push(r(e[a - 1], e[a]));
                            return function (e) {
                                var n = u(t, e, 1, s) - 1;
                                return o[n](i[n](e))
                            }
                        }
                        function o(t, e, n, r) {
                            var i = n(t[0], t[1]),
                            o = r(e[0], e[1]);
                            return function (t) {
                                return o(i(t))
                            }
                        }
                        function a(t) {
                            var e = t[0],
                            n = t[t.length - 1];
                            return e < n ? [e, n] : [n, e]
                        }
                        function s(t) {
                            return a(t.range())
                        }
                        function l(t, e) {
                            t.changedTouches && (t = t.changedTouches[0]);
                            var n = $(e).offset();
                            return [t.pageX - n.left, t.pageY - n.top]
                        }
                        var c = function () {
                            var e = t;
                            return {
                                left: function (t, n, r, i) {
                                    for (arguments.length < 3 && (r = 0), arguments.length < 4 && (i = t.length); r < i; ) {
                                        var o = r + i >>> 1;
                                        e(t[o], n) < 0 ? r = o + 1 : i = o
                                    }
                                    return r
                                },
                                right: function (t, n, r, i) {
                                    for (arguments.length < 3 && (r = 0), arguments.length < 4 && (i = t.length); r < i; ) {
                                        var o = r + i >>> 1;
                                        e(t[o], n) > 0 ? i = o : r = o + 1
                                    }
                                    return r
                                }
                            }
                        }
                        (),
                        u = c.right,
                        h = function (t, a, s, l) {
                            function c(e, n) {
                                if (!n)
                                    return d.domain(e);
                                var i = r(e, Number(n));
                                return t = i,
                                d
                            }
                            function u() {
                                var r = Math.min(t.length, a.length) > 2 ? i : o;
                                return p = r(t, a, n, e),
                                g = r(a, t, n, e),
                                d
                            }
                            function d(t) {
                                return p(t)
                            }
                            var f,
                            p,
                            g;
                            return d.domain = function (e, n) {
                                return 0 == arguments.length && t ? t : (2 == arguments.length ? (f = n, c(e, n)) : (f = null, t = e), u())
                            },
                            d.range = function (t) {
                                return arguments.length ? (a = t, u()) : a
                            },
                            d.invert = function (t) {
                                return g(t)
                            },
                            d.ticks = function (e) {
                                var n = Number(f);
                                n && (e = (e || 5) % 2 ? e : e + 1);
                                for (var r = (t[1] - t[0]) / (e - 1), i = 0, o = [], a = (e - 1) / 2; i < e; i++)
                                    i == e - 1 ? o.push(t[1]) : 0 == i ? o.push(t[0]) : n && i == a ? o.push(n) : o.push(t[0] + r * i);
                                return o
                            },
                            d.reverse = function (e) {
                                var n = (a[1] - a[0]) / (t[1] - t[0]);
                                return (e - (a[0] - n * t[0])) / n
                            },
                            d.rangeExtent = function (e) {
                                var n = e || t,
                                r = n[0],
                                i = n[n.length - 1];
                                return r < i ? [r, i] : [i, r]
                            },
                            d.copy = function () {
                                return h(t, a, s, l)
                            },
                            u()
                        },
                        d = [["n", "e", "s", "w", "nw", "ne", "se", "sw"], ["e", "w"], ["n", "s"], []],
                        f = {
                            n: "ns-resize",
                            e: "ew-resize",
                            s: "ns-resize",
                            w: "ew-resize",
                            nw: "nwse-resize",
                            ne: "nesw-resize",
                            se: "nwse-resize",
                            sw: "nesw-resize"
                        };
                        return {
                            hexinBrush: function () {
                                function t() {
                                    return o.each(function (o, a) {
                                        var l = $(a);
                                        l.off(b).off(S),
                                        l.css({
                                            "pointer-events": "all",
                                            position: "relative",
                                            background: "#eee",
                                            "-webkit-tap-highlight-color": "rgba(0,0,0,0)"
                                        }).on(b, i).on(S, i);
                                        var c = u ? l.height() : 0,
                                        d = h ? l.width() : 0;
                                        l.find(".hxc3-brush-bg").remove();
                                        var g = "scrollbar" === p ? "default" : "crosshair",
                                        v = "scrollbar" === p ? "default" : "move",
                                        m = $('<div class="hxc3-brush-bg"></div>').appendTo(l).css({
                                            width: "100%",
                                            height: "100%",
                                            position: "absolute",
                                            cursor: g
                                        });
                                        l.find(".hxc3-brush-extent").remove();
                                        if ($('<div class="hxc3-brush-extent"></div>').appendTo(l).css({
                                                position: "absolute",
                                                left: 0,
                                                top: 0,
                                                width: d,
                                                height: c,
                                                cursor: v
                                            }), "default" === p) {
                                            l.find(".hxc3-brush-resize").remove();
                                            for (var y = "", x = null, w = t.empty() ? "none" : "block", k = "", _ = 0; _ < M.length; _++)
                                                x = M[_], y = '<div class="hxc3-brush-resize ' + x + '" hxc3-brush-resize="' + x + '" style="cursor: ' + f[x] + "; display:" + w + " left: 0; top:0; width:6px; height: " + c + 'px; position:absolute; z-index:2; margin-left: -3px;">', y += '<span x="' + (/[ew]$/.test(x) ? -3 : null) + '" y="' + (/^[ns]/.test(x) ? -3 : null) + '" style="visibility: hidden;width:100%;height:100%;display:block;"></span>', y += "</div>", k += y;
                                            $(k).appendTo(l)
                                        }
                                        var T,
                                        A = m,
                                        C = l;
                                        u && (T = s(u), A.css({
                                                left: T[0] + "px",
                                                width: T[1] - T[0] + "px"
                                            }), n(C)),
                                        h && (T = s(h), A.css({
                                                top: T[0] + "px",
                                                height: T[1] - T[0] + "px"
                                            }), r(C)),
                                        e(C)
                                    }),
                                    t
                                }
                                function e(t) {
                                    t.find(".hxc3-brush-resize").each(function (t, e) {
                                        $(e).css({
                                            left: g[Number(/e$/.test(e.className))] + "px",
                                            top: v[Number(/^s/.test(e.className))] + "px"
                                        })
                                    })
                                }
                                function n(t) {
                                    t.find(".hxc3-brush-extent").css("left", g[0]),
                                    t.find(".hxc3-brush-extent, .n>span, .s>span").css("width", g[1] - g[0])
                                }
                                function r(t) {
                                    t.find(".hxc3-brush-extent").css("top", v[0]),
                                    t.find(".hxc3-brush-extent, .e>span, .w>span").css("height", v[1] - v[0])
                                }
                                function i(i) {
                                    function o(t) {
                                        var i = l(t, b),
                                        o = !1;
                                        A && (i[0] += A[0], i[1] += A[1]),
                                        P || (T = null),
                                        C && d(i, u, 0) && (n(M), o = !0),
                                        D && d(i, h, 1) && (r(M), o = !0),
                                        o && (e(M), S.trigger("brush", {
                                                mode: P ? "move" : "resize"
                                            }))
                                    }
                                    function d(t, e, n) {
                                        var r,
                                        i,
                                        o = s(e),
                                        l = o[0],
                                        u = o[1],
                                        h = F[n],
                                        d = n ? v : g,
                                        f = d[1] - d[0];
                                        if (P && (l -= h, u -= f + h), r = (n ? y : m) ? Math.max(l, Math.min(u, t[n])) : t[n], P ? i = (r += h) + f : (T && (h = Math.max(l, Math.min(u, 2 * T[n] - r))), h < r ? (i = r, r = h) : i = h), d[0] != r || d[1] != i)
                                            return n ? c = null : a = null, d[0] = r, d[1] = i, !0
                                    }
                                    function f() {
                                        S.css("pointer-events", "all").find(".hxc3-brush-resize").css("display", t.empty() ? "none" : "block"),
                                        $("body").css("cursor", "default"),
                                        I.off("mousemove.brush").off("mouseup.brush").off("touchmove.brush").off("touchend.brush").off("keydown.brush").off("keyup.brush"),
                                        S.trigger("brushend")
                                    }
                                    var p = i.target,
                                    b = i.currentTarget,
                                    S = $(b),
                                    M = S,
                                    k = 0,
                                    _ = $(p).attr("hxc3-brush-resize");
                                    k = _ || 0;
                                    var T,
                                    A,
                                    C = !/^(n|s)$/.test(k) && u,
                                    D = !/^(e|w)$/.test(k) && h,
                                    P = -1 != "hxc3-brush-extent".indexOf(p.className),
                                    F = l(i, i.currentTarget),
                                    I = $(window);
                                    if (I.on(x, o).on(w, f), P)
                                        F[0] = g[0] - F[0], F[1] = v[0] - F[1];
                                    else if (k) {
                                        var O = Number(/w$/.test(k)),
                                        B = Number(/^n/.test(k));
                                        A = [g[1 - O] - F[0], v[1 - B] - F[1]],
                                        F[0] = g[O],
                                        F[1] = v[B]
                                    }
                                    S.css("pointer-events", "none").find(".hxc3-brush-resize").css("display", "block"),
                                    $("body").css("cursor", $(i.target).css("cursor")),
                                    S.trigger("brushstart")
                                }
                                var o,
                                a,
                                c,
                                u = null,
                                h = null,
                                p = "default",
                                g = [0, 0],
                                v = [0, 0],
                                m = !0,
                                y = !0,
                                x = "mousemove.brush",
                                w = "mouseup.brush",
                                b = "mousedown.brush",
                                S = "touchstart.brush",
                                M = d[0];
                                return t.jqueryObj = function (e) {
                                    if (!arguments.length || e.lenght > 0)
                                        throw new Error("请指定jquery(或zepto)对象, e.g. $('.brush')");
                                    return o = e,
                                    t
                                },
                                t.on = function (e, n) {
                                    return o.on("brush", function () {
                                        n.apply(t, arguments)
                                    }),
                                    t()
                                },
                                t.x = function (e) {
                                    return arguments.length ? (u = e, M = d[!u << 1 | !h], t) : u
                                },
                                t.y = function (e) {
                                    return arguments.length ? (h = e, M = d[!u << 1 | !h], t) : h
                                },
                                t.clamp = function (e) {
                                    return arguments.length ? (u && h ? (m = Boolean(e[0]), y = Boolean(e[1])) : u ? m = Boolean(e) : h && (y = Boolean(e)), t) : u && h ? [m, y] : u ? m : h ? y : null
                                },
                                t.displayType = function (e) {
                                    return p = e,
                                    t
                                },
                                t.extent = function (e) {
                                    var n,
                                    r,
                                    i,
                                    o,
                                    s;
                                    return arguments.length ? (u && (n = e[0], r = e[1], h && (n = n[0], r = r[0]), a = [n, r], u.invert && (n = u(n), r = u(r)), r < n && (s = n, n = r, r = s), n == g[0] && r == g[1] || (g = [n, r])), h && (i = e[0], o = e[1], u && (i = i[1], o = o[1]), c = [i, o], h.invert && (i = h(i), o = h(o)), o < i && (s = i, i = o, o = s), i == v[0] && o == v[1] || (v = [i, o])), t) : (u && (a ? (n = a[0], r = a[1]) : (n = g[0], r = g[1], u.invert && (n = u.invert(n), r = u.invert(r)), r < n && (s = n, n = r, r = s))), h && (c ? (i = c[0], o = c[1]) : (i = v[0], o = v[1], h.invert && (i = h.invert(i), o = h.invert(o)), o < i && (s = i, i = o, o = s))), u && h ? [[n, i], [r, o]] : u ? [n, r] : h && [i, o])
                                },
                                t.clear = function () {
                                    return t.empty() || (g = [0, 0], v = [0, 0], a = c = null),
                                    t
                                },
                                t.empty = function () {
                                    return Boolean(u) && g[0] == g[1] || Boolean(h) && v[0] == v[1]
                                },
                                t
                            },
                            hexinMouse: l,
                            hexinScale: function () {
                                return h([0, 1], [0, 1])
                            }
                        }
                    }),
                    r("ScaleModel", ["Hxc3Model", "hqHelper", "d3-scale-point", "d3-scale-band", "hhr", "util", "zrUtil"], function (t, e, n, r, i, o, a) {
                        function s(t, e) {
                            if (e = e || !1, t.length <= 1)
                                return t;
                            for (var n = Math.floor(t.length / 2), r = t.splice([n], 1)[0], i = [], o = [], a = 0; a < t.length; a++)
                                t[a] < r ? i.push(t[a]) : (!e || t[a] != r) && o.push(t[a]);
                            return s(i, e).concat([r], s(o, e))
                        }
                        var l = a.each,
                        c = a.isArray,
                        u = a.map,
                        h = e.inheritFrom,
                        d = function () {
                            t.apply(this, arguments)
                        };
                        return h(d, t),
                        d.type = "scale",
                        d.defaultOption = {
                            gridIndex: 0,
                            dataZoomIndex: void 0,
                            topSpace: 0,
                            bottomSpace: 0,
                            leftSpace: 0,
                            rightSpace: 0,
                            minNum: void 0,
                            scaleType: "linear",
                            scaleStyle: {
                                padding: void 0,
                                paddingInner: .25,
                                paddingOuter: .1
                            },
                            scaleOutput: "x"
                        },
                        d.prototype.getScaleType = function () {
                            switch (this.get("scaleType")) {
                            case "linear":
                            case "time":
                            case "log":
                                return "continuous";
                            case "band":
                            case "point":
                                return "ordinal"
                            }
                        },
                        d.prototype.getIndexByOffset = function (t, e) {
                            var n = this.drawScale,
                            r = this.get("scaleOutput"),
                            i = "x" === r ? t : e;
                            i = "x" === r ? t - n.range()[0] : n.range()[0] - e;
                            var o = Math.min(Math["band" === this.get("scaleType") ? "floor" : "round"](i / n.step()), n.domain().length - 1);
                            return o > -1 ? o : void 0
                        },
                        d.prototype.getDataByAbsoluteIndex = function (t) {
                            var e = this.allModelsManager,
                            n = e.getSeriesByScaleIndex(this.id.split("_")[1]),
                            r = [];
                            return l(n, function (e, n) {
                                var i = e.getData(t),
                                o = [];
                                if ("function" == typeof e.get("highlightDataX")) {
                                    var a = e.get("highlightDataX"),
                                    s = e.get("highlightDataY"),
                                    l = e.getScaleModel("x"),
                                    c = e.getScaleModel("y");
                                    o[0] = l.drawScale(a(i)),
                                    o[1] = c.drawScale(s(i))
                                }
                                r.push({
                                    data: i,
                                    seriesIndex: e.id.split("_")[1],
                                    type: e.type,
                                    gridIndex: e.get("gridIndex"),
                                    dataIndex: t,
                                    draw: e.get("draw"),
                                    highlightPos: o.length ? o : void 0
                                })
                            }),
                            r
                        },
                        d.prototype.render = function (t, e, o) {
                            var a = t.get("scaleOutput"),
                            l = t.get("topSpace"),
                            h = t.get("bottomSpace"),
                            d = t.get("leftSpace"),
                            f = t.get("rightSpace"),
                            p = t.get("gridIndex"),
                            g = this.getModel("grid"),
                            v = c(g) ? g[0] : g,
                            m = v.layout;
                            p = c(p) ? p[0] : p;
                            var y,
                            x,
                            w = t.get("scaleStyle"),
                            b = t.get("scaleType"),
                            S = t.get("minNum"),
                            M = this.getModel("dataZoom");
                            M ? (y = M.start, x = M.end) : (y = 0, x = 1);
                            var k;
                            switch (b) {
                            case "point":
                                k = n;
                                break;
                            case "band":
                                k = r;
                                break;
                            default:
                                k = i.hexinScale
                            }
                            var _ = [];
                            if (e.getSeriesByGridIndex(p, function (t) {
                                    var e = "get" + a.toUpperCase() + "ScaleConfigs";
                                    if ("function" != typeof t[e])
                                        throw new Error("Series Model: " + t.id + " 中没有添加" + e + "函数, 无法获得 domain范围");
                                        var n;
                                        if ("y" === a) {
                                            var r = t.getModel("xAxis"),
                                            i = c(r) ? r[0] : r,
                                            o = i.getModel("scale"),
                                            s = o.getModel("dataZoom");
                                            n = s ? t[e](s.start, s.end, S) : t[e]()
                                        } else
                                            "x" === a && (n = t[e]());
                                        var l;
                                        if (n) {
                                            if (l = n.domain, S || (S = n.minNum), !_)
                                                throw new Error("请定义domain值");
                                            _.push(l)
                                        }
                                    }), _.length) {
                                    var T,
                                    A;
                                    if ("linear" === b) {
                                        for (var C = 1 / 0, D = -1 / 0, P = 0; P < _.length; P++) {
                                            var F = _[P][0];
                                            C = F < C ? F : C;
                                            var I = _[P][1];
                                            D = I > D ? I : D
                                        }
                                        var O = D - C,
                                        B = h * O / m.height,
                                        H = l * O / m.height;
                                        T = [C - B, D + H]
                                    } else if (("point" === b || "band" === b) && (_.length > 1 ? (u(_, function (t) {
                                                    T = T.concat(t)
                                                }), T = s(T.slice(0), !0)) : T = _[0], A = T.length - 1, S && A < S))
                                        for (var L = S - T.length, E = (new Date).getTime(), P = 0; P < L; P++)
                                            T.push("hxc3_scaleFill_" + E + P);
                                    var q;
                                    if ("y" === a)
                                        q = k().domain(T).range([m.yEnd, m.yStart + 1]);
                                    else if ("x" === a) {
                                        var V,
                                        z;
                                        V = d ? m.xStart + d : m.xStart,
                                        z = f ? m.xEnd - f : m.xEnd,
                                        q = k().domain(T).range([V, z])
                                    }
                                    for (var P in w)
                                        w[P] && "function" == typeof q[P] && q[P](w[P]);
                                    var N,
                                    j,
                                    W = q.copy();
                                    if ("x" === a) {
                                        var G = T.length;
                                        if (N = 0, j = G - 1, M && A >= S) {
                                            N = Math.round((G - 1) * y),
                                            j = Math.round((G - 1) * x);
                                            var U = T.slice(N, j + 1);
                                            W.domain(U)
                                        }
                                    }
                                    this.startIndex = N,
                                    this.endIndex = j,
                                    this.scale = q,
                                    this.drawScale = W,
                                    this.absoluteDataLastIndex = A
                                }
                        },
                        d
                    }),
                    r("ScaleView", ["Hxc3View", "hqHelper", "eventActions", "zrUtil"], function (t, e, n, r) {
                        function i(t, e) {
                            var n;
                            return function () {
                                var r = this,
                                i = arguments;
                                clearTimeout(n),
                                n = setTimeout(function () {
                                    t.apply(r, i)
                                }, e)
                            }
                        }
                        var o = n.scaleActions,
                        a = (n.dataZoomActions, r.each),
                        s = r.isArray,
                        l = r.map,
                        c = e.inheritFrom,
                        u = function () {
                            t.apply(this, arguments);
                            var e = this.chartInstance,
                            n = this.allModelsManager,
                            r = this.model;
                            this._initEvent(r, n, e)
                        };
                        return u.type = "scale",
                        c(u, t),
                        u.prototype._initEvent = function (t, e, n) {
                            function r() {
                                if (!p) {
                                    if ("continuous" === d)
                                        n.triggerAction(t, o.out, {});
                                    else {
                                        var e = t.drawScale.domain(),
                                        r = t.startIndex + e.length - 1;
                                        !/^hxc3_scaleFill/.test(e[r]) || !1 || (r = t.absoluteDataLastIndex + t.startIndex);
                                        var i = t.getDataByAbsoluteIndex(r);
                                        n.triggerAction(t, o.out, {
                                            allSeries: i,
                                            series: i,
                                            lastIndex: h
                                        }),
                                        h = void 0
                                    }
                                    p = !0
                                }
                            }
                            function c(e) {
                                e.preventDefault(),
                                e = e.originalEvent || e,
                                e.touches && e.touches.length ? e = e.touches[0] : e.changedTouches && e.changedTouches.length && (e = e.changedTouches[0]),
                                e.offsetX = e.pageX - $(e.target).offset().left,
                                e.offsetY = e.pageY - $(e.target).offset().top;
                                var i,
                                s = e.offsetX,
                                c = e.offsetY,
                                g = l(u, function (t, e) {
                                    return t.layout
                                }),
                                v = !1;
                                if (a(u, function (t) {
                                        t.isPointInGrid(s, c) && (v = !0, i = t.id.split("_")[1])
                                    }), v && t.scale) {
                                    var m = !0;
                                    if ("continuous" === d) {
                                        var y = t.scale.invert("x" === f ? s : c);
                                        if (isNaN(y))
                                            return;
                                        var x = {
                                            indexAvailable: m,
                                            axis: {
                                                inGridIndex: i,
                                                axisIndex: y,
                                                data: y
                                            },
                                            grid: g
                                        };
                                        n.triggerAction(t, o.move, {
                                            e: e,
                                            data: x,
                                            pos: void 0
                                        })
                                    } else if ("ordinal" === d) {
                                        var y = t.getIndexByOffset(s, c);
                                        if (-1 === t.absoluteDataLastIndex)
                                            return;
                                        var w = y + t.startIndex,
                                        b = t.scale.domain()[w];
                                        (m = !/^hxc3_scaleFill/.test(b) || !1) || (y = isNaN(h) ? t.absoluteDataLastIndex : h, w = y + t.startIndex, b = t.scale.domain()[w]);
                                        var S = t.getDataByAbsoluteIndex(w),
                                        x = {
                                            axis: {
                                                dataIndex: w,
                                                inGridIndex: i,
                                                startIndex: t.startIndex,
                                                axisIndex: y,
                                                data: b
                                            },
                                            grid: g,
                                            series: S,
                                            allSeries: S,
                                            indexAvailable: m,
                                            lastIndex: h
                                        };
                                        x.series.length && n.triggerAction(t, o.move, {
                                            e: e,
                                            data: x,
                                            pos: t.drawScale(b) + (t.drawScale.bandwidth ? t.drawScale.bandwidth() / 2 : 0)
                                        }),
                                        h = y
                                    }
                                    p = !1
                                } else
                                    p || r()
                            }
                            var u = t.getModel("grid");
                            u = s(u) ? u : [u];
                            var h,
                            d = t.getScaleType(),
                            f = t.get("scaleOutput"),
                            p = !0,
                            g = (t.getModel("dataZoom"), n.getClient());
                            (g.level.moveLow || g.level.moveSenior) && (n.on("touchmove." + t.id + "__" + o.move, c), n.on("touchend." + t.id + "__" + o.out, r)),
                            g.level.pcLow ? (n.on("mousemove." + t.id + "__" + o.move, i(c, 100)), n.on("mouseout." + t.id + "__" + o.out, i(r, 100))) : (n.on("mousemove." + t.id + "__" + o.move, c), n.on("mouseout." + t.id + "__" + o.out, r))
                        },
                        u
                    }),
                    r("TooltipModel", ["Hxc3Model", "hqHelper", "hqType", "zrUtil"], function (t, e, n, r) {
                        var i = e.inheritFrom,
                        o = r.curry,
                        a = r.map,
                        s = function (e, n, r, i) {
                            t.apply(this, arguments)
                        };
                        return i(s, t),
                        s.type = "tooltip",
                        s.defaultOption = {
                            z: 0,
                            show: !0,
                            xAxisIndex: 0,
                            filterType: void 0,
                            triggerEvent: "mousemove",
                            formatter: function (t) {
                                return t
                            },
                            formatterTpl: void 0,
                            enterable: !0,
                            confine: !1,
                            showDelay: 0,
                            hideDelay: 100,
                            alwaysShowContent: !1,
                            position: void 0,
                            extraCssText: void 0,
                            style: {
                                position: "absolute",
                                zIndex: 9999,
                                backgroundColor: void 0,
                                borderColor: "#333",
                                borderStyle: "solid",
                                borderWidth: "0px",
                                borderRadius: "5px",
                                padding: "5px",
                                color: "#333",
                                display: "none"
                            }
                        },
                        s.prototype.render = function (t, e, r) {
                            var i = this.getModel("xAxis");
                            if (this.show = i.show && this.get("show") && this.show, this.show && i.axis) {
                                var s = i.getHqData(),
                                l = i.get("gridIndex"),
                                c = this.get("formatter"),
                                u = this.get("filterType"),
                                h = this.get("formatterTpl"),
                                d = u ? n[u + "_tooltip"] : c,
                                f = o(function (t, e, n) {
                                    var r = "",
                                    i = [];
                                    return a(n.allSeries, function (t) {
                                        t.gridIndex == l && i.push(t)
                                    }),
                                    t && (r = t(n, e, i, h)),
                                    r
                                }, d, s);
                                this.tooltipFilter = f
                            }
                        },
                        s
                    }),
                    r("TooltipContent", ["zrUtil"], function (t) {
                        function e(t, e) {
                            var r = t._$dom.context || t._$dom[0],
                            o = document.createElement("div");
                            n(e, function (t, e) {
                                "transition" === e ? n(i, function (e) {
                                    o.style[e + "Transition"] = t
                                }) : o.style[e] = t
                            }),
                            this.el = o,
                            this._$dom = t._$dom,
                            this._x = t.getWidth() / 2,
                            this._y = t.getHeight() / 2,
                            r.appendChild(o),
                            o.className = "hxc3-tooltip",
                            this._container = r,
                            this._show = !1,
                            this._hideTimeout;
                            var a = this;
                            o.onmouseenter = function () {
                                a._enterable && (clearTimeout(a._hideTimeout), a._show = !0),
                                a._inContent = !0
                            },
                            o.onmousemove = function (t) {
                                t = t || window.event,
                                a._enterable || a._$dom.trigger("mousemove", t)
                            },
                            o.onmouseleave = function () {
                                a._inContent = !1,
                                a._enterable && a._show && a.hideLater(a._hideDelay)
                            },
                            o.onclick = function (t) {
                                a._enterable || a._$dom.trigger("click", t)
                            }
                        }
                        var n = t.each,
                        r = t.bind,
                        i = ["", "Webkit", "Moz", "O"];
                        return e.prototype = {
                            constructor: e,
                            _enterable: !0,
                            update: function () {
                                var t = this._container,
                                e = t.currentStyle || document.defaultView.getComputedStyle(t),
                                n = t.style;
                                "absolute" !== n.position && "absolute" !== e.position && (n.position = "relative")
                            },
                            show: function () {
                                clearTimeout(this._hideTimeout);
                                var t = this.el;
                                t.style.left = this._x + "px",
                                t.style.top = this._y + "px",
                                t.style.display = t.innerHTML ? "block" : "none",
                                this._show = !0
                            },
                            setContent: function (t) {
                                this.el.innerHTML = null === t ? "" : t
                            },
                            setEnterable: function (t) {
                                this._enterable = t
                            },
                            getSize: function () {
                                var t = this.el;
                                return [t.clientWidth, t.clientHeight]
                            },
                            moveTo: function (t, e) {
                                var n = this.el.style;
                                n.left = t + "px",
                                n.top = e + "px",
                                this._x = t,
                                this._y = e
                            },
                            hide: function () {
                                this.el.style.display = "none",
                                this._show = !1
                            },
                            hideLater: function (t) {
                                this._show && (!this._inContent || !this._enterable) && (t ? (this._hideDelay = t, this._show = !1, this._hideTimeout = setTimeout(r(this.hide, this), t)) : this.hide())
                            },
                            isShow: function () {
                                return this._show
                            },
                            remove: function () {
                                this._container.removeChild(this.el)
                            }
                        },
                        e
                    }),
                    r("TooltipView", ["Hxc3View", "hqHelper", "eventActions", "zrUtil", "TooltipContent"], function (t, e, n, r, i) {
                        function o(t) {
                            var e = t.clientWidth,
                            n = t.clientHeight;
                            if (document.defaultView && document.defaultView.getComputedStyle) {
                                var r = document.defaultView.getComputedStyle(t);
                                r && (e += parseInt(r.paddingLeft, 10) + parseInt(r.paddingRight, 10) + parseInt(r.borderLeftWidth, 10) + parseInt(r.borderRightWidth, 10), n += parseInt(r.paddingTop, 10) + parseInt(r.paddingBottom, 10) + parseInt(r.borderTopWidth, 10) + parseInt(r.borderBottomWidth, 10))
                            }
                            return {
                                width: e,
                                height: n
                            }
                        }
                        function a(t, e, n, r, i, a) {
                            a = a || [0, 0];
                            var s = o(n),
                            l = s.width,
                            c = s.height;
                            return t + l + a[0] > r ? t -= l + a[0] : t += a[0],
                            e + c + a[1] > i ? e -= c + a[1] : e += a[1],
                            [t, e]
                        }
                        function s(t, e, n, r, i) {
                            var a = o(n),
                            s = a.width,
                            l = a.height;
                            return t = Math.min(t + s, r) - s,
                            e = Math.min(e + l, i) - l,
                            t = Math.max(t, 0),
                            e = Math.max(e, 0),
                            [t, e]
                        }
                        function l(t, e, n) {
                            var r = n[0],
                            i = n[1],
                            o = 0,
                            a = 0,
                            s = e.width,
                            l = e.height;
                            switch (t) {
                            case "inside":
                                o = e.x + s / 2 - r / 2,
                                a = e.y + l / 2 - i / 2;
                                break;
                            case "top":
                                o = e.x + s / 2 - r / 2,
                                a = e.y - i - 5;
                                break;
                            case "bottom":
                                o = e.x + s / 2 - r / 2,
                                a = e.y + l + 5;
                                break;
                            case "left":
                                o = e.x - r - 5,
                                a = e.y + l / 2 - i / 2;
                                break;
                            case "right":
                                o = e.x + s + 5,
                                a = e.y + l / 2 - i / 2
                            }
                            return [o, a]
                        }
                        var c = (r.curry, r.isObject),
                        u = r.isArray,
                        h = n.axisActions,
                        d = e.inheritFrom,
                        f = function (e, n, r) {
                            t.apply(this, arguments),
                            this._tooltipContent = new i(r, e.get("style")),
                            this._tooltipContent.setEnterable(e.get("enterable")),
                            this._initEvent(e, n, r)
                        };
                        return d(f, t),
                        f.type = "tooltip",
                        f.prototype._initEvent = function (t, e, n) {
                            var r = t.getModel("xAxis"),
                            i = this;
                            n.onAction(r, h.move, function (e) {
                                if (i.model.show) {
                                    var r = e.e.offsetX,
                                    o = e.e.offsetY,
                                    a = e.data,
                                    s = (e.pos, t.get()),
                                    l = t.tooltipFilter,
                                    c = i._tooltipContent,
                                    u = l(a);
                                    u && (c.setContent(u), c.show(), i._updatePosition(r, o, s, n, "axis", u, a))
                                }
                            }, t.id),
                            n.onAction(r, h.out, function (e) {
                                if (i.model.show) {
                                    var n = t.get(),
                                    r = i._tooltipContent,
                                    o = t.tooltipFilter,
                                    a = o(e);
                                    if (a) {
                                        r.setContent(a),
                                        r.show();
                                        var s = n.alwaysShowContent;
                                        r.isShow() && !s && r.hideLater(t.get("hideDelay"))
                                    }
                                }
                            }, t.id)
                        },
                        f.prototype._updatePosition = function (t, e, n, r, i, o, h) {
                            var d = r.getWidth(),
                            f = r.getHeight(),
                            p = this.model,
                            g = p.getModel("xAxis"),
                            v = g.getGridLayout(),
                            m = n.position,
                            y = n.offset,
                            x = n.confine,
                            w = this._tooltipContent,
                            b = w.getSize();
                            if ("function" == typeof m) {
                                var S = m({
                                    x: t,
                                    y: e,
                                    gridLayout: v,
                                    viewWidth: d,
                                    viewHeight: f,
                                    series: h.series,
                                    offset: y
                                });
                                t = S.x,
                                e = S.y
                            } else if (u(m))
                                t = m[0], e = m[1];
                            else if (!c(m))
                                if ("string" == typeof m && o) {
                                    var M = {
                                        x: t,
                                        y: e,
                                        width: 0,
                                        height: 0
                                    };
                                    "axis" === i && o.series && o.series[0] && (M.x = o.series[0].x, M.y = o.series[0].y);
                                    var k = l(m, M, b);
                                    t = k[0],
                                    e = k[1]
                                } else {
                                    var k = a(t, e, w.el, d, f, y);
                                    t = k[0],
                                    e = k[1]
                                }
                            if (x) {
                                var k = s(t, e, w.el, d, f);
                                t = k[0],
                                e = k[1]
                            }
                            t += v.xStart,
                            e += v.yStart,
                            w.moveTo(t, e)
                        },
                        f
                    }),
                    r("DataZoomModel", ["Hxc3Model", "hqHelper", "util", "hhr"], function (t, e, n, r) {
                        var i = n.parsePercent,
                        o = n.parseSize,
                        a = e.inheritFrom,
                        s = function (e, n, r, i) {
                            t.apply(this, arguments);
                            var o = r.getClient();
                            this.zoomOnMouseWheel = this.get("zoomOnMouseWheel") && 1 !== o.level.pcLow,
                            this.moveOnMouseMove = this.get("moveOnMouseMove") && 1 !== o.level.pcLow
                        };
                        return a(s, t),
                        s.type = "dataZoom",
                        s.defaultOption = {
                            z: 0,
                            show: !0,
                            left: "10%",
                            right: "10%",
                            top: void 0,
                            bottom: "3%",
                            width: void 0,
                            height: 25,
                            background: {
                                show: !0,
                                style: {
                                    fill: "rgba(47,69,84,0)",
                                    stroke: "#ddd",
                                    lineWidth: 1
                                }
                            },
                            filler: {
                                show: !0,
                                type: "rect",
                                style: {
                                    fill: "rgba(167,183,204,0.4)",
                                    stroke: "#ddd"
                                }
                            },
                            handler: {
                                show: !0,
                                type: "path://M8.2,13.6V3.9H6.3v9.7H3.1v14.9h3.3v9.7h1.8v-9.7h3.3V13.6H8.2z M9.7,24.4H4.8v-1.4h4.9V24.4z M9.7,19.1H4.8v-1.4h4.9V19.1z",
                                size: [10, "100%"],
                                style: {
                                    fill: "#a7b7cc",
                                    stroke: "#000",
                                    lineWidth: 0
                                }
                            },
                            start: {
                                type: "last",
                                data: 60
                            },
                            end: {
                                type: "percent",
                                data: "100%"
                            },
                            minSpan: {
                                type: "number",
                                data: 17
                            },
                            maxSpan: {
                                type: "percent",
                                data: "99%"
                            },
                            zoomOnMouseWheel: !0,
                            moveOnMouseMove: !0,
                            preventDefaultMouseMove: !0,
                            orient: "horizontal"
                        },
                        s.prototype.checkEventBoundary = function (t, e) {
                            var n = this.minSpan,
                            r = this.maxSpan,
                            i = {
                                leftBoundary: !1,
                                rightBoundary: !1,
                                zoomLargeBoundary: !1,
                                zoomSmallBoundary: !1
                            };
                            return 1 !== e && 1 !== n || (i.rightBoundary = !0),
                            0 !== t && 1 !== n || (i.leftBoundary = !0),
                            (Math.abs(t - e) < n || 1 === n) && (i.zoomLargeBoundary = !0),
                            (Math.abs(t - e) > r || 1 === n) && (i.zoomSmallBoundary = !0),
                            i
                        },
                        s.prototype.checkBoundary = function () {
                            var t = {
                                isBoundary: !1,
                                leftBoundary: !1,
                                rightBoundary: !1,
                                zoomLargeBoundary: !1,
                                zoomSmallBoundary: !1
                            },
                            e = this.start,
                            n = this.end,
                            r = this._span,
                            i = this.minSpan,
                            o = this.maxSpan;
                            return i && Math.abs(r) <= i && (t.zoomLargeBoundary = t.isBoundary = !0),
                            o && Math.abs(r) >= o && (t.zoomSmallBoundary = t.isBoundary = !0),
                            1 === n && (t.rightBoundary = t.isBoundary = !0),
                            0 === e && (t.leftBoundary = t.isBoundary = !0),
                            t
                        },
                        s.prototype.getValue = function (t, e, n) {
                            var r = t.type,
                            o = t.data;
                            if ("maxSpan" === e) {
                                this.chartInstance.getClient().level.pcLow && (o = 200, r = "number")
                            }
                            var a;
                            switch (r) {
                            case "percent":
                            case "value":
                            case "index":
                                a = i(o);
                                break;
                            case "last":
                                if ("end" === e)
                                    a = 1;
                                else if ("start" === e) {
                                    var s = o / n;
                                    a = s < 1 ? 1 - s : 0
                                }
                                break;
                            case "number":
                                var s = o / n;
                                s < 1 ? a = s : "minSpan" === e && (a = 1)
                            }
                            return a
                        },
                        s.prototype.calcSpan = function (t, e) {
                            var n = {
                                start: Math.max(0, t),
                                end: Math.min(1, e)
                            };
                            return n.start - n.end
                        },
                        s.prototype.render = function (t, e, n) {
                            var r,
                            i,
                            a,
                            s,
                            l = this.get("handler"),
                            c = this.get("orient"),
                            u = this.get("width"),
                            h = this.get("height");
                            e.getSeriesByGridIndex(0, function (t) {
                                if (t && t.show) {
                                    var e = t.getData();
                                    e && (s = e.dataArray.length)
                                }
                            }),
                            this.minSpan = this.getValue(this.get("minSpan"), "minSpan", s),
                            this.maxSpan = this.getValue(this.get("maxSpan"), "maxSpan", s);
                            var d = r = this.getValue(this.get("start"), "start", s),
                            f = i = this.getValue(this.get("end"), "end", s);
                            this.start = Math.max(Math.min(d, f), 0),
                            this.end = Math.min(Math.max(d, f), 1),
                            this._span = this.calcSpan(d, f),
                            l.show && (a = "horizontal" === c ? o(l.size, h) : o(l.size, u)),
                            this.handlerStart = r,
                            this.handlerEnd = i,
                            this.handlerSize = a
                        },
                        s
                    }),
                    r("DataZoomView", ["Hxc3View", "hqHelper", "eventActions", "zrUtil"], function (t, e, n, r) {
                        function i(t, e) {
                            return t.start !== e.start.data || t.end !== e.end.data
                        }
                        function o(t) {
                            return {
                                start: Math.min(t.start.data, t.end.data),
                                end: Math.max(t.start.data, t.end.data)
                            }
                        }
                        var a,
                        s,
                        l = e.inheritFrom,
                        c = r.each,
                        u = n.dataZoomActions,
                        h = function (e, n, r) {
                            t.apply(this, arguments),
                            this._initEvent(e, n, r)
                        };
                        return l(h, t),
                        h.type = "dataZoom",
                        h.prototype._initEvent = function (t, e, n) {
                            s || (s = "onwheel" in document ? (a = function (t) {
                                        return -t.originalEvent.deltaY * (t.originalEvent.deltaMode ? 120 : 1)
                                    }, "wheel") : "onmousewheel" in document ? (a = function (t) {
                                        return t.originalEvent.wheelDelta ? t.originalEvent.wheelDelta : -t.originalEvent.deltaY
                                    }, "mousewheel") : (a = function (t) {
                                        return -t.originalEvent.detail
                                    }, "MozMousePixelScroll")),
                            this._bindGridEvent(t, e, n)
                        },
                        h.prototype.getGridLayout = function () {
                            return this.allModelsManager.getModelByTypeAndIndex("grid", 0).layout
                        },
                        h.prototype.isPointInGrid = function (t, e) {
                            var n = this.allModelsManager,
                            r = n.getModelByTypeAndIndex("grid"),
                            i = !1;
                            return c(r, function (n, r) {
                                n.isPointInGrid(t, e) && (i = !0)
                            }),
                            i
                        },
                        h.prototype._bindGridEvent = function (t, e, n) {
                            var r = !1,
                            l = t.zoomOnMouseWheel,
                            c = t.moveOnMouseMove,
                            h = (t.get("preventDefaultMouseMove"), this);
                            c && (n.on("mousedown." + t.id + "__" + u.start, function (e) {
                                    var i = e.offsetX,
                                    o = e.offsetY;
                                    h.isPointInGrid(i, o) && (r = !0, n.triggerAction(t, u.start, {
                                            e: e
                                        }))
                                }), n.on("mousemove." + t.id + "__" + u.moving, function (e) {
                                    var r = e.offsetX,
                                    i = e.offsetY;
                                    e.preventDefault && h.isPointInGrid(r, i) && n.triggerAction(t, u.moving, {
                                        e: e
                                    })
                                }), n.on("mouseup." + t.id + "__" + u.end, function (e) {
                                    r && n.triggerAction(t, u.end),
                                    r = !1
                                }), n.on("mouseout", function (e) {
                                    r && n.triggerAction(t, u.end),
                                    r = !1
                                })),
                            l && (n._$dom.on(s, function (t) {
                                    t.preventDefault()
                                }), n.on(s + "." + t.id + "__" + u.wheel, function (e) {
                                    e.preventDefault();
                                    var r,
                                    i,
                                    o = e.offsetX,
                                    s = e.offsetY;
                                    "wheel" !== e.type && "mousewheel" !== e.type || (r = e.originalEvent.clientX, i = e.originalEvent.clientY, o = e.originalEvent.offsetX || e.originalEvent.layerX, s = e.originalEvent.offsetY || e.originalEvent.layerY);
                                    var l = a(e);
                                    h.isPointInGrid(o, s) && n.triggerAction(t, u.wheel, {
                                        e: e,
                                        scale: l > 0 ? .1 :  - .1,
                                        zoomX: r,
                                        zoomY: i
                                    })
                                }));
                            var d,
                            f,
                            p,
                            g = !1;
                            n.onAction(t, u.start, function (e) {
                                var n = e.e,
                                r = n.offsetX,
                                i = n.offsetY,
                                o = t.get("orient");
                                d = "horizontal" === o ? r : -i,
                                g = !0
                            }, t.id),
                            n.onAction(t, u.moving, function (e) {
                                var r = e.e,
                                a = r.offsetX,
                                s = r.offsetY,
                                l = e.forceMoving,
                                c = e.moveDistance;
                                if (g || l) {
                                    var v = t.get("orient"),
                                    m = h.getGridLayout().width,
                                    y = h.getGridLayout().height,
                                    x = t.start,
                                    w = t.end,
                                    b = "horizontal" === v ? a : -s,
                                    S = "horizontal" === v ? m : y;
                                    if (f = c || b - d, p = f / S * (w - x), x - p >= 0 && w - p <= 1) {
                                        var M = {
                                            start: {
                                                data: x - p,
                                                type: "percent"
                                            },
                                            end: {
                                                data: w - p,
                                                type: "percent"
                                            }
                                        };
                                        i(t, M) && (t.set(M), n.triggerAction(t, u.change, {
                                                zoom: o(M)
                                            }))
                                    } else if (0 !== x && x - p < 0) {
                                        var M = {
                                            start: {
                                                data: 0,
                                                type: "percent"
                                            },
                                            end: {
                                                data: w - p + (p - x),
                                                type: "percent"
                                            }
                                        };
                                        i(t, M) && (t.set(M), n.triggerAction(t, u.change, {
                                                zoom: o(M)
                                            }))
                                    } else if (1 !== w && w - p > 1) {
                                        var M = {
                                            start: {
                                                data: x - p - (w - p - 1),
                                                type: "percent"
                                            },
                                            end: {
                                                data: 1,
                                                type: "percent"
                                            }
                                        };
                                        i(t, M) && (t.set(M), n.triggerAction(t, u.change, {
                                                zoom: o(M)
                                            }))
                                    }
                                    var k = t.checkEventBoundary(M ? M.start.data : x, M ? M.end.data : w);
                                    n.triggerAction(t, u.checkBoundary, k),
                                    d = b
                                }
                            }, t.id),
                            n.onAction(t, u.end, function () {
                                g = !1
                            }, t.id),
                            n.onAction(t, u.wheel, function (e) {
                                var r = e.zoomX,
                                a = (e.zoomY, e.scale),
                                s = e.forceScale,
                                l = n._$dom.offset().left,
                                c = t.get("orient"),
                                d = t.minSpan,
                                f = t.maxSpan,
                                p = h.getGridLayout(),
                                g = p.xStart + l,
                                v = p.width;
                                s && (r = g + v / 2);
                                var m = "horizontal" === c && (r - g) / v,
                                y = t.start,
                                x = t.end,
                                w = x - y;
                                w = s ? s / 100 * w * 100 / 2 : w * a,
                                y += w * m,
                                x -= w * (1 - m),
                                y = Math.max(0, y),
                                x = Math.min(1, x);
                                var b = {
                                    start: {
                                        data: y,
                                        type: "percent"
                                    },
                                    end: {
                                        data: x,
                                        type: "percent"
                                    },
                                    _span: y - x
                                };
                                return t._span = b._span,
                                void 0 !== d && Math.abs(b._span) < d ? void n.triggerAction(t, u.checkBoundary, t.checkEventBoundary(y, x)) : void 0 !== f && Math.abs(b._span) > f ? void n.triggerAction(t, u.checkBoundary, t.checkEventBoundary(y, x)) : void(i(t, b) && (t.set(b), n.triggerAction(t, u.change, {
                                            zoom: o(b)
                                        }), n.triggerAction(t, u.checkBoundary, t.checkEventBoundary(y, x))))
                            }, t.id)
                        },
                        h
                    }),
                    r("GridModel", ["Hxc3Model", "hqHelper"], function (t, e) {
                        var n = e.inheritFrom,
                        r = function (e, n, r, i) {
                            t.apply(this, arguments),
                            this.layout = {
                                width: 0,
                                height: 0,
                                xStart: 0,
                                xEnd: 0,
                                yStart: 0,
                                yEnd: 0
                            },
                            this._dirty = !0
                        };
                        return n(r, t),
                        r.type = "grid",
                        r.defaultOption = {
                            z: 0,
                            show: !0,
                            left: 0,
                            right: 0,
                            height: "100%",
                            outline: "1,1,1,1",
                            lineStyle: {
                                color: "#ccc",
                                lineDash: null
                            },
                            topPlaceHolder: {
                                show: !1,
                                outline: "1,1,1,1",
                                lineStyle: {
                                    color: "#ccc",
                                    lineDash: null
                                },
                                height: 18
                            },
                            bottomPlaceHolder: {
                                show: !1,
                                outline: "1,1,1,1",
                                lineStyle: {
                                    color: "#ccc",
                                    lineDash: null
                                },
                                height: 18
                            }
                        },
                        r.prototype.isPointInGrid = function (t, e) {
                            var n = this.layout.xStart,
                            r = this.layout.xEnd,
                            i = this.layout.yStart,
                            o = this.layout.yEnd;
                            return t > n && t <= r && e > i && e <= o
                        },
                        r.prototype.checkGridEnable = function () {
                            var t = !1,
                            e = this.id.split("_")[1];
                            return this.allModelsManager.getSeriesByGridIndex(e, function (e) {
                                e && e.show && (t = !0)
                            }),
                            t && this.get("show")
                        },
                        r.prototype.render = function (t, e, n) {
                            if (this.show = this.checkGridEnable(), this.show) {
                                var r = t.get("left"),
                                i = t.get("right"),
                                o = t.get("topPlaceHolder").show ? t.get("topPlaceHolder").height : 0,
                                a = t.get("bottomPlaceHolder").show ? t.get("bottomPlaceHolder").height : 0,
                                s = n.getHeight(),
                                l = n.getWidth(),
                                c = [],
                                u = 0;
                                e.eachModel("grid", function (t, e) {
                                    t.checkGridEnable() && (u += parseFloat(t.get("height").replace(/%/g, function (t, e) {
                                                return ""
                                            })), c.push({
                                            model: t,
                                            actualHeight: 0
                                        }))
                                });
                                for (var h, d = 0; d < c.length; d++)
                                    c[d].actualYStart = 0 === d ? 0 : c[d - 1].actualYEnd, d == c.length - 1 ? (c[d].actualHeight = 0 === d ? s : s - c[d - 1].actualYEnd, c[d].actualYEnd = s) : (c[d].actualHeight = Math.round(parseFloat(c[d].model.get("height").replace(/%/g, function (t, e) {
                                                        return ""
                                                    })) / u * s), c[d].actualYEnd = c[d].actualHeight + c[d].actualYStart), c[d].model.id === this.id && (h = c[d]);
                                var f,
                                p,
                                g;
                                f = h.actualYStart + o,
                                g = h.actualHeight - o - a,
                                p = h.actualYEnd - a,
                                this.layout = {
                                    actualYStart: h.actualYStart,
                                    actualYEnd: h.actualYEnd,
                                    actualHeight: h.actualHeight,
                                    width: l - i - r,
                                    height: g,
                                    xStart: r,
                                    xEnd: l - i,
                                    yStart: f,
                                    yEnd: p
                                }
                            }
                        },
                        r
                    }),
                    r("drawOutline", ["util"], function (t) {
                        function e(t, e) {
                            return arguments.length < 2 && (e = .5),
                            (t >> 0) + e
                        }
                        function n() {
                            var t,
                            n = "1,1,1,1",
                            i = 0,
                            o = 0,
                            a = 100,
                            s = 100,
                            l = void 0,
                            c = function () {
                                var c = a,
                                u = s,
                                h = l.color,
                                d = l.lineDash;
                                if (i = e(i), o = e(o), "1,1,1,1" == n)
                                    t.strokeStyle = h, t.strokeRect(i, o, c, u);
                                else if ("0,0,0,0" != n) {
                                    var f,
                                    p = n.split(","),
                                    g = e(i + a),
                                    v = e(o + s);
                                    if (t.beginPath(), t.strokeStyle = h, d)
                                        for (var m = 0; m < p.length; m++)
                                            f = p[m], f >= 1 && 0 == m ? r(t, i, o, g, o, d) : f >= 1 && 1 == m ? r(t, g, o, g, v, d) : f >= 1 && 2 == m ? r(t, g, v, i, v, d) : f >= 1 && 3 == m && r(t, i, v, i, o, d);
                                    else
                                        for (var m = 0; m < p.length; m++)
                                            f = p[m], f >= 1 && 0 == m ? (t.moveTo(i, o), t.lineTo(g, o)) : f >= 1 && 1 == m ? (t.moveTo(g, o), t.lineTo(g, v)) : f >= 1 && 2 == m ? (t.moveTo(g, v), t.lineTo(i, v)) : f >= 1 && 3 == m && (t.moveTo(i, v), t.lineTo(i, o));
                                    t.stroke()
                                }
                            };
                            return c.ctx = function (e) {
                                return t = e,
                                c
                            },
                            c.outlineEnable = function (t) {
                                return n = t,
                                c
                            },
                            c.xStart = function (t) {
                                return i = t,
                                c
                            },
                            c.yStart = function (t) {
                                return o = t,
                                c
                            },
                            c.width = function (t) {
                                return a = t,
                                c
                            },
                            c.height = function (t) {
                                return s = t,
                                c
                            },
                            c.lineStyle = function (t) {
                                return l = t,
                                c
                            },
                            c
                        }
                        var r = t.dashedLine;
                        return function () {
                            return n()
                        }
                    }),
                    r("GridView", ["Hxc3View", "hqHelper", "drawOutline"], function (t, e, n) {
                        var r = e.inheritFrom,
                        i = function () {
                            t.apply(this, arguments)
                        };
                        return r(i, t),
                        i.type = "grid",
                        i.prototype.render = function (t, e, r) {
                            var i = r.getMainCtx(),
                            o = t.layout;
                            if (t.get("topPlaceHolder").show) {
                                var a = t.get("topPlaceHolder").outline,
                                s = t.get("topPlaceHolder").lineStyle,
                                l = t.get("topPlaceHolder").height,
                                c = n();
                                c.outlineEnable(a).xStart(o.xStart).yStart(o.yStart - l).width(o.width).height(l).lineStyle(s).ctx(i),
                                c()
                            }
                            if (t.get("bottomPlaceHolder").show) {
                                var u = t.get("bottomPlaceHolder").outline,
                                h = t.get("bottomPlaceHolder").lineStyle,
                                d = t.get("bottomPlaceHolder").height,
                                f = n();
                                f.outlineEnable(u).xStart(o.xStart).yStart(o.yEnd).width(o.width).height(d).lineStyle(h).ctx(i),
                                f()
                            }
                            var p = n();
                            p.outlineEnable(t.get("outline")).xStart(o.xStart).yStart(o.yStart).width(o.width).height(o.height).lineStyle(t.get("lineStyle")).ctx(i),
                            p()
                        },
                        i
                    }),
                    r("dataActions", [], function () {
                        return {
                            providerUpdate: "PROVIDER_UPDATE",
                            dataUpdate: "DATA_UPDATE"
                        }
                    }),
                    r("DataModel", ["Hxc3Model", "hqHelper", "StockType", "indicatorHelper", "dataActions", "zrUtil"], function (t, e, n, r, i, o) {
                        var a = (o.each, e.inheritFrom),
                        s = function (e, n, r, i) {
                            t.apply(this, arguments),
                            this._data,
                            this._dirty = !0
                        };
                        return a(s, t),
                        s.type = "data",
                        s.defaultOption = {
                            normal: void 0,
                            formatter: function (t) {
                                return t
                            },
                            afterArrange: void 0
                        },
                        s.prototype.render = function (t, e, o) {
                            var a = hxc3.dataPool,
                            s = this,
                            l = this.get("dataIndex"),
                            c = this.get("formatter"),
                            u = this.get("afterArrange");
                            if (this.get("normal") && this.get("normal").code)
                                this.stockType = new n({
                                    code: this.get("normal").code
                                }).init();
                            else if (void 0 !== l) {
                                var h = this.getModel("data");
                                this.stockType = h.stockType
                            } else
                                this.stockType = new n({
                                    code: "hs_300033"
                                }).init();
                            if ("string" == typeof c && "indicator" === this.get("type")) {
                                c = r[c].arrayData
                            }
                            if (void 0 !== u)
                                this.setData(c(u)), o.triggerAction(this, i.dataUpdate, {
                                    data: u,
                                    dom: o._$dom
                                }), o.trigger("global_data_update", o.allModels.getAllDataAsArray());
                            else if (void 0 !== l) {
                                var h = this.getModel("data"),
                                d = h.getData();
                                d && (this.setData(c(d)), o.triggerAction(this, i.dataUpdate, {
                                        data: d,
                                        dom: o._$dom
                                    }), o.trigger("global_data_update", o.allModels.getAllDataAsArray()))
                            } else {
                                var f = a.register(this.get());
                                a.onAction(f, i.providerUpdate, function (t) {
                                    var e = t.data;
                                    "000" === t.xhrStatus.code && s.setData(e),
                                    o.triggerAction(s, i.dataUpdate, {
                                        data: e,
                                        xhrStatus: t.xhrStatus,
                                        dom: o._$dom
                                    }),
                                    o.trigger("global_data_update", o.allModels.getAllDataAsArray())
                                }, s.id)
                            }
                        },
                        s
                    }),
                    r("componentClassPrepare", ["AxisModel", "AxisView", "ScaleModel", "ScaleView", "TooltipModel", "TooltipView", "DataZoomModel", "DataZoomView", "GridModel", "GridView", "DataModel"], function (t, e, n, r, i, o, a, s, l, c, u) {
                        var h = t.XAxisModel,
                        d = t.YAxisModel,
                        f = e.XAxisView,
                        p = e.YAxisView;
                        h.registerClass(h, h.type),
                        f.registerClass(f, f.type),
                        d.registerClass(d, d.type),
                        p.registerClass(p, p.type),
                        n.registerClass(n, n.type),
                        r.registerClass(r, r.type),
                        a.registerClass(a, a.type),
                        s.registerClass(s, s.type),
                        i.registerClass(i, i.type),
                        o.registerClass(o, o.type),
                        l.registerClass(l, l.type),
                        c.registerClass(c, c.type),
                        u.registerClass(u, u.type)
                    }),
                    r("LineModel", ["SeriesModel", "hqHelper", "zrUtil"], function (t, e, n) {
                        var r = n.clone,
                        i = n.merge,
                        o = e.inheritFrom,
                        a = function (e, n, r, i) {
                            t.apply(this, arguments)
                        };
                        return o(a, t),
                        a.type = "line",
                        a.defaultOption = i(r(t.defaultOption), {
                            xDataKey: function (t) {
                                return t
                            },
                            yDataKey: function (t) {
                                return t
                            },
                            highlightDataX: function (t) {
                                return t
                            },
                            highlightDataY: function (t) {
                                return t
                            },
                            line: {
                                show: !0,
                                lineStyle: {
                                    color: "#90b7de",
                                    width: 1,
                                    lineDash: void 0,
                                    fill: void 0
                                }
                            },
                            area: {
                                show: !1,
                                lineStyle: {
                                    color: void 0,
                                    width: 1,
                                    fill: {
                                        type: "linear",
                                        x: 0,
                                        y: 0,
                                        x2: 0,
                                        y2: 1,
                                        colorStops: [{
                                                offset: 0,
                                                color: "red"
                                            }, {
                                                offset: 1,
                                                color: "blue"
                                            }
                                        ]
                                    }
                                }
                            }
                        }, !0),
                        a.prototype.render = function (e, n, r) {
                            t.prototype.render.call(this),
                            t.prototype.renderMarkData.call(this)
                        },
                        a
                    }),
                    r("LineView", ["Hxc3View", "hqHelper", "drawLine"], function (t, e, n) {
                        var r = e.inheritFrom,
                        i = function () {
                            t.apply(this, arguments)
                        };
                        return r(i, t),
                        i.type = "line",
                        i.prototype.render = function (t, e, r) {
                            var i = t.getData();
                            if (i && i.dataArray) {
                                var o = i.dataArray,
                                a = t.getDrawScale("x"),
                                s = t.getDrawScale("y"),
                                l = t.get("xDataKey"),
                                c = t.get("yDataKey"),
                                u = t.get("line"),
                                h = t.get("area"),
                                d = r.getMainCtx(),
                                f = a.bandwidth(),
                                p = 0;
                                if (f > 1) {
                                    var g = Math.floor(f);
                                    p = (f - g) / 2
                                }
                                if (h.show) {
                                    n().x(function (t, e) {
                                        return a(l(t)) + p
                                    }).y(function (t) {
                                        return s(c(t))
                                    }).canvasLineTemplate("linear").y0(s.range()[0] + 1).lineStyle(h.lineStyle).getBoundingRect({
                                        x: a.range()[0],
                                        y: s.range()[1],
                                        width: a.range()[1] - a.range()[0],
                                        height: s.range()[0] - s.range()[1]
                                    }).ctx(d)(o)
                                }
                                if (u.show) {
                                    n().x(function (t, e) {
                                        return a(l(t)) + p
                                    }).y(function (t) {
                                        return s(c(t))
                                    }).canvasLineTemplate("linear").lineStyle(u.lineStyle).ctx(d)(o)
                                }
                            }
                        },
                        i
                    }),
                    r("lineClassPrepare", ["LineModel", "LineView"], function (t, e) {
                        t.registerClass(t, t.type),
                        e.registerClass(e, e.type)
                    }),
                    r("OthersHqBase", ["Hxc3DataProvider", "hqHelper", "Xhr"], function (t, e, n) {
                        function r(t, e) {
                            var n = t.items,
                            r = {};
                            for (var i in n)
                                 /  ^ (25 | 27 | 29 | 151 | 155 | 31 | 33 | 35 | 153 | 157)$ / .test(i) ? r[i] = l(n[i], "vol", e.needConvertoShou) : (r[i] = "" == n[i] ? "" : c(n[i], e.keepLen), r["color-" + i] = u(n[i], n[6]));
                            return r
                        }
                        function i(t, e, n) {
                            var r,
                            i,
                            o = t.items,
                            a = e.split("_")[1],
                            s = n.keepLen,
                            h = n.needConvertoShou,
                            d = o[66] ? o[66] : "" === o[6] ? 0 : o[6];
                            return o[66] ? (r = o[10] - o[66], i = r / o[66] * 100) : (r = o[264648], i = o[199112]), {
                                name: o.name,
                                shortcode: a,
                                keepLen: s,
                                isStop: o.stop,
                                yesterdayP: d,
                                curP: o[10],
                                curPStatus: u(o[10], d),
                                openP: c(o[7], s),
                                openPStatus: u(o[7], d),
                                maxP: c(o[8], s),
                                maxPStatus: u(o[8], d),
                                minP: c(o[9], s),
                                minPStatus: u(o[9], d),
                                staticSYL: o[134152],
                                dynamicSYL: o[2034120],
                                sjl: c(o[592920], 2),
                                totalM: l(o[3541450]),
                                stockM: l(o[3475914]),
                                zf: c(o[526792], 2),
                                rateP: c(r, s),
                                rate: c(i, 2),
                                n: l(o[13], "vol", h),
                                np: l(o[19]),
                                turnRate: parseFloat(o[1968584]).toFixed(2)
                            }
                        }
                        function o(t, e) {
                            var n = {};
                            if (n.items = [], !t.items.length)
                                return "";
                            for (var r = 0; r < t.items.length; r++)
                                n.items.push(function (t, n) {
                                    var r = [],
                                    i = "--";
                                    t.His && (r = t.His.split(":"), i = r[0] + ":" + r[1]);
                                    var o = h.curP(t),
                                    a = h.dealType(t),
                                    s = "";
                                    return s = a > 4 ? "buy" : 4 == a ? "eq" : "sell", {
                                        time: i,
                                        color: u(o, n),
                                        price: o,
                                        dealTypeStr: s,
                                        curVol: l(h.curVol(t), "vol", e.needConvertoShou)
                                    }
                                }
                                    (t.items[r], t[6]));
                            return n
                        }
                        var a = e.getCallbackName,
                        s = e.inheritFrom,
                        l = e.filterNum,
                        c = e.decimalRound,
                        u = e.filterStatus,
                        h = e.getter,
                        d = {
                            fiverangeArrange: r,
                            exchangedetailArrange: o,
                            realheadArrange: i
                        },
                        f = function () {
                            t.apply(this, arguments)
                        };
                        return s(f, t),
                        f.type = "othersHqBase",
                        f.defaultOption = {
                            code: "hs_300033",
                            xhrType: "jqXhrWithoutCallback",
                            dType: "realhead",
                            urlFormatter: function (t) {
                                return "http://d.10jqka.com.cn/v4/" + t.dType + "/" + t.stockCode + "/last.js"
                            },
                            isKeepingGet: !1,
                            intervalTime: 6e4,
                            callbackName: null
                        },
                        f.prototype.init = function () {
                            this.xhrPending();
                            var t = this;
                            t.getFromWeb(function (e) {
                                var n,
                                r = t.get("dType");
                                "function" == typeof d[r + "Arrange"] && (n = d[r + "Arrange"](e, t.get("code"), t.stockType)),
                                t._data = {
                                    remoteData: e,
                                    hxc3Data: n
                                },
                                t.xhrSuccess(),
                                t._configs.isKeepingGet && t.keepingGetData()
                            })
                        },
                        f.prototype.getFromWeb = function (t) {
                            var e = this,
                            r = this.get("urlFormatter"),
                            i = this.get(),
                            o = r({
                                stockCode: i.code,
                                dType: i.dType
                            }),
                            s = this.get("xhrType"),
                            l = "";
                            o.replace(/\/{2}([\w.:]+)\//, function (t, e) {
                                l = e
                            });
                            var c = i.callbackName ? i.callbackName : a(o, l + "/");
                            $.when(function () {
                                return n[s](o, void 0, c)
                            }
                                ()).then(function (e) {
                                t(e)
                            }, function (t, n, r) {
                                e.xhrFail(t, n, r)
                            })
                        },
                        f.prototype.keepingGetData = function () {
                            var t = this;
                            this.keepingGetHandle = setTimeout(function () {
                                t.getFromWeb(function (e) {
                                    var n,
                                    r = t.get("dType");
                                    "function" == typeof d[r + "Arrange"] && (n = d[r + "Arrange"](e, t.get("code"), t.stockType)),
                                    t._data = {
                                        remoteData: e,
                                        hxc3Data: n
                                    },
                                    t.xhrSuccess()
                                }),
                                t.keepingGetHandle = setTimeout(arguments.callee, t.get("intervalTime"))
                            }, t.get("intervalTime"))
                        },
                        f.prototype.stopGetData = function () {
                            this._configs.isKeepingGet = !1,
                            clearTimeout(this.keepingGetHandle)
                        },
                        f
                    }),
                    r("commonDataPrepare", ["OthersHqBase"], function (t) {
                        t.registerClass(t, t.type)
                    }),
                    function (e, n) {
                        var i = "function" == typeof r,
                        o = void 0 !== t && t.exports;
                        i ? r("EventTarget", n) : o ? t.exports = n() : this.EventTarget = n()
                    }
                    (0, function () {
                        var t = function () {
                            this.maxCallbackNum = 20,
                            this.maxCallbackAlert = !0,
                            this.eventTopics = {},
                            this.eventSubUid = 0
                        };
                        return t.prototype.trigger = function (t, e) {
                            if (/^\./.test(t) || !this.hasTopic(t))
                                return !1;
                            var n = this._getTopic(t),
                            t = n.topic,
                            r = n.namespace,
                            i = this;
                            return setTimeout(function () {
                                for (var n = i.eventTopics[t], o = n ? n.length : 0; o--; )
                                    ("" == r || n[o].namespace == r) && n[o].func(e)
                            }, 0),
                            !0
                        },
                        t.prototype._getTopic = function (t) {
                            var e = [],
                            n = "";
                            return /\./.test(t) && (e = t.split(".")),
                            2 === e.length && (t = e[0], n = e[1]), {
                                topic: t,
                                namespace: n
                            }
                        },
                        t.prototype.hasTopic = function (t) {
                            var e = this._getTopic(t),
                            t = e.topic,
                            n = e.namespace,
                            r = !1;
                            if (!this.eventTopics[t])
                                return !1;
                            if (n) {
                                for (var i = this.eventTopics[t], o = i ? i.length : 0; o--; )
                                    i[o].namespace == n && (r = !0);
                                if (!r)
                                    return !1
                            }
                            return !0
                        },
                        t.prototype.getTotalCallbackNum = function () {
                            var t = 0;
                            for (var e in this.eventTopics)
                                if (this.eventTopics[e])
                                    for (var n = 0, r = this.eventTopics[e].length; n < r; n++)
                                        t++;
                            if (this.maxCallbackAlert && t > this.maxCallbackNum)
                                throw new Error("当前监听的回调函数达到上限" + this.maxCallbackNum + "个, 请检查代码,在绑定同名事件前先解绑之前的监听:释放资源, 防止内存泄漏; 或者您可以关闭此异常提示 this.maxCallbackAlert = false;");
                            return t
                        },
                        t.prototype.on = function (t, e) {
                            var n = this._getTopic(t),
                            t = n.topic,
                            r = n.namespace;
                            this.eventTopics[t] || (this.eventTopics[t] = []);
                            var i = ++this.eventSubUid;
                            return this.eventTopics[t].push({
                                token: i,
                                namespace: r,
                                func: e
                            }),
                            i
                        },
                        t.prototype._clearEventByTopicAndPos = function (t, e) {
                            "" === this.eventTopics[t][e].namespace ? delete this.eventTopics[t] : this.eventTopics[t].splice(e, 1),
                            (!this.eventTopics[t] || this.eventTopics[t].length < 1) && delete this.eventTopics[t]
                        },
                        t.prototype._offByTopicName = function (t) {
                            if (/^\./.test(t)) {
                                var e = !1,
                                n = this._getTopic(t),
                                r = n.namespace,
                                i = [];
                                for (var o in this.eventTopics)
                                    if (this.eventTopics[o])
                                        for (var a = 0, s = this.eventTopics[o].length; a < s; a++)
                                            this.eventTopics[o][a].namespace === r && (e = !0, i.push({
                                                    topic: o,
                                                    pos: a
                                                }));
                                for (var a = 0; a < i.length; a++)
                                    this._clearEventByTopicAndPos(i[a].topic, i[a].pos);
                                return e
                            }
                            if (!this.hasTopic(t))
                                return !1;
                            for (var n = this._getTopic(t), t = n.topic, r = n.namespace, a = 0, s = this.eventTopics[t].length; a < s; a++)
                                if (this.eventTopics[t][a].namespace === r)
                                    return this._clearEventByTopicAndPos(t, a), t;
                            return !1
                        },
                        t.prototype.off = function (t) {
                            if (!t && 0 != t)
                                return !1;
                            var e = "string" == typeof t,
                            n = !e && ("string" == typeof t || "number" == typeof t);
                            if (e)
                                return this._offByTopicName(t);
                            if (n)
                                for (var r in this.eventTopics)
                                    if (this.eventTopics[r])
                                        for (var i = 0, o = this.eventTopics[r].length; i < o; i++)
                                            if (this.eventTopics[r][i].token === t)
                                                return this._clearEventByTopicAndPos(r, i), t;
                            return !1
                        },
                        t
                    }),
                    r("AllModelsManager", ["zrUtil", "Hxc3Model"], function (t, e) {
                        var n = t.each,
                        r = t.isString,
                        i = t.isArray,
                        o = function (t) {
                            this._maps = {},
                            this.options,
                            this.chartInstance = t,
                            this._hasDirtyModel = !1
                        };
                        return o.prototype = {
                            dependence: ["data", "grid", "dataZoom", "scale", "xAxis", "yAxis", "series", "tooltip"],
                            clearWatchDataList: function () {
                                for (var t = hxc3.dataPool, e = this.getModelByTypeAndIndex("data"), n = 0; n < e.length; n++)
                                    t.removeAction(e[n].id)
                            },
                            setOption: function (t) {
                                var r = this,
                                i = this.chartInstance.setOptionConfigs;
                                n(t, function (t, o) {
                                    var a,
                                    s,
                                    l,
                                    c = "series" === o || !1;
                                    n(t, function (t, n) {
                                        if (s = c ? t.type : o, e.hasClass(s) && !t._markId)
                                            l = e.getClass(s), a = new l(t, r, r.chartInstance, n), r._maps[a.id] = a, t._markId = a.id;
                                        else {
                                            if (i.notMerge || !t._markId || !r._maps[t._markId])
                                                throw new Error("Hxc3Model 请先注册 " + s + " Model");
                                            r._maps[t._markId].set(t)
                                        }
                                    })
                                }),
                                this.options = t;
                                var o = {};
                                this.eachModelByDependenceInvert(function (t, e) {
                                    for (var n, i, a = r.dependence, s = 0; s < a.length; s++)
                                        if (i = a[s] + "Index", t._configs.hasOwnProperty(i)) {
                                            var l = t.get(i);
                                            if ("number" == typeof l)
                                                n = a[s] + "_" + l, o[n] || (o[n] = {}), o[n][t.id] = t;
                                            else if (l)
                                                for (var c = l, u = 0; u < c.length; u++)
                                                    i = c[u], n = a[s] + "_" + i, o[n] || (o[n] = {}), o[n][t.id] = t
                                        }
                                    if ("data" === t.type)
                                        for (var s in r._maps)
                                            if ("data" !== r._maps[s].type) {
                                                r._maps[s];
                                                var h = t.id.split("_");
                                                n = h[0] + "_" + h[1],
                                                o[n] || (o[n] = {}),
                                                o[n][r._maps[s].id] = r._maps[s]
                                            }
                                }),
                                this.supportsObj = o,
                                this.eachModelByDependence(function (t, e) {
                                    var n = t.id.split("_")[0] + "_" + t.id.split("_")[1];
                                    o[n] && (t.supports = o[n])
                                }),
                                this._hasDirtyModel = !0
                            },
                            getOption: function () {
                                return this.options
                            },
                            hasDirtyModel: function () {
                                return this._hasDirtyModel
                            },
                            setDirtyOnDependModel: function (t) {
                                var e = t.supports;
                                n(e, function (t, e) {
                                    t.isDirty() || t.setDirty()
                                }),
                                this._hasDirtyModel = !0
                            },
                            update: function (t) {
                                var e = this;
                                this.eachModelByDependence(function (n, r) {
                                    (n.isDirty() || t) && n.update(n, e, e.chartInstance)
                                }),
                                hxc3.debug.model.enable && console.log("finish one loop Model update"),
                                this._hasDirtyModel = !1
                            },
                            eachModel: function (t, e) {
                                var i = this._maps;
                                "function" == typeof t ? n(i, function (e, n) {
                                    t(e, n)
                                }) : r(t) && n(this._maps, function (n, r) {
                                    0 === r.indexOf(t + "_") && e(n, r)
                                })
                            },
                            eachModelByDependence: function (t) {
                                for (var e = this.dependence, n = 0; n < e.length; n++)
                                    for (var r in this._maps)
                                        0 === r.indexOf(e[n] + "_") && t(this._maps[r], r)
                            },
                            eachModelByDependenceInvert: function (t) {
                                for (var e = this.dependence, n = e.length - 1; n >= 0; n--)
                                    for (var r in this._maps)
                                        0 === r.indexOf(e[n] + "_") && t(this._maps[r], r)
                            },
                            getModelByMapsId: function (t) {
                                return this._maps[t]
                            },
                            getModelByTypeAndIndex: function (t, e) {
                                var r,
                                t = t + "_";
                                if (1 === arguments.length)
                                    r = [], n(this._maps, function (e, n) {
                                        0 === n.indexOf(t) && r.push(e)
                                    });
                                else if (i(e)) {
                                    r = [];
                                    for (var o = 0; o < e.length; o++) {
                                        var a = e[o];
                                        n(this._maps, function (e, n) {
                                            0 === n.indexOf(t) && n.split("_")[1] == a && r.push(e)
                                        })
                                    }
                                } else
                                    n(this._maps, function (n, i) {
                                        0 === i.indexOf(t) && i.split("_")[1] == e && (r = n)
                                    });
                                return r
                            },
                            getAllDataAsArray: function () {
                                var t = [];
                                return this.eachModel("data", function (e, n) {
                                    t.push(e.getData())
                                }),
                                t
                            },
                            getSeriesByGridIndex: function (t, e) {
                                this.eachModel("series", function (n, r) {
                                    n.get("gridIndex") == t && e(n)
                                })
                            },
                            getSeriesByScaleIndex: function (t) {
                                var e = this.getModelByTypeAndIndex("scale", t),
                                n = e.get("gridIndex");
                                n = i(n) ? n : [n];
                                for (var r = [], o = 0; o < n.length; o++)
                                    this.getSeriesByGridIndex(n[o], function (t) {
                                        r.push(t)
                                    });
                                return r
                            }
                        },
                        o
                    }),
                    r("AllViewsManager", ["zrUtil", "Hxc3View"], function (t, e) {
                        var n = t.each,
                        r = t.isString,
                        i = t.map,
                        o = function (t) {
                            this._maps = {},
                            this.chartInstance = t,
                            this._hasDirtyView = !1,
                            this.drawSequence
                        };
                        return o.prototype = {
                            setDirty: function () {
                                this._hasDirtyView = !0
                            },
                            isDirty: function () {
                                return this._hasDirtyView
                            },
                            refreshHover: function () {
                                this.eachView(function (t, e) {
                                    if (t.hoverPainter.isDirty()) {
                                        var n = t.hoverPainter.storage[0];
                                        if (n && n[0]) {
                                            (0, n[0])(n[1])
                                        }
                                        var r = t.hoverPainter.storage[1];
                                        if (r && r[0]) {
                                            (0, r[0])(r[1])
                                        }
                                        t.hoverPainter._dirty = !1
                                    }
                                }),
                                this._hasDirtyView = !1
                            },
                            refreshDrawsSequence: function () {
                                var t = [];
                                n(this._maps, function (e, n) {
                                    t.push({
                                        view: e,
                                        z: e.model.get("z")
                                    })
                                }),
                                t.sort(function (t, e) {
                                    return t.z - e.z
                                }),
                                this.drawSequence = t
                            },
                            setModel: function () {
                                var t = this,
                                n = this.chartInstance.allModels;
                                this.chartInstance.allModels.eachModel(function (r, i) {
                                    if (!/^data_/.test(i) && r.show && e.hasClass(r.type) && !t._maps[i]) {
                                        var o = r.type,
                                        a = e.getClass(o),
                                        s = new a(r, n, t.chartInstance, i);
                                        t._maps[i] = s
                                    }
                                }),
                                this.refreshDrawsSequence()
                            },
                            render: function () {
                                var t = this;
                                this.eachViewByDrawSequence(function (e, n) {
                                    if ("series" !== e.model.id.split("_")[0])
                                        e.render(e.model, e.allModelsManager, t.chartInstance);
                                    else {
                                        var r = [{
                                                fun: "render",
                                                z: e.model.get("z")
                                            }, {
                                                fun: "renderMarkArea",
                                                z: e.model.get("markArea").z
                                            }, {
                                                fun: "renderMarkLine",
                                                z: e.model.get("markLine").z
                                            }, {
                                                fun: "renderMarkPoint",
                                                z: e.model.get("markPoint").z
                                            }
                                        ];
                                        r.sort(function (t, e) {
                                            return t.z < e.z ? -1 : t.z > e.z ? 1 : 0
                                        });
                                        for (var i = 0; i < r.length; i++)
                                            e[r[i].fun](e.model, e.allModelsManager, t.chartInstance)
                                    }
                                })
                            },
                            eachViewByDrawSequence: function (t) {
                                i(this.drawSequence, function (e, n) {
                                    var r = e.view;
                                    r.model.show && t(r, n)
                                })
                            },
                            eachView: function (t, e) {
                                var i = this._maps;
                                "function" == typeof t ? n(i, function (e, n) {
                                    e.model.show && t(e, n)
                                }) : r(t) && n(this._maps, function (n, r) {
                                    0 == r.indexOf(t) && n.model.show && e(n, r)
                                })
                            }
                        },
                        o
                    }),
                    r("Hxc3Chart", ["Platformer", "EventTarget", "zrUtil", "AllModelsManager", "AllViewsManager", "browserStrategy", "util", "hqHelper"], function (t, e, n, r, i, o, a, s) {
                        function l(t) {
                            var e = this;
                            h(m, function (t) {
                                e._$dom.on(t + " ." + e.id, function (n) {
                                    e.trigger(t, n)
                                })
                            })
                        }
                        var c = n.isString,
                        u = n.merge,
                        h = n.map,
                        d = n.clone,
                        f = n.mixin,
                        p = o.fixSupportCanvas,
                        g = o.detectPR;
                        "undefined" == typeof console && (console = {}, console.log = function () {}, console.time = function (t, e) {
                            if (t) {
                                var n = (new Date).getTime();
                                console.timeCounters || (console.timeCounters = {});
                                var r = "KEY" + t.toString();
                                !e && console.timeCounters[r] || (console.timeCounters[r] = n)
                            }
                        }, console.timeEnd = function (t) {
                            var e = (new Date).getTime();
                            if (console.timeCounters) {
                                var n,
                                r = "KEY" + t.toString(),
                                i = console.timeCounters[r];
                                if (i) {
                                    n = e - i;
                                    var o = t + ": " + n + "ms";
                                    console.info(o),
                                    delete console.timeCounters[r]
                                }
                                return n
                            }
                        }),
                        function () {
                            for (var t = 0, e = ["webkit", "moz", "ms"], n = 0; n < e.length && !window.requestAnimationFrame; ++n)
                                window.requestAnimationFrame = window[e[n] + "RequestAnimationFrame"], window.cancelAnimationFrame = window[e[n] + "CancelAnimationFrame"] || window[e[n] + "CancelRequestAnimationFrame"];
                            window.requestAnimationFrame || (window.requestAnimationFrame = function (e, n) {
                                var r = (new Date).getTime(),
                                i = Math.max(0, 30 - (r - t)),
                                o = window.setTimeout(function () {
                                    e(r + i)
                                }, i);
                                return t = r + i,
                                o
                            }),
                            window.cancelAnimationFrame || (window.cancelAnimationFrame = function (t) {
                                clearTimeout(t)
                            })
                        }
                        ();
                        var v = "onwheel" in document ? "wheel" : "onmousewheel" in document ? "mousewheel" : "MozMousePixelScroll",
                        m = ["mousemove", "mouseout", v, "mousedown", "mouseup", "touchmove", "touchend", "touchstart"],
                        y = function (n) {
                            function o() {
                                if (!s.isError())
                                    try {
                                        s.allModels.hasDirtyModel() && s.update(),
                                        s.allViews.isDirty() && (s.clearHoverChart(), s.allViews.refreshHover()),
                                        requestAnimationFrame(o)
                                    } catch (t) {
                                        throw s.error(),
                                        t
                                    }
                            }
                            e.call(this),
                            this.id = "hx3" + (new Date).getTime();
                            var a = c(n) ? document.getElementById(n) : n;
                            this._$dom = $(a),
                            this._initCanvas(a),
                            l.apply(this),
                            this.allModels = new r(this),
                            this.allViews = new i(this),
                            this.platformer = new t,
                            this._actionArray = [];
                            var s = this;
                            requestAnimationFrame(o)
                        };
                        return y.prototype = {
                            error: function (t) {
                                this._isError = void 0 === t || t
                            },
                            isError: function () {
                                return this._isError
                            },
                            _initCanvas: function () {
                                var t = this.id,
                                e = this._$dom,
                                n = this.getHeight(),
                                r = this.getWidth();
                                e.addClass("hxc3-canvas-box");
                                var i = "#hxc3_canvas_" + t,
                                o = "hxc3_canvas_" + t;
                                !$(i).length > 0 && $('<div id="' + o + '" />').appendTo(e).css({
                                    "font-family": "Tahoma",
                                    overflow: "visible",
                                    "-webkit-transform": "translateZ(0)"
                                });
                                var a = $(i).get(0);
                                a.style.width = r + "px",
                                a.style.height = n + "px";
                                var s = $(i),
                                l = "#hxc3_main_" + t,
                                c = "hxc3_main_" + t,
                                u = "#hxc3_cross_" + t,
                                h = "hxc3_cross_" + t;
                                !$(l).length > 0 && $('<canvas id="' + c + '" />').appendTo(s).css({
                                    position: "absolute",
                                    left: 0,
                                    top: 0
                                });
                                var d = $(l).get(0);
                                d.width = r,
                                d.height = n,
                                p(d);
                                var f = d.getContext("2d");
                                g(c),
                                !$(u).length > 0 && $('<canvas id="' + h + '" />').appendTo(s).css({
                                    position: "absolute",
                                    left: 0,
                                    top: 0
                                });
                                var v = $(u).get(0);
                                v.width = r,
                                v.height = n,
                                p(v);
                                var m = v.getContext("2d");
                                g(h),
                                this._mainCtx = f,
                                this._crossCtx = m
                            },
                            getMainCtx: function () {
                                return this._mainCtx
                            },
                            getCrossCtx: function () {
                                return this._crossCtx
                            },
                            setOption: function (t, e) {
                                var n = {
                                    notMerge: !1,
                                    dataStore: !0
                                };
                                e = e || {};
                                var r = u(d(n), e, !0);
                                this.setOptionConfigs = r;
                                var i = d(t);
                                if (r.notMerge)
                                    this.clear(r);
                                else {
                                    var o = this.getOption();
                                    o && (i = $.extend(!0, o, i))
                                }
                                this.allModels.setOption(i),
                                this.allViews.setModel()
                            },
                            getOption: function () {
                                return this.allModels && this.allModels.getOption()
                            },
                            update: function (t) {
                                this.allModels.update(t),
                                this.clearChart(),
                                this.render()
                            },
                            render: function () {
                                this.allViews.render()
                            },
                            getClient: function () {
                                return this.platformer.client
                            },
                            clear: function (t) {
                                this.clearAllChart(),
                                this._$dom.find(".hxc3-tooltip").remove(),
                                this._$dom.find(".hxc3-markPoint").remove(),
                                t.dataStore || this.allModels.clearWatchDataList(),
                                this.eventTopics = {},
                                this.allViews._maps = {},
                                this.allModels._maps = {}
                            },
                            clearAllChart: function () {
                                this.clearChart(),
                                this.clearHoverChart()
                            },
                            clearChart: function () {
                                var t = this.getWidth(),
                                e = this.getHeight();
                                this.getMainCtx().clearRect(0, 0, t, e)
                            },
                            clearHoverChart: function () {
                                var t = this.getWidth(),
                                e = this.getHeight();
                                this.getCrossCtx().clearRect(0, 0, t, e)
                            },
                            getModel: function (t, e) {
                                return 2 !== arguments.length ? 1 === arguments.length ? this.allModels._maps[t] : this.allModels : "number" == typeof e ? this.allModels.getModelByTypeAndIndex(t, e) : void 0
                            },
                            getWidth: function () {
                                return this._$dom.width()
                            },
                            getHeight: function () {
                                return this._$dom.height()
                            },
                            resize: function (t) {
                                this._initCanvas(),
                                this.update(!0)
                            },
                            onAction: function (t, e, n, r) {
                                r = "." + r || "";
                                var i = t.id + "__" + e + r;
                                this.hasTopic(i) || this.on(i, n)
                            },
                            triggerAction: function (t, e, n, r) {
                                this.trigger(t.id + "__" + e, n)
                            }
                        },
                        f(y, e),
                        y
                    }),
                    r("AllDataProviderManager", ["Hxc3DataProvider", "zrUtil", "EventTarget", "dataActions", "hqHelper"], function (t, e, n, r, i) {
                        function o() {
                            n.call(this),
                            this._maps = {},
                            this._listener = {}
                        }
                        var a = i.functionNameValidate,
                        s = e.inherits;
                        return o.prototype = {
                            getXhrStatus: function (t) {
                                t = t || "success";
                                var e = {
                                    success: {
                                        code: "000",
                                        msg: "success"
                                    },
                                    isPending: {
                                        code: "001",
                                        msg: "isPending"
                                    },
                                    timeout: {
                                        code: "002",
                                        msg: "timeout"
                                    }
                                };
                                return e[t] ? e[t] : {
                                    code: "002",
                                    msg: t
                                }
                            },
                            getAllActions: function () {
                                return r
                            },
                            register: function (e) {
                                var n = this.convertOptionToDataId(e);
                                if (!this._maps[n]) {
                                    var r = e.type;
                                    if (t.hasClass(r)) {
                                        var i = t.getClass(r),
                                        o = new i(e, this);
                                        return this._maps[o.dataId] = o,
                                        o.init(),
                                        o
                                    }
                                    throw Error(n + ' 并未在当前数据池中注册, 请先注册: dataProvider.register("' + n + '");')
                                }
                                return this._maps[n]
                            },
                            convertOptionToDataId: function (e) {
                                var n = e,
                                r = e.type;
                                if (e.normal && t.hasClass(r)) {
                                    var i = t.getClass(r);
                                    n.normal.dType = e.normal.dType || i.defaultOption.dType
                                }
                                return n.afterArrange ? n.type : n.normal && n.normal.dType ? n.type + "__" + n.normal.dType + "__" + a(n.normal.code) : n.type + "__" + a(n.normal.code)
                            },
                            getDataProvider: function (t) {
                                if ("string" == typeof t)
                                    return this._maps[t];
                                var e = this.convertOptionToDataId(t);
                                return this._maps[e]
                            },
                            onAction: function (t, e, n, r) {
                                var i = "." + r || "",
                                o = t.dataId,
                                a = o + "_" + e + "." + r;
                                if (!this._maps[o])
                                    throw Error(o + ' 并未在当前数据池中注册, 请先注册: dataProvider.register("' + o + '", dataConfigs);');
                                n({
                                    data: this._maps[o]._data,
                                    xhrStatus: this._maps[o].xhrStatus
                                }),
                                this.hasTopic(a) || (this.on(o + "_" + e + i, n), this.addActionOnListener(o + "_" + e, r))
                            },
                            triggerAction: function (t, e, n) {
                                this.trigger(t.dataId + "_" + e, n)
                            },
                            removeAction: function (t) {
                                if (this._listener[t] && this._listener[t].length) {
                                    for (var e = 0; e < this._listener[t].length; e++) {
                                        var n = this._listener[t][e],
                                        r = n.split("_PROVIDER")[0];
                                        this.off(n + "." + t);
                                        var i = !0;
                                        for (var o in this.eventTopics)
                                            if (o && 0 === o.indexOf(r)) {
                                                i = !1;
                                                break
                                            }
                                        i && delete this._maps[r]
                                    }
                                    delete this._listener[t]
                                }
                            },
                            unWatch: function (t, e) {},
                            addActionOnListener: function (t, e) {
                                var n = this._listener[e];
                                if (n && n.length) {
                                    for (var r = !1, i = 0; i < n.length; i++)
                                        n[i] === t && (r = !0);
                                    r || n.push(t)
                                } else
                                    this._listener[e] = [t]
                            }
                        },
                        s(o, n),
                        o
                    }),
                    n.config({
                        baseUrl: "../../src",
                        paths: {
                            OthersHqBase: "data/common/OthersHqBase",
                            commonDataPrepare: "data/common/index",
                            CommonBase: "data/common/CommonBase",
                            fsDataPrepare: "data/fs/index",
                            FsTodayCommon: "data/fs/FsTodayCommon",
                            FsMoneyFlowCommon: "data/fs/FsMoneyFlowCommon",
                            klineDataPrepare: "data/kline/index",
                            KlineCommon: "data/kline/Impl/KlineCommon",
                            KlineLast: "data/kline/Impl/KlineLast",
                            KlineBase: "data/kline/KlineBase",
                            drawOutline: "shape/drawOutline",
                            drawLine: "shape/drawLine",
                            drawBar: "shape/drawBar",
                            drawText: "shape/drawText",
                            drawRect: "shape/drawRect",
                            drawSymbol: "shape/drawSymbol",
                            shapeHelper: "shape/helper",
                            lineClassPrepare: "chart/line/index",
                            LineView: "chart/line/LineView",
                            LineModel: "chart/line/LineModel",
                            fsClassPrepare: "chart/fs/index",
                            FsPriceView: "chart/fs/FsPriceView",
                            FsPriceModel: "chart/fs/FsPriceModel",
                            FsVolView: "chart/fs/FsVolView",
                            FsVolModel: "chart/fs/FsVolModel",
                            FsMoneyFlowView: "chart/fs/FsMoneyFlowView",
                            FsMoneyFlowModel: "chart/fs/FsMoneyFlowModel",
                            klineClassPrepare: "chart/kline/index",
                            KlinePriceView: "chart/kline/KlinePriceView",
                            KlinePriceModel: "chart/kline/KlinePriceModel",
                            KlineVolView: "chart/kline/KlineVolView",
                            KlineVolModel: "chart/kline/KlineVolModel",
                            indicatorClassPrepare: "chart/indicator/index",
                            IndicatorModel: "chart/indicator/IndicatorModel",
                            IndicatorView: "chart/indicator/IndicatorView",
                            indicatorHelper: "chart/indicator/helper",
                            techUtil: "chart/indicator/indicatorType/util",
                            macd: "chart/indicator/indicatorType/macd",
                            asi: "chart/indicator/indicatorType/asi",
                            bias: "chart/indicator/indicatorType/bias",
                            boll: "chart/indicator/indicatorType/boll",
                            kdj: "chart/indicator/indicatorType/kdj",
                            rsi: "chart/indicator/indicatorType/rsi",
                            vr: "chart/indicator/indicatorType/vr",
                            wr: "chart/indicator/indicatorType/wr",
                            componentClassPrepare: "component/index",
                            TooltipContent: "component/tooltip/TooltipContent",
                            TooltipView: "component/tooltip/TooltipView",
                            TooltipModel: "component/tooltip/TooltipModel",
                            hqType: "component/axis/hqType",
                            axis: "component/axis/axis",
                            AxisView: "component/axis/AxisView",
                            AxisModel: "component/axis/AxisModel",
                            ScaleModel: "component/scale/ScaleModel",
                            ScaleView: "component/scale/ScaleView",
                            DataZoomModel: "component/dataZoom/DataZoomModel",
                            DataZoomView: "component/dataZoom/DataZoomView",
                            GridView: "component/grid/GridView",
                            GridModel: "component/grid/GridModel",
                            DataModel: "component/data/DataModel",
                            eventActions: "action/event",
                            dataActions: "action/data",
                            Hxc3Model: "core/Hxc3Model",
                            MarkModel: "core/MarkModel",
                            Hxc3Chart: "core/Hxc3Chart",
                            SeriesModel: "core/SeriesModel",
                            Hxc3View: "core/Hxc3View",
                            Hxc3DataProvider: "core/Hxc3DataProvider",
                            AllDataProviderManager: "core/AllDataProviderManager",
                            AllModelsManager: "core/AllModelsManager",
                            AllViewsManager: "core/AllViewsManager",
                            "d3-array-range": "d3/d3-array/range",
                            "d3-collection-map": "d3/d3-collection/map",
                            "d3-scale-ordinal": "d3/d3-scale/ordinal",
                            "d3-scale-band": "d3/d3-scale/band",
                            "d3-scale-point": "d3/d3-scale/point",
                            "d3-scale-array": "d3/d3-scale/array",
                            zrUtil: "zrender/tool/util",
                            util: "tool/util",
                            StockType: "tool/StockType",
                            Platformer: "tool/Platformer",
                            browserStrategy: "tool/browserStrategy",
                            enableClassManagement: "tool/enableClassManagement",
                            log: "tool/log",
                            Xhr: "tool/xhr",
                            EventTarget: "tool/eventTarget",
                            hhr: "tool/ignorehhr2",
                            hqHelper: "tool/hqHelper"
                        }
                    }),
                    n(["log", "fsDataPrepare", "fsClassPrepare", "klineDataPrepare", "klineClassPrepare", "indicatorClassPrepare", "componentClassPrepare", "lineClassPrepare", "commonDataPrepare", "hhr", "Hxc3Chart", "hqHelper", "AllDataProviderManager", "Hxc3DataProvider"], function (t, e, n, r, i, o, a, s, l, c, u, h, d, f) {
                        function p(e) {
                            void 0 !== e && (hxc3.trackable = e),
                            hxc3.trackable && t({
                                _sid: "iwencai_datav_hxc3.load",
                                id: "iwencai_datav_hxc3.load",
                                fid: "iwencai_datav",
                                version: "v" + v
                            })
                        }
                        function g(t) {
                            var e = new u(t);
                            return y[e.id] = e,
                            e
                        }
                        var v = "1.2.1";
                        if (window.hxc3 || (window.hxc3 = {}), hxc3.debug || (hxc3.debug = {
                                    data: {
                                        enable: !1
                                    },
                                    model: {
                                        enable: !1
                                    },
                                    view: {
                                        enable: !1
                                    },
                                    others: {
                                        enable: !1
                                    }
                                }), !hxc3.dataPool) {
                            var m = new d;
                            hxc3.dataPool = m
                        }
                        setTimeout(function () {
                            p()
                        }, 100),
                        hxc3.trackable = !0,
                        hxc3.track = p,
                        hxc3.version = v,
                        hxc3.scaleLinear = c.hexinScale;
                        var y = {};
                        hxc3.init = g,
                        hxc3.instances = y,
                        hxc3.hqHelper = h,
                        hxc3.Hxc3DataProvider = f
                    }),
                    r("../entrance", function () {})
                }
                ()
            }
        ])
});
//# sourceMappingURL=hxc3.js.map

/*!
 * toggle-jgy @version: 0.0.1.min
 * dependencies hxc3.js version: 1.2.0
 * last modified: 2018-9-5 18:38:43
 */
!function (e, t) {
    if ("object" == typeof exports && "object" == typeof module)
        module.exports = t();
    else if ("function" == typeof define && define.amd)
        define([], t);
    else {
        var o = t();
        for (var i in o)
            ("object" == typeof exports ? exports : e)[i] = o[i]
    }
}
("undefined" != typeof self ? self : this, function () {
    return function (e) {
        function t(i) {
            if (o[i])
                return o[i].exports;
            var n = o[i] = {
                i: i,
                l: !1,
                exports: {}
            };
            return e[i].call(n.exports, n, n.exports, t),
            n.l = !0,
            n.exports
        }
        var o = {};
        return t.m = e,
        t.c = o,
        t.d = function (e, o, i) {
            t.o(e, o) || Object.defineProperty(e, o, {
                configurable: !1,
                enumerable: !0,
                get: i
            })
        },
        t.n = function (e) {
            var o = e && e.__esModule ? function () {
                return e.default
            }
             : function () {
                return e
            };
            return t.d(o, "a", o),
            o
        },
        t.o = function (e, t) {
            return Object.prototype.hasOwnProperty.call(e, t)
        },
        t.p = "",
        t(t.s = 4)
    }
    ({
        4: function (e, t, o) {
            e.exports = o(5)
        },
        5: function (e, t) {
            !function () {
                function e(e) {
                    var o = new t(e);
                    return o.init(),
                    o
                }
                function t(e) {
                    i = hxc3.hqHelper.decimalRound,
                    n = hxc3.hqHelper.filterStatus,
                    s = hxc3.hqHelper.numFormatter,
                    a = hxc3.hqHelper.klineTypeConvertToNum,
                    this.configs = $.extend({}, t.defaultConfigs, e)
                }
                function o(e, t, o, i) {
                    var n = e.hxc3Data,
                    s = {
                        ab: t.ab,
                        eq: t.eq,
                        be: t.be
                    };
                    n.curP = "" === n.curP ? "00.00" : n.curP,
                    n.wgtColor = s[n.curPStatus],
                    n.wgtStopStr = n.isStop ? " 停牌" : "",
                    n.arrowEnable = /^(ab|be)/.test(n.curPStatus) ? "inline" : "none",
                    n.arrowDirect = /^(ab)/.test(n.curPStatus) ? "" : "transform: scale(-1); margin-top:9px;";
                    var a = (o.width() - 300) / 4 > 70 ? (o.width() - 300) / 4 : 70;
                    n.infoItemCss = t.infoItemCss + "width: " + a + "px;";
                    var r = i;
                    r = r.replace(/<%([^%>]+)?%>/g, function (e, t) {
                        return n[t]
                    });
                    var l = o.find(".hxc3-wgt-toggle");
                    l.length ? l.html("") : l = $('<div class="hxc3-wgt-toggle"></div>').appendTo(o),
                    l.html('<div class="hxc3-wgt-wrapper">' + r + "</div>")
                }
                isFinite(window.hxc3Widget) || (hxc3Widget = {}),
                hxc3Widget.createToggleHq = e;
                var i,
                n,
                s,
                a;
                t.defaultConfigs = {
                    elementId: "chart",
                    code: "hs_300033",
                    fsUpColor: "rgba(247,48,75,1)",
                    fsDownColor: "rgba(48,172,99,1)",
                    fsEqColor: "rgba(99,99,99,1)",
                    klineUpColor: "rgba(247,48,75,1)",
                    klineDownColor: "rgba(48,172,99,1)",
                    klineEqColor: "rgba(99,99,99,1)",
                    coverKlineOption: void 0,
                    coverFsOption: void 0,
                    axisPointerBackground: "#636363",
                    axisPointerColor: "#fff",
                    axisColor: "#BCBCBC",
                    realheadHeight: 98,
                    stockTabsCss: "position: absolute; right: 10px; background: #fff; top: 40px; font-size: 12px;",
                    stockTabsItemCss: "display: inline-block; cursor: pointer; margin: 0px 10px; padding: 4px 0; color: #BCBCBC;",
                    infoItemCss: "display: inline-block; width: 80px; line-height: 26px;",
                    realheadTpl: ['<div class="klineCanvas_main" style="color: <%wgtColor%>;">',
                        '<div class="klineCanvas_main_hd">',
                        '<span class="klineCanvas_stock_name"><%name%></span>',
                        '<span class="klineCanvas_stock_code"><%shortcode%></span>',
                        '</div>',
                        '<div class="klineCanvas_main_bd">',
                        '<span class="klineCanvas_stock_price"><%curP%></span>',
                        '<span>',
                        '<span class="klineCanvas_stock_percent"><%rate%>%</span>',
                        '<span class="klineCanvas_arrow" style="padding:0; display: <%arrowEnable%>;margin-left: 0px; width: 16px; height: 16px; color: #3cbc98; white-space: nowrap; text-overflow: ellipsis; line-height: 16px; margin-top: 12px; float: right;<%arrowDirect%>">',
                        '<svg viewBox="0 0 1024 1024" width="16" height="16">',
                        '<path fill="<%wgtColor%>" stroke-linecap="round" stroke-width="2" d="M288.864 636.032 511.968 405.312 735.136 636Z"></path></svg>',
                        '</span>',
                        '</span>',
                        '</div>',
                        '</div>',

                        '<div class="klineCanvas_deal">',
                        '<div class="klineCanvas_hqitro" data-hqitro="换手率"><span class="klineCanvas_hqitro_key">换手</span><span class="klineCanvas_hqitro_val"><%turnRate%>%</span></div>',
                        '<div class="klineCanvas_hqitro" data-hqitro="振幅"><span class="klineCanvas_hqitro_key">振幅</span><span class="klineCanvas_hqitro_val"><%zf%>%</span></div>',
                        '<div class="klineCanvas_hqitro" data-hqitro="成交量"><span class="klineCanvas_hqitro_key">量</span><span class="klineCanvas_hqitro_val"><%n%></span></div>',
                        '<div class="klineCanvas_hqitro" data-hqitro="成交额"><span class="klineCanvas_hqitro_key">额</span><span class="klineCanvas_hqitro_val"><%np%></span></div>',
                        '<div class="klineCanvas_hqitro" data-hqitro="总市值"><span class="klineCanvas_hqitro_key">市值</span><span class="klineCanvas_hqitro_val"><%totalM%></span></div>',
                        '<div class="klineCanvas_hqitro" data-hqitro="流通市值"><span class="klineCanvas_hqitro_key">流通</span><span class="klineCanvas_hqitro_val"><%stockM%></span></div>',
                        '<div class="klineCanvas_hqitro" data-hqitro="市盈率"><span class="klineCanvas_hqitro_key">市盈</span><span class="klineCanvas_hqitro_val"><%staticSYL%></span></div>',
                        '<div class="klineCanvas_hqitro" data-hqitro="市净率"><span class="klineCanvas_hqitro_key">市净</span><span class="klineCanvas_hqitro_val"><%sjl%></span></div>',
                        '</div>'].join("")
                },
                t.prototype.getFsOption = function () {
                    var e = this.configs,
                    t = {
                        data: [{
                                type: "fsTodayCommon",
                                normal: {
                                    code: e.code,
                                    isKeepingGet: !1,
                                    intervalTime: 1e4
                                }
                            }, {
                                type: "othersHqBase",
                                normal: {
                                    code: e.code,
                                    dType: "realhead"
                                }
                            }
                        ],
                        grid: [{
                                left: 54,
                                right: 85,
                                height: "67%",
                                outline: "0,0,0,0",
                                topPlaceHolder: {
                                    show: !1
                                },
                                bottomPlaceHolder: {
                                    show: !0,
                                    outline: "0,0,0,0"
                                }
                            }, {
                                left: 54,
                                right: 85,
                                height: "33%",
                                outline: "0,0,0,0"
                            }
                        ],
                        scale: [{
                                scaleOutput: "x",
                                scaleType: "point",
                                gridIndex: [0, 1]
                            }, {
                                scaleOutput: "y",
                                topSpace: 20,
                                bottomSpace: 20,
                                gridIndex: 0
                            }, {
                                scaleOutput: "y",
                                topSpace: 20,
                                gridIndex: 1
                            }
                        ],
                        xAxis: [{
                                name: "fs x on grid0",
                                scaleIndex: 0,
                                filterType: "fsPrice",
                                position: "bottom",
                                split: "1,1",
                                splitPecent: "0,1",
                                axisLabel: {
                                    show: !0,
                                    autoIndent: !0
                                },
                                axisPointer: {
                                    axisLabel: {
                                        show: !0,
                                        textStyle: {
                                            color: e.axisPointerColor,
                                            textBackgroundColor: e.axisPointerBackground,
                                            textBorderColor: e.axisPointerBackground
                                        }
                                    },
                                    crossLine: {
                                        show: !0
                                    }
                                }
                            }, {
                                name: "fs x on grid1",
                                filterType: "fsPrice",
                                position: "bottom",
                                split: "1,1",
                                splitPecent: "0,1",
                                axisLabel: {
                                    show: !0,
                                    autoIndent: !0
                                },
                                axisPointer: {
                                    axisLabel: {
                                        show: !0,
                                        textStyle: {
                                            color: "#fff",
                                            textBackgroundColor: "#555",
                                            textBorderColor: "#555"
                                        }
                                    },
                                    crossLine: {
                                        show: !0
                                    }
                                },
                                scaleIndex: 0,
                                gridIndex: 1
                            }
                        ],
                        yAxis: [{
                                name: "yprice",
                                filterType: "fsPrice",
                                split: "1,1,1,1,1",
                                position: "left",
                                axisLabel: {
                                    autoIndent: !0,
                                    filterColor: function (t) {
                                        var o = t.preClosePrice,
                                        i = t.ticks[t.i];
                                        return i > parseFloat(o) ? e.fsUpColor : i == parseFloat(o) ? e.fsEqColor : e.fsDownColor
                                    },
                                    textStyle: {
                                        offset: [-4, 0]
                                    }
                                },
                                axisPointer: {
                                    axisLabel: {
                                        show: !0,
                                        filterColor: void 0,
                                        filterBackgroundColor: void 0,
                                        textStyle: {
                                            color: e.axisPointerColor,
                                            textBackgroundColor: e.axisPointerBackground,
                                            textBorderColor: e.axisPointerBackground
                                        }
                                    },
                                    crossLine: {
                                        show: !0
                                    }
                                },
                                scaleIndex: 1
                            }, {
                                name: "yvol",
                                filterType: "fsVol",
                                position: "left",
                                axisLabel: {
                                    show: !0,
                                    autoIndent: !0,
                                    textStyle: {
                                        offset: [-4, 0]
                                    }
                                },
                                axisPointer: {
                                    axisLabel: {
                                        show: !0,
                                        textStyle: {
                                            color: e.axisPointerColor,
                                            textBackgroundColor: e.axisPointerBackground,
                                            textBorderColor: e.axisPointerBackground
                                        }
                                    },
                                    crossLine: {
                                        show: !0
                                    }
                                },
                                scaleIndex: 2,
                                gridIndex: 1
                            }
                        ],
                        tooltip: [{
                                position: function (e) {
                                    return {
                                        x: e.gridLayout.xEnd - 45,
                                        y: e.series[0].highlightPos[1] - 8
                                    }
                                },
                                formatter: function (e, t) {
                                    var o = t.stockTypeObj,
                                    a = o.keepLen,
                                    r = o.needConvertoShou,
                                    l = o.msg,
                                    d = parseFloat(t.preClosePrice),
                                    p = {
                                        t: "",
                                        preClosePrice: "",
                                        nowp: "",
                                        np: "",
                                        av: "",
                                        n: "",
                                        status: "",
                                        rate: "",
                                        ratep: ""
                                    },
                                    c = e.series[0].data,
                                    x = "";
                                    "" != c.nowp ? (x = c.nowp,
                                        p.status = n(x, d)) : (x = "",
                                        p.status = "eq"),
                                    p.preClosePrice = d,
                                    p.nowp = i(x, a),
                                    p.av = i(c.av, a),
                                    p.avStatus = n(c.av, d),
                                    p.t = c.t,
                                    p.n = c.n,
                                    r && (p.n = c.n / 100),
                                    p.n = s(p.n, 0) || 0,
                                    p.np = s(c.np, 1) || 0;
                                    var h = i( - (d - x), a),
                                    f = i(h / d * 100, 2);
                                    p.rate = f + "%",
                                    p.ratep = h;
                                    var u;
                                    return u = /^(Others_wh|Others_gzs|HS_block_hangye|HS_block_gainian|USA_index|Others_pmetal|Others_wh|Others_gzqh|Others_gqh|Others_qh|Others_zq|Others_sj|Others_ggqq)/.test(l) ? "<%t%><br/> 现价:<%nowp%><br/> 涨跌:<%ratep%><br/> 涨幅:<%rate%><br/> 量:<%n%><br/> 额:<%np%>" : "<%t%><br/> 现价:<%nowp%><br/> 均价:<%av%><br/> 涨跌:<%ratep%><br/> 涨幅:<%rate%><br/> 量:<%n%><br/> 额:<%np%>",
                                    u.replace(/<%([^%>]+)?%>/g, function (e, t) {
                                        if ("t" === t)
                                            return p[t].split(" ")[1].substr(0, 2) + ":" + p[t].split(" ")[1].substr(2, 2);
                                        if ("av" === t) {
                                            var o = p[t] > 1e5 ? parseFloat(p[t]).toFixed(1) : p[t];
                                            return '<span class="hxc3-' + p.avStatus + '">' + o + "</span>"
                                        }
                                        var o = p[t] > 1e5 ? parseFloat(p[t]).toFixed(1) : p[t];
                                        return '<span class="hxc3-' + p.status + '">' + o + "</span>"
                                    })
                                },
                                style: {
                                    padding: 0
                                },
                                alwaysShowContent: !0,
                                xAxisIndex: 0
                            }
                        ],
                        series: [{
                                type: "fsPrice",
                                uniqueName: "1111",
                                xAxisIndex: [0],
                                yAxisIndex: [0],
                                gridIndex: 0,
                                dataIndex: 0,
                                draw: {
                                    nowp: {
                                        lineStyle: {
                                            color: e.fsEqColor
                                        }
                                    },
                                    nowpLineClosed: {
                                        show: !0,
                                        lineStyle: {
                                            fill: "rgba(255,255,255,0)"
                                        }
                                    }
                                }
                            }, {
                                type: "fsVol",
                                uniqueName: "222",
                                xAxisIndex: [1],
                                yAxisIndex: [1],
                                gridIndex: 1,
                                dataIndex: 0,
                                draw: {
                                    vol: {
                                        color: {
                                            upColor: e.fsUpColor,
                                            downColor: e.fsDownColor,
                                            eqColor: e.fsEqColor
                                        }
                                    }
                                }
                            }
                        ]
                    };
                    return e.coverFsOption ? $.extend({}, t, e.coverFsOption) : t
                },
                t.prototype.getKlineOption = function () {
                    var e = this.configs,
                    t = {
                        data: [{
                                type: "klineCommon",
                                normal: {
                                    code: e.code,
                                    dType: "klineQfqDay",
                                    urlFormatter: function (e) {
                                        var t = a(e.dType);
                                        let ss = "http://d.10jqka.com.cn/v6/line/" + e.stockCode + "/" + t + "/all.js";
										return ss;
                                    },
                                    keepGetUrlFormatter: function (e) {
                                        var t = a(e.dType);
                                        let ss = "http://d.10jqka.com.cn/v6/line/" + e.stockCode + "/" + t + "/today.js";
										return ss;
                                    },
                                    isKeepingGet: !1,
                                    intervalTime: 1e4
                                }
                            }, {
                                type: "othersHqBase",
                                normal: {
                                    code: e.code,
                                    dType: "realhead"
                                }
                            }
                        ],
                        grid: [{
                                left: 54,
                                right: 85,
                                height: "67%",
                                outline: "0,0,0,0",
                                topPlaceHolder: {
                                    show: !0,
                                    height: 30,
                                    outline: "0,0,0,0"
                                },
                                bottomPlaceHolder: {
                                    show: !0,
                                    outline: "0,0,0,0"
                                }
                            }, {
                                left: 54,
                                right: 85,
                                height: "33%",
                                outline: "0,0,0,0"
                            }
                        ],
                        scale: [{
                                scaleOutput: "x",
                                scaleType: "band",
                                minNum: 10,
                                gridIndex: [0, 1],
                                dataZoomIndex: 0
                            }, {
                                scaleOutput: "y",
                                scaleIndex: 0,
                                minNum: 10,
                                topSpace: 20,
                                bottomSpace: 20,
                                gridIndex: 0
                            }, {
                                scaleOutput: "y",
                                topSpace: 20,
                                scaleIndex: 0,
                                minNum: 10,
                                gridIndex: 1
                            }
                        ],
                        dataZoom: [{
                                enable: !0
                            }
                        ],
                        xAxis: [{
                                name: "kline x on grid0",
                                filterType: "klinePrice",
                                position: "bottom",
                                split: "0,1,0",
                                splitPecent: "0,0.5,1",
                                axisLabel: {
                                    autoIndent: !0,
                                    maxTextWidth: 74,
                                    textStyle: {
                                        color: e.axisColor
                                    }
                                },
                                axisPointer: {
                                    axisLabel: {
                                        show: !0,
                                        textStyle: {
                                            color: e.axisPointerColor,
                                            textBackgroundColor: e.axisPointerBackground,
                                            textBorderColor: e.axisPointerBackground
                                        }
                                    },
                                    crossLine: {
                                        show: !0
                                    }
                                },
                                scaleIndex: 0,
                                gridIndex: 0
                            }, {
                                name: "kline x on grid1",
                                filterType: "klinePrice",
                                position: "bottom",
                                split: "0,1,0",
                                splitPecent: "0,0.5,1",
                                axisLabel: {
                                    show: !1
                                },
                                axisPointer: {
                                    axisLabel: {
                                        show: !1
                                    },
                                    crossLine: {
                                        show: !0
                                    }
                                },
                                scaleIndex: 0,
                                gridIndex: 1
                            }
                        ],
                        yAxis: [{
                                name: "y %",
                                filterType: "klinePrice",
                                position: "left",
                                split: "1,1,1,1,1",
                                axisPointer: {
                                    axisLabel: {
                                        show: !0,
                                        textStyle: {
                                            color: e.axisPointerColor,
                                            textBackgroundColor: e.axisPointerBackground,
                                            textBorderColor: e.axisPointerBackground
                                        }
                                    },
                                    crossLine: {
                                        show: !0
                                    }
                                },
                                axisLabel: {
                                    autoIndent: !0,
                                    textStyle: {
                                        offset: [-4, 0],
                                        color: e.axisColor
                                    }
                                },
                                scaleIndex: 1
                            }, {
                                name: "y vol %",
                                position: "left",
                                filterType: "klineVol",
                                axisLabel: {
                                    autoIndent: !0,
                                    textStyle: {
                                        offset: [-4, 0],
                                        color: e.axisColor
                                    }
                                },
                                axisPointer: {
                                    axisLabel: {
                                        show: !0,
                                        textStyle: {
                                            color: e.axisPointerColor,
                                            textBackgroundColor: e.axisPointerBackground,
                                            textBorderColor: e.axisPointerBackground
                                        }
                                    },
                                    crossLine: {
                                        show: !0
                                    }
                                },
                                scaleIndex: 2,
                                gridIndex: 1
                            }
                        ],
                        tooltip: [{
                                position: [-43, -40],
                                formatter: function (e, t) {
                                    var o = t.stockTypeObj,
                                    i = o.keepLen,
                                    n = e.series[0].data,
                                    s = "",
                                    a = e.series[0].draw.maLines,
                                    r = "";
                                    for (var l in a)
                                        /^ma/.test(l) && n[l] && (r += '<span style="color:' + a[l].lineStyle.color + '">' + l.toUpperCase() + ": " + parseFloat(n[l]).toFixed(i) + " </span>");
                                    return s += "<br/>" + r
                                },
                                alwaysShowContent: !0,
                                style: {
                                    padding: 0
                                },
                                xAxisIndex: 0
                            }, {
                                position: function (e) {
                                    return {
                                        x: e.gridLayout.xEnd - 45,
                                        y: e.series[0].highlightPos[1] - 28
                                    }
                                },
                                formatter: function (e, t) {
                                    var o = t.stockTypeObj,
                                    a = o.keepLen,
                                    r = o.needConvertoShou,
                                    l = {},
                                    d = e.series[0].data,
                                    p = d.yc,
                                    c = "";
                                    return c = "" !== d.c ? d.c : "",
                                    l.t = d.t,
                                    l.ratep = i(c - p, a),
                                    l.maxP = i(d.a, a),
                                    l.minP = i(d.i, a),
                                    l.openP = i(d.o, a),
                                    l.closeP = i(c, a),
                                    l.n = d.n,
                                    r && (l.n = d.n / 100),
                                    l.n = s(l.n, 0) || 0,
                                    l.maxPStatus = n(d.a, p),
                                    l.minPStatus = n(d.i, p),
                                    l.openPStatus = n(d.o, p),
                                    l.rate = i((c - p) / p * 100, 2) + "%",
                                    l.status = c - p > 0 ? "ab" : c - p == 0 ? "eq" : "be",
                                    '<%t%><br/> 开：<span class="<%openPStatus%>"><%openP%></span><br/> 高：<span class="<%maxPStatus%>"><%maxP%></span><br/> 低：<span class="<%minPStatus%>"><%minP%></span><br/> 收：<span class="<%status%>"><%closeP%></span><br/> 幅：<span class="<%status%>"><%rate%></span><br/> 量：<span><%n%></span>'.replace(/<%([^%>]+)?%>/g, function (e, t) {
                                        return "status" === t || "openPStatus" === t || "maxPStatus" === t || "minPStatus" === t ? "hxc3-" + l[t] : /^(openP|maxP|minP|closeP)$/.test(t) && l[t] > 1e5 ? parseFloat(l[t]).toFixed(1) : l[t]
                                    })
                                },
                                alwaysShowContent: !0,
                                style: {
                                    padding: 0
                                },
                                xAxisIndex: 0
                            }
                        ],
                        series: [{
                                type: "klinePrice",
                                xAxisIndex: 0,
                                yAxisIndex: 0,
                                gridIndex: 0,
                                dataIndex: 0,
                                highlightDataY: function (e) {
                                    return e.a
                                },
                                draw: {
                                    nowp: {
                                        show: !0,
                                        upFillColor: e.klineUpColor,
                                        eqFillColor: e.klineUpColor,
                                        downFillColor: e.klineDownColor,
                                        upBorderColor: e.klineUpColor,
                                        eqBorderColor: e.klineUpColor,
                                        downBorderColor: e.klineDownColor,
                                        lineStyle: {
                                            width: 1
                                        }
                                    }
                                },
                                markPoint: {
                                    symbol: {
                                        show: !0,
                                        type: "html",
                                        html: '<span class="symbolImg"><img src="http://u.thsi.cn/fileupload/data/Iwencai/2018/1fc00aaaec37365c0a203f73c2b7e408.png"/></span>'
                                    },
                                    label: {
                                        show: !1
                                    },
                                    data: []
                                }
                            }, {
                                type: "klineVol",
                                xAxisIndex: 1,
                                yAxisIndex: 1,
                                gridIndex: 1,
                                dataIndex: 0,
                                draw: {
                                    vol: {
                                        upFillColor: e.klineUpColor,
                                        eqFillColor: e.klineUpColor,
                                        downFillColor: e.klineDownColor,
                                        upBorderColor: e.klineUpColor,
                                        eqBorderColor: e.klineUpColor,
                                        downBorderColor: e.klineDownColor,
                                        borderWidth: 1
                                    }
                                }
                            }
                        ]
                    };
                    return e.coverKlineOption ? $.extend({}, t, e.coverKlineOption) : t
                },
                t.prototype.init = function () {
                    function e(e, t) {
                        e.setOption(t, {
                            notMerge: !0,
                            dataStore: !1
                        }),
                        e.off("global_data_update"),
                        e.on("global_data_update", function (t) {
                            if (t[0] && t[1]) {
                                a.find(".hxc3-loading").remove();
                                var n = t[1],
                                s = t[1].hxc3Data.curPStatus,
                                r = {
                                    ab: i.klineUpColor,
                                    eq: i.klineEqColor,
                                    be: i.klineDownColor,
                                    infoItemCss: i.infoItemCss
                                },
                                d = e.getModel("series", 0);
                                "fsPrice" === d.type && d.set({
                                    draw: {
                                        nowp: {
                                            lineStyle: {
                                                color: r[s]
                                            }
                                        },
                                        nowpLineClosed: {
                                            lineStyle: {
                                                fill: {
                                                    type: "linear",
                                                    x: 0,
                                                    y: 0,
                                                    x2: 0,
                                                    y2: 1,
                                                    colorStops: [{
                                                            offset: 0,
                                                            color: r[s].replace("1)", "0.2)")
                                                        }, {
                                                            offset: 1,
                                                            color: r[s].replace("1)", "0.04)")
                                                        }
                                                    ]
                                                }
                                            }
                                        }
                                    }
                                }),
                                o(n, r, $("#" + l + " .stockInfo"), i.realheadTpl)
                            }
                        })
                    }
                    var t,
                    i = this.configs,
                    n = i.elementId,
                    s = "string" == typeof n ? document.getElementById(n) : n,
                    a = $(s),
                    r = n,
                    l = r + "Realhead",
                    d = r + "Hq";
                    if (a.attr("_hxc3_id"))
                        t = hxc3.instances[a.attr("_hxc3_id")],
                        t.resize();
                    else {
                        var p = i.realheadHeight,
                        c = i.stockTabsItemCss,
                        x = i.stockTabsCss,
                        h = $("#" + r).height() - p - 30;
                        $("#" + r).html("").append('<div id="' + l + '" class="klineCanvas_Realhead" style="height: ' + p + 'px;"> </div><div class="klineCanvas_Hq_wrapper"><div id="' + d + '" class="klineCanvas_Hq" style="height: ' + h + 'px;"> </div><div class="stockTabs"> </div> </div>'),
                        $("#" + l).html("").append('<div class="stockInfo"> </div>'),
                        $("#" + r + " .stockTabs").append('<div class="stockTabsItem stockTabsItem_current" data-hqtype="fs" style="' + c + '">分时</div> <div class="stockTabsItem" style="' + c + '" data-hqtype="klineday">日k</div> <div class="stockTabsItem" style="' + c + '" data-hqtype="klineweek">周k</div> <div class="stockTabsItem" style="' + c + '" data-hqtype="klinemonth">月k</div> '),
                        t = hxc3.init(d),
                        a.attr("_hxc3_id", t.id)
                    }
                    a.append('<div class="hxc3-loading" ><div class="hxc3-loaderbox">Loading...</div></div>'),
                    e(t, this.getFsOption());
                    var f = this;
                    $("#" + r).on("click", ".stockTabsItem", function (o) {
                        o.preventDefault();
                        var i = f.getFsOption(),
                        n = f.getKlineOption(),
                        s = $(this).attr("data-hqType");
                        $(this).addClass('stockTabsItem_current').siblings().removeClass('stockTabsItem_current')
                        var a;
                        switch (s) {
                        case "fs":
                            a = i;
                            break;
                        case "klineday":
                            n.data[0].normal.dType = "klineQfqDay",
                            a = n;
                            break;
                        case "klineweek":
                            n.data[0].normal.dType = "klineQfqWeek",
                            a = n;
                            break;
                        case "klinemonth":
                            n.data[0].normal.dType = "klineQfqMonth",
                            a = n
                        }
                        e(t, a)
                    }),
                    this.hxc3Chart = t
                }
            }
            ()
        }
    })
});
//# sourceMappingURL=toggle-0.0.1.min.js.map
